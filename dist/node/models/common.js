"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PromiseOf = exports.ArrayDense = exports.ArrayUnique = exports.ArrayNotEmpty = exports.FutureDate = exports.PastDate = exports.TrimmedString = exports.NormalizedString = exports.StringNotBlank = exports.NegativeInteger = exports.PositiveInteger = exports.NegativeNumber = exports.PositiveNumber = exports.FiniteNumber = exports.SafeInteger = exports.Integer = exports.Truthy = exports.Falsy = exports.Primitive = void 0;
const objectmodel_1 = require("objectmodel");
exports.Primitive = objectmodel_1.BasicModel([Boolean, Number, String, Symbol]).as("Primitive");
exports.Falsy = objectmodel_1.BasicModel([exports.Primitive, null, undefined]).assert(function isFalsy(x) { return !x; }).as("Falsy");
exports.Truthy = objectmodel_1.BasicModel([exports.Primitive, Object]).assert(function isTruthy(x) { return !!x; }).as("Truthy");
exports.Integer = objectmodel_1.BasicModel(Number).assert(Number.isInteger).as("Integer");
exports.SafeInteger = objectmodel_1.BasicModel(Number).assert(Number.isSafeInteger).as("SafeInteger");
exports.FiniteNumber = objectmodel_1.BasicModel(Number).assert(Number.isFinite).as("FiniteNumber");
exports.PositiveNumber = objectmodel_1.BasicModel(Number).assert(function isPositive(n) { return n >= 0; }).as("PositiveNumber");
exports.NegativeNumber = objectmodel_1.BasicModel(Number).assert(function isNegative(n) { return n <= 0; }).as("NegativeNumber");
exports.PositiveInteger = exports.PositiveNumber.extend().assert(Number.isInteger).as("PositiveInteger");
exports.NegativeInteger = exports.NegativeNumber.extend().assert(Number.isInteger).as("NegativeInteger");
exports.StringNotBlank = objectmodel_1.BasicModel(String).assert(function isNotBlank(str) { return str.trim().length > 0; }).as("StringNotBlank");
exports.NormalizedString = objectmodel_1.BasicModel(String).assert(function isNormalized(str) { return str.normalize() === str; }).as("NormalizedString");
exports.TrimmedString = objectmodel_1.BasicModel(String).assert(function isTrimmed(str) { return str.trim() === str; }).as("TrimmedString");
exports.PastDate = objectmodel_1.BasicModel(Date).assert(function isInThePast(date) { return date.getTime() < Date.now(); }).as("PastDate");
exports.FutureDate = objectmodel_1.BasicModel(Date).assert(function isInTheFuture(date) { return date.getTime() > Date.now(); }).as("FutureDate");
exports.ArrayNotEmpty = objectmodel_1.BasicModel(Array).assert(function isNotEmpty(arr) { return arr.length > 0; }).as("ArrayNotEmpty");
exports.ArrayUnique = objectmodel_1.BasicModel(Array).assert(function hasNoDuplicates(arr) { return arr.every((x, i) => arr.indexOf(x) === i); }).as("ArrayUnique");
exports.ArrayDense = objectmodel_1.BasicModel(Array).assert(function hasNoHoles(arr) { return arr.filter(() => true).length === arr.length; }).as("ArrayDense");
exports.PromiseOf = model => p => objectmodel_1.BasicModel(Promise)(p).then(x => model(x));
//# sourceMappingURL=common.js.map