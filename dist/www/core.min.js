!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).bb=e()}(function(){var define,module,exports;return function n(i,o,s){function a(t,e){if(!o[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}r=o[t]={exports:{}},i[t][0].call(r.exports,function(e){return a(i[t][1][e]||e)},r,r.exports,n,i,o,s)}return o[t].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(t,n,e){!function(e){!function(){const r=t("./common")["getRandomInt"];n.exports={user:{home_dir:"~",id_url:"undefined"!=typeof window&&window.localStorage.getItem("bb.id_url")||"https://id.backbonedao.com"},addresses:{},keys:{test:"6261636b626f6e653a2f2f696e646578"},network:{bootstrap_servers:e.env.BOOTSTRAP?["127.0.0.1:60000","127.0.0.1:60001","127.0.0.1:60002"]:["wss://node1.network.backbonedao.com:1337"],stunturn_servers:function(){var e=["stun:node1.network.backbonedao.com:19302","stun:openrelay.metered.ca:80","stun:global.stun.twilio.com:3478"],t=[{urls:["turn:openrelay.metered.ca:443?transport=tcp"],username:"openrelayproject",credential:"openrelayproject"}];return[{urls:[e[r(0,e.length-1)]]},t[r(0,t.length-1)]]}}}}.call(this)}.call(this,t("_process"))},{"./common":2,_process:437}],2:[function(require,module,exports){!function(process){!function(){"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.base64=exports.sleep=exports.registerMethods=exports.createCache=exports.hash=exports.getHomedir=exports.unique=exports.shuffle=exports.getRandomInt=exports.flatten=exports.JSONparse=exports.decodeCoreData=exports.encodeCoreData=exports.subscribeToEvent=exports.subscribeToChannel=exports.emit=exports.buf2hex=exports.error=exports.log=void 0;const crypto_1=require("crypto"),os_1=require("os"),bbconfig_1=__importDefault(require("../bbconfig")),ttl_1=__importDefault(require("ttl")),eventemitter2_1=require("eventemitter2"),platform_detect_1=__importDefault(require("platform-detect")),b4a_1=__importDefault(require("b4a")),msgpackr_1=require("msgpackr"),EE=new eventemitter2_1.EventEmitter2;function log(e,...t){(process.env.LOG||platform_detect_1.default.browser&&window?.localStorage.getItem("LOG"))&&console.log(e,...t)}function error(e,...t){(process.env.LOG||platform_detect_1.default.browser&&window?.localStorage.getItem("LOG"))&&console.error(new Error(e),...t),EE.emit("err",e+" - "+JSON.stringify(t))}function buf2hex(e){return b4a_1.default.toString(e,"hex")}function emit(e){e.verbose&&!process.env.VERBOSE||(EE.emit(e.ch,e.msg),e.event&&EE.emit(e.event),e?.no_log||log(e.ch+" > "+e.msg))}function subscribeToChannel(e){return EE.on(e.ch,e.cb,{objectify:!0})}function subscribeToEvent(e){return EE.on(e.id,e.cb,{objectify:!0})}function encodeCoreData(e){return e?msgpackr_1.pack(e):error("empty data")}function decodeCoreData(e){return e?msgpackr_1.unpack(e):error("empty data")}function JSONparse(e){return JSON.parse(e,(e,t)=>null!==t&&"object"==typeof t&&"type"in t&&"Buffer"===t.type&&"data"in t&&Array.isArray(t.data)?b4a_1.default.from(t.data):t)}function flatten(e){return e.reduce((e,t)=>Array.isArray(t)?[...e,...flatten(t)]:[...e,t],[])}function getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function shuffle(t){for(let e=t.length-1;0<e;e--){var r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}function unique(e){return Array.from(new Set(e))}function getHomedir(){return"~"===bbconfig_1.default?.user?.home_dir?process.env.TEST?os_1.homedir()+"/.backbone-test":os_1.homedir()+"/.backbone":bbconfig_1.default?.user?.home_dir}function hash(e){var t="string"!=typeof e.data?JSON.stringify(e.data):e.data;const r=crypto_1.createHash(e.type);return r.update(t),buf2hex(r.digest())}function createCache(e){return new ttl_1.default({ttl:1e3*(e?.ttlsec||60),capacity:e?.capacity||1e5})}function registerMethods(params){const API={};for(var m in params.methods)API[params.methods[m]]=eval("params.source."+params.methods[m]);return API}function sleep(t){return new Promise(e=>setTimeout(e,t))}exports.log=log,exports.error=error,exports.buf2hex=buf2hex,exports.emit=emit,exports.subscribeToChannel=subscribeToChannel,exports.subscribeToEvent=subscribeToEvent,exports.encodeCoreData=encodeCoreData,exports.decodeCoreData=decodeCoreData,exports.JSONparse=JSONparse,exports.flatten=flatten,exports.getRandomInt=getRandomInt,exports.shuffle=shuffle,exports.unique=unique,exports.getHomedir=getHomedir,exports.hash=hash,exports.createCache=createCache,exports.registerMethods=registerMethods,exports.sleep=sleep,exports.base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,r,n,i,o,s,a="",c=0;for(e=exports.base64._utf8_encode(e);c<e.length;)n=(t=e.charCodeAt(c++))>>2,i=(3&t)<<4|(t=e.charCodeAt(c++))>>4,o=(15&t)<<2|(r=e.charCodeAt(c++))>>6,s=63&r,isNaN(t)?o=s=64:isNaN(r)&&(s=64),a=a+this._keyStr.charAt(n)+this._keyStr.charAt(i)+this._keyStr.charAt(o)+this._keyStr.charAt(s);return a},decode:function(e){var t,r,n,i,o,s,a="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)n=this._keyStr.indexOf(e.charAt(c++)),t=(15&(i=this._keyStr.indexOf(e.charAt(c++))))<<4|(o=this._keyStr.indexOf(e.charAt(c++)))>>2,r=(3&o)<<6|(s=this._keyStr.indexOf(e.charAt(c++))),a+=String.fromCharCode(n<<2|i>>4),64!=o&&(a+=String.fromCharCode(t)),64!=s&&(a+=String.fromCharCode(r));return a=exports.base64._utf8_decode(a)},_utf8_encode:function(e){var t="";e=e.replace(/\r\n/g,"\n");for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):t=127<n&&n<2048?(t+=String.fromCharCode(n>>6|192))+String.fromCharCode(63&n|128):(t=(t+=String.fromCharCode(n>>12|224))+String.fromCharCode(n>>6&63|128))+String.fromCharCode(63&n|128)}return t},_utf8_decode:function(e){var t,r,n,i="",o=0;for(t=0;o<e.length;)(n=e.charCodeAt(o))<128?(i+=String.fromCharCode(n),o++):191<n&&n<224?(t=e.charCodeAt(o+1),i+=String.fromCharCode((31&n)<<6|63&t),o+=2):(t=e.charCodeAt(o+1),r=e.charCodeAt(o+2),i+=String.fromCharCode((15&n)<<12|(63&t)<<6|63&r),o+=3);return i}}}.call(this)}.call(this,require("_process"))},{"../bbconfig":1,_process:437,b4a:175,crypto:239,eventemitter2:282,msgpackr:390,os:415,"platform-detect":435,ttl:578}],3:[function(t,e,k){!function(E,S,b){!function(){"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(k,"__esModule",{value:!0});const r=e(t("@backbonedao/data-manager")),h=e(t("@backbonedao/data-viewer")),l=e(t("@backbonedao/data-db")),m=t("../common"),n=e(t("../bbconfig")),f=e(t("b4a")),d=t("@backbonedao/crypto"),v=t("../models"),i=e(t("./storage")),o=t("../network/users"),s=t("../network"),a=t("idb-keyval"),c=t("msgpackr"),u=e(t("fs")),p=e(t("mkdirp"));let A,_=!1;if("object"==typeof window&&void 0!==window.navigation){const y=a.createStore("apps-cache","backbone");A={get:async e=>{e=await a.get(e,y);return!!e&&c.unpack(e)},set:async(e,t)=>a.set(e,c.pack(t),y)},localStorage.getItem("DEV")&&(_=!0)}else A={get:async e=>{await p.default(b+"/.cache/");try{var t=u.default.readFileSync(b+"/.cache/"+e);return!!t&&c.unpack(t)}catch(e){return!1}},set:async(e,t)=>(await p.default(b+"/.cache/"),u.default.writeFileSync(b+"/.cache/"+e,c.pack(t)),!0)};const g={};class w{constructor(e,t){this.connected_users=0,this.users_cache={users:{},trusted_users:{}},this.connect=s.connect,this.addKnownUsers=o.addKnownUsers,this.addUser=o.addUser,this.removeUser=o.removeUser,this.addTrustedUser=o.addTrustedUser,this.removeTrustedUser=o.removeTrustedUser,this.config={network:{bootstrap:n.default.network.bootstrap_servers,simplePeer:{config:{iceServers:n.default.network.stunturn_servers()},sdpSemantics:"unified-plan",bundlePolicy:"max-bundle",iceCandidatePoolsize:1}},...e},this.protocol=t||async function(){};var{storage:t,storage_id:e}=i.default(e);this.datamanager=g[e]||new r.default(t),g[e]||(g[e]=this.datamanager)}async init(){const s=this;this.address=this.config.address,this.address.match("backbone://")?this.address_hash=d.createHash(this.config.address):this.address_hash=d.createHash("backbone://"+this.config.address);let e,t=(!1!==this.config?.encryption_key&&"string"==typeof this.config.encryption_key?(e=f.default.from(d.createHash(this.config.encryption_key),"hex"),this.encryption_key=e):e=null,{encryptionKey:e}),r={encryptionKey:e},n={encryptionKey:e},i={encryptionKey:e};this.config.key?(t.keyPair=d.keyPair(d.createHash(this.config.key+"writer")),r.keyPair=d.keyPair(d.createHash(this.config.key+"index")),n.keyPair=d.keyPair(d.createHash(this.config.key+"meta")),i.keyPair=d.keyPair(d.createHash(this.config.key+"meta_index"))):(t.name="writer",r.name="index",n.name="meta",i.name="meta_index"),this.writer=this.datamanager.get(t),this.index=this.datamanager.get(r),this.meta=this.datamanager.get(n),this.meta_index=this.datamanager.get(i),await this.writer.ready(),await this.index.ready(),await this.meta.ready(),await this.meta_index.ready(),this.writer_key=m.buf2hex(this.writer.key),this.index_key=m.buf2hex(this.index.key),this.meta_key=m.buf2hex(this.meta.key),this.metaviewer=new h.default({localInput:this.meta,inputs:[this.meta],outputs:[],localOutput:this.meta_index,autostart:!0,unwrap:!0,eagerUpdate:!0,view:e=>new l.default(e.unwrap(),{keyEncoding:"utf-8",valueEncoding:"binary",extension:!1}),async apply(e,t){const r=e.batch({update:!1}),n=await s.getDataAPI(r);for(var{value:i}of t){var i=m.decodeCoreData(i),o=new v.Operation(i);try{"set"===o.type&&await n.put({key:i.key,value:i.value})}catch(e){throw e}}await r.flush()}}),this.metadb=this.metaviewer.view,await this.metaviewer.ready(),this.dataviewer=new h.default({localInput:this.writer,inputs:[this.writer],outputs:[],localOutput:this.index,autostart:!1}),await this.dataviewer.ready(),m.emit({ch:"core",msg:"Initialized Core "+this.address});var o=d.keyPair(this.address_hash);const a=this.datamanager.get(f.default.from(o.publicKey,"hex"));function c(e){e.key!==s.writer_key&&e.key!==s.meta_key&&s.addUser(e)}await a.ready();const u=a.registerExtension("key-exchange",{encoding:"json",onmessage:async e=>{const t=e?.data?.users||e?.data?.peers,r=(t.forEach(e=>{c({key:e,partition:"data"})}),e?.meta?.users||e?.meta?.peers),n=(r.forEach(e=>{c({key:e,partition:"meta"})}),e?.data?.trusted_users||e?.data?.trusted_peers),i=(n.forEach(e=>{}),e?.meta?.trusted_users||e?.meta?.trusted_peers);i.forEach(e=>{})}});a.on("peer-add",e=>{u.send({data:{users:this.dataviewer.inputs.map(e=>m.buf2hex(e.key)),trusted_users:this.dataviewer.outputs.map(e=>m.buf2hex(e.key))},meta:{users:this.metaviewer.inputs.map(e=>m.buf2hex(e.key)),trusted_users:this.metaviewer.outputs.map(e=>m.buf2hex(e.key))}},e),m.emit({ch:"network",msg:"New user detected, saying hello..."})}),await this._updateUserCache(),m.emit({ch:"init",msg:`discovery keys:
writer: ${m.buf2hex(this.writer.discoveryKey)}
index: ${m.buf2hex(this.index.discoveryKey)}
root: ${m.buf2hex(a.discoveryKey)} 
meta: `+m.buf2hex(this.meta.discoveryKey),verbose:!0}),m.emit({ch:"init",msg:`public keys:
writer: ${m.buf2hex(this.writer.key)}
index: ${m.buf2hex(this.index.key)}
root: ${m.buf2hex(a.key)} 
meta: `+m.buf2hex(this.meta.key),verbose:!0})}async getDataAPI(i){const e={put:async t=>{if("string"==typeof t||!t?.key||!t?.value)return m.error("INVALID PARAMS");let r=!1;if(Object.keys(t).forEach(e=>{t[e]._meta&&(t[e]._meta?.unsigned&&(r=!0),t[e]=t[e].flatten())}),r)return await i.del(t.key),m.error("unsigned data detected in protocol, discarding...");const e=m.encodeCoreData(t.value);if(!e)return m.error("put needs data");await i.put(t.key,e);const n=await i.get(t.key);return n?.value.toString()!==e.toString()?(console.log("FAIL",t.key,n,e),m.error("PUT FAILED")):void 0},del:async e=>i.del(e),get:async e=>{try{var t=await i.get(e,{update:!1});return t?m.decodeCoreData(t.value):null}catch(e){return null}},getAll:async()=>e.query({lt:"~"}),discard:async(e,t)=>(await i.put("_trash","1"),await i.del("_trash"),m.error(`protocol discarded an operation ${t?`(${t})`:""}: `+JSON.stringify(e).slice(0,200))),query:async function(e){e?.limit||(e.limit=100);const n=i.createReadStream(e);return e?.stream?n:new Promise((e,t)=>{const r=[];n.on("data",e=>{r.push(m.decodeCoreData(e.value))}),n.on("end",()=>{e(r)})})}};return e}async startDataViewer(){const s=this;s.dataviewer.start({view:e=>new l.default(e.unwrap(),{keyEncoding:"utf-8",valueEncoding:"binary",extension:!1}),unwrap:!0,eagerUpdate:!0,async apply(e,t){const r=e.batch({update:!1});var n,e=setTimeout(async function(){await r.flush()},15e3),i=await s.getDataAPI(r);for({value:n}of t){var o=m.decodeCoreData(n),o=new v.Operation(o);await s.protocol(o,i)}await r.flush(),clearTimeout(e)}}),s.datadb=s.dataviewer.view}async _updatePartitions(){await this.dataviewer.view.update(),await this.metaviewer.view.update()}async disconnect(){this.network&&this.network.destroy()}async getKeys(){return{data:{writers:[...this.dataviewer.inputs.map(e=>m.buf2hex(e.key))],indexes:[...this.dataviewer.outputs.map(e=>m.buf2hex(e.key)),m.buf2hex(this.dataviewer.localOutput.key)]},meta:{writers:[...this.metaviewer.inputs.map(e=>m.buf2hex(e.key))],indexes:[...this.metaviewer.outputs.map(e=>m.buf2hex(e.key)),m.buf2hex(this.metaviewer.localOutput.key)]}}}async _updateUserCache(){var e=await this.metadb.get("users"),t=await this.metadb.get("trusted_users");e?.value?this.users_cache.users=m.decodeCoreData(e.value):this.users_cache.users={},t?.value?this.users_cache.trusted_users=m.decodeCoreData(t.value):this.users_cache.trusted_users={}}async _changeUserStatus(e){var{key:e,status:t,type:r="user",partition:n}=e;const i=this.users_cache[r+"s"];i[e]?i[e].status=t:i[e]={status:t,type:r,partition:n},this.users_cache[r+"s"]=i,await this.metaprotocol({type:"set",key:r+"s",value:i})}}k.default=async function(l){const f=l["config"],d=(await async function e(t){"object"==typeof window&&localStorage.getItem(t.address)&&(confirm(`Detected potentially another instance of this app running.

Please close the instance and click ok.

If this is wrong, click cancel. Beware, running two instances in same browser can result to corrupt data.`)?await e(t):localStorage.removeItem(t.address))}(f),new w(f));var e,t;async function p(n){return async function(t){let r=!1;if(Object.keys(t).forEach(e=>{t[e]?._meta&&(t[e]?._meta?.unsigned&&(r=!0),t[e]=t[e].flatten())}),r)return m.error("unsigned data detected in API");new v.Operation(t);var e=m.encodeCoreData(t);await n.append(e),await n.view.update()}}e=d,t=f,"object"==typeof window?window.addEventListener("beforeunload",async()=>{m.emit({ch:"network",msg:"beforeunload event received, cleaning up..."}),localStorage.removeItem(t.address),await e.network.destroy()},{capture:!0}):"object"==typeof S&&E.once("SIGINT",async()=>{m.emit({ch:"network",msg:"SIGINT event received, cleaning up..."}),await e.network.destroy()}),await d.init(),"object"==typeof window&&localStorage.setItem(f.address,(new Date).getTime().toString());const g={users:{addUser:async e=>d.addUser(e),removeUser:async e=>d.removeUser(e),addTrustedUser:async e=>d.addTrustedUser(e),removeTrustedUser:async e=>d.removeTrustedUser(e)},meta:{getAppVersion:async()=>{var e=await g.meta._getMeta("manifest");return e?e?.version:m.error("no manifest found")},getKeys:async()=>d.getKeys()},network:{getConnectionId:()=>d.connection_id,getNetwork:()=>d.network,connect:async e=>d.connect(e),disconnect:async()=>d.disconnect()},_:{on:async(e,t)=>()=>m.subscribeToEvent({id:e,cb:t}),listenLog:async(e,t)=>()=>m.subscribeToChannel({ch:e,cb:t})}};d.metaprotocol=await p(d.metaviewer),g.meta._getMeta=async e=>{e=await d.metadb.get(e);return e?m.decodeCoreData(e.value):null},g.meta._allMeta=async()=>{var e=await d.metadb.query({lt:"~"});return e?m.decodeCoreData(e):null},g.meta._setMeta=async e=>{await d.metaprotocol({type:"set",key:e.key,value:e.value})},await d.addKnownUsers({partition:"meta"});let y;async function b(n){return new Promise((e,t)=>{if("object"!=typeof window&&!document.body)return m.error("is this a browser?");const r=document.createElement("script");r.setAttribute("id","app-container"),document.body.appendChild(r),r.onload=function(){e(window.app?.default||window.app)},r.setAttribute("src","data:text/javascript;base64,"+m.base64.encode(n))})}return"object"==typeof window&&"function"==typeof window.appendMsgToUI&&(y=window.appendMsgToUI),new Promise(async(a,c)=>{try{async function u(e,t,r){d.protocol=e;var n,e=await async function(e,t){const n={onAdd:async e=>{let t=0;const r=setInterval(function(){t<d.dataviewer.localOutput.length&&(e(d.dataviewer.localOutput.length),t=d.dataviewer.localOutput.length)},10);return function(){clearInterval(r)}},get:async e=>{try{var t=await d.datadb.get(e);return t?m.decodeCoreData(t.value):null}catch(e){return null}},getAll:async e=>{const t=await n.query({lt:"~",include_meta:!0});let r;return r="function"==typeof e?.model?await Promise.all(t.map(t=>{if(!t.key.match(/^_/))try{return e.model(t.value)}catch(e){console.log("invalid data",t,e)}}).filter(e=>e)):t},query:async function(n){n?.limit||(n.limit=100);const i=d.datadb.createReadStream(n);return n?.stream?i:new Promise((e,t)=>{const r=[];i.on("data",e=>{var t=m.decodeCoreData(e.value);n.include_meta?r.push({value:t,i:e.seq,key:e.key}):r.push(t)}),i.on("end",()=>{e(r)})})}};return e(n,t)}(t,await p(d.dataviewer));{var i=e;const o=["users","meta","network","_"];for(const s in i)"_"!==s.charAt(0)&&-1===o.indexOf(s)&&(g[s]=async function(...e){return i[s](...e)})}await 0,await d.addKnownUsers({partition:"data"}),await d.startDataViewer(),"object"==typeof window&&r&&(y&&y("Rendering user interface..."),g.UI=(n=r,await new Promise((e,t)=>{if("object"!=typeof window&&!document.body)return m.error("is this a browser?");const r=document.createElement("script");r.setAttribute("id","ui-container"),document.body.appendChild(r),r.onload=function(){e(window.ui?.default||window.ui)},r.setAttribute("src","data:text/javascript;base64,"+m.base64.encode(n))}))),m.emit({ch:"core",msg:"Container initialized successfully"}),y&&y("Container initialized"),await g.network.getNetwork()||setTimeout(function(){d.connect(l?.config?.connect?.local_only?{local_only:l?.config?.connect?.local_only}:{})},1e3),a(g)}if(l.app?.Protocol&&l.app?.API)m.emit({ch:"core",msg:"App provided as argument, loading..."}),await u(l.app.Protocol,l.app.API,l?.app?.ui);else{if(l.config.private)return c("Private mode is on, but no code was found. Please start core with app when using private mode.");m.emit({ch:"core",msg:"Loading app..."}),y&&y("Loading app...");let e;if(A&&!_&&(e=await A.get(f.address+"/code"),await A.get(f.address+"/manifest")),e?.app){m.emit({ch:"core",msg:"App found from cache"}),y&&y("App found from cache");var t,r=await b(e.app);if(!r.Protocol)return t="Error in executing the app code",y&&y(t),window.reset,window.reset(),c(t);await u(r.Protocol,r.API,e?.ui)}else{var n="No code found, querying users for code, standby...";m.emit({ch:"core",msg:n}),y&&y(n),await g.network.connect(l?.config?.connect?.local_only?{local_only:l?.config?.connect?.local_only}:{});let o=60,s=!1;const h=setInterval(async()=>{var e=await g.network.getNetwork();if(0<e._peers.size&&!s){s=!0;e="Found other users, searching for app code...";m.emit({ch:"network",msg:e}),y&&y(e);const r=await g.meta._getMeta("code");if(r?.app){clearInterval(h),"!!!DEV!!!"===r.signature&&m.log("APP STARTED IN DEV MODE\nWARNING: SECURITY DISABLED");e=await g.meta._getMeta("manifest");if(!e)return t="No manifest found, invalid container",y&&y(t),"object"==typeof window&&"function"==typeof window.reset&&window.reset(),m.error(t);if(A&&(await A.set(f.address+"/code",r),await A.set(f.address+"/manifest",e)),"object"==typeof window){m.emit({ch:"core",msg:"Executing in browser environment..."});const n=await b(r.app);let e;const i=setInterval(async function(){n?.Protocol&&n?.API&&(clearInterval(i),clearTimeout(e),await u(n.Protocol,n.API,r?.ui))},5);e=setTimeout(function(){clearInterval(i);var e="Unknown error in executing the app";return y&&y(e),window.reset,window.reset(),m.error(e)},1e4)}else{m.emit({ch:"core",msg:"Executing in NodeJS environment..."});var t=Function(r.app+";return app.default || app")();if(!t.Protocol)return c("app loading failed");await u(t.Protocol,t.API,r?.ui)}}else{s=!1;e="No code found yet, searching more...";m.emit({ch:"core",msg:e}),y&&y(e)}}if(--o<=0&&!l?.config?.disable_timeout)return clearInterval(h),t="No other users found with code, are you sure the address is right?",y&&y(t),window.reset,window.reset(),c(t)},5e3)}}}catch(e){return c(e)}})}}.call(this)}.call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},"/core")},{"../bbconfig":1,"../common":2,"../models":10,"../network":15,"../network/users":16,"./storage":4,"@backbonedao/crypto":295,"@backbonedao/data-db":296,"@backbonedao/data-manager":302,"@backbonedao/data-viewer":303,_process:437,b4a:175,fs:191,"idb-keyval":360,mkdirp:380,msgpackr:390}],4:[function(t,e,r){!function(u){!function(){"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const i=e(t("platform-detect")),o=e(t("random-access-memory")),s=e(t("random-access-idb")),a=t("os"),c=t("../common");r.default=function(e){if(!e)throw new Error("GETSTORAGE REQUIRES CORECONFIG");let t;t="ram"===e?.storage?(c.log("RAM storage requested, using memory for storage"),o.default):"node"===e?.env||i.default?.node?(c.log("Node runtime detected, using file system for storage"),(n=e?.storage_prefix?e?.storage_prefix+"/":"")&&c.log("Using storage prefix: "+n),r=e.address.match(/.{1,2}/g)?.join("/"),u.env.TEST?a.homedir()+"/.backbone-test/"+n+r:c.getHomedir()+"/"+n+r):(c.log("Browser runtime detected, using RAI for storage"),s.default(e.address));var r,n=e?.storage_prefix?e.address+e.storage_prefix:e.address;return{storage:t,storage_id:n}}}.call(this)}.call(this,t("_process"))},{"../common":2,_process:437,os:415,"platform-detect":435,"random-access-idb":451,"random-access-memory":453}],5:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=(Object.defineProperty(r,"__esModule",{value:!0}),s(e("./user"))),c=s(e("./core")),o=o(e("@backbonedao/crypto")),s=s(e("./models")),e={User:a.default,Core:c.default,Crypto:o,Models:s.default};t.exports={User:a.default,Core:c.default,Crypto:o,Models:s.default},r.default=e},{"./core":3,"./models":10,"./user":603,"@backbonedao/crypto":295}],6:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const s=e("./base");var{}=e("./objectmodel");const a=e("@backbonedao/crypto"),c=n(e("b4a"));r.default=function(e){let i=0,o;return s.Array(e).assert(e=>{return!e||(e=e.length)>=i&&(i=e,!0)},"array smaller than previously").assert(e=>{if(!e)return!0;if(!o)return o=a.createHash(e),!0;const t=[...e.values()];var r=t.slice(0,i-1),n=a.createHash(r);return!(0!==r.length&&!c.default.equals(o,n))&&(o=a.createHash(e),!0)})}},{"./base":7,"./objectmodel":11,"@backbonedao/crypto":295,b4a:175}],7:[function(a,e,c){!function(v,A){!function(){"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(c,"__esModule",{value:!0}),c.Set=c.Map=c.Array=c.Object=c.Model=void 0;const f=a("../common"),{Model:n,ObjectModel:t,ArrayModel:r,MapModel:i,SetModel:o}=a("./objectmodel"),d=(c.Model=n,c.Object=t,c.Array=r,c.Map=i,c.Set=o,a("semver/functions/sort")),p=a("semver/ranges/gtr"),s=a("ethers")["ethers"],g=a("@backbonedao/crypto"),y=e(a("b4a")),b=a("msgpackr"),m=n({version:String,hash:[String],signature:[String],id:[String],unsigned:[Boolean]}).assert(e=>!e?.signature||130===e.signature.length,"signature should have lenght of 130").assert(e=>!e?.id||s.utils.isAddress(e.id),"Id should be valid 0x address");c.default=async function(e,a,c){v.env.TEST&&!1!==a?.disable_owneronly&&(a={...a,disable_owneronly:!0});let u=!1,s="";const h={version:a?._debug?.app_version||"0",backbone:()=>"object"==typeof window&&window.backbone||"object"==typeof A&&A.backbone};if("function"==typeof h.backbone()?.app?.meta?._getMeta){var t=await h.backbone().app.meta?._getMeta("manifest");if(!t)return f.error("no manifest found");h.version=t.version}function l(e){var t=g.getPublicKeyFromSig({message:g.hex2buf(e.hash),signature:g.hex2buf(e.signature)});return{...e,public_key:t}}class r extends n(e).assert(e=>{if(!u)return!0;if(a?.disable_owneronly)return!0;if(!e?._meta)return!0;if(e?._meta?.unsigned)return!0;if(!s)return e._meta.unsigned=!0;var{signature:t,public_key:r}=l(e._meta);const{_meta:n,...i}=e;var o=g.createHash(b.pack(i));return!!e._initial||(!!g.verify(o,t,r)||(o=g.getIdFromPublicKey(g.hex2buf(r)),!!y.default.equals(o,s)&&(e._meta.unsigned=!0)))},"signature must verify against data"){constructor(r){try{"string"==typeof r&&(r=JSON.parse(r))}catch(e){e("input data must be an object or stringified JSON")}if(0<Object.keys(c||{}).length&&r?._meta?.version&&r?._meta?.version!==h.version){var n=p(r._meta.version,h.version)?"down":"up";const o=d(Object.keys(c));let t=[];t="up"==n?o.slice(0,o.indexOf(h.version)+1):o.slice(o.indexOf(h.version)+1).reverse();for(let e=0;e<t.length;e++){var i=t[e];const s=c[i];if((r=s[n](r))._meta.version="up"==n?i:0<o.indexOf(i)?o[o.indexOf(i)-1]:h.version,"up"==n&&(!p(h.version,i)||t.indexOf(i)===t.length-1))break;if("down"==n&&(p(h.version,i)||t.indexOf(i)===t.length-1))break}}let e;r?._meta?(e=new m(r._meta),delete r._meta):f.error("_meta missing"),a?.disable_owneronly||!0!==r._meta?.unsigned||f.error("can't create object with unsigned data"),super(r),this._meta=e,delete this._initial,u=!0}flatten(){const t={};return Object.keys(this).forEach(e=>t[e]=this[e]),t._meta={},Object.keys(this._meta).forEach(e=>t._meta[e]=this._meta[e]),t}toJSON(){var e=this.flatten();return JSON.stringify(e)}async sign(){if(this._meta?.unsigned,await o(),!s)return f.error("tried to sign without being authenticated");var e=l(this._meta)["public_key"],t=g.getIdFromPublicKey(g.hex2buf(e));if(y.default.isBuffer(e)||g.hex2buf(e),y.default.isBuffer(s)||(s=g.hex2buf(s.match(/^0x/)?s:"0x"+s)),!y.default.equals(s,t))return f.error("current id doesn't match the author");e=await i(this);const{unsigned:r,...n}=this._meta;t=new m({...n,...e});return this._meta=t,!0}}async function i(r){if(!s)return o();let n;if(r?._meta){let{_meta:e,...t}=r;if(n=t,e?.signature&&e?.hash&&!e?.unsigned)return e}else n=r;let e=g.createHash(b.pack(n)),t=await h.backbone().id.signObject({hash:e});return y.default.isBuffer(e)&&(e=g.buf2hex(e)),(t=y.default.isBuffer(t)?g.buf2hex(t):t)?{signature:t,hash:e}:f.error("signing object failed")}async function o(){if(h.backbone()?.id)if(await h.backbone().id.isAuthenticated()){if(!(s=await h.backbone().id.getId()))return f.error("error in getting user id")}else await h.backbone().user(),await o();else{if("function"!=typeof h.backbone()?.user)return f.error("authentication required but no authentication method found");await h.backbone().user(),await o()}}return async e=>{if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return e("DataModel accepts only objects or stringified objects")}var t;if(e?._meta){if(!a?.disable_owneronly&&!e._meta.signature)return f.error("signature and id required")}else a?.disable_owneronly?e._meta=new m({version:h.version}):(await o(),t=await i(e),e._meta=new m({...t,version:h.version}),e._initial=!0);return new r(e)}}}.call(this)}.call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../common":2,"./objectmodel":11,"@backbonedao/crypto":295,_process:437,b4a:175,ethers:280,msgpackr:390,"semver/functions/sort":504,"semver/ranges/gtr":510}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const{BasicModel:n,Any:i}=e("./objectmodel"),o=e("b4a");r.default=n(i).assert(e=>o.isBuffer(e))},{"./objectmodel":11,b4a:175}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PromiseOf=r.ArrayDense=r.ArrayUnique=r.ArrayNotEmpty=r.FutureDate=r.PastDate=r.TrimmedString=r.NormalizedString=r.StringNotBlank=r.NegativeInteger=r.PositiveInteger=r.NegativeNumber=r.PositiveNumber=r.FiniteNumber=r.SafeInteger=r.Integer=r.Truthy=r.Falsy=r.Primitive=void 0;const n=e("./objectmodel")["BasicModel"];r.Primitive=n([Boolean,Number,String,Symbol]).as("Primitive"),r.Falsy=n([r.Primitive,null,void 0]).assert(function(e){return!e}).as("Falsy"),r.Truthy=n([r.Primitive,Object]).assert(function(e){return!!e}).as("Truthy"),r.Integer=n(Number).assert(Number.isInteger).as("Integer"),r.SafeInteger=n(Number).assert(Number.isSafeInteger).as("SafeInteger"),r.FiniteNumber=n(Number).assert(Number.isFinite).as("FiniteNumber"),r.PositiveNumber=n(Number).assert(function(e){return 0<=e}).as("PositiveNumber"),r.NegativeNumber=n(Number).assert(function(e){return e<=0}).as("NegativeNumber"),r.PositiveInteger=r.PositiveNumber.extend().assert(Number.isInteger).as("PositiveInteger"),r.NegativeInteger=r.NegativeNumber.extend().assert(Number.isInteger).as("NegativeInteger"),r.StringNotBlank=n(String).assert(function(e){return 0<e.trim().length}).as("StringNotBlank"),r.NormalizedString=n(String).assert(function(e){return e.normalize()===e}).as("NormalizedString"),r.TrimmedString=n(String).assert(function(e){return e.trim()===e}).as("TrimmedString"),r.PastDate=n(Date).assert(function(e){return e.getTime()<Date.now()}).as("PastDate"),r.FutureDate=n(Date).assert(function(e){return e.getTime()>Date.now()}).as("FutureDate"),r.ArrayNotEmpty=n(Array).assert(function(e){return 0<e.length}).as("ArrayNotEmpty"),r.ArrayUnique=n(Array).assert(function(r){return r.every((e,t)=>r.indexOf(e)===t)}).as("ArrayUnique"),r.ArrayDense=n(Array).assert(function(e){return e.filter(()=>!0).length===e.length}).as("ArrayDense"),r.PromiseOf=t=>e=>n(Promise)(e).then(e=>t(e))},{"./objectmodel":11}],10:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(r,"__esModule",{value:!0}),r.DataModel=r.Binary=r.Operation=r.OwnerOnly=r.AppendOnly=r.Commons=void 0,o(e("./common")));r.Commons=o;const a=s(e("./base"));o=s(e("./append_only")),r.AppendOnly=o.default,o=s(e("./owner_only")),r.OwnerOnly=o.default,o=s(e("./operation")),r.Operation=o.default,o=s(e("./binary"));r.Binary=o.default;const c=e("../common");function u(r,n,i){return async e=>{const t=await a.default(r,n,i);return"function"==typeof t?t(e):c.error("error in creating data model")}}r.DataModel=u,r.default=u},{"../common":2,"./append_only":6,"./base":7,"./binary":8,"./common":9,"./operation":12,"./owner_only":13}],11:[function(e,t,r){o="object"==typeof t?t.exports:{},t=Object.prototype,u=t.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},n=y.iterator||"@@iterator",i=y.asyncIterator||"@@asyncIterator",s=y.toStringTag||"@@toStringTag",o.wrap=b,h="suspendedStart",l="suspendedYield",f="executing",d="completed",p={},(y={})[n]=function(){return this},(g=(g=Object.getPrototypeOf)&&g(g(C([]))))&&g!==t&&u.call(g,n)&&(y=g),a=_.prototype=v.prototype=Object.create(y),(A.prototype=a.constructor=_).constructor=A,_[s]=A.displayName="GeneratorFunction",o.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===A||"GeneratorFunction"===(e.displayName||e.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(a),e},o.awrap=function(e){return{__await:e}},w(E.prototype),E.prototype[i]=function(){return this},o.AsyncIterator=E,o.async=function(e,t,r,n){var i=new E(b(e,t,r,n));return o.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(a),a[s]="Generator",a[n]=function(){return this},a.toString=function(){return"[object Generator]"},o.keys=function(r){var e,n=[];for(e in r)n.push(e);return n.reverse(),function e(){for(;n.length;){var t=n.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},o.values=C,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=c)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var n=this;function e(e,t){return o.type="throw",o.arg=r,n.next=e,t&&(n.method="next",n.arg=c),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var s=u.call(i,"catchLoc"),a=u.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&u.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}var o=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(r=i.completion).type&&(n=r.arg,k(i)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=c),p}};var o,c,u,n,i,s,h,l,f,d,p,a,g,y,t=o;function b(e,t,r,n){var i,o,s,a,t=t&&t.prototype instanceof v?t:v,t=Object.create(t.prototype),n=new I(n||[]);return t._invoke=(i=e,o=r,s=n,a=h,function(e,t){if(a===f)throw new Error("Generator is already running");if(a===d){if("throw"===e)throw t;return B()}for(s.method=e,s.arg=t;;){var r=s.delegate;if(r){r=function e(t,r){var n=t.iterator[r.method];if(n===c){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=c,e(t,r),"throw"===r.method))return p;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}n=m(n,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,p;n=n.arg;return n?n.done?(r[t.resultName]=n.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=c),r.delegate=null,p):n:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}(r,s);if(r){if(r===p)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(a===h)throw a=d,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);a=f;r=m(i,o,s);if("normal"===r.type){if(a=s.done?d:l,r.arg===p)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(a=d,s.method="throw",s.arg=r.arg)}}),t}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function v(){}function A(){}function _(){}function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function E(s){var t;this._invoke=function(r,n){function e(){return new Promise(function(e,t){!function t(e,r,n,i){var o,e=m(s[e],s,r);return"throw"!==e.type?(r=(o=e.arg).value)&&"object"==typeof r&&u.call(r,"__await")?Promise.resolve(r.__await).then(function(e){t("next",e,n,i)},function(e){t("throw",e,n,i)}):Promise.resolve(r).then(function(e){o.value=e,n(o)},function(e){return t("throw",e,n,i)}):void i(e.arg)}(r,n,e,t)})}return t=t?t.then(e,e):e()}}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(t){if(t){var r,e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return r=-1,(e=function e(){for(;++r<t.length;)if(u.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=c,e.done=!0,e}).next=e}return{next:B}}function B(){return{value:c,done:!0}}try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}g=this,y=function(e){var t;function D(e,t,r){return(D=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){}}}()?Reflect.construct:function(e,t,r){var n=[null],t=(n.push.apply(n,t),new(Function.bind.apply(e,n)));return r&&N(t,r.prototype),t}).apply(null,arguments)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function F(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?F(r,!0).forEach(function(e){n(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayModel=o,e.BasicModel=M,e.FunctionModel=s,e.MapModel=L,e.Model=T,e.ObjectModel=P,e.SetModel=R,e.Any=void 0;function d(e){return e&&"object"===j(e)}function p(e){var t,r,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};for(t in n)h(n[t])?(p(r={},e[t]),p(r,n[t]),e[t]=r):e[t]=n[t];return e}function U(e,t,r){Object.defineProperty(e,t,{value:r,enumerable:3<arguments.length&&void 0!==arguments[3]&&arguments[3],writable:!0,configurable:!0})}function a(e,t,r){e.prototype=Object.assign(Object.create(t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r),J(e,t)}function g(e,t,r){return a(e,t,r),(r=e.assertions).push.apply(r,f(t.assertions)),e}function b(e,t,r,n,i){e.push({expected:t,received:r,path:n,message:i})}function u(t){if(h(t))Object.keys(t).map(function(e){t[e]=u(t[e])});else{if(!Array.isArray(t))return[t];if(1===t.length)return[].concat(f(t),[void 0,null])}return t}function r(e,t){return 1<(e=u(e).map(function(e){return B(e,t)})).length?"(".concat(e.join(" or "),")"):e[0]}function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return e=0<(t=[].concat(t)).length?t.reduce(function(e,t){return e.concat(t)},[].concat(e)).filter(function(e,t,r){return r.indexOf(e)===t}):e}var m=Object.getPrototypeOf,J=Object.setPrototypeOf,v=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},A=function(e,t){return t instanceof e},_=function(e){return"function"==typeof e},h=function(e){return d(e)&&m(e)===Object.prototype},Q=function(e){return e&&_(e[Symbol.iterator])},w=function(e,t){return new Proxy(e,t)},E=Symbol(),H=Symbol(),S=Symbol(),i=function(e,t,r,n,i,o){function s(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s.default,t=1<arguments.length?arguments[1]:void 0;return o&&!A(s,this)?new s(e):(n&&(e=n(e,s,this)),t===H||z(s,e)?i?w(e,i(s)):e:void 0)}return r&&a(s,r),J(s,t.prototype),s.constructor=t,s.definition=e,s.assertions=f(s.assertions),U(s,"errors",[]),delete s.name,s},K=function(e,t,r){return A(t,e)?e:(d(e)||_(e)||void 0===e||b(t.errors,Object,e),p(r,t.default),t.parentClass&&p(e,new t.parentClass(e)),p(r,e),r)},k=function(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e.errorCollector,n=e.errors.length;return 0<n&&(t=e.errors.map(function(e){var t;return e.message||(t=[].concat(e.expected),e.message="expecting "+(e.path?e.path+" to be ":"")+t.map(function(e){return B(e)}).join(" or ")+", got "+(null!=e.received?(t=e.received,Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1]+" "):"")+B(e.received)),e}),e.errors.length=0,r.call(e,t)),n},G=function(e){return e&&m(e)&&A(T,m(e).constructor)},z=function(e,t){return e[E](t,null,e.errors,[],!0),!k(e)},I=function r(n,i,o,s,a,c){var e=a.indexOf(i);if(-1===e||-1===a.indexOf(i,e+1))if(A(T,i))c&&(n=x(n,i)),i[E](n,o,s,a.concat(i));else if(h(i))Object.keys(i).map(function(e){var t=n?n[e]:void 0;r(t,i[e],q(o,e),s,a,c)});else{if(u(i).some(function(e){return X(n,e,o,a)}))return c?x(n,i):n;b(s,i,n,o)}return n},X=function(e,t,r,n,i){return t===O||(null==e?e===t:h(t)||A(T,t)?(I(e,t,r,r=[],n,i),!r.length):A(RegExp,t)?t.test(e):t===Number||t===Date?e.constructor===t&&!isNaN(e):e===t||_(t)&&A(t,e)||e.constructor===t)},C=function(n,i,o){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:i.errors,e=!0,t=!1,r=void 0;try{for(var a,c=i.assertions[Symbol.iterator]();!(e=(a=c.next()).done);e=!0)!function(){var e,r=a.value,t=void 0;try{t=r.call(i,n)}catch(e){t=e}!0!==t&&(e=_(r.description)?r.description:function(e,t){return'assertion "'.concat(r.description,'" returned ').concat(B(e)," ")+"for ".concat(o?o+" =":"value"," ").concat(B(t))},b(s,r,n,o,e.call(i,t,n,o)))}()}catch(n){t=!0,r=n}finally{try{e||null==c.return||c.return()}finally{if(t)throw r}}},B=function t(r){var e,n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return 15<i.length||i.includes(r)?"...":null==r?String(r):"string"==typeof r?'"'.concat(r,'"'):A(T,r)?r.toString(i):(i.unshift(r),_(r)?r.name||r.toString():A(Map,r)||A(Set,r)?t(f(r)):Array.isArray(r)?"[".concat(r.map(function(e){return t(e,i)}).join(", "),"]"):r.toString&&r.toString!==Object.prototype.toString?r.toString():d(r)?(e=Object.keys(r),n="\t".repeat(i.length),"{".concat(e.map(function(e){return"\n".concat(n+e,": ").concat(t(r[e],f(i)))}).join(", ")," ").concat(e.length?"\n".concat(n.slice(1)):"","}")):String(r))},q=function(e,t){return e?e+"."+t:t},V=function(e,t,r,n,i,o,s){var r=q(r,i),a=e.conventionForPrivate(i),c=e.conventionForConstant(i),u=v(n,i),h=u&&Object.getOwnPropertyDescriptor(n,i),o=(i in t&&(a&&!o||c&&void 0!==n[i])&&Y("modify ".concat(a?"private":"constant"," property ").concat(i),e),s(r),v(t,i)&&I(n[i],t[i],r,e.errors,[]),C(n,e,r),e.errors.length);return o&&(u?Object.defineProperty(n,i,h):delete n[i],k(e)),!o},Y=function(e,t){t.errors.push({message:"cannot "+e})},x=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];if(!e||h(t)||A(M,t)||G(e))return e;var t=u(t),r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var c=s.value;A(T,c)&&!A(M,c)&&c.test(e)&&r.push(c)}}catch(e){i=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return 1===r.length?new r[0](e,H):(1<r.length&&console.warn("Ambiguous model for value ".concat(B(e),", could be ").concat(r.join(" or "))),e)},Z=function(e,t,r,n,i){return h(r)?w(e,W(t,r,n,i)):x(e,r)},W=function(o,s,a,c){return{getPrototypeOf:function(e){return a?Object.prototype:m(e)},get:function(e,t){var r,n,i;return t===S?e:"string"!=typeof t?Reflect.get(e,t):(n=q(a,t),i=s[t],!c&&t in s&&o.conventionForPrivate(t)?(Y("access to private property ".concat(n),o),void k(o)):(e[t]&&v(e,t)&&!h(i)&&!G(e[t])&&(e[t]=x(e[t],i)),_(e[t])&&"constructor"!==t&&!c?(r=e[t],w(r,{apply:function(e,t,r){c=!0;e=Reflect.apply(e,t,r);return c=!1,e}})):(h(i)&&!e[t]&&(e[t]={}),Z(e[t],o,i,n,c))))},set:function(t,r,n){return V(o,s,a,t,r,c,function(e){return Reflect.set(t,r,Z(n,o,s[r],e))})},deleteProperty:function(e,t){return V(o,s,a,e,t,c,function(){return Reflect.deleteProperty(e,t)})},defineProperty:function(e,t,r){return V(o,s,a,e,t,c,function(){return Reflect.defineProperty(e,t,r)})},has:function(e,t){return Reflect.has(e,t)&&Reflect.has(s,t)&&!o.conventionForPrivate(t)},ownKeys:function(e){return Reflect.ownKeys(e).filter(function(e){return Reflect.has(s,e)&&!o.conventionForPrivate(e)})},getOwnPropertyDescriptor:function(e,t){var r;return o.conventionForPrivate(t)||void 0!==(r=Object.getOwnPropertyDescriptor(s,t))&&(r.value=e[t]),r}}};function T(e,t){return new(h(e)?P:M)(e)}function M(e){return i(e,M)}function P(t){return i(t,P,Object,K,function(e){return W(e,t)},!0)}Object.assign(T.prototype,(n(t={name:"Model",assertions:[],conventionForConstant:function(e){return e.toUpperCase()===e},conventionForPrivate:function(e){return"_"===e[0]},toString:function(e){return r(this.definition,e)},as:function(e){return U(this,"name",e),this},defaultTo:function(e){return this.default=e,this}},E,function(e,t,r,n){I(e,this.definition,t,r,n),C(e,this,t,r)}),n(t,"test",function(e,t){for(var r=this,n=this;!v(n,"errorCollector");)n=m(n);var i,o=n.errorCollector;return n.errorCollector=function(e){i=!0,t&&t.call(r,e)},new this(e),n.errorCollector=o,!i}),n(t,"errorCollector",function(e){e=new TypeError(e.map(function(e){return e.message}).join("\n"));throw e.stack=e.stack.replace(/\n.*object-model(.|\n)*object-model.*/,""),e}),n(t,"assert",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:B(e);return U(e,"description",t),this.assertions=this.assertions.concat(e),this}),t)),a(M,T,{extend:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=g(new M(c(this.definition,t)),this),i=0,o=t;i<o.length;i++){var s,a=o[i];A(M,a)&&(s=n.assertions).push.apply(s,f(a.assertions))}return n}}),a(P,T,n({defaultTo:function(e){var t,r=this.definition;for(t in e)v(r,t)&&(e[t]=I(e[t],r[t],t,this.errors,[],!0));return k(this),this.default=e,this},toString:function(e){return B(this.definition,e)},extend:function(){for(var e=l({},this.definition),t=l({},this.prototype),r=l({},this.default),n=[],i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];for(var a=0,c=o;a<c.length;a++){var u=c[a];A(T,u)&&(p(e,u.definition),p(r,u.default),n.push.apply(n,f(u.assertions))),_(u)&&p(t,u.prototype),d(u)&&p(e,u)}var h=g(new P(e),this,t).defaultTo(r);return h.assertions=[].concat(f(this.assertions),n),m(this)!==P.prototype&&(h.parentClass=this),h}},E,function(e,t,r,n,i){var o;d(e)?(o=this.definition,I(e[S]||e,o,t,r,n,i)):b(r,this,e,t),C(e,this,t,r)}));var O=w(M(),{apply:function(e,t,r){r=y(r,1)[0];return Object.assign(Object.create(O),{definition:r})}}),$=(((e.Any=O).definition=O).toString=function(){return"Any"},O.remaining=function(e){this.definition=e},a(O.remaining,O,{toString:function(){return"..."+r(this.definition)}}),O[Symbol.iterator]=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new O.remaining(this.definition);case 2:case"end":return e.stop()}},e,this)}),function(d,e,t,r,p,g,n){return i(t,e,d,r,function(f){return Object.assign({getPrototypeOf:function(){return f.prototype},get:function(h,l){var e;return l===S?h:(e=h[l],_(e)?w(e,{apply:function(e,t,r){if(v(g,l)){for(var n=y(g[l],3),i=n[0],o=n[1],s=void 0===o?r.length-1:o,a=n[2],c=i;c<=s;c++){var u=a?a(c):f.definition;r[c]=I(r[c],u,"".concat(d.name,".").concat(l," arguments[").concat(c,"]"),f.errors,[],!0)}0<f.assertions.length&&(o=p(h),e.apply(o,r),C(o,f,"after ".concat(l," mutation"))),k(f)}return e.apply(h,r)}}):e)}},n)})});function o(e){var n=$(Array,o,e,function(e){return Array.isArray(e)?e.map(function(e){return x(e,n.definition)}):e},f,{copyWithin:[],fill:[0,0],pop:[],push:[0],reverse:[],shift:[],sort:[],splice:[2],unshift:[0]},{set:function(e,r,t){return ee(n,e,r,t,function(e,t){return e[r]=t},!0)},deleteProperty:function(e,t){return ee(n,e,t,void 0,function(e){return delete e[t]})}});return n}a(o,T,(n(t={toString:function(e){return"Array of "+r(this.definition,e)}},E,function(e,r,n,i){var o=this;Array.isArray(e)?(e[S]||e).forEach(function(e,t){return I(e,o.definition,"".concat(r||"Array","[").concat(t,"]"),n,i)}):b(n,this,e,r),C(e,this,r,n)}),n(t,"extend",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return g(new o(c(this.definition,t)),this)}),t));var ee=function(e,t,r,n,i,o){var s="Array[".concat(r,"]"),o=(0<=+r&&(o||r in t)&&(n=I(n,e.definition,s,e.errors,[],!0)),f(t)),r=(i(o),C(o,e,s),!k(e));return r&&i(t,n),r};function s(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return i({arguments:t},s,Function,null,function(u){return{getPrototypeOf:function(){return u.prototype},get:function(e,t){return t===S?e:e[t]},apply:function(e,t,r){for(var n,i=u.definition,o=i.arguments.find(function(e){return A(O.remaining,e)}),s=o?Math.max(r.length,i.arguments.length-1):i.arguments.length,a=0;a<s;a++){var c=o&&a>=i.arguments.length-1?o.definition:i.arguments[a];r[a]=I(r[a],c,"arguments[".concat(a,"]"),u.errors,[],!0)}return C(r,u,"arguments"),u.errors.length||(n=Reflect.apply(e,t,r),"return"in i&&(n=I(n,i.return,"return value",u.errors,[],!0))),k(u),n}}})}function L(e,t){function r(e){return 0===e?n.definition.key:n.definition.value}var n=$(Map,L,{key:e,value:t},function(e){return Q(e)?new Map(f(e).map(function(e){return e.map(function(e,t){return x(e,r(t))})})):e},function(e){return new Map(e)},{set:[0,1,r],delete:[],clear:[]});return n}function R(e){var t=$(Set,R,e,function(e){return Q(e)?new Set(f(e).map(function(e){return x(e,t.definition)})):e},function(e){return new Set(e)},{add:[0,0],delete:[],clear:[]});return t}a(s,T,n({toString:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e="Function(".concat(this.definition.arguments.map(function(e){return r(e,f(t))}).join(", "),")");return"return"in this.definition&&(e+=" => "+r(this.definition.return,t)),e},return:function(e){return this.definition.return=e,this},extend:function(r,e){var n=this.definition.arguments,t=r.map(function(e,t){return c(t in n?n[t]:[],r[t])}),e=c(this.definition.return,e);return g(D(s,f(t)).return(e),this)}},E,function(e,t,r){_(e)||b(r,"Function",e,t)})),a(L,T,(n(e={toString:function(e){return"Map of ".concat(r(this.definition.key,e)," : ").concat(r(this.definition.value,e))}},E,function(e,t,r,n){if(A(Map,e)){t=t||"Map";var i=!0,o=!1,s=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var u=y(a.value,2),h=u[0],l=u[1];I(h,this.definition.key,"".concat(t," key"),r,n),I(l,this.definition.value,"".concat(t,"[").concat(B(h),"]"),r,n)}}catch(e){o=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}}else b(r,this,e,t);C(e,this,t,r)}),n(e,"extend",function(e,t){return g(new L(c(this.definition.key,e),c(this.definition.value,t)),this)}),e)),a(R,T,(n(t={toString:function(e){return"Set of "+r(this.definition,e)}},E,function(e,t,r,n){if(A(Set,e)){var i=!0,o=!1,s=void 0;try{for(var a,c=e.values()[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var u=a.value;I(u,this.definition,"".concat(t||"Set"," value"),r,n)}}catch(e){o=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}}else b(r,this,e,t);C(e,this,t,r)}),n(t,"extend",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return g(new R(c(this.definition,t)),this)}),t))},"function"==typeof define&&define.amd?define("objectmodel",["exports"],y):void 0!==r?y(r):(y(y={}),g.objectmodel=y)},{}],12:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./base");e=e("./objectmodel").Any;r.default=n.Object({type:String,data:e})},{"./base":7,"./objectmodel":11}],13:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./base");var i=e("./objectmodel")["Any"];const o=e("@backbonedao/crypto");e=n.Object({owner:String,signature:String,data:i}).assert(e=>o.verify(JSON.stringify(e.data),o.hex2buf(e.signature),o.hex2buf(e.owner)),"data doesn't match signature");r.default=e},{"./base":7,"./objectmodel":11,"@backbonedao/crypto":295}],14:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.Split=r.Merge=void 0;const c=n(e("varint"));n=e("streamx");const u=(e,t)=>e.index-t.index;class i extends n.Transform{constructor(e={}){const{timeout:t=5e3,...r}=e;super(r),this._timeout=t,this._packets=new Map}_open(e){this._timeout&&(this._timestamp=Date.now(),this._interval=setInterval(()=>{this._packets.forEach(e=>{Math.abs(e.timestamp-this._timestamp)>this._timeout&&this._packets.delete(e.id)}),this._timestamp=Date.now()},this._timeout)),e(null)}_destroy(e){this._interval&&clearInterval(this._interval),e(null)}_transform(e,t){try{var r=this._decodePacket(e);r&&this.push(r),t(null)}catch(e){t(e)}}_decodePacket(e){var t=0,r=c.default.decode(e,0),n=(t+=c.default.decode.bytes,c.default.decode(e,t)),i=(t+=c.default.decode.bytes,c.default.decode(e,t)),o=(t+=c.default.decode.bytes,c.default.decode(e,t)),t=(t+=c.default.decode.bytes,e=e.slice(t),r+"/"+n);let s=this._packets.get(t);s||(s={id:t,chunks:[],size:i,byteLength:0,timestamp:Date.now()},this._packets.set(t,s));r={index:o,data:e};if(s.chunks.push(r),s.byteLength+=r.data.byteLength,s.chunks.length!==s.size)return null;s.chunks.sort(u),this._packets.delete(t);{n=s;const a=new Uint8Array(n.byteLength);let t=0;return n.chunks.forEach(e=>{a.set(e.data,t),t+=e.data.length}),a}}}r.Merge=i;const a=function(){let e=0,t=0;function r(){e=Date.now(),t=0}return r(),function(){return 1e4<t&&r(),{timestamp:e,offset:t++}}}();function h(e,t,r,n){var i=0;const o=new Uint8Array(c.default.encodingLength(t.timestamp)+c.default.encodingLength(t.offset)+c.default.encodingLength(n)+c.default.encodingLength(r)+e.byteLength);return c.default.encode(t.timestamp,o,0),i+=c.default.encode.bytes,c.default.encode(t.offset,o,i),i+=c.default.encode.bytes,c.default.encode(n,o,i),i+=c.default.encode.bytes,c.default.encode(r,o,i),i+=c.default.encode.bytes,o.set(e,i),o}class o extends n.Transform{constructor(e={}){const{chunkSize:t=1024,...r}=e;super(r),this._chunkSize=t}_transform(n,e){let i;var o=a();if(n.length<=this._chunkSize)i=h(n,o,0,1),this.push(i);else{let e=0,t=0,r=0;for(var s=Math.ceil(n.length/this._chunkSize);e<n.length;)(t=e+this._chunkSize)>n.length&&(t=n.length),i=h(n.slice(e,t),o,r++,s),e=t,this.push(i)}e(null)}}r.Split=o},{streamx:573,varint:589}],15:[function(o,e,h){!function(i){!function(){"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(h,"__esModule",{value:!0}),h.connect=h.getSwarm=void 0;const s=o("../common"),t=e(o("@backbonedao/network-node")),a=o("@backbonedao/crypto"),r=e(o("@backbonedao/network-node")),c=o("./chunker"),u=o("streamx");let n;h.getSwarm=async function(e){return n=n||t.default(e)},h.connect=async function(e){if(this.network)return s.error("NETWORK EXISTS");if(!this.config?.network)return s.error("CONNECT NEEDS NETWORK CONFIG");if(this.config.private)return s.error("ACCESS DENIED - PRIVATE CORE");const t=this.config.network;s.emit({ch:"network",msg:"Connect with conf: "+JSON.stringify(t)}),this.config.firewall&&(t.firewall=this.config.firewall),this.config.network_id||(this.config.network_id=a.keyPair()),t.keyPair=this.config.network_id;let o=this;return e?.local_only?(s.emit({ch:"network",msg:"Using local connection"}),this.network=this.datamanager.replicate(e?.local_only?.initiator,{live:!0})):(this.network=await async function(){try{const e=r.default(t);return e.on("connection",async(e,t)=>{s.emit({event:"network.new-connection",ch:"network",msg:"New connection from "+a.buf2hex(t.peer.host).slice(0,8)});var r=new c.Split({chunkSize:2048}),n=new c.Merge,n=u.pipeline(e,n,o.datamanager.replicate(t.client,{live:!0}));const i=u.pipeline(n,r,e);i.on("error",e=>{s.error(e.message)}),o.connected_peers++}),s.emit({ch:"network",event:"network.connecting",msg:`Connecting to backbone://${o.address}...`}),e.join(i.isBuffer(o.address_hash)?o.address_hash:i.from(o.address_hash,"hex")),await e.flush(()=>{}),e}catch(e){s.error(e)}}(),this.connection_id=a.buf2hex(this.network.webrtc.id),s.emit({ch:"network",event:"network.connected",msg:`Connected to backbone://${o.address} with id `+this.connection_id.slice(0,8)})),this.network}}.call(this)}.call(this,o("buffer").Buffer)},{"../common":2,"./chunker":14,"@backbonedao/crypto":295,"@backbonedao/network-node":326,buffer:221,streamx:573}],16:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.removeTrustedUser=r.addTrustedUser=r.removeUser=r.addUser=r.addKnownUsers=void 0;const f=e("../common"),d=n(e("b4a")),c=e("@backbonedao/crypto");r.addKnownUsers=async function(t){const r=this.users_cache.users;f.emit({ch:"network",msg:`Adding ${Object.keys(r).filter(e=>r[e].partition===t.partition).length} known users for ${t.partition} partition`});for(const s in r)if(r[s]?.partition===t.partition&&s!==this.writer_key&&s!==this.meta_key&&("active"!==r[s].status&&"frozen"!==r[s].status||await this.addUser({key:s,skip_status_change:!0,partition:r[s].partition}),"frozen"===r[s].status))switch(r[s].partition){case"data":var e=this.dataviewer.inputs.findIndex(e=>d.default.equals(e.key,s));if(!(0<=e))return f.emit({ch:"error",msg:"couldn't snapshot dataviewer core "+s});{const a=this.dataviewer.inputs[e].snapshot();await a.ready(),this.dataviewer._inputsByKey.set(s,a)}break;case"meta":e=this.metaviewer.inputs.findIndex(e=>d.default.equals(e.key,s));if(!(0<=e))return f.emit({ch:"error",msg:"couldn't snapshot metaviewer core "+s});{const c=this.metaviewer.inputs[e].snapshot();await c.ready(),this.metaviewer._inputsByKey.set(s,c)}break;default:f.error("unknown partition")}var n=this.users_cache.trusted_users;for(const u in n)if(u!==this.writer_key&&("active"!==n[u].status&&"frozen"!==n[u].status||await this.addTrustedUser({key:u,skip_status_change:!0,partition:n[u].partition}),"frozen"===n[u].status)){var i=this.dataviewer.outputs.findIndex(e=>d.default.equals(e.key,u)),o=this.metaviewer.outputs.findIndex(e=>d.default.equals(e.key,u));if(!(0<=i))return f.emit({ch:"error",msg:"couldn't dataviewer snapshot core "+u});{const h=this.dataviewer.outputs[i].snapshot();await h.ready(),this.dataviewer._outputsByKey.set(u,h)}if(!(0<=o))return f.emit({ch:"error",msg:"couldn't metaviewer snapshot core "+u});{const l=this.metaviewer.outputs[o].snapshot();await l.ready(),this.metaviewer._outputsByKey.set(u,l)}}},r.addUser=async function(e){var{key:t,partition:r}=e;if(f.emit({ch:"network",msg:`Trying to add user ${r}/${t} to `+(this.connection_id||"n/a"),verbose:!0}),t===await this.writer_key||t===await this.meta_key)return null;const n=this.dataviewer.inputs.map(e=>c.buf2hex(e.key)),i=this.metaviewer.inputs.map(e=>c.buf2hex(e.key));if(-1==n.indexOf(t)&&-1==i.indexOf(t)){e.skip_status_change||this._changeUserStatus({key:t,status:"active",type:"user",partition:e.partition});e=d.default.from(t,"hex");const o=await this.datamanager.get({key:e,publicKey:e,encryptionKey:this.encryption_key});switch(await o.ready(),r){case"data":setTimeout(async()=>{await this.dataviewer.addInput(o)},f.getRandomInt(100,300));break;case"meta":setTimeout(async()=>{await this.metaviewer.addInput(o)},f.getRandomInt(100,300));break;default:return f.error("partition not specified")}f.emit({ch:"network",msg:`Added user ${r}/${t} to `+(this.connection_id||"n/a")})}},r.removeUser=async function(e){var{key:e,destroy:t,partition:r}=e;const n=d.default.from(e,"hex");if(t){var i=this.datamanager.get({key:n,publicKey:n,encryptionKey:this.encryption_key});switch(r){case"data":this.dataviewer.removeInput(i);break;case"meta":this.metaviewer.removeInput(i);break;default:return f.error("partition not specified")}}else{var o=this.dataviewer.inputs.findIndex(e=>d.default.equals(e.key,n));if(!(0<=o))return f.emit({ch:"error",msg:"couldn't snapshot core "+e});{const s=this.dataviewer.inputs[o].snapshot();await s.ready(),this.dataviewer._inputsByKey.set(e,s)}}await this._changeUserStatus({key:e,status:t?"destroyed":"frozen",partition:r}),f.emit({ch:"network",msg:`removed user ${r}/${e} from `+(this.connection_id||"n/a")})},r.addTrustedUser=async function(e){var{key:t,partition:r}=e;if(t===await this.index_key)return null;e.skip_status_change||await this._changeUserStatus({key:t,status:"active",type:"trusted_user",partition:r});var e=c.hex2buf(t),n=this.datamanager.get({key:e,publicKey:e,encryptionKey:this.encryption_key});switch(r){case"data":this.dataviewer.addOutput(n);break;case"meta":this.metaviewer.addOutput(n);default:return f.error("unknown protocol")}f.emit({ch:"network",msg:`added trusted user ${r}/${t} to `+(this.connection_id||"n/a")})},r.removeTrustedUser=async function(e){var{key:t,destroy:e,partition:r}=e;if(t===await this.index_key)return null;const n=c.hex2buf(t);if(e){var i=this.datamanager.get({key:n,publicKey:n,encryptionKey:this.encryption_key});switch(r){case"data":this.dataviewer.removeOutput(i);break;case"meta":this.metaviewer.removeOutput(i);break;default:return f.error("unknown protocol")}}else switch(r){case"data":var o=this.dataviewer.outputs.findIndex(e=>d.default.equals(e.key,n));if(!(0<=o))return f.emit({ch:"error",msg:"couldn't snapshot core "+t});{const s=this.dataviewer.outputs[o].snapshot();await s.ready(),this.dataviewer._outputsByKey.set(t,s)}break;case"meta":o=this.metaviewer.outputs.findIndex(e=>d.default.equals(e.key,n));if(!(0<=o))return f.emit({ch:"error",msg:`couldn't snapshot core ${r}/`+t});{const a=this.metaviewer.outputs[o].snapshot();await a.ready(),this.metaviewer._outputsByKey.set(t,a)}break;default:return f.error("unknown protocol")}await this._changeUserStatus({key:t,status:e?"destroyed":"frozen",partition:r}),f.emit({ch:"network",msg:`removed trusted user ${r}/${t} from `+(this.connection_id||"n/a")})}},{"../common":2,"@backbonedao/crypto":295,b4a:175}],17:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="abi/5.7.0"},{}],18:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.defaultAbiCoder=r.AbiCoder=void 0;var i=e("@ethersproject/bytes"),n=e("@ethersproject/properties"),o=e("@ethersproject/logger"),s=e("./_version"),a=new o.Logger(s.version),c=e("./coders/abstract-coder"),u=e("./coders/address"),h=e("./coders/array"),l=e("./coders/boolean"),f=e("./coders/bytes"),d=e("./coders/fixed-bytes"),p=e("./coders/null"),g=e("./coders/number"),y=e("./coders/string"),b=e("./coders/tuple"),m=e("./fragments"),v=new RegExp(/^bytes([0-9]*)$/),A=new RegExp(/^(u?int)([0-9]*)$/),s=(_.prototype._getCoder=function(e){var t=this;switch(e.baseType){case"address":return new u.AddressCoder(e.name);case"bool":return new l.BooleanCoder(e.name);case"string":return new y.StringCoder(e.name);case"bytes":return new f.BytesCoder(e.name);case"array":return new h.ArrayCoder(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new b.TupleCoder((e.components||[]).map(function(e){return t._getCoder(e)}),e.name);case"":return new p.NullCoder(e.name)}var r,n=e.type.match(A);return n?((0===(r=parseInt(n[2]||"256"))||256<r||r%8!=0)&&a.throwArgumentError("invalid "+n[1]+" bit length","param",e),new g.NumberCoder(r/8,"int"===n[1],e.name)):(n=e.type.match(v))?((0===(r=parseInt(n[1]))||32<r)&&a.throwArgumentError("invalid bytes length","param",e),new d.FixedBytesCoder(r,e.name)):a.throwArgumentError("invalid type","type",e.type)},_.prototype._getWordSize=function(){return 32},_.prototype._getReader=function(e,t){return new c.Reader(e,this._getWordSize(),this.coerceFunc,t)},_.prototype._getWriter=function(){return new c.Writer(this._getWordSize())},_.prototype.getDefaultValue=function(e){var t=this,e=e.map(function(e){return t._getCoder(m.ParamType.from(e))});return new b.TupleCoder(e,"_").defaultValue()},_.prototype.encode=function(e,t){var r=this,e=(e.length!==t.length&&a.throwError("types/values length mismatch",o.Logger.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}}),e.map(function(e){return r._getCoder(m.ParamType.from(e))})),e=new b.TupleCoder(e,"_"),n=this._getWriter();return e.encode(n,t),n.data},_.prototype.decode=function(e,t,r){var n=this,e=e.map(function(e){return n._getCoder(m.ParamType.from(e))});return new b.TupleCoder(e,"_").decode(this._getReader((0,i.arrayify)(t),r))},_);function _(e){(0,n.defineReadOnly)(this,"coerceFunc",e||null)}r.AbiCoder=s,r.defaultAbiCoder=new s},{"./_version":17,"./coders/abstract-coder":19,"./coders/address":20,"./coders/array":22,"./coders/boolean":23,"./coders/bytes":24,"./coders/fixed-bytes":25,"./coders/null":26,"./coders/number":27,"./coders/string":28,"./coders/tuple":29,"./fragments":30,"@ethersproject/bytes":47,"@ethersproject/logger":74,"@ethersproject/properties":80}],19:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Reader=r.Writer=r.Coder=r.checkResultErrors=void 0;var i=e("@ethersproject/bytes"),n=e("@ethersproject/bignumber"),o=e("@ethersproject/properties"),s=e("@ethersproject/logger"),e=e("../_version"),a=new s.Logger(e.version);function c(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}function u(e){(0,o.defineReadOnly)(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}function h(e,t,r,n){(0,o.defineReadOnly)(this,"_data",(0,i.arrayify)(e)),(0,o.defineReadOnly)(this,"wordSize",t||32),(0,o.defineReadOnly)(this,"_coerceFunc",r),(0,o.defineReadOnly)(this,"allowLoose",n),this._offset=0}r.checkResultErrors=function(e){function i(e,t){if(Array.isArray(t))for(var r in t){var n=e.slice();n.push(r);try{i(n,t[r])}catch(e){o.push({path:n,error:e})}}}var o=[];return i([],e),o},c.prototype._throwError=function(e,t){a.throwArgumentError(e,this.localName,t)},r.Coder=c,Object.defineProperty(u.prototype,"data",{get:function(){return(0,i.hexConcat)(this._data)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"length",{get:function(){return this._dataLength},enumerable:!1,configurable:!0}),u.prototype._writeData=function(e){return this._data.push(e),this._dataLength+=e.length,e.length},u.prototype.appendWriter=function(e){return this._writeData((0,i.concat)(e._data))},u.prototype.writeBytes=function(e){var e=(0,i.arrayify)(e),t=e.length%this.wordSize;return t&&(e=(0,i.concat)([e,this._padding.slice(t)])),this._writeData(e)},u.prototype._getValue=function(e){e=(0,i.arrayify)(n.BigNumber.from(e));return e.length>this.wordSize&&a.throwError("value out-of-bounds",s.Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:e.length}),e=e.length%this.wordSize?(0,i.concat)([this._padding.slice(e.length%this.wordSize),e]):e},u.prototype.writeValue=function(e){return this._writeData(this._getValue(e))},u.prototype.writeUpdatableValue=function(){var t=this,r=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,function(e){t._data[r]=t._getValue(e)}},r.Writer=u,Object.defineProperty(h.prototype,"data",{get:function(){return(0,i.hexlify)(this._data)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"consumed",{get:function(){return this._offset},enumerable:!1,configurable:!0}),h.coerce=function(e,t){e=e.match("^u?int([0-9]+)$");return t=e&&parseInt(e[1])<=48?t.toNumber():t},h.prototype.coerce=function(e,t){return this._coerceFunc?this._coerceFunc(e,t):h.coerce(e,t)},h.prototype._peekBytes=function(e,t,r){var n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:a.throwError("data out-of-bounds",s.Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)},h.prototype.subReader=function(e){return new h(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)},h.prototype.readBytes=function(e,t){t=this._peekBytes(0,e,!!t);return this._offset+=t.length,t.slice(0,e)},h.prototype.readValue=function(){return n.BigNumber.from(this.readBytes(this.wordSize))},r.Reader=h},{"../_version":17,"@ethersproject/bignumber":45,"@ethersproject/bytes":47,"@ethersproject/logger":74,"@ethersproject/properties":80}],20:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.AddressCoder=void 0,e("@ethersproject/address")),a=e("@ethersproject/bytes"),e=e("./abstract-coder"),e=(i=e.Coder,o(c,i),c.prototype.defaultValue=function(){return"0x0000000000000000000000000000000000000000"},c.prototype.encode=function(e,t){try{t=(0,s.getAddress)(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)},c.prototype.decode=function(e){return(0,s.getAddress)((0,a.hexZeroPad)(e.readValue().toHexString(),20))},c);function c(e){return i.call(this,"address","address",e,!1)||this}r.AddressCoder=e},{"./abstract-coder":19,"@ethersproject/address":38,"@ethersproject/bytes":47}],21:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),r.AnonymousCoder=void 0,e("./abstract-coder")),e=(i=e.Coder,o(s,i),s.prototype.defaultValue=function(){return this.coder.defaultValue()},s.prototype.encode=function(e,t){return this.coder.encode(e,t)},s.prototype.decode=function(e){return this.coder.decode(e)},s);function s(e){var t=i.call(this,e.name,e.type,void 0,e.dynamic)||this;return t.coder=e,t}r.AnonymousCoder=e},{"./abstract-coder":19}],22:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=(Object.defineProperty(r,"__esModule",{value:!0}),r.ArrayCoder=r.unpack=r.pack=void 0,e("@ethersproject/logger")),o=e("../_version"),u=new c.Logger(o.version),h=e("./abstract-coder"),s=e("./anonymous");function a(e,t,r){var n,i=null,o=(Array.isArray(r)?i=r:r&&"object"==typeof r?(n={},i=t.map(function(e){var t=e.localName;return t||u.throwError("cannot encode object for signature with missing names",c.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),n[t]&&u.throwError("cannot encode object for signature with duplicate names",c.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:e,value:r}),n[t]=!0,r[t]})):u.throwArgumentError("invalid tuple value","tuple",r),t.length!==i.length&&u.throwArgumentError("types/value length mismatch","tuple",r),new h.Writer(e.wordSize)),s=new h.Writer(e.wordSize),a=[],t=(t.forEach(function(e,t){var r,n,t=i[t];e.dynamic?(r=s.length,e.encode(s,t),n=o.writeUpdatableValue(),a.push(function(e){n(e+r)})):e.encode(o,t)}),a.forEach(function(e){e(o.length)}),e.appendWriter(o));return t+=e.appendWriter(s)}function l(n,e){for(var i=[],o=n.subReader(0),s=(e.forEach(function(t){var r=null;if(t.dynamic){var e=n.readValue(),e=o.subReader(e.toNumber());try{r=t.decode(e)}catch(e){if(e.code===c.Logger.errors.BUFFER_OVERRUN)throw e;(r=e).baseType=t.name,r.name=t.localName,r.type=t.type}}else try{r=t.decode(n)}catch(e){if(e.code===c.Logger.errors.BUFFER_OVERRUN)throw e;(r=e).baseType=t.name,r.name=t.localName,r.type=t.type}null!=r&&i.push(r)}),e.reduce(function(e,t){t=t.localName;return t&&(e[t]||(e[t]=0),e[t]++),e},{})),t=(e.forEach(function(e,t){var r,e=e.localName;e&&1===s[e]&&null==i[e="length"===e?"_length":e]&&((r=i[t])instanceof Error?Object.defineProperty(i,e,{enumerable:!0,get:function(){throw r}}):i[e]=r)}),0);t<i.length;t++)!function(e){var t=i[e];t instanceof Error&&Object.defineProperty(i,e,{enumerable:!0,get:function(){throw t}})}(t);return Object.freeze(i)}r.pack=a,r.unpack=l;f=h.Coder,i(d,f),d.prototype.defaultValue=function(){for(var e=this.coder.defaultValue(),t=[],r=0;r<this.length;r++)t.push(e);return t},d.prototype.encode=function(e,t){Array.isArray(t)||this._throwError("expected array value",t);for(var r=this.length,n=(-1===r&&(r=t.length,e.writeValue(t.length)),u.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:"")),[]),i=0;i<t.length;i++)n.push(this.coder);return a(e,n,t)},d.prototype.decode=function(e){for(var t=this.length,r=(-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&u.throwError("insufficient data length",c.Logger.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}),[]),n=0;n<t;n++)r.push(new s.AnonymousCoder(this.coder));return e.coerce(this.name,l(e,r))};var f,o=d;function d(e,t,r){var n=this,i=e.type+"["+(0<=t?t:"")+"]",o=-1===t||e.dynamic;return(n=f.call(this,"array",i,r,o)||this).coder=e,n.length=t,n}r.ArrayCoder=o},{"../_version":17,"./abstract-coder":19,"./anonymous":21,"@ethersproject/logger":74}],23:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),r.BooleanCoder=void 0,e("./abstract-coder")),e=(i=e.Coder,o(s,i),s.prototype.defaultValue=function(){return!1},s.prototype.encode=function(e,t){return e.writeValue(t?1:0)},s.prototype.decode=function(e){return e.coerce(this.type,!e.readValue().isZero())},s);function s(e){return i.call(this,"bool","bool",e,!1)||this}r.BooleanCoder=e},{"./abstract-coder":19}],24:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.BytesCoder=r.DynamicBytesCoder=void 0,e("@ethersproject/bytes")),e=e("./abstract-coder"),e=(i=e.Coder,o(a,i),a.prototype.defaultValue=function(){return"0x"},a.prototype.encode=function(e,t){t=(0,s.arrayify)(t);var r=e.writeValue(t.length);return r+=e.writeBytes(t)},a.prototype.decode=function(e){return e.readBytes(e.readValue().toNumber(),!0)},a);function a(e,t){return i.call(this,e,e,t,!0)||this}r.DynamicBytesCoder=e;o(u,c=e),u.prototype.decode=function(e){return e.coerce(this.name,(0,s.hexlify)(c.prototype.decode.call(this,e)))};var c,o=u;function u(e){return c.call(this,"bytes",e)||this}r.BytesCoder=o},{"./abstract-coder":19,"@ethersproject/bytes":47}],25:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.FixedBytesCoder=void 0,e("@ethersproject/bytes")),e=e("./abstract-coder"),e=(i=e.Coder,o(a,i),a.prototype.defaultValue=function(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)},a.prototype.encode=function(e,t){var r=(0,s.arrayify)(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)},a.prototype.decode=function(e){return e.coerce(this.name,(0,s.hexlify)(e.readBytes(this.size)))},a);function a(e,t){var r=this,n="bytes"+String(e);return(r=i.call(this,n,n,t,!1)||this).size=e,r}r.FixedBytesCoder=e},{"./abstract-coder":19,"@ethersproject/bytes":47}],26:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),e=(Object.defineProperty(r,"__esModule",{value:!0}),r.NullCoder=void 0,e("./abstract-coder")),e=(i=e.Coder,o(s,i),s.prototype.defaultValue=function(){return null},s.prototype.encode=function(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])},s.prototype.decode=function(e){return e.readBytes(0),e.coerce(this.name,null)},s);function s(e){return i.call(this,"null","",e,!1)||this}r.NullCoder=e},{"./abstract-coder":19}],27:[function(e,t,r){"use strict";var n,o,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.NumberCoder=void 0,e("@ethersproject/bignumber")),a=e("@ethersproject/constants"),e=e("./abstract-coder"),e=(o=e.Coder,i(c,o),c.prototype.defaultValue=function(){return 0},c.prototype.encode=function(e,t){var r,n=s.BigNumber.from(t),i=a.MaxUint256.mask(8*e.wordSize);return this.signed?(r=i.mask(8*this.size-1),(n.gt(r)||n.lt(r.add(a.One).mul(a.NegativeOne)))&&this._throwError("value out-of-bounds",t)):(n.lt(a.Zero)||n.gt(i.mask(8*this.size)))&&this._throwError("value out-of-bounds",t),n=n.toTwos(8*this.size).mask(8*this.size),this.signed&&(n=n.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(n)},c.prototype.decode=function(e){var t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)},c);function c(e,t,r){var n=this,i=(t?"int":"uint")+8*e;return(n=o.call(this,i,i,r,!1)||this).size=e,n.signed=t,n}r.NumberCoder=e},{"./abstract-coder":19,"@ethersproject/bignumber":45,"@ethersproject/constants":51}],28:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.StringCoder=void 0,e("@ethersproject/strings")),e=e("./bytes"),e=(i=e.DynamicBytesCoder,o(a,i),a.prototype.defaultValue=function(){return""},a.prototype.encode=function(e,t){return i.prototype.encode.call(this,e,(0,s.toUtf8Bytes)(t))},a.prototype.decode=function(e){return(0,s.toUtf8String)(i.prototype.decode.call(this,e))},a);function a(e){return i.call(this,"string",e)||this}r.StringCoder=e},{"./bytes":24,"@ethersproject/strings":118}],29:[function(e,t,r){"use strict";var n,s,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),r.TupleCoder=void 0,e("./abstract-coder")),a=e("./array"),e=(s=o.Coder,i(c,s),c.prototype.defaultValue=function(){var r=[],n=(this.coders.forEach(function(e){r.push(e.defaultValue())}),this.coders.reduce(function(e,t){t=t.localName;return t&&(e[t]||(e[t]=0),e[t]++),e},{}));return this.coders.forEach(function(e,t){e=e.localName;e&&1===n[e]&&null==r[e="length"===e?"_length":e]&&(r[e]=r[t])}),Object.freeze(r)},c.prototype.encode=function(e,t){return(0,a.pack)(e,this.coders,t)},c.prototype.decode=function(e){return e.coerce(this.name,(0,a.unpack)(e,this.coders))},c);function c(e,t){var r=this,n=!1,i=[],o=(e.forEach(function(e){e.dynamic&&(n=!0),i.push(e.type)}),"tuple("+i.join(",")+")");return(r=s.call(this,"tuple",o,t,n)||this).coders=e,r}r.TupleCoder=e},{"./abstract-coder":19,"./array":22}],30:[function(e,D,r){"use strict";var n,t=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=(Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorFragment=r.FunctionFragment=r.ConstructorFragment=r.EventFragment=r.Fragment=r.ParamType=r.FormatTypes=void 0,e("@ethersproject/bignumber")),o=e("@ethersproject/properties"),s=e("@ethersproject/logger"),e=e("./_version"),h=new s.Logger(e.version),a={},c={calldata:!0,memory:!0,storage:!0},u={calldata:!0,memory:!0};function l(e,t){if("bytes"===e||"string"===e){if(c[t])return 1}else if("address"===e){if("payable"===t)return 1}else if((0<=e.indexOf("[")||"tuple"===e)&&u[t])return 1;!c[t]&&"payable"!==t||h.throwArgumentError("invalid modifier","name",t)}function f(e,t){for(var r in t)(0,o.defineReadOnly)(e,r,t[r])}r.FormatTypes=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"});var N=new RegExp(/^(.*)\[([0-9]*)\]$/),d=(p.prototype.format=function(t){var e;return t=t||r.FormatTypes.sighash,r.FormatTypes[t]||h.throwArgumentError("invalid format type","format",t),t===r.FormatTypes.json?(e={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0},"boolean"==typeof this.indexed&&(e.indexed=this.indexed),this.components&&(e.components=this.components.map(function(e){return JSON.parse(e.format(t))})),JSON.stringify(e)):(e="","array"===this.baseType?e=(e+=this.arrayChildren.format(t))+("["+(this.arrayLength<0?"":String(this.arrayLength)))+"]":"tuple"===this.baseType?(t!==r.FormatTypes.sighash&&(e+=this.type),e+="("+this.components.map(function(e){return e.format(t)}).join(t===r.FormatTypes.full?", ":",")+")"):e+=this.type,t!==r.FormatTypes.sighash&&(!0===this.indexed&&(e+=" indexed"),t===r.FormatTypes.full&&this.name&&(e+=" "+this.name)),e)},p.from=function(e,t){return"string"==typeof e?p.fromString(e,t):p.fromObject(e)},p.fromObject=function(e){return p.isParamType(e)?e:new p(a,{name:e.name||null,type:O(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(p.fromObject):null})},p.fromString=function(e,t){return e=function(t,r){var e=t;function n(e){h.throwArgumentError("unexpected character at position "+e,"param",t)}function i(e){e={type:"",name:"",parent:e,state:{allowType:!0}};return r&&(e.indexed=!1),e}t=t.replace(/\s/g," ");for(var o={type:"",name:"",state:{allowType:!0}},s=o,a=0;a<t.length;a++){var c=t[a];switch(c){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(a),s.state.allowType=!1,s.type=O(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(r||n(a),s.indexed=!0,s.name=""),l(s.type,s.name)&&(s.name=""),s.type=O(s.type);var u=s;(s=s.parent)||n(a),delete u.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(r||n(a),s.indexed=!0,s.name=""),l(s.type,s.name)&&(s.name=""),s.type=O(s.type);u=i(s.parent);s.parent.components.push(u),delete s.parent,s=u;break;case" ":s.state.allowType&&""!==s.type&&(s.type=O(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(r||n(a),s.indexed&&n(a),s.indexed=!0,s.name=""):l(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(a),s.type+=c,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(a),s.type+=c,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=c,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=c,delete s.state.allowArray):s.state.readArray?s.type+=c:n(a)}}return s.parent&&h.throwArgumentError("unexpected eof","param",t),delete o.state,"indexed"===s.name?(r||n(e.length-7),s.indexed&&n(e.length-7),s.indexed=!0,s.name=""):l(s.type,s.name)&&(s.name=""),o.type=O(o.type),o}(e,!!t),p.fromObject({name:e.name,type:e.type,indexed:e.indexed,components:e.components})},p.isParamType=function(e){return!(null==e||!e._isParamType)},p);function p(e,t){e!==a&&h.throwError("use fromString",s.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),f(this,t);e=this.type.match(N);f(this,e?{arrayLength:parseInt(e[2]||"-1"),arrayChildren:p.fromObject({type:e[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}function g(e,t){return function(e){e=e.trim();for(var t=[],r="",n=0,i=0;i<e.length;i++){var o=e[i];","===o&&0===n?(t.push(r),r=""):(r+=o,"("===o?n++:")"===o&&-1===--n&&h.throwArgumentError("unbalanced parenthesis","value",e))}r&&t.push(r);return t}(e).map(function(e){return d.fromString(e,t)})}r.ParamType=d;y.from=function(e){return y.isFragment(e)?e:"string"==typeof e?y.fromString(e):y.fromObject(e)},y.fromObject=function(e){if(y.isFragment(e))return e;switch(e.type){case"function":return C.fromObject(e);case"event":return m.fromObject(e);case"constructor":return S.fromObject(e);case"error":return M.fromObject(e);case"fallback":case"receive":return null}return h.throwArgumentError("invalid fragment object","value",e)},y.fromString=function(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?m.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?C.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?S.fromString(e.trim()):"error"===e.split(" ")[0]?M.fromString(e.substring(5).trim()):h.throwArgumentError("unsupported fragment","value",e)},y.isFragment=function(e){return!(!e||!e._isFragment)};e=y;function y(e,t){e!==a&&h.throwError("use a static from method",s.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),f(this,t),this._isFragment=!0,Object.freeze(this)}r.Fragment=e;t(v,b=e),v.prototype.format=function(t){var e;return t=t||r.FormatTypes.sighash,r.FormatTypes[t]||h.throwArgumentError("invalid format type","format",t),t===r.FormatTypes.json?JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(function(e){return JSON.parse(e.format(t))})}):(e="",t!==r.FormatTypes.sighash&&(e+="event "),e+=this.name+"("+this.inputs.map(function(e){return e.format(t)}).join(t===r.FormatTypes.full?", ":",")+") ",t!==r.FormatTypes.sighash&&this.anonymous&&(e+="anonymous "),e.trim())},v.from=function(e){return"string"==typeof e?v.fromString(e):v.fromObject(e)},v.fromObject=function(e){if(v.isEventFragment(e))return e;"event"!==e.type&&h.throwArgumentError("invalid event object","value",e);e={name:L(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(d.fromObject):[],type:"event"};return new v(a,e)},v.fromString=function(e){var t=e.match(R),r=(t||h.throwArgumentError("invalid event string","value",e),!1);return t[3].split(" ").forEach(function(e){switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:h.warn("unknown modifier: "+e)}}),v.fromObject({name:t[1].trim(),anonymous:r,inputs:g(t[2],!0),type:"event"})},v.isEventFragment=function(e){return e&&e._isFragment&&"event"===e.type};var b,m=v;function v(){return null!==b&&b.apply(this,arguments)||this}function A(e,t){t.gas=null;var r=e.split("@");return 1!==r.length?(2<r.length&&h.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||h.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=i.BigNumber.from(r[1]),r[0]):e}function _(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(function(e){switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function w(e){var t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&h.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&h.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||h.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&h.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&h.throwArgumentError("unable to determine stateMutability","value",e),t}r.EventFragment=m;t(k,E=e),k.prototype.format=function(t){if(t=t||r.FormatTypes.sighash,r.FormatTypes[t]||h.throwArgumentError("invalid format type","format",t),t===r.FormatTypes.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(function(e){return JSON.parse(e.format(t))})});t===r.FormatTypes.sighash&&h.throwError("cannot format a constructor for sighash",s.Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});var e="constructor("+this.inputs.map(function(e){return e.format(t)}).join(t===r.FormatTypes.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "),e.trim()},k.from=function(e){return"string"==typeof e?k.fromString(e):k.fromObject(e)},k.fromObject=function(e){if(k.isConstructorFragment(e))return e;"constructor"!==e.type&&h.throwArgumentError("invalid constructor object","value",e);var t=w(e),t=(t.constant&&h.throwArgumentError("constructor cannot be constant","value",e),{name:null,type:e.type,inputs:e.inputs?e.inputs.map(d.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?i.BigNumber.from(e.gas):null});return new k(a,t)},k.fromString=function(e){var t={type:"constructor"},r=(e=A(e,t)).match(R);return r&&"constructor"===r[1].trim()||h.throwArgumentError("invalid constructor string","value",e),t.inputs=g(r[2].trim(),!1),_(r[3].trim(),t),k.fromObject(t)},k.isConstructorFragment=function(e){return e&&e._isFragment&&"constructor"===e.type};var E,S=k;function k(){return null!==E&&E.apply(this,arguments)||this}r.ConstructorFragment=S;t(B,I=S),B.prototype.format=function(t){var e;return t=t||r.FormatTypes.sighash,r.FormatTypes[t]||h.throwArgumentError("invalid format type","format",t),t===r.FormatTypes.json?JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(function(e){return JSON.parse(e.format(t))}),outputs:this.outputs.map(function(e){return JSON.parse(e.format(t))})}):(e="",t!==r.FormatTypes.sighash&&(e+="function "),e+=this.name+"("+this.inputs.map(function(e){return e.format(t)}).join(t===r.FormatTypes.full?", ":",")+") ",t!==r.FormatTypes.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(e+=this.stateMutability+" "):this.constant&&(e+="view "),this.outputs&&this.outputs.length&&(e+="returns ("+this.outputs.map(function(e){return e.format(t)}).join(", ")+") "),null!=this.gas&&(e+="@"+this.gas.toString()+" ")),e.trim())},B.from=function(e){return"string"==typeof e?B.fromString(e):B.fromObject(e)},B.fromObject=function(e){if(B.isFunctionFragment(e))return e;"function"!==e.type&&h.throwArgumentError("invalid function object","value",e);var t=w(e),t={type:e.type,name:L(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(d.fromObject):[],outputs:e.outputs?e.outputs.map(d.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?i.BigNumber.from(e.gas):null};return new B(a,t)},B.fromString=function(e){var t={type:"function"},r=(e=A(e,t)).split(" returns "),n=(2<r.length&&h.throwArgumentError("invalid function string","value",e),r[0].match(R));return n||h.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&L(t.name),t.inputs=g(n[2],!1),_(n[3].trim(),t),1<r.length?(""==(n=r[1].match(R))[1].trim()&&""==n[3].trim()||h.throwArgumentError("unexpected tokens","value",e),t.outputs=g(n[2],!1)):t.outputs=[],B.fromObject(t)},B.isFunctionFragment=function(e){return e&&e._isFragment&&"function"===e.type};var I,C=B;function B(){return null!==I&&I.apply(this,arguments)||this}function x(e){var t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||h.throwArgumentError("cannot specify user defined "+t+" error","fragment",e),e}r.FunctionFragment=C;t(P,T=e),P.prototype.format=function(t){var e;return t=t||r.FormatTypes.sighash,r.FormatTypes[t]||h.throwArgumentError("invalid format type","format",t),t===r.FormatTypes.json?JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(function(e){return JSON.parse(e.format(t))})}):(e="",t!==r.FormatTypes.sighash&&(e+="error "),(e+=this.name+"("+this.inputs.map(function(e){return e.format(t)}).join(t===r.FormatTypes.full?", ":",")+") ").trim())},P.from=function(e){return"string"==typeof e?P.fromString(e):P.fromObject(e)},P.fromObject=function(e){if(P.isErrorFragment(e))return e;"error"!==e.type&&h.throwArgumentError("invalid error object","value",e);e={type:e.type,name:L(e.name),inputs:e.inputs?e.inputs.map(d.fromObject):[]};return x(new P(a,e))},P.fromString=function(e){var t={type:"error"},r=e.match(R);return r||h.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&L(t.name),t.inputs=g(r[2],!1),x(P.fromObject(t))},P.isErrorFragment=function(e){return e&&e._isFragment&&"error"===e.type};var T,M=P;function P(){return null!==T&&T.apply(this,arguments)||this}function O(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}r.ErrorFragment=M;var F=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function L(e){return e&&e.match(F)||h.throwArgumentError('invalid identifier "'+e+'"',"value",e),e}var R=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$")},{"./_version":17,"@ethersproject/bignumber":45,"@ethersproject/logger":74,"@ethersproject/properties":80}],31:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TransactionDescription=r.LogDescription=r.checkResultErrors=r.Indexed=r.Interface=r.defaultAbiCoder=r.AbiCoder=r.FormatTypes=r.ParamType=r.FunctionFragment=r.Fragment=r.EventFragment=r.ErrorFragment=r.ConstructorFragment=void 0;var n=e("./fragments"),i=(Object.defineProperty(r,"ConstructorFragment",{enumerable:!0,get:function(){return n.ConstructorFragment}}),Object.defineProperty(r,"ErrorFragment",{enumerable:!0,get:function(){return n.ErrorFragment}}),Object.defineProperty(r,"EventFragment",{enumerable:!0,get:function(){return n.EventFragment}}),Object.defineProperty(r,"FormatTypes",{enumerable:!0,get:function(){return n.FormatTypes}}),Object.defineProperty(r,"Fragment",{enumerable:!0,get:function(){return n.Fragment}}),Object.defineProperty(r,"FunctionFragment",{enumerable:!0,get:function(){return n.FunctionFragment}}),Object.defineProperty(r,"ParamType",{enumerable:!0,get:function(){return n.ParamType}}),e("./abi-coder")),o=(Object.defineProperty(r,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(r,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),e("./interface"));Object.defineProperty(r,"checkResultErrors",{enumerable:!0,get:function(){return o.checkResultErrors}}),Object.defineProperty(r,"Indexed",{enumerable:!0,get:function(){return o.Indexed}}),Object.defineProperty(r,"Interface",{enumerable:!0,get:function(){return o.Interface}}),Object.defineProperty(r,"LogDescription",{enumerable:!0,get:function(){return o.LogDescription}}),Object.defineProperty(r,"TransactionDescription",{enumerable:!0,get:function(){return o.TransactionDescription}})},{"./abi-coder":18,"./fragments":30,"./interface":32}],32:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.Interface=r.Indexed=r.ErrorDescription=r.TransactionDescription=r.LogDescription=r.checkResultErrors=void 0,e("@ethersproject/address")),a=e("@ethersproject/bignumber"),d=e("@ethersproject/bytes"),c=e("@ethersproject/hash"),u=e("@ethersproject/keccak256"),h=e("@ethersproject/properties"),l=e("./abi-coder"),f=e("./coders/abstract-coder"),p=(Object.defineProperty(r,"checkResultErrors",{enumerable:!0,get:function(){return f.checkResultErrors}}),e("./fragments")),g=e("@ethersproject/logger"),e=e("./_version"),y=new g.Logger(e.version),b=(i=h.Description,o(m,i),m);function m(){return null!==i&&i.apply(this,arguments)||this}r.LogDescription=b;v=h.Description,o(_,v);var v,A=_;function _(){return null!==v&&v.apply(this,arguments)||this}r.TransactionDescription=A;w=h.Description,o(S,w);var w,E=S;function S(){return null!==w&&w.apply(this,arguments)||this}r.ErrorDescription=E;k=h.Description,o(C,k),C.isIndexed=function(e){return!(!e||!e._isIndexed)};var k,I=C;function C(){return null!==k&&k.apply(this,arguments)||this}r.Indexed=I;var B={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function x(e,t){e=new Error("deferred error during ABI decoding triggered accessing "+e);return e.error=t,e}function T(e){var t=this.constructor,n=this,r=[],r="string"==typeof e?JSON.parse(e):e;(0,h.defineReadOnly)(this,"fragments",r.map(function(e){return p.Fragment.from(e)}).filter(function(e){return null!=e})),(0,h.defineReadOnly)(this,"_abiCoder",(0,h.getStatic)(t,"getAbiCoder")()),(0,h.defineReadOnly)(this,"functions",{}),(0,h.defineReadOnly)(this,"errors",{}),(0,h.defineReadOnly)(this,"events",{}),(0,h.defineReadOnly)(this,"structs",{}),this.fragments.forEach(function(e){var t=null;switch(e.type){case"constructor":return n.deploy?void y.warn("duplicate definition - constructor"):void(0,h.defineReadOnly)(n,"deploy",e);case"function":t=n.functions;break;case"event":t=n.events;break;case"error":t=n.errors;break;default:return}var r=e.format();t[r]?y.warn("duplicate definition - "+r):t[r]=e}),this.deploy||(0,h.defineReadOnly)(this,"deploy",p.ConstructorFragment.from({payable:!1,type:"constructor"})),(0,h.defineReadOnly)(this,"_isInterface",!0)}T.prototype.format=function(t){(t=t||p.FormatTypes.full)===p.FormatTypes.sighash&&y.throwArgumentError("interface does not support formatting sighash","format",t);var e=this.fragments.map(function(e){return e.format(t)});return t===p.FormatTypes.json?JSON.stringify(e.map(function(e){return JSON.parse(e)})):e},T.getAbiCoder=function(){return l.defaultAbiCoder},T.getAddress=function(e){return(0,s.getAddress)(e)},T.getSighash=function(e){return(0,d.hexDataSlice)((0,c.id)(e.format()),0,4)},T.getEventTopic=function(e){return(0,c.id)(e.format())},T.prototype.getFunction=function(e){if((0,d.isHexString)(e)){for(var t in this.functions)if(e===this.getSighash(t))return this.functions[t];y.throwArgumentError("no matching function","sighash",e)}var r,n;return-1===e.indexOf("(")?(r=e.trim(),0===(n=Object.keys(this.functions).filter(function(e){return e.split("(")[0]===r})).length?y.throwArgumentError("no matching function","name",r):1<n.length&&y.throwArgumentError("multiple matching functions","name",r),this.functions[n[0]]):((n=this.functions[p.FunctionFragment.fromString(e).format()])||y.throwArgumentError("no matching function","signature",e),n)},T.prototype.getEvent=function(e){if((0,d.isHexString)(e)){var t,r=e.toLowerCase();for(t in this.events)if(r===this.getEventTopic(t))return this.events[t];y.throwArgumentError("no matching event","topichash",r)}var n,i;return-1===e.indexOf("(")?(n=e.trim(),0===(i=Object.keys(this.events).filter(function(e){return e.split("(")[0]===n})).length?y.throwArgumentError("no matching event","name",n):1<i.length&&y.throwArgumentError("multiple matching events","name",n),this.events[i[0]]):((i=this.events[p.EventFragment.fromString(e).format()])||y.throwArgumentError("no matching event","signature",e),i)},T.prototype.getError=function(e){if((0,d.isHexString)(e)){var t,r=(0,h.getStatic)(this.constructor,"getSighash");for(t in this.errors)if(e===r(this.errors[t]))return this.errors[t];y.throwArgumentError("no matching error","sighash",e)}var n,i;return-1===e.indexOf("(")?(n=e.trim(),0===(i=Object.keys(this.errors).filter(function(e){return e.split("(")[0]===n})).length?y.throwArgumentError("no matching error","name",n):1<i.length&&y.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]):((i=this.errors[p.FunctionFragment.fromString(e).format()])||y.throwArgumentError("no matching error","signature",e),i)},T.prototype.getSighash=function(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return(0,h.getStatic)(this.constructor,"getSighash")(e)},T.prototype.getEventTopic=function(e){return"string"==typeof e&&(e=this.getEvent(e)),(0,h.getStatic)(this.constructor,"getEventTopic")(e)},T.prototype._decodeParams=function(e,t){return this._abiCoder.decode(e,t)},T.prototype._encodeParams=function(e,t){return this._abiCoder.encode(e,t)},T.prototype.encodeDeploy=function(e){return this._encodeParams(this.deploy.inputs,e||[])},T.prototype.decodeErrorResult=function(e,t){"string"==typeof e&&(e=this.getError(e));t=(0,d.arrayify)(t);return(0,d.hexlify)(t.slice(0,4))!==this.getSighash(e)&&y.throwArgumentError("data signature does not match error "+e.name+".","data",(0,d.hexlify)(t)),this._decodeParams(e.inputs,t.slice(4))},T.prototype.encodeErrorResult=function(e,t){return"string"==typeof e&&(e=this.getError(e)),(0,d.hexlify)((0,d.concat)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))},T.prototype.decodeFunctionData=function(e,t){"string"==typeof e&&(e=this.getFunction(e));t=(0,d.arrayify)(t);return(0,d.hexlify)(t.slice(0,4))!==this.getSighash(e)&&y.throwArgumentError("data signature does not match function "+e.name+".","data",(0,d.hexlify)(t)),this._decodeParams(e.inputs,t.slice(4))},T.prototype.encodeFunctionData=function(e,t){return"string"==typeof e&&(e=this.getFunction(e)),(0,d.hexlify)((0,d.concat)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))},T.prototype.decodeFunctionResult=function(e,t){"string"==typeof e&&(e=this.getFunction(e));var r=(0,d.arrayify)(t),n=null,i="",o=null,s=null,a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(h){}break;case 4:var c=(0,d.hexlify)(r.slice(0,4)),u=B[c];if(u)o=this._abiCoder.decode(u.inputs,r.slice(4)),s=u.name,a=u.signature,u.reason&&(n=o[0]),"Error"===s?i="; VM Exception while processing transaction: reverted with reason string "+JSON.stringify(o[0]):"Panic"===s&&(i="; VM Exception while processing transaction: reverted with panic code "+o[0]);else try{var h=this.getError(c),o=this._abiCoder.decode(h.inputs,r.slice(4)),s=h.name,a=h.format()}catch(h){}}return y.throwError("call revert exception"+i,g.Logger.errors.CALL_EXCEPTION,{method:e.format(),data:(0,d.hexlify)(t),errorArgs:o,errorName:s,errorSignature:a,reason:n})},T.prototype.encodeFunctionResult=function(e,t){return"string"==typeof e&&(e=this.getFunction(e)),(0,d.hexlify)(this._abiCoder.encode(e.outputs,t||[]))},T.prototype.encodeFilterTopics=function(n,e){function i(e,t){return"string"===e.type?(0,c.id)(t):"bytes"===e.type?(0,u.keccak256)((0,d.hexlify)(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=a.BigNumber.from(t).toHexString()),"address"===e.type&&r._abiCoder.encode(["address"],[t]),(0,d.hexZeroPad)((0,d.hexlify)(t),32))}var r=this,o=("string"==typeof n&&(n=this.getEvent(n)),e.length>n.inputs.length&&y.throwError("too many arguments for "+n.format(),g.Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:e}),[]);n.anonymous||o.push(this.getEventTopic(n));for(e.forEach(function(e,t){var r=n.inputs[t];r.indexed?null==e?o.push(null):"array"===r.baseType||"tuple"===r.baseType?y.throwArgumentError("filtering with tuples or arrays not supported","contract."+r.name,e):Array.isArray(e)?o.push(e.map(function(e){return i(r,e)})):o.push(i(r,e)):null!=e&&y.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+r.name,e)});o.length&&null===o[o.length-1];)o.pop();return o},T.prototype.encodeEventLog=function(e,r){var n=this,i=("string"==typeof e&&(e=this.getEvent(e)),[]),o=[],s=[];return e.anonymous||i.push(this.getEventTopic(e)),r.length!==e.inputs.length&&y.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach(function(e,t){t=r[t];if(e.indexed)if("string"===e.type)i.push((0,c.id)(t));else if("bytes"===e.type)i.push((0,u.keccak256)(t));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");i.push(n._abiCoder.encode([e.type],[t]))}else o.push(e),s.push(t)}),{data:this._abiCoder.encode(o,s),topics:i}},T.prototype.decodeEventLog=function(e,t,r){"string"==typeof e&&(e=this.getEvent(e)),null==r||e.anonymous||(n=this.getEventTopic(e),(0,d.isHexString)(r[0],32)&&r[0].toLowerCase()===n||y.throwError("fragment/topic mismatch",g.Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:n,value:r[0]}),r=r.slice(1));for(var n,i=[],o=[],s=[],a=(e.inputs.forEach(function(e,t){e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(i.push(p.ParamType.fromObject({type:"bytes32",name:e.name})),s.push(!0)):(i.push(e),s.push(!1)):(o.push(e),s.push(!1))}),null!=r?this._abiCoder.decode(i,(0,d.concat)(r)):null),c=this._abiCoder.decode(o,t,!0),u=[],h=0,l=0,f=(e.inputs.forEach(function(e,t){if(e.indexed)if(null==a)u[t]=new I({_isIndexed:!0,hash:null});else if(s[t])u[t]=new I({_isIndexed:!0,hash:a[l++]});else try{u[t]=a[l++]}catch(e){u[t]=e}else try{u[t]=c[h++]}catch(e){u[t]=e}var r;e.name&&null==u[e.name]&&((r=u[t])instanceof Error?Object.defineProperty(u,e.name,{enumerable:!0,get:function(){throw x("property "+JSON.stringify(e.name),r)}}):u[e.name]=r)}),0);f<u.length;f++)!function(e){var t=u[e];t instanceof Error&&Object.defineProperty(u,e,{enumerable:!0,get:function(){throw x("index "+e,t)}})}(f);return Object.freeze(u)},T.prototype.parseTransaction=function(e){var t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new A({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:a.BigNumber.from(e.value||"0")}):null},T.prototype.parseLog=function(e){var t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new b({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})},T.prototype.parseError=function(e){var e=(0,d.hexlify)(e),t=this.getError(e.substring(0,10).toLowerCase());return t?new E({args:this._abiCoder.decode(t.inputs,"0x"+e.substring(10)),errorFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t)}):null},T.isInterface=function(e){return!(!e||!e._isInterface)},r.Interface=T},{"./_version":17,"./abi-coder":18,"./coders/abstract-coder":19,"./fragments":30,"@ethersproject/address":38,"@ethersproject/bignumber":45,"@ethersproject/bytes":47,"@ethersproject/hash":60,"@ethersproject/keccak256":72,"@ethersproject/logger":74,"@ethersproject/properties":80}],33:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="abstract-provider/5.7.0"},{}],34:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}o((c=c.apply(e,s||[])).next())})},a=this&&this.__generator||function(n,i){var o,s,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=i.call(n,c)}catch(e){t=[6,e],s=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},c=(Object.defineProperty(r,"__esModule",{value:!0}),r.Provider=r.TransactionOrderForkEvent=r.TransactionForkEvent=r.BlockForkEvent=r.ForkEvent=void 0,e("@ethersproject/bignumber")),u=e("@ethersproject/bytes"),h=e("@ethersproject/properties"),l=e("@ethersproject/logger"),e=e("./_version"),f=new l.Logger(e.version),l=(i=h.Description,o(d,i),d.isForkEvent=function(e){return!(!e||!e._isForkEvent)},d);function d(){return null!==i&&i.apply(this,arguments)||this}r.ForkEvent=l;o(g,p=l);var p,e=g;function g(e,t){return(0,u.isHexString)(e,32)||f.throwArgumentError("invalid blockHash","blockHash",e),p.call(this,{_isForkEvent:!0,_isBlockForkEvent:!0,expiry:t||0,blockHash:e})||this}r.BlockForkEvent=e;o(b,y=l);var y,e=b;function b(e,t){return(0,u.isHexString)(e,32)||f.throwArgumentError("invalid transaction hash","hash",e),y.call(this,{_isForkEvent:!0,_isTransactionForkEvent:!0,expiry:t||0,hash:e})||this}r.TransactionForkEvent=e;o(v,m=l);var m,e=v;function v(e,t,r){return(0,u.isHexString)(e,32)||f.throwArgumentError("invalid transaction hash","beforeHash",e),(0,u.isHexString)(t,32)||f.throwArgumentError("invalid transaction hash","afterHash",t),m.call(this,{_isForkEvent:!0,_isTransactionOrderForkEvent:!0,expiry:r||0,beforeHash:e,afterHash:t})||this}function A(){var e=this.constructor;f.checkAbstract(e,A),(0,h.defineReadOnly)(this,"_isProvider",!0)}r.TransactionOrderForkEvent=e,A.prototype.getFeeData=function(){return s(this,void 0,void 0,function(){var t,r,n,i,o;return a(this,function(e){switch(e.label){case 0:return[4,(0,h.resolveProperties)({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(function(e){return null})})];case 1:return r=e.sent(),t=r.block,r=r.gasPrice,o=i=n=null,t&&t.baseFeePerGas&&(n=t.baseFeePerGas,o=c.BigNumber.from("1500000000"),i=t.baseFeePerGas.mul(2).add(o)),[2,{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:o,gasPrice:r}]}})})},A.prototype.addListener=function(e,t){return this.on(e,t)},A.prototype.removeListener=function(e,t){return this.off(e,t)},A.isProvider=function(e){return!(!e||!e._isProvider)},r.Provider=A},{"./_version":33,"@ethersproject/bignumber":45,"@ethersproject/bytes":47,"@ethersproject/logger":74,"@ethersproject/properties":80}],35:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="abstract-signer/5.7.0"},{}],36:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),a=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}o((c=c.apply(e,s||[])).next())})},c=this&&this.__generator||function(n,i){var o,s,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=i.call(n,c)}catch(e){t=[6,e],s=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},u=(Object.defineProperty(r,"__esModule",{value:!0}),r.VoidSigner=r.Signer=void 0,e("@ethersproject/properties")),h=e("@ethersproject/logger"),e=e("./_version"),l=new h.Logger(e.version),o=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],f=[h.Logger.errors.INSUFFICIENT_FUNDS,h.Logger.errors.NONCE_EXPIRED,h.Logger.errors.REPLACEMENT_UNDERPRICED],e=(s.prototype.getBalance=function(t){return a(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this._checkProvider("getBalance"),[4,this.provider.getBalance(this.getAddress(),t)];case 1:return[2,e.sent()]}})})},s.prototype.getTransactionCount=function(t){return a(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this._checkProvider("getTransactionCount"),[4,this.provider.getTransactionCount(this.getAddress(),t)];case 1:return[2,e.sent()]}})})},s.prototype.estimateGas=function(r){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return this._checkProvider("estimateGas"),[4,(0,u.resolveProperties)(this.checkTransaction(r))];case 1:return t=e.sent(),[4,this.provider.estimateGas(t)];case 2:return[2,e.sent()]}})})},s.prototype.call=function(r,n){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return this._checkProvider("call"),[4,(0,u.resolveProperties)(this.checkTransaction(r))];case 1:return t=e.sent(),[4,this.provider.call(t,n)];case 2:return[2,e.sent()]}})})},s.prototype.sendTransaction=function(r){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return this._checkProvider("sendTransaction"),[4,this.populateTransaction(r)];case 1:return t=e.sent(),[4,this.signTransaction(t)];case 2:return t=e.sent(),[4,this.provider.sendTransaction(t)];case 3:return[2,e.sent()]}})})},s.prototype.getChainId=function(){return a(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this._checkProvider("getChainId"),[4,this.provider.getNetwork()];case 1:return[2,e.sent().chainId]}})})},s.prototype.getGasPrice=function(){return a(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this._checkProvider("getGasPrice"),[4,this.provider.getGasPrice()];case 1:return[2,e.sent()]}})})},s.prototype.getFeeData=function(){return a(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this._checkProvider("getFeeData"),[4,this.provider.getFeeData()];case 1:return[2,e.sent()]}})})},s.prototype.resolveName=function(t){return a(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this._checkProvider("resolveName"),[4,this.provider.resolveName(t)];case 1:return[2,e.sent()]}})})},s.prototype.checkTransaction=function(t){for(var e in t)-1===o.indexOf(e)&&l.throwArgumentError("invalid transaction key: "+e,"transaction",t);var r=(0,u.shallowCopy)(t);return null==r.from?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(function(e){return e[0].toLowerCase()!==e[1].toLowerCase()&&l.throwArgumentError("from address mismatch","transaction",t),e[0]}),r},s.prototype.populateTransaction=function(s){return a(this,void 0,void 0,function(){var t,r,n,i,o=this;return c(this,function(e){switch(e.label){case 0:return[4,(0,u.resolveProperties)(this.checkTransaction(s))];case 1:return(null!=(t=e.sent()).to&&(t.to=Promise.resolve(t.to).then(function(r){return a(o,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return null==r?[2,null]:[4,this.resolveName(r)];case 1:return null==(t=e.sent())&&l.throwArgumentError("provided ENS name resolves to null","tx.to",r),[2,t]}})})}),t.to.catch(function(e){})),r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas,null==t.gasPrice||2!==t.type&&!r?0!==t.type&&1!==t.type||!r||l.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",s):l.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",s),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas)?[3,2]:(t.type=2,[3,5]);case 2:return 0!==t.type&&1!==t.type?[3,3]:(null==t.gasPrice&&(t.gasPrice=this.getGasPrice()),[3,5]);case 3:return[4,this.getFeeData()];case 4:n=e.sent(),null==t.type?null!=n.maxFeePerGas&&null!=n.maxPriorityFeePerGas?(t.type=2,null!=t.gasPrice?(i=t.gasPrice,delete t.gasPrice,t.maxFeePerGas=i,t.maxPriorityFeePerGas=i):(null==t.maxFeePerGas&&(t.maxFeePerGas=n.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=n.maxPriorityFeePerGas))):null!=n.gasPrice?(r&&l.throwError("network does not support EIP-1559",h.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=n.gasPrice),t.type=0):l.throwError("failed to get consistent fee data",h.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"}):2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=n.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=n.maxPriorityFeePerGas)),e.label=5;case 5:return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch(function(e){if(0<=f.indexOf(e.code))throw e;return l.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",h.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})})),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(function(e){return 0!==e[1]&&e[0]!==e[1]&&l.throwArgumentError("chainId address mismatch","transaction",s),e[0]}),[4,(0,u.resolveProperties)(t)];case 6:return[2,e.sent()]}})})},s.prototype._checkProvider=function(e){this.provider||l.throwError("missing provider",h.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})},s.isSigner=function(e){return!(!e||!e._isSigner)},s);function s(){var e=this.constructor;l.checkAbstract(e,s),(0,u.defineReadOnly)(this,"_isSigner",!0)}r.Signer=e;i(p,d=e),p.prototype.getAddress=function(){return Promise.resolve(this.address)},p.prototype._fail=function(e,t){return Promise.resolve().then(function(){l.throwError(e,h.Logger.errors.UNSUPPORTED_OPERATION,{operation:t})})},p.prototype.signMessage=function(e){return this._fail("VoidSigner cannot sign messages","signMessage")},p.prototype.signTransaction=function(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")},p.prototype._signTypedData=function(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")},p.prototype.connect=function(e){return new p(this.address,e)};var d,i=p;function p(e,t){var r=d.call(this)||this;return(0,u.defineReadOnly)(r,"address",e),(0,u.defineReadOnly)(r,"provider",t||null),r}r.VoidSigner=i},{"./_version":35,"@ethersproject/logger":74,"@ethersproject/properties":80}],37:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="address/5.7.0"},{}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getCreate2Address=r.getContractAddress=r.getIcapAddress=r.isAddress=r.getAddress=void 0;var o=e("@ethersproject/bytes"),n=e("@ethersproject/bignumber"),s=e("@ethersproject/keccak256"),i=e("@ethersproject/rlp"),a=e("@ethersproject/logger"),e=e("./_version"),c=new a.Logger(e.version);function u(e){(0,o.isHexString)(e,20)||c.throwArgumentError("invalid address","address",e);for(var t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40),n=0;n<40;n++)r[n]=t[n].charCodeAt(0);for(var i=(0,o.arrayify)((0,s.keccak256)(r)),n=0;n<40;n+=2)8<=i[n>>1]>>4&&(t[n]=t[n].toUpperCase()),8<=(15&i[n>>1])&&(t[n+1]=t[n+1].toUpperCase());return"0x"+t.join("")}for(var h={},l=0;l<10;l++)h[String(l)]=String(l);for(l=0;l<26;l++)h[String.fromCharCode(65+l)]=String(10+l);var f=Math.floor((a=9007199254740991,Math.log10?Math.log10(a):Math.log(a)/Math.LN10));function d(e){for(var t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(function(e){return h[e]}).join("");t.length>=f;)var r=t.substring(0,f),t=parseInt(r,10)%97+t.substring(r.length);for(var n=String(98-parseInt(t,10)%97);n.length<2;)n="0"+n;return n}function p(e){var t=null;if("string"!=typeof e&&c.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))t=u(e="0x"!==e.substring(0,2)?"0x"+e:e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&c.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==d(e)&&c.throwArgumentError("bad icap checksum","address",e),t=(0,n._base36To16)(e.substring(4));t.length<40;)t="0"+t;t=u("0x"+t)}else c.throwArgumentError("invalid address","address",e);return t}r.getAddress=p,r.isAddress=function(e){try{return p(e),!0}catch(e){}return!1},r.getIcapAddress=function(e){for(var t=(0,n._base16To36)(p(e).substring(2)).toUpperCase();t.length<30;)t="0"+t;return"XE"+d("XE00"+t)+t},r.getContractAddress=function(t){var e=null;try{e=p(t.from)}catch(e){c.throwArgumentError("missing from address","transaction",t)}return t=(0,o.stripZeros)((0,o.arrayify)(n.BigNumber.from(t.nonce).toHexString())),p((0,o.hexDataSlice)((0,s.keccak256)((0,i.encode)([e,t])),12))},r.getCreate2Address=function(e,t,r){return 32!==(0,o.hexDataLength)(t)&&c.throwArgumentError("salt must be 32 bytes","salt",t),32!==(0,o.hexDataLength)(r)&&c.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),p((0,o.hexDataSlice)((0,s.keccak256)((0,o.concat)(["0xff",p(e),t,r])),12))}},{"./_version":37,"@ethersproject/bignumber":45,"@ethersproject/bytes":47,"@ethersproject/keccak256":72,"@ethersproject/logger":74,"@ethersproject/rlp":105}],39:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.encode=r.decode=void 0;var n=e("@ethersproject/bytes");r.decode=function(e){e=atob(e);for(var t=[],r=0;r<e.length;r++)t.push(e.charCodeAt(r));return(0,n.arrayify)(t)},r.encode=function(e){e=(0,n.arrayify)(e);for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}},{"@ethersproject/bytes":47}],40:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.encode=r.decode=void 0;var n=e("./base64");Object.defineProperty(r,"decode",{enumerable:!0,get:function(){return n.decode}}),Object.defineProperty(r,"encode",{enumerable:!0,get:function(){return n.encode}})},{"./base64":39}],41:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Base58=r.Base32=r.BaseX=void 0;var u=e("@ethersproject/bytes"),n=e("@ethersproject/properties"),e=(i.prototype.encode=function(e){var t=(0,u.arrayify)(e);if(0===t.length)return"";for(var r=[0],n=0;n<t.length;++n){for(var i=t[n],o=0;o<r.length;++o)i+=r[o]<<8,r[o]=i%this.base,i=i/this.base|0;for(;0<i;)r.push(i%this.base),i=i/this.base|0}for(var s="",a=0;0===t[a]&&a<t.length-1;++a)s+=this._leader;for(var c=r.length-1;0<=c;--c)s+=this.alphabet[r[c]];return s},i.prototype.decode=function(e){if("string"!=typeof e)throw new TypeError("Expected String");var t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(var r=0;r<e.length;r++){var n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");for(var i=n,o=0;o<t.length;++o)i+=t[o]*this.base,t[o]=255&i,i>>=8;for(;0<i;)t.push(255&i),i>>=8}for(var s=0;e[s]===this._leader&&s<e.length-1;++s)t.push(0);return(0,u.arrayify)(new Uint8Array(t.reverse()))},i);function i(e){(0,n.defineReadOnly)(this,"alphabet",e),(0,n.defineReadOnly)(this,"base",e.length),(0,n.defineReadOnly)(this,"_alphabetMap",{}),(0,n.defineReadOnly)(this,"_leader",e.charAt(0));for(var t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}var o=new(r.BaseX=e)("abcdefghijklmnopqrstuvwxyz234567"),o=(r.Base32=o,new e("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"));r.Base58=o},{"@ethersproject/bytes":47,"@ethersproject/properties":80}],42:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="bignumber/5.7.0"},{}],43:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r._base16To36=r._base36To16=r.BigNumber=r.isBigNumberish=void 0;var i=n(e("bn.js")).default.BN,o=e("@ethersproject/bytes"),s=e("@ethersproject/logger"),n=e("./_version"),a=new s.Logger(n.version),c={},u=9007199254740991;var h=!(r.isBigNumberish=function(e){return null!=e&&(l.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||(0,o.isHexString)(e)||"bigint"==typeof e||(0,o.isBytes)(e))}),l=(f.prototype.fromTwos=function(e){return p(g(this).fromTwos(e))},f.prototype.toTwos=function(e){return p(g(this).toTwos(e))},f.prototype.abs=function(){return"-"===this._hex[0]?f.from(this._hex.substring(1)):this},f.prototype.add=function(e){return p(g(this).add(g(e)))},f.prototype.sub=function(e){return p(g(this).sub(g(e)))},f.prototype.div=function(e){return f.from(e).isZero()&&y("division-by-zero","div"),p(g(this).div(g(e)))},f.prototype.mul=function(e){return p(g(this).mul(g(e)))},f.prototype.mod=function(e){e=g(e);return e.isNeg()&&y("division-by-zero","mod"),p(g(this).umod(e))},f.prototype.pow=function(e){e=g(e);return e.isNeg()&&y("negative-power","pow"),p(g(this).pow(e))},f.prototype.and=function(e){e=g(e);return(this.isNegative()||e.isNeg())&&y("unbound-bitwise-result","and"),p(g(this).and(e))},f.prototype.or=function(e){e=g(e);return(this.isNegative()||e.isNeg())&&y("unbound-bitwise-result","or"),p(g(this).or(e))},f.prototype.xor=function(e){e=g(e);return(this.isNegative()||e.isNeg())&&y("unbound-bitwise-result","xor"),p(g(this).xor(e))},f.prototype.mask=function(e){return(this.isNegative()||e<0)&&y("negative-width","mask"),p(g(this).maskn(e))},f.prototype.shl=function(e){return(this.isNegative()||e<0)&&y("negative-width","shl"),p(g(this).shln(e))},f.prototype.shr=function(e){return(this.isNegative()||e<0)&&y("negative-width","shr"),p(g(this).shrn(e))},f.prototype.eq=function(e){return g(this).eq(g(e))},f.prototype.lt=function(e){return g(this).lt(g(e))},f.prototype.lte=function(e){return g(this).lte(g(e))},f.prototype.gt=function(e){return g(this).gt(g(e))},f.prototype.gte=function(e){return g(this).gte(g(e))},f.prototype.isNegative=function(){return"-"===this._hex[0]},f.prototype.isZero=function(){return g(this).isZero()},f.prototype.toNumber=function(){try{return g(this).toNumber()}catch(e){y("overflow","toNumber",this.toString())}return null},f.prototype.toBigInt=function(){try{return BigInt(this.toString())}catch(e){}return a.throwError("this platform does not support BigInt",s.Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})},f.prototype.toString=function(){return 0<arguments.length&&(10===arguments[0]?h||(h=!0,a.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?a.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",s.Logger.errors.UNEXPECTED_ARGUMENT,{}):a.throwError("BigNumber.toString does not accept parameters",s.Logger.errors.UNEXPECTED_ARGUMENT,{})),g(this).toString(10)},f.prototype.toHexString=function(){return this._hex},f.prototype.toJSON=function(e){return{type:"BigNumber",hex:this.toHexString()}},f.from=function(e){if(e instanceof f)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new f(c,d(e)):e.match(/^-?[0-9]+$/)?new f(c,d(new i(e))):a.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&y("underflow","BigNumber.from",e),(u<=e||e<=-u)&&y("overflow","BigNumber.from",e),f.from(String(e));var t=e;if("bigint"==typeof t)return f.from(t.toString());if((0,o.isBytes)(t))return f.from((0,o.hexlify)(t));if(t)if(t.toHexString){if("string"==typeof(r=t.toHexString()))return f.from(r)}else{var r=t._hex;if("string"==typeof(r=null==r&&"BigNumber"===t.type?t.hex:r)&&((0,o.isHexString)(r)||"-"===r[0]&&(0,o.isHexString)(r.substring(1))))return f.from(r)}return a.throwArgumentError("invalid BigNumber value","value",e)},f.isBigNumber=function(e){return!(!e||!e._isBigNumber)},f);function f(e,t){e!==c&&a.throwError("cannot call constructor directly; use BigNumber.from",s.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}function d(e){if("string"!=typeof e)return d(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&a.throwArgumentError("invalid hex","value",e),"0x00"===(e=d(e))?e:"-"+e;if("0x"===(e="0x"!==e.substring(0,2)?"0x"+e:e))return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));4<e.length&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function p(e){return l.from(d(e))}function g(e){e=l.from(e).toHexString();return"-"===e[0]?new i("-"+e.substring(3),16):new i(e.substring(2),16)}function y(e,t,r){t={fault:e,operation:t};null!=r&&(t.value=r),a.throwError(e,s.Logger.errors.NUMERIC_FAULT,t)}r.BigNumber=l,r._base36To16=function(e){return new i(e,36).toString(16)},r._base16To36=function(e){return new i(e,16).toString(36)}},{"./_version":42,"@ethersproject/bytes":47,"@ethersproject/logger":74,"bn.js":189}],44:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FixedNumber=r.FixedFormat=r.parseFixed=r.formatFixed=void 0;var n=e("@ethersproject/bytes"),i=e("@ethersproject/logger"),o=e("./_version"),s=new i.Logger(o.version),a=e("./bignumber"),c={},u=a.BigNumber.from(0),h=a.BigNumber.from(-1);function l(e,t,r,n){t={fault:t,operation:r};void 0!==n&&(t.value=n),s.throwError(e,i.Logger.errors.NUMERIC_FAULT,t)}for(var f="0";f.length<256;)f+=f;function d(e){if("number"!=typeof e)try{e=a.BigNumber.from(e).toNumber()}catch(e){}return"number"==typeof e&&0<=e&&e<=256&&!(e%1)?"1"+f.substring(0,e):s.throwArgumentError("invalid decimal size","decimals",e)}function p(e,t){for(var r=d(t=null==t?0:t),t=(e=a.BigNumber.from(e)).lt(u),n=(e=t?e.mul(h):e).mod(r).toString();n.length<r.length-1;)n="0"+n;var n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1],i=e.div(r).toString();return e=1===r.length?i:i+"."+n,e=t?"-"+e:e}function g(e,t){var r=d(t=null==t?0:t),t=("string"==typeof e&&e.match(/^-?[0-9.]+$/)||s.throwArgumentError("invalid decimal value","value",e),"-"===e.substring(0,1)),n=("."===(e=t?e.substring(1):e)&&s.throwArgumentError("missing value","value",e),e.split("."));2<n.length&&s.throwArgumentError("too many decimal points","value",e);for(var e=(e=n[0])||"0",i=(i=n[1])||"0";"0"===i[i.length-1];)i=i.substring(0,i.length-1);for(i.length>r.length-1&&l("fractional component exceeds decimals","underflow","parseFixed"),""===i&&(i="0");i.length<r.length-1;)i+="0";n=a.BigNumber.from(e),e=a.BigNumber.from(i),n=n.mul(r).add(e);return n=t?n.mul(h):n}r.formatFixed=p,r.parseFixed=g;b.from=function(n){var e,t,r,i;return n instanceof b?n:(t=!0,r=128,i=18,"string"==typeof(n="number"==typeof n?"fixed128x"+n:n)?"fixed"!==n&&("ufixed"===n?t=!1:((e=n.match(/^(u?)fixed([0-9]+)x([0-9]+)$/))||s.throwArgumentError("invalid fixed format","format",n),t="u"!==e[1],r=parseInt(e[2]),i=parseInt(e[3]))):n&&(t=(e=function(e,t,r){return null==n[e]?r:(typeof n[e]!==t&&s.throwArgumentError("invalid fixed format ("+e+" not "+t+")","format."+e,n[e]),n[e])})("signed","boolean",t),r=e("width","number",r),i=e("decimals","number",i)),r%8&&s.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),80<i&&s.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new b(c,t,r,i))};var y=b;function b(e,t,r,n){e!==c&&s.throwError("cannot use FixedFormat constructor; use FixedFormat.from",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=d(n),Object.freeze(this)}r.FixedFormat=y;m.prototype._checkFormat=function(e){this.format.name!==e.format.name&&s.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)},m.prototype.addUnsafe=function(e){this._checkFormat(e);var t=g(this._value,this.format.decimals),e=g(e._value,e.format.decimals);return m.fromValue(t.add(e),this.format.decimals,this.format)},m.prototype.subUnsafe=function(e){this._checkFormat(e);var t=g(this._value,this.format.decimals),e=g(e._value,e.format.decimals);return m.fromValue(t.sub(e),this.format.decimals,this.format)},m.prototype.mulUnsafe=function(e){this._checkFormat(e);var t=g(this._value,this.format.decimals),e=g(e._value,e.format.decimals);return m.fromValue(t.mul(e).div(this.format._multiplier),this.format.decimals,this.format)},m.prototype.divUnsafe=function(e){this._checkFormat(e);var t=g(this._value,this.format.decimals),e=g(e._value,e.format.decimals);return m.fromValue(t.mul(this.format._multiplier).div(e),this.format.decimals,this.format)},m.prototype.floor=function(){var e=this.toString().split("."),t=(1===e.length&&e.push("0"),m.from(e[0],this.format)),e=!e[1].match(/^(0*)$/);return t=this.isNegative()&&e?t.subUnsafe(v.toFormat(t.format)):t},m.prototype.ceiling=function(){var e=this.toString().split("."),t=(1===e.length&&e.push("0"),m.from(e[0],this.format)),e=!e[1].match(/^(0*)$/);return t=!this.isNegative()&&e?t.addUnsafe(v.toFormat(t.format)):t},m.prototype.round=function(e){null==e&&(e=0);var t=this.toString().split(".");return 1===t.length&&t.push("0"),(e<0||80<e||e%1)&&s.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e?this:(t=m.from("1"+f.substring(0,e),this.format),e=A.toFormat(this.format),this.mulUnsafe(t).addUnsafe(e).floor().divUnsafe(t))},m.prototype.isZero=function(){return"0.0"===this._value||"0"===this._value},m.prototype.isNegative=function(){return"-"===this._value[0]},m.prototype.toString=function(){return this._value},m.prototype.toHexString=function(e){if(null==e)return this._hex;e%8&&s.throwArgumentError("invalid byte width","width",e);var t=a.BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,n.hexZeroPad)(t,e/8)},m.prototype.toUnsafeFloat=function(){return parseFloat(this.toString())},m.prototype.toFormat=function(e){return m.fromString(this._value,e)},m.fromValue=function(e,t,r){return null!=r||null==t||(0,a.isBigNumberish)(t)||(r=t,t=null),null==r&&(r="fixed"),m.fromString(p(e,t=null==t?0:t),y.from(r))},m.fromString=function(e,t){var t=y.from(t=null==t?"fixed":t),r=g(e,t.decimals),e=(!t.signed&&r.lt(u)&&l("unsigned value cannot be negative","overflow","value",e),null),e=t.signed?r.toTwos(t.width).toHexString():(e=r.toHexString(),(0,n.hexZeroPad)(e,t.width/8)),r=p(r,t.decimals);return new m(c,e,r,t)},m.fromBytes=function(e,t){t=y.from(t=null==t?"fixed":t);if((0,n.arrayify)(e).length>t.width/8)throw new Error("overflow");var e=a.BigNumber.from(e),r=(e=t.signed?e.fromTwos(t.width):e).toTwos((t.signed?0:1)+t.width).toHexString(),e=p(e,t.decimals);return new m(c,r,e,t)},m.from=function(e,t){if("string"==typeof e)return m.fromString(e,t);if((0,n.isBytes)(e))return m.fromBytes(e,t);try{return m.fromValue(e,0,t)}catch(e){if(e.code!==i.Logger.errors.INVALID_ARGUMENT)throw e}return s.throwArgumentError("invalid FixedNumber value","value",e)},m.isFixedNumber=function(e){return!(!e||!e._isFixedNumber)};o=m;function m(e,t,r,n){e!==c&&s.throwError("cannot use FixedNumber constructor; use FixedNumber.from",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}var v=(r.FixedNumber=o).from(1),A=o.from("0.5")},{"./_version":42,"./bignumber":43,"@ethersproject/bytes":47,"@ethersproject/logger":74}],45:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._base36To16=r._base16To36=r.parseFixed=r.FixedNumber=r.FixedFormat=r.formatFixed=r.BigNumber=void 0;var n=e("./bignumber"),i=(Object.defineProperty(r,"BigNumber",{enumerable:!0,get:function(){return n.BigNumber}}),e("./fixednumber")),o=(Object.defineProperty(r,"formatFixed",{enumerable:!0,get:function(){return i.formatFixed}}),Object.defineProperty(r,"FixedFormat",{enumerable:!0,get:function(){return i.FixedFormat}}),Object.defineProperty(r,"FixedNumber",{enumerable:!0,get:function(){return i.FixedNumber}}),Object.defineProperty(r,"parseFixed",{enumerable:!0,get:function(){return i.parseFixed}}),e("./bignumber"));Object.defineProperty(r,"_base16To36",{enumerable:!0,get:function(){return o._base16To36}}),Object.defineProperty(r,"_base36To16",{enumerable:!0,get:function(){return o._base36To16}})},{"./bignumber":43,"./fixednumber":44}],46:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="bytes/5.7.0"},{}],47:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.joinSignature=r.splitSignature=r.hexZeroPad=r.hexStripZeros=r.hexValue=r.hexConcat=r.hexDataSlice=r.hexDataLength=r.hexlify=r.isHexString=r.zeroPad=r.stripZeros=r.concat=r.arrayify=r.isBytes=r.isBytesLike=void 0;var n=e("@ethersproject/logger"),e=e("./_version"),s=new n.Logger(e.version);function a(e){return e.toHexString}function o(t){return t.slice||(t.slice=function(){var e=Array.prototype.slice.call(arguments);return o(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function i(e){return d(e)&&!(e.length%2)||u(e)}function c(e){return"number"==typeof e&&e==e&&e%1==0}function u(e){if(null==e)return!1;if(e.constructor!==Uint8Array){if("string"==typeof e)return!1;if(!c(e.length)||e.length<0)return!1;for(var t=0;t<e.length;t++){var r=e[t];if(!c(r)||r<0||256<=r)return!1}}return!0}function h(e,t){if(t=t||{},"number"==typeof e){s.checkSafeUint53(e,"invalid arrayify value");for(var r=[];e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),o(new Uint8Array(r))}if(d(e=a(e=t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)?"0x"+e:e)?e.toHexString():e)){for(var n=e.substring(2),r=(n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":s.throwArgumentError("hex data is odd-length","value",e)),[]),i=0;i<n.length;i+=2)r.push(parseInt(n.substring(i,i+2),16));return o(new Uint8Array(r))}return u(e)?o(new Uint8Array(e)):s.throwArgumentError("invalid arrayify value","value",e)}function l(e){var e=e.map(function(e){return h(e)}),t=e.reduce(function(e,t){return e+t.length},0),r=new Uint8Array(t);return e.reduce(function(e,t){return r.set(t,e),e+t.length},0),o(r)}function f(e,t){(e=h(e)).length>t&&s.throwArgumentError("value out of range","value",arguments[0]);var r=new Uint8Array(t);return r.set(e,t-e.length),o(r)}function d(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}r.isBytesLike=i,r.isBytes=u,r.arrayify=h,r.concat=l,r.stripZeros=function(e){var t=h(e);if(0!==t.length){for(var r=0;r<t.length&&0===t[r];)r++;r&&(t=t.slice(r))}return t},r.zeroPad=f,r.isHexString=d;var p="0123456789abcdef";function g(e,t){if(t=t||{},"number"==typeof e){s.checkSafeUint53(e,"invalid hexlify value");for(var r="";e;)r=p[15&e]+r,e=Math.floor(e/16);return r.length?"0x"+(r=r.length%2?"0"+r:r):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(a(e=t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)?"0x"+e:e))return e.toHexString();if(d(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":s.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(u(e)){for(var n="0x",i=0;i<e.length;i++){var o=e[i];n+=p[(240&o)>>4]+p[15&o]}return n}return s.throwArgumentError("invalid hexlify value","value",e)}function y(e){d(e="string"!=typeof e?g(e):e)||s.throwArgumentError("invalid hex string","value",e),e=e.substring(2);for(var t=0;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}function b(e,t){for("string"!=typeof e?e=g(e):d(e)||s.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&s.throwArgumentError("value out of range","value",t);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function m(e){var t,r,n={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};return i(e)?(64===(r=h(e)).length?(n.v=27+(r[32]>>7),r[32]&=127,n.r=g(r.slice(0,32)),n.s=g(r.slice(32,64))):65===r.length?(n.r=g(r.slice(0,32)),n.s=g(r.slice(32,64)),n.v=r[64]):s.throwArgumentError("invalid signature string","signature",e),n.v<27&&(0===n.v||1===n.v?n.v+=27:s.throwArgumentError("signature invalid v byte","signature",e)),n.recoveryParam=1-n.v%2,n.recoveryParam&&(r[32]|=128),n._vs=g(r.slice(32,64))):(n.r=e.r,n.s=e.s,n.v=e.v,n.recoveryParam=e.recoveryParam,n._vs=e._vs,null!=n._vs&&(r=f(h(n._vs),32),n._vs=g(r),t=128<=r[0]?1:0,null==n.recoveryParam?n.recoveryParam=t:n.recoveryParam!==t&&s.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127,t=g(r),null==n.s?n.s=t:n.s!==t&&s.throwArgumentError("signature v mismatch _vs","signature",e)),null==n.recoveryParam?null==n.v?s.throwArgumentError("signature missing v and recoveryParam","signature",e):0===n.v||1===n.v?n.recoveryParam=n.v:n.recoveryParam=1-n.v%2:null==n.v?n.v=27+n.recoveryParam:(r=0===n.v||1===n.v?n.v:1-n.v%2,n.recoveryParam!==r&&s.throwArgumentError("signature recoveryParam mismatch v","signature",e)),null!=n.r&&d(n.r)?n.r=b(n.r,32):s.throwArgumentError("signature missing or invalid r","signature",e),null!=n.s&&d(n.s)?n.s=b(n.s,32):s.throwArgumentError("signature missing or invalid s","signature",e),128<=(t=h(n.s))[0]&&s.throwArgumentError("signature s out of range","signature",e),n.recoveryParam&&(t[0]|=128),r=g(t),n._vs&&(d(n._vs)||s.throwArgumentError("signature invalid _vs","signature",e),n._vs=b(n._vs,32)),null==n._vs?n._vs=r:n._vs!==r&&s.throwArgumentError("signature _vs mismatch v and s","signature",e)),n.yParityAndS=n._vs,n.compact=n.r+n.yParityAndS.substring(2),n}r.hexlify=g,r.hexDataLength=function(e){if("string"!=typeof e)e=g(e);else if(!d(e)||e.length%2)return null;return(e.length-2)/2},r.hexDataSlice=function(e,t,r){return"string"!=typeof e?e=g(e):(!d(e)||e.length%2)&&s.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)},r.hexConcat=function(e){var t="0x";return e.forEach(function(e){t+=g(e).substring(2)}),t},r.hexValue=function(e){return"0x"===(e=y(g(e,{hexPad:"left"})))?"0x0":e},r.hexStripZeros=y,r.hexZeroPad=b,r.splitSignature=m,r.joinSignature=function(e){return g(l([(e=m(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}},{"./_version":46,"@ethersproject/logger":74}],48:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.AddressZero=void 0,r.AddressZero="0x0000000000000000000000000000000000000000"},{}],49:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MaxInt256=r.MinInt256=r.MaxUint256=r.WeiPerEther=r.Two=r.One=r.Zero=r.NegativeOne=void 0;var e=e("@ethersproject/bignumber"),n=(r.NegativeOne=e.BigNumber.from(-1),e.BigNumber.from(0)),n=(r.Zero=n,e.BigNumber.from(1)),n=(r.One=n,e.BigNumber.from(2)),n=(r.Two=n,e.BigNumber.from("1000000000000000000")),n=(r.WeiPerEther=n,e.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff")),n=(r.MaxUint256=n,e.BigNumber.from("-0x8000000000000000000000000000000000000000000000000000000000000000")),n=(r.MinInt256=n,e.BigNumber.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"));r.MaxInt256=n},{"@ethersproject/bignumber":45}],50:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HashZero=void 0,r.HashZero="0x0000000000000000000000000000000000000000000000000000000000000000"},{}],51:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EtherSymbol=r.HashZero=r.MaxInt256=r.MinInt256=r.MaxUint256=r.WeiPerEther=r.Two=r.One=r.Zero=r.NegativeOne=r.AddressZero=void 0;var n=e("./addresses"),i=(Object.defineProperty(r,"AddressZero",{enumerable:!0,get:function(){return n.AddressZero}}),e("./bignumbers")),o=(Object.defineProperty(r,"NegativeOne",{enumerable:!0,get:function(){return i.NegativeOne}}),Object.defineProperty(r,"Zero",{enumerable:!0,get:function(){return i.Zero}}),Object.defineProperty(r,"One",{enumerable:!0,get:function(){return i.One}}),Object.defineProperty(r,"Two",{enumerable:!0,get:function(){return i.Two}}),Object.defineProperty(r,"WeiPerEther",{enumerable:!0,get:function(){return i.WeiPerEther}}),Object.defineProperty(r,"MaxUint256",{enumerable:!0,get:function(){return i.MaxUint256}}),Object.defineProperty(r,"MinInt256",{enumerable:!0,get:function(){return i.MinInt256}}),Object.defineProperty(r,"MaxInt256",{enumerable:!0,get:function(){return i.MaxInt256}}),e("./hashes")),s=(Object.defineProperty(r,"HashZero",{enumerable:!0,get:function(){return o.HashZero}}),e("./strings"));Object.defineProperty(r,"EtherSymbol",{enumerable:!0,get:function(){return s.EtherSymbol}})},{"./addresses":48,"./bignumbers":49,"./hashes":50,"./strings":52}],52:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EtherSymbol=void 0,r.EtherSymbol="Ξ"},{}],53:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="contracts/5.7.0"},{}],54:[function(e,D,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),f=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}o((c=c.apply(e,s||[])).next())})},d=this&&this.__generator||function(n,i){var o,s,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=i.call(n,c)}catch(e){t=[6,e],s=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},N=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||((n=n||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.ContractFactory=t.Contract=t.BaseContract=void 0,e("@ethersproject/abi")),F=e("@ethersproject/abstract-provider"),o=e("@ethersproject/abstract-signer"),p=e("@ethersproject/address"),g=e("@ethersproject/bignumber"),y=e("@ethersproject/bytes"),b=e("@ethersproject/properties"),j=e("@ethersproject/transactions"),m=e("@ethersproject/logger"),e=e("./_version"),v=new m.Logger(e.version),U={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function A(n,i){return f(this,void 0,void 0,function(){var t,r;return d(this,function(e){switch(e.label){case 0:return[4,i];case 1:"string"!=typeof(t=e.sent())&&v.throwArgumentError("invalid address or ENS name","name",t);try{return[2,(0,p.getAddress)(t)]}catch(e){}return n||v.throwError("a provider or signer is needed to resolve ENS names",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"}),[4,n.resolveName(t)];case 2:return null==(r=e.sent())&&v.throwArgumentError("resolver or addr is not configured for ENS name","name",t),[2,r]}})})}function _(r,n,t){return f(this,void 0,void 0,function(){return d(this,function(e){switch(e.label){case 0:return Array.isArray(t)?[4,Promise.all(t.map(function(e,t){return _(r,Array.isArray(n)?n[t]:n[e.name],e)}))]:[3,2];case 1:return[2,e.sent()];case 2:return"address"!==t.type?[3,4]:[4,A(r,n)];case 3:return[2,e.sent()];case 4:return"tuple"!==t.type?[3,6]:[4,_(r,n,t.components)];case 5:return[2,e.sent()];case 6:return"array"!==t.baseType?[3,8]:Array.isArray(n)?[4,Promise.all(n.map(function(e){return _(r,e,t.arrayChildren)}))]:[2,Promise.reject(v.makeError("invalid value for array",m.Logger.errors.INVALID_ARGUMENT,{argument:"value",value:n}))];case 7:return[2,e.sent()];case 8:return[2,n]}})})}function l(u,h,l){return f(this,void 0,void 0,function(){var t,r,n,i,o,s,a,c=this;return d(this,function(e){switch(e.label){case 0:return t={},l.length===h.inputs.length+1&&"object"==typeof l[l.length-1]&&(t=(0,b.shallowCopy)(l.pop())),v.checkArgumentCount(l.length,h.inputs.length,"passed to contract"),u.signer?t.from?t.from=(0,b.resolveProperties)({override:A(u.signer,t.from),signer:u.signer.getAddress()}).then(function(t){return f(c,void 0,void 0,function(){return d(this,function(e){return(0,p.getAddress)(t.signer)!==t.override&&v.throwError("Contract with a Signer cannot override from",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),[2,t.override]})})}):t.from=u.signer.getAddress():t.from&&(t.from=A(u.provider,t.from)),[4,(0,b.resolveProperties)({args:_(u.signer||u.provider,l,h.inputs),address:u.resolvedAddress,overrides:(0,b.resolveProperties)(t)||{}})];case 1:if(n=e.sent(),a=u.interface.encodeFunctionData(h,n.args),r={data:a,to:n.address},null!=(n=n.overrides).nonce&&(r.nonce=g.BigNumber.from(n.nonce).toNumber()),null!=n.gasLimit&&(r.gasLimit=g.BigNumber.from(n.gasLimit)),null!=n.gasPrice&&(r.gasPrice=g.BigNumber.from(n.gasPrice)),null!=n.maxFeePerGas&&(r.maxFeePerGas=g.BigNumber.from(n.maxFeePerGas)),null!=n.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=g.BigNumber.from(n.maxPriorityFeePerGas)),null!=n.from&&(r.from=n.from),null!=n.type&&(r.type=n.type),null!=n.accessList&&(r.accessList=(0,j.accessListify)(n.accessList)),null==r.gasLimit&&null!=h.gas){for(i=21e3,o=(0,y.arrayify)(a),s=0;s<o.length;s++)i+=4,o[s]&&(i+=64);r.gasLimit=g.BigNumber.from(h.gas).add(i)}return n.value&&((a=g.BigNumber.from(n.value)).isZero()||h.payable||v.throwError("non-payable method cannot override value",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),r.value=a),n.customData&&(r.customData=(0,b.shallowCopy)(n.customData)),n.ccipReadEnabled&&(r.ccipReadEnabled=!!n.ccipReadEnabled),delete t.nonce,delete t.gasLimit,delete t.gasPrice,delete t.from,delete t.value,delete t.type,delete t.accessList,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.customData,delete t.ccipReadEnabled,(a=Object.keys(t).filter(function(e){return null!=t[e]})).length&&v.throwError("cannot override "+a.map(function(e){return JSON.stringify(e)}).join(","),m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:a}),[2,r]}})})}function s(i,e){var t=e.wait.bind(e);e.wait=function(e){return t(e).then(function(n){return n.events=n.logs.map(function(e){var t=(0,b.deepCopy)(e),r=null;try{r=i.interface.parseLog(e)}catch(e){}return r&&(t.args=r.args,t.decode=function(e,t){return i.interface.decodeEventLog(r.eventFragment,e,t)},t.event=r.name,t.eventSignature=r.signature),t.removeListener=function(){return i.provider},t.getBlock=function(){return i.provider.getBlock(n.blockHash)},t.getTransaction=function(){return i.provider.getTransaction(n.transactionHash)},t.getTransactionReceipt=function(){return Promise.resolve(n)},t}),n})}}function w(a,c,u){var h=a.signer||a.provider;return function(){for(var s=[],e=0;e<arguments.length;e++)s[e]=arguments[e];return f(this,void 0,void 0,function(){var t,r,n,i,o;return d(this,function(e){switch(e.label){case 0:return(t=void 0,s.length!==c.inputs.length+1||"object"!=typeof s[s.length-1])?[3,3]:null==(r=(0,b.shallowCopy)(s.pop())).blockTag?[3,2]:[4,r.blockTag];case 1:t=e.sent(),e.label=2;case 2:delete r.blockTag,s.push(r),e.label=3;case 3:return null==a.deployTransaction?[3,5]:[4,a._deployed(t)];case 4:e.sent(),e.label=5;case 5:return[4,l(a,c,s)];case 6:return n=e.sent(),[4,h.call(n,t)];case 7:i=e.sent();try{return o=a.interface.decodeFunctionResult(c,i),[2,o=u&&1===c.outputs.length?o[0]:o]}catch(e){throw e.code===m.Logger.errors.CALL_EXCEPTION&&(e.address=a.address,e.args=s,e.transaction=n),e}return[2]}})})}}function E(e,t,r){return t.constant?w(e,t,r):(n=e,i=t,function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return f(this,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:return n.signer||v.throwError("sending a transaction requires a signer",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null==n.deployTransaction?[3,2]:[4,n._deployed()];case 1:e.sent(),e.label=2;case 2:return[4,l(n,i,r)];case 3:return t=e.sent(),[4,n.signer.sendTransaction(t)];case 4:return t=e.sent(),s(n,t),[2,t]}})})});var n,i}function a(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map(function(e){return Array.isArray(e)?e.join("|"):e}).join(":"):""):"*"}u.prototype.addListener=function(e,t){this._listeners.push({listener:e,once:t})},u.prototype.removeListener=function(t){var r=!1;this._listeners=this._listeners.filter(function(e){return!(!r&&e.listener===t)||!(r=!0)})},u.prototype.removeAllListeners=function(){this._listeners=[]},u.prototype.listeners=function(){return this._listeners.map(function(e){return e.listener})},u.prototype.listenerCount=function(){return this._listeners.length},u.prototype.run=function(r){var n=this,e=this.listenerCount();return this._listeners=this._listeners.filter(function(e){var t=r.slice();return setTimeout(function(){e.listener.apply(n,t)},0),!e.once}),e},u.prototype.prepareEvent=function(e){},u.prototype.getEmit=function(e){return[e]};var c=u;function u(e,t){(0,b.defineReadOnly)(this,"tag",e),(0,b.defineReadOnly)(this,"filter",t),this._listeners=[]}r(S,h=c);var h,J=S;function S(){return h.call(this,"error",null)||this}r(C,k=c),C.prototype.prepareEvent=function(t){var r=this;k.prototype.prepareEvent.call(this,t),t.event=this.fragment.name,t.eventSignature=this.fragment.format(),t.decode=function(e,t){return r.interface.decodeEventLog(r.fragment,e,t)};try{t.args=this.interface.decodeEventLog(this.fragment,t.data,t.topics)}catch(e){t.args=null,t.decodeError=e}},C.prototype.getEmit=function(e){var t=(0,i.checkResultErrors)(e.args);if(t.length)throw t[0].error;t=(e.args||[]).slice();return t.push(e),t};var k,I=C;function C(e,t,r,n){var i={address:e},o=t.getEventTopic(r);return n?(o!==n[0]&&v.throwArgumentError("topic mismatch","topics",n),i.topics=n.slice()):i.topics=[o],n=k.call(this,a(i),i)||this,(0,b.defineReadOnly)(n,"address",e),(0,b.defineReadOnly)(n,"interface",t),(0,b.defineReadOnly)(n,"fragment",r),n}r(T,B=c),T.prototype.prepareEvent=function(e){var r=this;B.prototype.prepareEvent.call(this,e);try{var n=this.interface.parseLog(e);e.event=n.name,e.eventSignature=n.signature,e.decode=function(e,t){return r.interface.decodeEventLog(n.eventFragment,e,t)},e.args=n.args}catch(e){}};var B,x=T;function T(e,t){var r=B.call(this,"*",{address:e})||this;return(0,b.defineReadOnly)(r,"address",e),(0,b.defineReadOnly)(r,"interface",t),r}M.getContractAddress=function(e){return(0,p.getContractAddress)(e)},M.getInterface=function(e){return i.Interface.isInterface(e)?e:new i.Interface(e)},M.prototype.deployed=function(){return this._deployed()},M.prototype._deployed=function(e){var t=this;return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(function(){return t}):this._deployedPromise=this.provider.getCode(this.address,e).then(function(e){return"0x"===e&&v.throwError("contract not deployed",m.Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:t.address,operation:"getDeployed"}),t})),this._deployedPromise},M.prototype.fallback=function(e){var t=this,r=(this.signer||v.throwError("sending a transactions require a signer",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"}),(0,b.shallowCopy)(e||{}));return["from","to"].forEach(function(e){null!=r[e]&&v.throwError("cannot override "+e,m.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})}),r.to=this.resolvedAddress,this.deployed().then(function(){return t.signer.sendTransaction(r)})},M.prototype.connect=function(e){"string"==typeof e&&(e=new o.VoidSigner(e,this.provider));e=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&(0,b.defineReadOnly)(e,"deployTransaction",this.deployTransaction),e},M.prototype.attach=function(e){return new this.constructor(e,this.interface,this.signer||this.provider)},M.isIndexed=function(e){return i.Indexed.isIndexed(e)},M.prototype._normalizeRunningEvent=function(e){return this._runningEvents[e.tag]||e},M.prototype._getRunningEvent=function(e){if("string"==typeof e)return"error"===e?this._normalizeRunningEvent(new J):"event"===e?this._normalizeRunningEvent(new c("event",null)):"*"===e?this._normalizeRunningEvent(new x(this.address,this.interface)):(r=this.interface.getEvent(e),this._normalizeRunningEvent(new I(this.address,this.interface,r)));if(e.topics&&0<e.topics.length){try{var t=e.topics[0];if("string"!=typeof t)throw new Error("invalid topic");var r=this.interface.getEvent(t);return this._normalizeRunningEvent(new I(this.address,this.interface,r,e.topics))}catch(e){}t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new c(a(t),t))}return this._normalizeRunningEvent(new x(this.address,this.interface))},M.prototype._checkRunningEvents=function(e){var t;0===e.listenerCount()&&(delete this._runningEvents[e.tag],(t=this._wrappedEmits[e.tag])&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag]))},M.prototype._wrapEvent=function(e,t,r){var n=this,i=(0,b.deepCopy)(t);return i.removeListener=function(){r&&(e.removeListener(r),n._checkRunningEvents(e))},i.getBlock=function(){return n.provider.getBlock(t.blockHash)},i.getTransaction=function(){return n.provider.getTransaction(t.transactionHash)},i.getTransactionReceipt=function(){return n.provider.getTransactionReceipt(t.transactionHash)},e.prepareEvent(i),i},M.prototype._addEventListener=function(r,n,e){var i=this;this.provider||v.throwError("events require a provider or a signer with a provider",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),r.addListener(n,e),this._runningEvents[r.tag]=r,this._wrappedEmits[r.tag]||(this._wrappedEmits[r.tag]=e=function(t){t=i._wrapEvent(r,t,n);if(null==t.decodeError)try{var e=r.getEmit(t);i.emit.apply(i,N([r.filter],e,!1))}catch(e){t.decodeError=e.error}null!=r.filter&&i.emit("event",t),null!=t.decodeError&&i.emit("error",t.decodeError,t)},null!=r.filter&&this.provider.on(r.filter,e))},M.prototype.queryFilter=function(e,t,r){var n=this,i=this._getRunningEvent(e),e=(0,b.shallowCopy)(i.filter);return"string"==typeof t&&(0,y.isHexString)(t,32)?(null!=r&&v.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),e.blockHash=t):(e.fromBlock=null!=t?t:0,e.toBlock=null!=r?r:"latest"),this.provider.getLogs(e).then(function(e){return e.map(function(e){return n._wrapEvent(i,e,null)})})},M.prototype.on=function(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this},M.prototype.once=function(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this},M.prototype.emit=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return!!this.provider&&(t=0<(e=this._getRunningEvent(e)).run(r),this._checkRunningEvents(e),t)},M.prototype.listenerCount=function(e){var r=this;return this.provider?null==e?Object.keys(this._runningEvents).reduce(function(e,t){return e+r._runningEvents[t].listenerCount()},0):this._getRunningEvent(e).listenerCount():0},M.prototype.listeners=function(e){if(!this.provider)return[];if(null!=e)return this._getRunningEvent(e).listeners();var t,r=[];for(t in this._runningEvents)this._runningEvents[t].listeners().forEach(function(e){r.push(e)});return r},M.prototype.removeAllListeners=function(e){if(this.provider)if(null==e)for(var t in this._runningEvents){t=this._runningEvents[t];t.removeAllListeners(),this._checkRunningEvents(t)}else{e=this._getRunningEvent(e);e.removeAllListeners(),this._checkRunningEvents(e)}return this},M.prototype.off=function(e,t){return this.provider&&((e=this._getRunningEvent(e)).removeListener(t),this._checkRunningEvents(e)),this},M.prototype.removeListener=function(e,t){return this.off(e,t)};e=M;function M(e,t,r){var n=this.constructor,c=this,i=((0,b.defineReadOnly)(this,"interface",(0,b.getStatic)(n,"getInterface")(t)),null==r?((0,b.defineReadOnly)(this,"provider",null),(0,b.defineReadOnly)(this,"signer",null)):o.Signer.isSigner(r)?((0,b.defineReadOnly)(this,"provider",r.provider||null),(0,b.defineReadOnly)(this,"signer",r)):F.Provider.isProvider(r)?((0,b.defineReadOnly)(this,"provider",r),(0,b.defineReadOnly)(this,"signer",null)):v.throwArgumentError("invalid signer or provider","signerOrProvider",r),(0,b.defineReadOnly)(this,"callStatic",{}),(0,b.defineReadOnly)(this,"estimateGas",{}),(0,b.defineReadOnly)(this,"functions",{}),(0,b.defineReadOnly)(this,"populateTransaction",{}),(0,b.defineReadOnly)(this,"filters",{}),{});if(Object.keys(this.interface.events).forEach(function(e){var r=c.interface.events[e];(0,b.defineReadOnly)(c.filters,e,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{address:c.address,topics:c.interface.encodeFilterTopics(r,e)}}),i[r.name]||(i[r.name]=[]),i[r.name].push(e)}),Object.keys(i).forEach(function(e){var t=i[e];1===t.length?(0,b.defineReadOnly)(c.filters,e,c.filters[t[0]]):v.warn("Duplicate definition of "+e+" ("+t.join(", ")+")")}),(0,b.defineReadOnly)(this,"_runningEvents",{}),(0,b.defineReadOnly)(this,"_wrappedEmits",{}),null==e&&v.throwArgumentError("invalid contract address or ENS name","addressOrName",e),(0,b.defineReadOnly)(this,"address",e),this.provider)(0,b.defineReadOnly)(this,"resolvedAddress",A(this.provider,e));else try{(0,b.defineReadOnly)(this,"resolvedAddress",Promise.resolve((0,p.getAddress)(e)))}catch(e){v.throwError("provider is required to use ENS name as contract address",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(function(e){});var u={},h={};Object.keys(this.interface.functions).forEach(function(e){var t,r,n,i,o,s,a=c.interface.functions[e];h[e]?v.warn("Duplicate ABI entry for "+JSON.stringify(e)):(h[e]=!0,t=a.name,u["%"+t]||(u["%"+t]=[]),u["%"+t].push(e),null==c[e]&&(0,b.defineReadOnly)(c,e,E(c,a,!0)),null==c.functions[e]&&(0,b.defineReadOnly)(c.functions,e,E(c,a,!1)),null==c.callStatic[e]&&(0,b.defineReadOnly)(c.callStatic,e,w(c,a,!0)),null==c.populateTransaction[e]&&(0,b.defineReadOnly)(c.populateTransaction,e,(r=c,n=a,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return l(r,n,e)})),null==c.estimateGas[e]&&(0,b.defineReadOnly)(c.estimateGas,e,(o=a,s=(i=c).signer||i.provider,function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return f(this,void 0,void 0,function(){var t;return d(this,function(e){switch(e.label){case 0:return s||v.throwError("estimate require a provider or signer",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"}),[4,l(i,o,r)];case 1:return t=e.sent(),[4,s.estimateGas(t)];case 2:return[2,e.sent()]}})})})))}),Object.keys(u).forEach(function(e){var t=u[e];if(!(1<t.length)){e=e.substring(1);t=t[0];try{null==c[e]&&(0,b.defineReadOnly)(c,e,c[t])}catch(e){}null==c.functions[e]&&(0,b.defineReadOnly)(c.functions,e,c.functions[t]),null==c.callStatic[e]&&(0,b.defineReadOnly)(c.callStatic,e,c.callStatic[t]),null==c.populateTransaction[e]&&(0,b.defineReadOnly)(c.populateTransaction,e,c.populateTransaction[t]),null==c.estimateGas[e]&&(0,b.defineReadOnly)(c.estimateGas,e,c.estimateGas[t])}})}t.BaseContract=e;r(L,P=e);var P,O=L;function L(){return null!==P&&P.apply(this,arguments)||this}function R(e,t,r){var n=this.constructor,i=null;"0x"!==(i="string"==typeof t?t:(0,y.isBytes)(t)?(0,y.hexlify)(t):t&&"string"==typeof t.object?t.object:"!").substring(0,2)&&(i="0x"+i),(!(0,y.isHexString)(i)||i.length%2)&&v.throwArgumentError("invalid bytecode","bytecode",t),r&&!o.Signer.isSigner(r)&&v.throwArgumentError("invalid signer","signer",r),(0,b.defineReadOnly)(this,"bytecode",i),(0,b.defineReadOnly)(this,"interface",(0,b.getStatic)(n,"getInterface")(e)),(0,b.defineReadOnly)(this,"signer",r||null)}t.Contract=O,R.prototype.getDeployTransaction=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r={};if(e.length===this.interface.deploy.inputs.length+1&&"object"==typeof e[e.length-1])for(var n in r=(0,b.shallowCopy)(e.pop()))if(!U[n])throw new Error("unknown transaction override "+n);return["data","from","to"].forEach(function(e){null!=r[e]&&v.throwError("cannot override "+e,m.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})}),!r.value||g.BigNumber.from(r.value).isZero()||this.interface.deploy.payable||v.throwError("non-payable constructor cannot override value",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:r.value}),v.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),r.data=(0,y.hexlify)((0,y.concat)([this.bytecode,this.interface.encodeDeploy(e)])),r},R.prototype.deploy=function(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return f(this,void 0,void 0,function(){var t,r,n;return d(this,function(e){switch(e.label){case 0:return t={},i.length===this.interface.deploy.inputs.length+1&&(t=i.pop()),v.checkArgumentCount(i.length,this.interface.deploy.inputs.length," in Contract constructor"),[4,_(this.signer,i,this.interface.deploy.inputs)];case 1:return(r=e.sent()).push(t),r=this.getDeployTransaction.apply(this,r),[4,this.signer.sendTransaction(r)];case 2:return r=e.sent(),n=(0,b.getStatic)(this.constructor,"getContractAddress")(r),s(n=(0,b.getStatic)(this.constructor,"getContract")(n,this.interface,this.signer),r),(0,b.defineReadOnly)(n,"deployTransaction",r),[2,n]}})})},R.prototype.attach=function(e){return this.constructor.getContract(e,this.interface,this.signer)},R.prototype.connect=function(e){return new this.constructor(this.interface,this.bytecode,e)},R.fromSolidity=function(e,t){null==e&&v.throwError("missing compiler output",m.Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"});var r=(e="string"==typeof e?JSON.parse(e):e).abi,n=null;return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)},R.getInterface=function(e){return O.getInterface(e)},R.getContractAddress=function(e){return(0,p.getContractAddress)(e)},R.getContract=function(e,t,r){return new O(e,t,r)},t.ContractFactory=R},{"./_version":53,"@ethersproject/abi":31,"@ethersproject/abstract-provider":34,"@ethersproject/abstract-signer":36,"@ethersproject/address":38,"@ethersproject/bignumber":45,"@ethersproject/bytes":47,"@ethersproject/logger":74,"@ethersproject/properties":80,"@ethersproject/transactions":121}],55:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="hash/5.7.0"},{}],56:[function(e,t,r){"use strict";function u(e,t){function r(e,t){i.call(e,function(e){0<t&&Array.isArray(e)?r(e,t-1):n.push(e)})}var n=[],i=n.forEach;return r(e,t=null==t?1:t),n}function n(t){var e=0;function r(){return t[e++]<<8|t[e++]}for(var n=r(),i=1,o=[0,1],s=1;s<n;s++)o.push(i+=r());var a=r(),c=e,u=(e+=a,0),h=0;function l(){return 0==u&&(h=h<<8|t[e++],u=8),h>>--u&1}for(var a=Math.pow(2,31),f=a>>>1,d=f>>1,p=a-1,g=0,s=0;s<31;s++)g=g<<1|l();for(var y=[],b=0,m=a;;){for(var v=Math.floor(((g-b+1)*i-1)/m),A=0,_=n;1<_-A;){var w=A+_>>>1;v<o[w]?_=w:A=w}if(0==A)break;y.push(A);for(var E=b+Math.floor(m*o[A]/i),S=b+Math.floor(m*o[A+1]/i)-1;0==((E^S)&f);)g=g<<1&p|l(),E=E<<1&p,S=S<<1&p|1;for(;E&~S&d;)g=g&f|g<<1&p>>>1|l(),E=E<<1^f,S=(S^f)<<1|f|1;m=1+S-(b=E)}var k=n-4;return y.map(function(e){switch(e-k){case 3:return 65792+k+(t[c++]<<16|t[c++]<<8|t[c++]);case 2:return 256+k+(t[c++]<<8|t[c++]);case 1:return k+t[c++];default:return e-1}})}function i(e){var t=0;return function(){return e[t++]}}function o(e){return 1&e?~e>>1:e>>1}function c(e,t){for(var r=Array(e),n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function h(e,t){for(var r=c(e(),e),n=e(),i=c(n,e),o=function(e,t){for(var r=Array(e),n=0;n<e;n++)r[n]=1+t();return r}(n,e),s=0;s<n;s++)for(var a=0;a<o[s];a++)r.push(i[s]+a);return t?r.map(function(e){return t[e]}):r}function l(e){for(var t=[];;){var r=e();if(0==r)break;t.push(r)}return t}function f(e,t,r){for(var n=Array(e).fill(void 0).map(function(){return[]}),i=0;i<t;i++)!function(e,t){for(var r=Array(e),n=0,i=0;n<e;n++)r[n]=i+=o(t());return r}(e,r).forEach(function(e,t){return n[t].push(e)});return n}Object.defineProperty(r,"__esModule",{value:!0}),r.read_emoji_trie=r.read_zero_terminated_array=r.read_mapped_map=r.read_member_array=r.signed=r.read_compressed_payload=r.read_payload=r.decode_arithmetic=void 0,r.decode_arithmetic=n,r.read_payload=i,r.read_compressed_payload=function(e){return i(n(e))},r.signed=o,r.read_member_array=h,r.read_mapped_map=function(e){for(var t,r,n,i=[];0!=(t=e());)i.push(function(e,t){var o=1+t(),s=t(),r=l(t);return u(f(r.length,1+e,t).map(function(e,t){var n=e[0],i=e.slice(1);return Array(r[t]).fill(void 0).map(function(e,t){var r=t*s;return[n+t*o,i.map(function(e){return e+r})]})}))}(t,e));for(;;){if((t=e()-1)<0)break;i.push((r=t,f(1+(n=e)(),1+r,n).map(function(e){return[e[0],e.slice(1)]})))}for(var o=u(i),s={},a=0;a<o.length;a++){var c=o[a];s[c[0]]=c[1]}return s},r.read_zero_terminated_array=l,r.read_emoji_trie=function(a){var c=h(a).sort(function(e,t){return e-t});return function e(){var t=[];for(;;){var r=h(a,c);if(0==r.length)break;t.push({set:new Set(r),node:e()})}t.sort(function(e,t){return t.set.size-e.set.size});var n=a();var i=n%3;n=n/3|0;var o=!!(1&n);n>>=1;var s=1==n;n=2==n;return{branches:t,valid:i,fe0f:o,save:s,check:n}}()}},{}],57:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getData=void 0;var n=e("@ethersproject/base64"),i=e("./decoder.js");r.getData=function(){return(0,i.read_compressed_payload)((0,n.decode)("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}},{"./decoder.js":56,"@ethersproject/base64":40}],58:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ens_normalize=r.ens_normalize_post_check=void 0;var n=e("@ethersproject/strings"),i=(0,e("./include.js").getData)(),e=e("./decoder.js"),s=new Set((0,e.read_member_array)(i)),a=new Set((0,e.read_member_array)(i)),c=(0,e.read_mapped_map)(i),u=(0,e.read_emoji_trie)(i),h=45,l=95;function f(e){return(0,n.toUtf8CodePoints)(e)}function o(e){return e.filter(function(e){return 65039!=e})}function d(e){for(var t=0,r=e.split(".");t<r.length;t++){var n=r[t],i=f(n);try{for(var o=i.lastIndexOf(l)-1;0<=o;o--)if(i[o]!==l)throw new Error("underscore only allowed at start");if(4<=i.length&&i.every(function(e){return e<128})&&i[2]===h&&i[3]===h)throw new Error("invalid label extension")}catch(e){throw new Error('Invalid label "'+n+'": '+e.message)}}return e}r.ens_normalize_post_check=d,r.ens_normalize=function(e){return d(function(e,t){var r=f(e).reverse(),n=[];for(;r.length;){var i=function(e,r){var n,i,o,s=u,a=[],c=e.length;r&&(r.length=0);for(;c;)if("break"===function(){var t=e[--c];if(!(s=null==(n=s.branches.find(function(e){return e.set.has(t)}))?void 0:n.node))return"break";if(s.save)o=t;else if(s.check&&t===o)return"break";a.push(t),s.fe0f&&(a.push(65039),0<c&&65039==e[c-1]&&c--),s.valid&&(i=a.slice(),2==s.valid&&i.splice(1,1),r&&r.push.apply(r,e.slice(c).reverse()),e.length=c)}())break;return i}(r);if(i)n.push.apply(n,t(i));else{i=r.pop();if(s.has(i))n.push(i);else if(!a.has(i)){var o=c[i];if(!o)throw new Error("Disallowed codepoint: 0x"+i.toString(16).toUpperCase());n.push.apply(n,o)}}}return d(String.fromCodePoint.apply(String,n).normalize("NFC"))}(e,o))}},{"./decoder.js":56,"./include.js":57,"@ethersproject/strings":118}],59:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.id=void 0;var n=e("@ethersproject/keccak256"),i=e("@ethersproject/strings");r.id=function(e){return(0,n.keccak256)((0,i.toUtf8Bytes)(e))}},{"@ethersproject/keccak256":72,"@ethersproject/strings":118}],60:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._TypedDataEncoder=r.hashMessage=r.messagePrefix=r.ensNormalize=r.isValidName=r.namehash=r.dnsEncode=r.id=void 0;var n=e("./id"),i=(Object.defineProperty(r,"id",{enumerable:!0,get:function(){return n.id}}),e("./namehash")),o=(Object.defineProperty(r,"dnsEncode",{enumerable:!0,get:function(){return i.dnsEncode}}),Object.defineProperty(r,"isValidName",{enumerable:!0,get:function(){return i.isValidName}}),Object.defineProperty(r,"namehash",{enumerable:!0,get:function(){return i.namehash}}),e("./message")),s=(Object.defineProperty(r,"hashMessage",{enumerable:!0,get:function(){return o.hashMessage}}),Object.defineProperty(r,"messagePrefix",{enumerable:!0,get:function(){return o.messagePrefix}}),e("./namehash")),a=(Object.defineProperty(r,"ensNormalize",{enumerable:!0,get:function(){return s.ensNormalize}}),e("./typed-data"));Object.defineProperty(r,"_TypedDataEncoder",{enumerable:!0,get:function(){return a.TypedDataEncoder}})},{"./id":59,"./message":61,"./namehash":62,"./typed-data":63}],61:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hashMessage=r.messagePrefix=void 0;var n=e("@ethersproject/bytes"),i=e("@ethersproject/keccak256"),o=e("@ethersproject/strings");r.messagePrefix="Ethereum Signed Message:\n",r.hashMessage=function(e){return"string"==typeof e&&(e=(0,o.toUtf8Bytes)(e)),(0,i.keccak256)((0,n.concat)([(0,o.toUtf8Bytes)(r.messagePrefix),(0,o.toUtf8Bytes)(String(e.length)),e]))}},{"@ethersproject/bytes":47,"@ethersproject/keccak256":72,"@ethersproject/strings":118}],62:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.dnsEncode=r.namehash=r.isValidName=r.ensNormalize=void 0;var n=e("@ethersproject/bytes"),o=e("@ethersproject/strings"),i=e("@ethersproject/keccak256"),s=e("@ethersproject/logger"),a=e("./_version"),c=new s.Logger(a.version),u=e("./ens-normalize/lib"),h=new Uint8Array(32);function l(e){if(0===e.length)throw new Error("invalid ENS name; empty component");return e}function f(e){var t=(0,o.toUtf8Bytes)((0,u.ens_normalize)(e)),r=[];if(0!==e.length){for(var n=0,i=0;i<t.length;i++)46===t[i]&&(r.push(l(t.slice(n,i))),n=i+1);if(n>=t.length)throw new Error("invalid ENS name; empty component");r.push(l(t.slice(n)))}return r}h.fill(0),r.ensNormalize=function(e){return f(e).map(function(e){return(0,o.toUtf8String)(e)}).join(".")},r.isValidName=function(e){try{return 0!==f(e).length}catch(e){}return!1},r.namehash=function(e){"string"!=typeof e&&c.throwArgumentError("invalid ENS name; not a string","name",e);for(var t=h,r=f(e);r.length;)t=(0,i.keccak256)((0,n.concat)([t,(0,i.keccak256)(r.pop())]));return(0,n.hexlify)(t)},r.dnsEncode=function(e){return(0,n.hexlify)((0,n.concat)(f(e).map(function(e){if(63<e.length)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");var t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}},{"./_version":55,"./ens-normalize/lib":58,"@ethersproject/bytes":47,"@ethersproject/keccak256":72,"@ethersproject/logger":74,"@ethersproject/strings":118}],63:[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}o((c=c.apply(e,s||[])).next())})},f=this&&this.__generator||function(n,i){var o,s,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=i.call(n,c)}catch(e){t=[6,e],s=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},a=(Object.defineProperty(r,"__esModule",{value:!0}),r.TypedDataEncoder=void 0,e("@ethersproject/address")),c=e("@ethersproject/bignumber"),d=e("@ethersproject/bytes"),u=e("@ethersproject/keccak256"),p=e("@ethersproject/properties"),i=e("@ethersproject/logger"),o=e("./_version"),h=new i.Logger(o.version),l=e("./id"),g=new Uint8Array(32),y=(g.fill(0),c.BigNumber.from(-1)),b=c.BigNumber.from(0),m=c.BigNumber.from(1),v=c.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var A=(0,d.hexZeroPad)(m.toHexString(),32),_=(0,d.hexZeroPad)(b.toHexString(),32),w={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},E=["name","version","chainId","verifyingContract","salt"];function s(t){return function(e){return"string"!=typeof e&&h.throwArgumentError("invalid domain value for "+JSON.stringify(t),"domain."+t,e),e}}var S={name:s("name"),version:s("version"),chainId:function(e){try{return c.BigNumber.from(e).toString()}catch(e){}return h.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return(0,a.getAddress)(e).toLowerCase()}catch(e){}return h.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{var t=(0,d.arrayify)(e);if(32!==t.length)throw new Error("bad length");return(0,d.hexlify)(t)}catch(e){}return h.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function k(r){var e,t,n,i,o,s;if(o=r.match(/^(u?)int(\d*)$/))return e=""===o[1],((t=parseInt(o[2]||"256"))%8!=0||256<t||o[2]&&o[2]!==String(t))&&h.throwArgumentError("invalid numeric width","type",r),n=v.mask(e?t-1:t),i=e?n.add(m).mul(y):b,function(e){var t=c.BigNumber.from(e);return(t.lt(i)||t.gt(n))&&h.throwArgumentError("value out-of-bounds for "+r,"value",e),(0,d.hexZeroPad)(t.toTwos(256).toHexString(),32)};if(o=r.match(/^bytes(\d+)$/))return(0===(s=parseInt(o[1]))||32<s||o[1]!==String(s))&&h.throwArgumentError("invalid bytes width","type",r),function(e){var t;return(0,d.arrayify)(e).length!==s&&h.throwArgumentError("invalid length for "+r,"value",e),e=e,(t=(e=(0,d.arrayify)(e)).length%32)?(0,d.hexConcat)([e,g.slice(t)]):(0,d.hexlify)(e)};switch(r){case"address":return function(e){return(0,d.hexZeroPad)((0,a.getAddress)(e),32)};case"bool":return function(e){return e?A:_};case"bytes":return function(e){return(0,u.keccak256)(e)};case"string":return function(e){return(0,l.id)(e)}}return null}function I(e,t){return e+"("+t.map(function(e){var t=e.name;return e.type+" "+t}).join(",")+")"}function C(n){(0,p.defineReadOnly)(this,"types",Object.freeze((0,p.deepCopy)(n))),(0,p.defineReadOnly)(this,"_encoderCache",{}),(0,p.defineReadOnly)(this,"_types",{});var e,i={},o={},s={};Object.keys(n).forEach(function(e){i[e]={},o[e]=[],s[e]={}});for(e in n)!function(t){var r={};n[t].forEach(function(e){r[e.name]&&h.throwArgumentError("duplicate variable name "+JSON.stringify(e.name)+" in "+JSON.stringify(t),"types",n),r[e.name]=!0;e=e.type.match(/^([^\x5b]*)(\x5b|$)/)[1];e===t&&h.throwArgumentError("circular type reference to "+JSON.stringify(e),"types",n),k(e)||(o[e]||h.throwArgumentError("unknown type "+JSON.stringify(e),"types",n),o[e].push(t),i[t][e]=!0)})}(e);var t,r=Object.keys(o).filter(function(e){return 0===o[e].length});for(t in 0===r.length?h.throwArgumentError("missing primary type","types",n):1<r.length&&h.throwArgumentError("ambiguous primary types or unused types: "+r.map(function(e){return JSON.stringify(e)}).join(", "),"types",n),(0,p.defineReadOnly)(this,"primaryType",r[0]),!function e(t,r){r[t]&&h.throwArgumentError("circular type reference to "+JSON.stringify(t),"types",n),r[t]=!0,Object.keys(i[t]).forEach(function(t){o[t]&&(e(t,r),Object.keys(r).forEach(function(e){s[e][t]=!0}))}),delete r[t]}(this.primaryType,{}),s){var a=Object.keys(s[t]);a.sort(),this._types[t]=I(t,n[t])+a.map(function(e){return I(e,n[e])}).join("")}}C.prototype.getEncoder=function(e){return this._encoderCache[e]||(this._encoderCache[e]=this._getEncoder(e))},C.prototype._getEncoder=function(e){var t,r,n,i,o,s=this,a=k(e);return a||((a=e.match(/^(.*)(\x5b(\d*)\x5d)$/))?(t=a[1],r=this.getEncoder(t),n=parseInt(a[3]),function(e){0<=n&&e.length!==n&&h.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",e);e=e.map(r);return s._types[t]&&(e=e.map(u.keccak256)),(0,u.keccak256)((0,d.hexConcat)(e))}):(i=this.types[e])?(o=(0,l.id)(this._types[e]),function(r){var e=i.map(function(e){var t=e.name,e=e.type,t=s.getEncoder(e)(r[t]);return s._types[e]?(0,u.keccak256)(t):t});return e.unshift(o),(0,d.hexConcat)(e)}):h.throwArgumentError("unknown type: "+e,"type",e))},C.prototype.encodeType=function(e){var t=this._types[e];return t||h.throwArgumentError("unknown type: "+JSON.stringify(e),"name",e),t},C.prototype.encodeData=function(e,t){return this.getEncoder(e)(t)},C.prototype.hashStruct=function(e,t){return(0,u.keccak256)(this.encodeData(e,t))},C.prototype.encode=function(e){return this.encodeData(this.primaryType,e)},C.prototype.hash=function(e){return this.hashStruct(this.primaryType,e)},C.prototype._visit=function(e,n,i){var t,r,o=this;return k(e)?i(e,n):(r=e.match(/^(.*)(\x5b(\d*)\x5d)$/))?(t=r[1],0<=(r=parseInt(r[3]))&&n.length!==r&&h.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",n),n.map(function(e){return o._visit(t,e,i)})):(r=this.types[e])?r.reduce(function(e,t){var r=t.name,t=t.type;return e[r]=o._visit(t,n[r],i),e},{}):h.throwArgumentError("unknown type: "+e,"type",e)},C.prototype.visit=function(e,t){return this._visit(this.primaryType,e,t)},C.from=function(e){return new C(e)},C.getPrimaryType=function(e){return C.from(e).primaryType},C.hashStruct=function(e,t,r){return C.from(t).hashStruct(e,r)},C.hashDomain=function(e){var t,r=[];for(t in e){var n=w[t];n||h.throwArgumentError("invalid typed-data domain key: "+JSON.stringify(t),"domain",e),r.push({name:t,type:n})}return r.sort(function(e,t){return E.indexOf(e.name)-E.indexOf(t.name)}),C.hashStruct("EIP712Domain",{EIP712Domain:r},e)},C.encode=function(e,t,r){return(0,d.hexConcat)(["0x1901",C.hashDomain(e),C.from(t).hash(r)])},C.hash=function(e,t,r){return(0,u.keccak256)(C.encode(e,t,r))},C.resolveNames=function(c,u,h,l){return n(this,void 0,void 0,function(){var r,t,n,i,o,s,a;return f(this,function(e){switch(e.label){case 0:for(i in c=(0,p.shallowCopy)(c),r={},c.verifyingContract&&!(0,d.isHexString)(c.verifyingContract,20)&&(r[c.verifyingContract]="0x"),(t=C.from(u)).visit(h,function(e,t){return"address"!==e||(0,d.isHexString)(t,20)||(r[t]="0x"),t}),n=[],r)n.push(i);o=0,e.label=1;case 1:return o<n.length?(a=n[o],s=r,[4,l(a=a)]):[3,4];case 2:s[a]=e.sent(),e.label=3;case 3:return o++,[3,1];case 4:return c.verifyingContract&&r[c.verifyingContract]&&(c.verifyingContract=r[c.verifyingContract]),h=t.visit(h,function(e,t){return"address"===e&&r[t]?r[t]:t}),[2,{domain:c,value:h}]}})})},C.getPayload=function(r,e,t){C.hashDomain(r);var n={},i=[],o=(E.forEach(function(e){var t=r[e];null!=t&&(n[e]=S[e](t),i.push({name:e,type:w[e]}))}),C.from(e)),s=(0,p.shallowCopy)(e);return s.EIP712Domain?h.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",e):s.EIP712Domain=i,o.encode(t),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(t,function(e,t){if(e.match(/^bytes(\d*)/))return(0,d.hexlify)((0,d.arrayify)(t));if(e.match(/^u?int/))return c.BigNumber.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&h.throwArgumentError("invalid string","value",t),t}return h.throwArgumentError("unsupported type","type",e)})}},r.TypedDataEncoder=C},{"./_version":55,"./id":59,"@ethersproject/address":38,"@ethersproject/bignumber":45,"@ethersproject/bytes":47,"@ethersproject/keccak256":72,"@ethersproject/logger":74,"@ethersproject/properties":80}],64:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="hdnode/5.7.0"},{}],65:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getAccountPath=r.isValidMnemonic=r.entropyToMnemonic=r.mnemonicToEntropy=r.mnemonicToSeed=r.HDNode=r.defaultPath=void 0;var a=e("@ethersproject/basex"),u=e("@ethersproject/bytes"),h=e("@ethersproject/bignumber"),n=e("@ethersproject/strings"),i=e("@ethersproject/pbkdf2"),c=e("@ethersproject/properties"),l=e("@ethersproject/signing-key"),f=e("@ethersproject/sha2"),d=e("@ethersproject/transactions"),o=e("@ethersproject/wordlists"),s=e("@ethersproject/logger"),e=e("./_version"),p=new s.Logger(e.version),g=h.BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),y=(0,n.toUtf8Bytes)("Bitcoin seed"),b=2147483648;function m(e){return(1<<e)-1<<8-e}function v(e){return(0,u.hexZeroPad)((0,u.hexlify)(e),32)}function A(e){return a.Base58.encode((0,u.concat)([e,(0,u.hexDataSlice)((0,f.sha256)((0,f.sha256)(e)),0,4)]))}function _(e){var t;return null==e?o.wordlists.en:"string"==typeof e?(null==(t=o.wordlists[e])&&p.throwArgumentError("unknown locale","wordlist",e),t):e}var w={},s=(r.defaultPath="m/44'/60'/0'/0/0",Object.defineProperty(E.prototype,"extendedKey",{get:function(){if(256<=this.depth)throw new Error("Depth too large!");return A((0,u.concat)([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",(0,u.hexlify)(this.depth),this.parentFingerprint,(0,u.hexZeroPad)((0,u.hexlify)(this.index),4),this.chainCode,null!=this.privateKey?(0,u.concat)(["0x00",this.privateKey]):this.publicKey]))},enumerable:!1,configurable:!0}),E.prototype.neuter=function(){return new E(w,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)},E.prototype._derive=function(e){if(4294967295<e)throw new Error("invalid index - "+String(e));var t=this.path,r=(t&&(t+="/"+(e&~b)),new Uint8Array(37));if(e&b){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set((0,u.arrayify)(this.privateKey),1),t&&(t+="'")}else r.set((0,u.arrayify)(this.publicKey));for(var n=24;0<=n;n-=8)r[33+(n>>3)]=e>>24-n&255;var i=(0,u.arrayify)((0,f.computeHmac)(f.SupportedAlgorithm.sha512,this.chainCode,r)),o=i.slice(0,32),i=i.slice(32),s=null,a=null,o=(this.privateKey?s=v(h.BigNumber.from(o).add(this.privateKey).mod(g)):a=new l.SigningKey((0,u.hexlify)(o))._addPoint(this.publicKey),t),c=this.mnemonic;return c&&(o=Object.freeze({phrase:c.phrase,path:t,locale:c.locale||"en"})),new E(w,s,a,this.fingerprint,v(i),e,this.depth+1,o)},E.prototype.derivePath=function(e){var t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();for(var r=this,n=0;n<t.length;n++){var i=t[n];if(i.match(/^[0-9]+'$/)){var o=parseInt(i.substring(0,i.length-1));if(b<=o)throw new Error("invalid path index - "+i);r=r._derive(b+o)}else{if(!i.match(/^[0-9]+$/))throw new Error("invalid path component - "+i);o=parseInt(i);if(b<=o)throw new Error("invalid path index - "+i);r=r._derive(o)}}return r},E._fromSeed=function(e,t){e=(0,u.arrayify)(e);if(e.length<16||64<e.length)throw new Error("invalid seed");e=(0,u.arrayify)((0,f.computeHmac)(f.SupportedAlgorithm.sha512,y,e));return new E(w,v(e.slice(0,32)),null,"0x00000000",v(e.slice(32)),0,0,t)},E.fromMnemonic=function(e,t,r){return e=I(k(e,r=_(r)),r),E._fromSeed(S(e,t),{phrase:e,path:"m",locale:r.locale})},E.fromSeed=function(e){return E._fromSeed(e,null)},E.fromExtendedKey=function(e){var t=a.Base58.decode(e),r=(82===t.length&&A(t.slice(0,78))===e||p.throwArgumentError("invalid extended key","extendedKey","[REDACTED]"),t[4]),n=(0,u.hexlify)(t.slice(5,9)),i=parseInt((0,u.hexlify)(t.slice(9,13)).substring(2),16),o=(0,u.hexlify)(t.slice(13,45)),s=t.slice(45,78);switch((0,u.hexlify)(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new E(w,null,(0,u.hexlify)(s),n,o,i,r,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new E(w,(0,u.hexlify)(s.slice(1)),null,n,o,i,r,null)}return p.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")},E);function E(e,t,r,n,i,o,s,a){if(e!==w)throw new Error("HDNode constructor cannot be called directly");t?(e=new l.SigningKey(t),(0,c.defineReadOnly)(this,"privateKey",e.privateKey),(0,c.defineReadOnly)(this,"publicKey",e.compressedPublicKey)):((0,c.defineReadOnly)(this,"privateKey",null),(0,c.defineReadOnly)(this,"publicKey",(0,u.hexlify)(r))),(0,c.defineReadOnly)(this,"parentFingerprint",n),(0,c.defineReadOnly)(this,"fingerprint",(0,u.hexDataSlice)((0,f.ripemd160)((0,f.sha256)(this.publicKey)),0,4)),(0,c.defineReadOnly)(this,"address",(0,d.computeAddress)(this.publicKey)),(0,c.defineReadOnly)(this,"chainCode",i),(0,c.defineReadOnly)(this,"index",o),(0,c.defineReadOnly)(this,"depth",s),null==a?((0,c.defineReadOnly)(this,"mnemonic",null),(0,c.defineReadOnly)(this,"path",null)):"string"==typeof a?((0,c.defineReadOnly)(this,"mnemonic",null),(0,c.defineReadOnly)(this,"path",a)):((0,c.defineReadOnly)(this,"mnemonic",a),(0,c.defineReadOnly)(this,"path",a.path))}function S(e,t){t=(0,n.toUtf8Bytes)("mnemonic"+(t=t||""),n.UnicodeNormalizationForm.NFKD);return(0,i.pbkdf2)((0,n.toUtf8Bytes)(e,n.UnicodeNormalizationForm.NFKD),t,2048,64,"sha512")}function k(e,t){t=_(t),p.checkNormalize();var r=t.split(e);if(r.length%3!=0)throw new Error("invalid mnemonic");for(var n=(0,u.arrayify)(new Uint8Array(Math.ceil(11*r.length/8))),i=0,o=0;o<r.length;o++){var s=t.getWordIndex(r[o].normalize("NFKD"));if(-1===s)throw new Error("invalid mnemonic");for(var a=0;a<11;a++)s&1<<10-a&&(n[i>>3]|=1<<7-i%8),i++}var e=32*r.length/3,c=m(r.length/3);if(((0,u.arrayify)((0,f.sha256)(n.slice(0,e/8)))[0]&c)!=(n[n.length-1]&c))throw new Error("invalid checksum");return(0,u.hexlify)(n.slice(0,e/8))}function I(e,t){if(t=_(t),(e=(0,u.arrayify)(e)).length%4!=0||e.length<16||32<e.length)throw new Error("invalid entropy");for(var r=[0],n=11,i=0;i<e.length;i++)8<n?(r[r.length-1]<<=8,r[r.length-1]|=e[i],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[i]>>8-n,r.push(e[i]&(1<<8-n)-1),n+=3);var o=e.length/4,s=(0,u.arrayify)((0,f.sha256)(e))[0]&m(o);return r[r.length-1]<<=o,r[r.length-1]|=s>>8-o,t.join(r.map(function(e){return t.getWord(e)}))}r.HDNode=s,r.mnemonicToSeed=S,r.mnemonicToEntropy=k,r.entropyToMnemonic=I,r.isValidMnemonic=function(e,t){try{return k(e,t),!0}catch(e){}return!1},r.getAccountPath=function(e){return("number"!=typeof e||e<0||b<=e||e%1)&&p.throwArgumentError("invalid account index","index",e),"m/44'/60'/"+e+"'/0/0"}},{"./_version":64,"@ethersproject/basex":41,"@ethersproject/bignumber":45,"@ethersproject/bytes":47,"@ethersproject/logger":74,"@ethersproject/pbkdf2":78,"@ethersproject/properties":80,"@ethersproject/sha2":108,"@ethersproject/signing-key":112,"@ethersproject/strings":118,"@ethersproject/transactions":121,"@ethersproject/wordlists":130}],66:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="json-wallets/5.7.0"},{}],67:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=(Object.defineProperty(r,"__esModule",{value:!0}),r.decrypt=r.CrowdsaleAccount=void 0,s(e("aes-js"))),c=e("@ethersproject/address"),u=e("@ethersproject/bytes"),h=e("@ethersproject/keccak256"),l=e("@ethersproject/pbkdf2"),f=e("@ethersproject/strings"),s=e("@ethersproject/properties"),d=e("@ethersproject/logger"),p=e("./_version"),g=new d.Logger(p.version),y=e("./utils"),b=(i=s.Description,o(m,i),m.prototype.isCrowdsaleAccount=function(e){return!(!e||!e._isCrowdsaleAccount)},m);function m(){return null!==i&&i.apply(this,arguments)||this}r.CrowdsaleAccount=b,r.decrypt=function(e,t){for(var r=JSON.parse(e),n=(t=(0,y.getPassword)(t),(0,c.getAddress)((0,y.searchPath)(r,"ethaddr"))),e=((r=(0,y.looseArrayify)((0,y.searchPath)(r,"encseed")))&&r.length%16==0||g.throwArgumentError("invalid encseed","json",e),(0,u.arrayify)((0,l.pbkdf2)(t,t,2e3,32,"sha256")).slice(0,16)),t=r.slice(0,16),r=r.slice(16),e=new a.default.ModeOfOperation.cbc(e,t),i=a.default.padding.pkcs7.strip((0,u.arrayify)(e.decrypt(r))),o="",s=0;s<i.length;s++)o+=String.fromCharCode(i[s]);return t=(0,f.toUtf8Bytes)(o),e=(0,h.keccak256)(t),new b({_isCrowdsaleAccount:!0,address:n,privateKey:e})}},{"./_version":66,"./utils":71,"@ethersproject/address":38,"@ethersproject/bytes":47,"@ethersproject/keccak256":72,"@ethersproject/logger":74,"@ethersproject/pbkdf2":78,"@ethersproject/properties":80,"@ethersproject/strings":118,"aes-js":159}],68:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decryptJsonWalletSync=r.decryptJsonWallet=r.getJsonWalletAddress=r.isKeystoreWallet=r.isCrowdsaleWallet=r.encryptKeystore=r.decryptKeystoreSync=r.decryptKeystore=r.decryptCrowdsale=void 0;var i=e("./crowdsale"),o=(Object.defineProperty(r,"decryptCrowdsale",{enumerable:!0,get:function(){return i.decrypt}}),e("./inspect")),s=(Object.defineProperty(r,"getJsonWalletAddress",{enumerable:!0,get:function(){return o.getJsonWalletAddress}}),Object.defineProperty(r,"isCrowdsaleWallet",{enumerable:!0,get:function(){return o.isCrowdsaleWallet}}),Object.defineProperty(r,"isKeystoreWallet",{enumerable:!0,get:function(){return o.isKeystoreWallet}}),e("./keystore"));Object.defineProperty(r,"decryptKeystore",{enumerable:!0,get:function(){return s.decrypt}}),Object.defineProperty(r,"decryptKeystoreSync",{enumerable:!0,get:function(){return s.decryptSync}}),Object.defineProperty(r,"encryptKeystore",{enumerable:!0,get:function(){return s.encrypt}}),r.decryptJsonWallet=function(e,t,r){var n;return(0,o.isCrowdsaleWallet)(e)?(r&&r(0),n=(0,i.decrypt)(e,t),r&&r(1),Promise.resolve(n)):(0,o.isKeystoreWallet)(e)?(0,s.decrypt)(e,t,r):Promise.reject(new Error("invalid JSON wallet"))},r.decryptJsonWalletSync=function(e,t){if((0,o.isCrowdsaleWallet)(e))return(0,i.decrypt)(e,t);if((0,o.isKeystoreWallet)(e))return(0,s.decryptSync)(e,t);throw new Error("invalid JSON wallet")}},{"./crowdsale":67,"./inspect":69,"./keystore":70}],69:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getJsonWalletAddress=r.isKeystoreWallet=r.isCrowdsaleWallet=void 0;var n=e("@ethersproject/address");function i(e){var t=null;try{t=JSON.parse(e)}catch(e){return!1}return t.encseed&&t.ethaddr}function o(e){var t=null;try{t=JSON.parse(e)}catch(e){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}r.isCrowdsaleWallet=i,r.isKeystoreWallet=o,r.getJsonWalletAddress=function(e){if(i(e))try{return(0,n.getAddress)(JSON.parse(e).ethaddr)}catch(e){return null}if(o(e))try{return(0,n.getAddress)(JSON.parse(e).address)}catch(e){}return null}},{"@ethersproject/address":38}],70:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}o((c=c.apply(e,s||[])).next())})},a=this&&this.__generator||function(n,i){var o,s,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=i.call(n,c)}catch(e){t=[6,e],s=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},y=(Object.defineProperty(r,"__esModule",{value:!0}),r.encrypt=r.decrypt=r.decryptSync=r.KeystoreAccount=void 0,o(e("aes-js"))),b=o(e("scrypt-js")),m=e("@ethersproject/address"),v=e("@ethersproject/bytes"),A=e("@ethersproject/hdnode"),_=e("@ethersproject/keccak256"),c=e("@ethersproject/pbkdf2"),w=e("@ethersproject/random"),o=e("@ethersproject/properties"),E=e("@ethersproject/transactions"),S=e("./utils"),u=e("@ethersproject/logger"),e=e("./_version"),f=new u.Logger(e.version);function k(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}h=o.Description,i(d,h),d.prototype.isKeystoreAccount=function(e){return!(!e||!e._isKeystoreAccount)};var h,l=d;function d(){return null!==h&&h.apply(this,arguments)||this}function p(e,t){var r=(0,S.looseArrayify)((0,S.searchPath)(e,"crypto/ciphertext"));if((0,v.hexlify)((0,_.keccak256)((0,v.concat)([t.slice(16,32),r]))).substring(2)!==(0,S.searchPath)(e,"crypto/mac").toLowerCase())throw new Error("invalid password");n=e,i=t.slice(0,16),r=r;var n="aes-128-ctr"===(0,S.searchPath)(n,"crypto/cipher")?(n=(0,S.looseArrayify)((0,S.searchPath)(n,"crypto/cipherparams/iv")),n=new y.default.Counter(n),i=new y.default.ModeOfOperation.ctr(i,n),(0,v.arrayify)(i.decrypt(r))):null,i=(n||f.throwError("unsupported cipher",u.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"}),t.slice(32,64)),r=(0,E.computeAddress)(n);if(e.address){t=e.address.toLowerCase();if("0x"!==t.substring(0,2)&&(t="0x"+t),(0,m.getAddress)(t)!==r)throw new Error("address mismatch")}t={_isKeystoreAccount:!0,address:r,privateKey:(0,v.hexlify)(n)};if("0.1"===(0,S.searchPath)(e,"x-ethers/version")){r=(0,S.looseArrayify)((0,S.searchPath)(e,"x-ethers/mnemonicCiphertext")),n=(0,S.looseArrayify)((0,S.searchPath)(e,"x-ethers/mnemonicCounter")),n=new y.default.Counter(n),i=new y.default.ModeOfOperation.ctr(i,n),n=(0,S.searchPath)(e,"x-ethers/path")||A.defaultPath,e=(0,S.searchPath)(e,"x-ethers/locale")||"en",i=(0,v.arrayify)(i.decrypt(r));try{var o=(0,A.entropyToMnemonic)(i,e),s=A.HDNode.fromMnemonic(o,null,e).derivePath(n);if(s.privateKey!=t.privateKey)throw new Error("mnemonic mismatch");t.mnemonic=s.mnemonic}catch(e){if(e.code!==u.Logger.errors.INVALID_ARGUMENT||"wordlist"!==e.argument)throw e}}return new l(t)}function g(e,t,r,n,i){return(0,v.arrayify)((0,c.pbkdf2)(e,t,r,n,i))}function I(e,t,r,n,i){return Promise.resolve(g(e,t,r,n,i))}function C(e,t,r,n,i){var t=(0,S.getPassword)(t),o=(0,S.searchPath)(e,"crypto/kdf");if(o&&"string"==typeof o){var s,a,c,u,h,l=function(e,t){return f.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===o.toLowerCase())return a=(0,S.looseArrayify)((0,S.searchPath)(e,"crypto/kdfparams/salt")),c=parseInt((0,S.searchPath)(e,"crypto/kdfparams/n")),u=parseInt((0,S.searchPath)(e,"crypto/kdfparams/r")),s=parseInt((0,S.searchPath)(e,"crypto/kdfparams/p")),c&&u&&s||l("kdf",o),0!=(c&c-1)&&l("N",c),32!==(h=parseInt((0,S.searchPath)(e,"crypto/kdfparams/dklen")))&&l("dklen",h),n(t,a,c,u,s,64,i);if("pbkdf2"===o.toLowerCase())return a=(0,S.looseArrayify)((0,S.searchPath)(e,"crypto/kdfparams/salt")),"hmac-sha256"===(c=(n=null,S.searchPath)(e,"crypto/kdfparams/prf"))?n="sha256":"hmac-sha512"===c?n="sha512":l("prf",c),u=parseInt((0,S.searchPath)(e,"crypto/kdfparams/c")),32!==(h=parseInt((0,S.searchPath)(e,"crypto/kdfparams/dklen")))&&l("dklen",h),r(t,a,u,h,n)}return f.throwArgumentError("unsupported key-derivation function","kdf",o)}r.KeystoreAccount=l,r.decryptSync=function(e,t){return p(e=JSON.parse(e),C(e,t,g,b.default.syncScrypt))},r.decrypt=function(n,i,o){return s(this,void 0,void 0,function(){var t,r;return a(this,function(e){switch(e.label){case 0:return[4,C(t=JSON.parse(n),i,I,b.default.scrypt,o)];case 1:return r=e.sent(),[2,p(t,r)]}})})},r.encrypt=function(i,e,t,r){try{if((0,m.getAddress)(i.address)!==(0,E.computeAddress)(i.privateKey))throw new Error("address/privateKey mismatch");if(k(i)){var n=i.mnemonic;if(A.HDNode.fromMnemonic(n.phrase,null,n.locale).derivePath(n.path||A.defaultPath).privateKey!=i.privateKey)throw new Error("mnemonic mismatch")}}catch(e){return Promise.reject(e)}"function"!=typeof t||r||(r=t,t={}),t=t||{};var o=(0,v.arrayify)(i.privateKey),n=(0,S.getPassword)(e),s=null,a=null,c=null,u=(k(i)&&(e=i.mnemonic,s=(0,v.arrayify)((0,A.mnemonicToEntropy)(e.phrase,e.locale||"en")),a=e.path||A.defaultPath,c=e.locale||"en"),(u=t.client)||"ethers.js"),h=null,h=t.salt?(0,v.arrayify)(t.salt):(0,w.randomBytes)(32),l=null;if(t.iv){if(16!==(l=(0,v.arrayify)(t.iv)).length)throw new Error("invalid iv")}else l=(0,w.randomBytes)(16);var f=null;if(t.uuid){if(16!==(f=(0,v.arrayify)(t.uuid)).length)throw new Error("invalid uuid")}else f=(0,w.randomBytes)(16);var d=1<<17,p=8,g=1;return t.scrypt&&(t.scrypt.N&&(d=t.scrypt.N),t.scrypt.r&&(p=t.scrypt.r),t.scrypt.p&&(g=t.scrypt.p)),b.default.scrypt(n,h,d,p,g,64,r).then(function(e){var t=(e=(0,v.arrayify)(e)).slice(0,16),r=e.slice(16,32),e=e.slice(32,64),n=new y.default.Counter(l),t=new y.default.ModeOfOperation.ctr(t,n),n=(0,v.arrayify)(t.encrypt(o)),t=(0,_.keccak256)((0,v.concat)([r,n])),r={address:i.address.substring(2).toLowerCase(),id:(0,S.uuidV4)(f),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,v.hexlify)(l).substring(2)},ciphertext:(0,v.hexlify)(n).substring(2),kdf:"scrypt",kdfparams:{salt:(0,v.hexlify)(h).substring(2),n:d,dklen:32,p:g,r:p},mac:t.substring(2)}};return s&&(n=(0,w.randomBytes)(16),t=new y.default.Counter(n),e=new y.default.ModeOfOperation.ctr(e,t),t=(0,v.arrayify)(e.encrypt(s)),e=(e=new Date).getUTCFullYear()+"-"+(0,S.zpad)(e.getUTCMonth()+1,2)+"-"+(0,S.zpad)(e.getUTCDate(),2)+"T"+(0,S.zpad)(e.getUTCHours(),2)+"-"+(0,S.zpad)(e.getUTCMinutes(),2)+"-"+(0,S.zpad)(e.getUTCSeconds(),2)+".0Z",r["x-ethers"]={client:u,gethFilename:"UTC--"+e+"--"+r.address,mnemonicCounter:(0,v.hexlify)(n).substring(2),mnemonicCiphertext:(0,v.hexlify)(t).substring(2),path:a,locale:c,version:"0.1"}),JSON.stringify(r)})}},{"./_version":66,"./utils":71,"@ethersproject/address":38,"@ethersproject/bytes":47,"@ethersproject/hdnode":65,"@ethersproject/keccak256":72,"@ethersproject/logger":74,"@ethersproject/pbkdf2":78,"@ethersproject/properties":80,"@ethersproject/random":102,"@ethersproject/transactions":121,"aes-js":159,"scrypt-js":490}],71:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.uuidV4=r.searchPath=r.getPassword=r.zpad=r.looseArrayify=void 0;var n=e("@ethersproject/bytes"),i=e("@ethersproject/strings");r.looseArrayify=function(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),(0,n.arrayify)(e)},r.zpad=function(e,t){for(e=String(e);e.length<t;)e="0"+e;return e},r.getPassword=function(e){return"string"==typeof e?(0,i.toUtf8Bytes)(e,i.UnicodeNormalizationForm.NFKC):(0,n.arrayify)(e)},r.searchPath=function(e,t){for(var r=e,n=t.toLowerCase().split("/"),i=0;i<n.length;i++){var o,s=null;for(o in r)if(o.toLowerCase()===n[i]){s=r[o];break}if(null===s)return null;r=s}return r},r.uuidV4=function(e){return(e=(0,n.arrayify)(e))[6]=15&e[6]|64,e[8]=63&e[8]|128,[(e=(0,n.hexlify)(e)).substring(2,10),e.substring(10,14),e.substring(14,18),e.substring(18,22),e.substring(22,34)].join("-")}},{"@ethersproject/bytes":47,"@ethersproject/strings":118}],72:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(r,"__esModule",{value:!0}),r.keccak256=void 0,n(e("js-sha3"))),o=e("@ethersproject/bytes");r.keccak256=function(e){return"0x"+i.default.keccak_256((0,o.arrayify)(e))}},{"@ethersproject/bytes":47,"js-sha3":371}],73:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="logger/5.7.0"},{}],74:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Logger=r.ErrorCode=r.LogLevel=void 0;var n=!1,c=!1,i={debug:1,default:2,info:2,warning:3,error:4,off:5},o=i.default,s=e("./_version"),a=null;var u,h,l=function(){try{var r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(function(t){try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(e){r.push(t)}}),r.length)throw new Error("missing "+r.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}(),f=((h=e=r.LogLevel||(r.LogLevel={})).DEBUG="DEBUG",h.INFO="INFO",h.WARNING="WARNING",h.ERROR="ERROR",h.OFF="OFF",(h=u=r.ErrorCode||(r.ErrorCode={})).UNKNOWN_ERROR="UNKNOWN_ERROR",h.NOT_IMPLEMENTED="NOT_IMPLEMENTED",h.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",h.NETWORK_ERROR="NETWORK_ERROR",h.SERVER_ERROR="SERVER_ERROR",h.TIMEOUT="TIMEOUT",h.BUFFER_OVERRUN="BUFFER_OVERRUN",h.NUMERIC_FAULT="NUMERIC_FAULT",h.MISSING_NEW="MISSING_NEW",h.INVALID_ARGUMENT="INVALID_ARGUMENT",h.MISSING_ARGUMENT="MISSING_ARGUMENT",h.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",h.CALL_EXCEPTION="CALL_EXCEPTION",h.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",h.NONCE_EXPIRED="NONCE_EXPIRED",h.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",h.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",h.TRANSACTION_REPLACED="TRANSACTION_REPLACED",h.ACTION_REJECTED="ACTION_REJECTED","0123456789abcdef");function d(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}d.prototype._log=function(e,t){var r=e.toLowerCase();null==i[r]&&this.throwArgumentError("invalid log level name","logLevel",e),i[r]<o||console.log.apply(console,t)},d.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log(d.levels.DEBUG,e)},d.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log(d.levels.INFO,e)},d.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log(d.levels.WARNING,e)},d.prototype.makeError=function(e,t,i){if(c)return this.makeError("censored error",t,{});t=t||d.errors.UNKNOWN_ERROR,i=i||{};var o=[],r=(Object.keys(i).forEach(function(t){var e=i[t];try{if(e instanceof Uint8Array){for(var r="",n=0;n<e.length;n++)r=(r+=f[e[n]>>4])+f[15&e[n]];o.push(t+"=Uint8Array(0x"+r+")")}else o.push(t+"="+JSON.stringify(e))}catch(e){o.push(t+"="+JSON.stringify(i[t].toString()))}}),o.push("code="+t),o.push("version="+this.version),e),n="";switch(t){case u.NUMERIC_FAULT:var n="NUMERIC_FAULT",s=e;switch(s){case"overflow":case"underflow":case"division-by-zero":n+="-"+s;break;case"negative-power":case"negative-width":n+="-unsupported";break;case"unbound-bitwise-result":n+="-unbound-result"}break;case u.CALL_EXCEPTION:case u.INSUFFICIENT_FUNDS:case u.MISSING_NEW:case u.NONCE_EXPIRED:case u.REPLACEMENT_UNDERPRICED:case u.TRANSACTION_REPLACED:case u.UNPREDICTABLE_GAS_LIMIT:n=t}n&&(e+=" [ See: https://links.ethers.org/v5-errors-"+n+" ]"),o.length&&(e+=" ("+o.join(", ")+")");var a=new Error(e);return a.reason=r,a.code=t,Object.keys(i).forEach(function(e){a[e]=i[e]}),a},d.prototype.throwError=function(e,t,r){throw this.makeError(e,t,r)},d.prototype.throwArgumentError=function(e,t,r){return this.throwError(e,d.errors.INVALID_ARGUMENT,{argument:t,value:r})},d.prototype.assert=function(e,t,r,n){e||this.throwError(t,r,n)},d.prototype.assertArgument=function(e,t,r,n){e||this.throwArgumentError(t,r,n)},d.prototype.checkNormalize=function(e){null==e&&(e="platform missing String.prototype.normalize"),l&&this.throwError("platform missing String.prototype.normalize",d.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:l})},d.prototype.checkSafeUint53=function(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||9007199254740991<=e)&&this.throwError(t,d.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,d.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))},d.prototype.checkArgumentCount=function(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,d.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),t<e&&this.throwError("too many arguments"+r,d.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})},d.prototype.checkNew=function(e,t){e!==Object&&null!=e||this.throwError("missing new",d.errors.MISSING_NEW,{name:t.name})},d.prototype.checkAbstract=function(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",d.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",d.errors.MISSING_NEW,{name:t.name})},d.globalLogger=function(){return a=a||new d(s.version)},d.setCensorship=function(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",d.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),n){if(!e)return;this.globalLogger().throwError("error censorship permanent",d.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}c=!!e,n=!!t},d.setLogLevel=function(e){var t=i[e.toLowerCase()];null==t?d.globalLogger().warn("invalid log level - "+e):o=t},d.from=function(e){return new d(e)},d.errors=u,d.levels=e,r.Logger=d},{"./_version":73}],75:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="networks/5.7.0"},{}],76:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getNetwork=void 0;var n=e("@ethersproject/logger"),e=e("./_version"),o=new n.Logger(e.version);function i(o){function e(e,t){null==t&&(t={});var r=[];if(e.InfuraProvider&&"-"!==t.infura)try{r.push(new e.InfuraProvider(o,t.infura))}catch(e){}if(e.EtherscanProvider&&"-"!==t.etherscan)try{r.push(new e.EtherscanProvider(o,t.etherscan))}catch(e){}if(e.AlchemyProvider&&"-"!==t.alchemy)try{r.push(new e.AlchemyProvider(o,t.alchemy))}catch(e){}if(e.PocketProvider&&"-"!==t.pocket){var n=["goerli","ropsten","rinkeby"];try{(i=new e.PocketProvider(o,t.pocket)).network&&-1===n.indexOf(i.network.name)&&r.push(i)}catch(e){}}if(e.CloudflareProvider&&"-"!==t.cloudflare)try{r.push(new e.CloudflareProvider(o))}catch(e){}if(e.AnkrProvider&&"-"!==t.ankr)try{var i,n=["ropsten"];(i=new e.AnkrProvider(o,t.ankr)).network&&-1===n.indexOf(i.network.name)&&r.push(i)}catch(e){}return 0===r.length?null:e.FallbackProvider?(n=1,null!=t.quorum?n=t.quorum:"homestead"===o&&(n=2),new e.FallbackProvider(r,n)):r[0]}return e.renetwork=i,e}function s(r,n){function e(e,t){return e.JsonRpcProvider?new e.JsonRpcProvider(r,n):null}return e.renetwork=function(e){return s(r,e)},e}var n={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:i("homestead")},e={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:i("ropsten")},a={chainId:63,name:"classicMordor",_defaultProvider:s("https://www.ethercluster.com/mordor","classicMordor")},c={unspecified:{chainId:0,name:"unspecified"},homestead:n,mainnet:n,morden:{chainId:2,name:"morden"},ropsten:e,testnet:e,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:i("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:i("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:i("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:s("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:a,classicTestnet:a,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:s("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:i("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:i("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};r.getNetwork=function(e){if(null==e)return null;if("number"==typeof e){for(var t in c){t=c[t];if(t.chainId===e)return{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress||null,_defaultProvider:t._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e)return null==(r=c[e])?null:{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress,_defaultProvider:r._defaultProvider||null};var r=c[e.name];if(!r)return"number"!=typeof e.chainId&&o.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==r.chainId&&o.throwArgumentError("network chainId mismatch","network",e);var n,i=e._defaultProvider||null;return null==i&&r._defaultProvider&&(i=(n=r._defaultProvider)&&"function"==typeof n.renetwork?r._defaultProvider.renetwork(e):r._defaultProvider),{name:e.name,chainId:r.chainId,ensAddress:e.ensAddress||r.ensAddress||null,_defaultProvider:i}}},{"./_version":75,"@ethersproject/logger":74}],77:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.pbkdf2=void 0;var b=e("@ethersproject/bytes"),m=e("@ethersproject/sha2");r.pbkdf2=function(e,t,r,n,i){e=(0,b.arrayify)(e),t=(0,b.arrayify)(t);var o,s,a,c=1,u=new Uint8Array(n),h=new Uint8Array(t.length+4);h.set(t);for(var l=1;l<=c;l++){h[t.length]=l>>24&255,h[t.length+1]=l>>16&255,h[t.length+2]=l>>8&255,h[t.length+3]=255&l;var f=(0,b.arrayify)((0,m.computeHmac)(i,e,h));o||(o=f.length,a=new Uint8Array(o),s=n-((c=Math.ceil(n/o))-1)*o),a.set(f);for(var d=1;d<r;d++)for(var f=(0,b.arrayify)((0,m.computeHmac)(i,e,f)),p=0;p<o;p++)a[p]^=f[p];var g=(l-1)*o,y=l===c?s:o;u.set((0,b.arrayify)(a).slice(0,y),g)}return(0,b.hexlify)(u)}},{"@ethersproject/bytes":47,"@ethersproject/sha2":108}],78:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.pbkdf2=void 0;var n=e("./pbkdf2");Object.defineProperty(r,"pbkdf2",{enumerable:!0,get:function(){return n.pbkdf2}})},{"./pbkdf2":77}],79:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="properties/5.7.0"},{}],80:[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}o((c=c.apply(e,s||[])).next())})},i=this&&this.__generator||function(n,i){var o,s,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=i.call(n,c)}catch(e){t=[6,e],s=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},o=(Object.defineProperty(r,"__esModule",{value:!0}),r.Description=r.deepCopy=r.shallowCopy=r.checkProperties=r.resolveProperties=r.getStatic=r.defineReadOnly=void 0,e("@ethersproject/logger")),e=e("./_version"),s=new o.Logger(e.version);function a(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}r.defineReadOnly=a,r.getStatic=function(e,t){for(var r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null},r.resolveProperties=function(r){return n(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return t=Object.keys(r).map(function(t){var e=r[t];return Promise.resolve(e).then(function(e){return{key:t,value:e}})}),[4,Promise.all(t)];case 1:return[2,e.sent().reduce(function(e,t){return e[t.key]=t.value,e},{})]}})})},r.checkProperties=function(t,r){t&&"object"==typeof t||s.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(function(e){r[e]||s.throwArgumentError("invalid object key - "+e,"transaction:"+e,t)})},r.shallowCopy=function(e){var t,r={};for(t in e)r[t]=e[t];return r};var c={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function u(e){if(function e(t){if(null==t||c[typeof t])return 1;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return;for(var r=Object.keys(t),n=0;n<r.length;n++){var i=null;try{i=t[r[n]]}catch(e){continue}if(!e(i))return}return 1}return s.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}(e))return e;if(Array.isArray(e))return Object.freeze(e.map(h));if("object"!=typeof e)return s.throwArgumentError("Cannot deepCopy "+typeof e,"object",e);var t,r={};for(t in e){var n=e[t];void 0!==n&&a(r,t,h(n))}return r}function h(e){return u(e)}r.deepCopy=h,r.Description=function(e){for(var t in e)this[t]=h(e[t])}},{"./_version":79,"@ethersproject/logger":74}],81:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="providers/5.7.0"},{}],82:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.AlchemyProvider=r.AlchemyWebSocketProvider=void 0,e("@ethersproject/properties")),a=e("./formatter"),c=e("./websocket-provider"),u=e("@ethersproject/logger"),h=e("./_version"),l=new u.Logger(h.version),u=e("./url-json-rpc-provider"),f="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC",d=(i=c.WebSocketProvider,o(p,i),p.prototype.isCommunityResource=function(){return this.apiKey===f},p);function p(e,t){e=new y(e,t),t=e.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),t=i.call(this,t,e.network)||this;return(0,s.defineReadOnly)(t,"apiKey",e.apiKey),t}r.AlchemyWebSocketProvider=d;g=u.UrlJsonRpcProvider,o(b,g),b.getWebSocketProvider=function(e,t){return new d(e,t)},b.getApiKey=function(e){return null==e?f:(e&&"string"!=typeof e&&l.throwArgumentError("invalid apiKey","apiKey",e),e)},b.getUrl=function(e,r){var t=null;switch(e.name){case"homestead":t="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":t="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":t="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":t="eth-goerli.alchemyapi.io/v2/";break;case"kovan":t="eth-kovan.alchemyapi.io/v2/";break;case"matic":t="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":t="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":t="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":t="arb-rinkeby.g.alchemy.com/v2/";break;case"arbitrum-goerli":t="arb-goerli.g.alchemy.com/v2/";break;case"optimism":t="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":t="opt-kovan.g.alchemy.com/v2/";break;case"optimism-goerli":t="opt-goerli.g.alchemy.com/v2/";break;default:l.throwArgumentError("unsupported network","network",e)}return{allowGzip:!0,url:"https://"+t+r,throttleCallback:function(e,t){return r===f&&(0,a.showThrottleMessage)(),Promise.resolve(!0)}}},b.prototype.isCommunityResource=function(){return this.apiKey===f};var g,y=b;function b(){return null!==g&&g.apply(this,arguments)||this}r.AlchemyProvider=y},{"./_version":81,"./formatter":90,"./url-json-rpc-provider":97,"./websocket-provider":99,"@ethersproject/logger":74,"@ethersproject/properties":80}],83:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),r.AnkrProvider=void 0,e("./formatter")),s=e("./url-json-rpc-provider"),a=e("@ethersproject/logger"),e=e("./_version"),c=new a.Logger(e.version),u="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";h=s.UrlJsonRpcProvider,i(l,h),l.prototype.isCommunityResource=function(){return this.apiKey===u},l.getApiKey=function(e){return null==e?u:e},l.getUrl=function(e,r){null==r&&(r=u);e={allowGzip:!0,url:"https://"+function(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return c.throwArgumentError("unsupported network","name",e)}(e.name)+r,throttleCallback:function(e,t){return r.apiKey===u&&(0,o.showThrottleMessage)(),Promise.resolve(!0)}};return null!=r.projectSecret&&(e.user="",e.password=r.projectSecret),e};var h,a=l;function l(){return null!==h&&h.apply(this,arguments)||this}r.AnkrProvider=a},{"./_version":81,"./formatter":90,"./url-json-rpc-provider":97,"@ethersproject/logger":74}],84:[function(e,D,t){"use strict";var n,N=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),b=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}o((c=c.apply(e,s||[])).next())})},A=this&&this.__generator||function(n,i){var o,s,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=i.call(n,c)}catch(e){t=[6,e],s=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.BaseProvider=t.Resolver=t.Event=void 0,e("@ethersproject/abstract-provider")),F=e("@ethersproject/base64"),o=e("@ethersproject/basex"),_=e("@ethersproject/bignumber"),w=e("@ethersproject/bytes"),j=e("@ethersproject/constants"),u=e("@ethersproject/hash"),U=e("@ethersproject/networks"),a=e("@ethersproject/properties"),s=e("@ethersproject/sha2"),c=e("@ethersproject/strings"),E=e("@ethersproject/web"),h=r(e("bech32")),m=e("@ethersproject/logger"),r=e("./_version"),v=new m.Logger(r.version),l=e("./formatter");function f(e){return null==e?"null":(32!==(0,w.hexDataLength)(e)&&v.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function d(e){for(e=e.slice();0<e.length&&null==e[e.length-1];)e.pop();return e.map(function(e){var t,r;return Array.isArray(e)?(t={},e.forEach(function(e){t[f(e)]=!0}),(r=Object.keys(t)).sort(),r.join("|")):f(e)}).join("&")}function p(e){if("string"==typeof e){if(e=e.toLowerCase(),32===(0,w.hexDataLength)(e))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+d(e);if(i.ForkEvent.isForkEvent(e))throw v.warn("not implemented"),new Error("not implemented");if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+d(e.topics||[])}throw new Error("invalid event - "+e)}function g(){return(new Date).getTime()}function S(t){return new Promise(function(e){setTimeout(e,t)})}var J=["block","network","pending","poll"],y=(Object.defineProperty(k.prototype,"event",{get:function(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"type",{get:function(){return this.tag.split(":")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"hash",{get:function(){var e=this.tag.split(":");return"tx"!==e[0]?null:e[1]},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"filter",{get:function(){var e,t,r=this.tag.split(":");return"filter"!==r[0]?null:(e=r[1],t={},0<(r=""===(r=r[2])?[]:r.split(/&/g).map(function(e){return""===e?[]:1===(e=e.split("|").map(function(e){return"null"===e?null:e})).length?e[0]:e})).length&&(t.topics=r),e&&"*"!==e&&(t.address=e),t)},enumerable:!1,configurable:!0}),k.prototype.pollable=function(){return 0<=this.tag.indexOf(":")||0<=J.indexOf(this.tag)},k);function k(e,t,r){(0,a.defineReadOnly)(this,"tag",e),(0,a.defineReadOnly)(this,"listener",t),(0,a.defineReadOnly)(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}t.Event=y;var Q={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function I(e){return(0,w.hexZeroPad)(_.BigNumber.from(e).toHexString(),32)}function C(e){return o.Base58.encode((0,w.concat)([e,(0,w.hexDataSlice)((0,s.sha256)((0,s.sha256)(e)),0,4)]))}var H=new RegExp("^(ipfs)://(.*)$","i"),K=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),H,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function B(e,t){try{return(0,c.toUtf8String)(x(e,t))}catch(e){}return null}function x(e,t){var r;return"0x"===e?null:(t=_.BigNumber.from((0,w.hexDataSlice)(e,t,t+32)).toNumber(),r=_.BigNumber.from((0,w.hexDataSlice)(e,t,t+32)).toNumber(),(0,w.hexDataSlice)(e,t+32,t+32+r))}function T(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):v.throwArgumentError("unsupported IPFS format","link",e),"https://gateway.ipfs.io/ipfs/"+e}function G(e){e=(0,w.arrayify)(e);if(32<e.length)throw new Error("internal; should not happen");var t=new Uint8Array(32);return t.set(e,32-e.length),t}function z(e){for(var t=[],r=0,n=0;n<e.length;n++)t.push(null),r+=32;for(var i,o,n=0;n<e.length;n++){var s=(0,w.arrayify)(e[n]);t[n]=G(r),t.push(G(s.length)),t.push((o=void 0,(i=s).length%32==0?i:((o=new Uint8Array(32*Math.ceil(i.length/32))).set(i),o))),r+=32+32*Math.ceil(s.length/32)}return(0,w.hexConcat)(t)}P.prototype.supportsWildcard=function(){var t=this;return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(function(e){return _.BigNumber.from(e).eq(1)}).catch(function(e){if(e.code===m.Logger.errors.CALL_EXCEPTION)return!1;throw t._supportsEip2544=null,e})),this._supportsEip2544},P.prototype._fetch=function(i,o){return b(this,void 0,void 0,function(){var t,r,n;return A(this,function(e){switch(e.label){case 0:return t={to:this.address,ccipReadEnabled:!0,data:(0,w.hexConcat)([i,(0,u.namehash)(this.name),o||"0x"])},r=!1,[4,this.supportsWildcard()];case 1:e.sent()&&(r=!0,t.data=(0,w.hexConcat)(["0x9061b923",z([(0,u.dnsEncode)(this.name),t.data])])),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this.provider.call(t)];case 3:return n=e.sent(),(0,w.arrayify)(n).length%32==4&&v.throwError("resolver threw error",m.Logger.errors.CALL_EXCEPTION,{transaction:t,data:n}),[2,n=r?x(n,0):n];case 4:if((n=e.sent()).code===m.Logger.errors.CALL_EXCEPTION)return[2,null];throw n;case 5:return[2]}})})},P.prototype._fetchBytes=function(r,n){return b(this,void 0,void 0,function(){var t;return A(this,function(e){switch(e.label){case 0:return[4,this._fetch(r,n)];case 1:return null!=(t=e.sent())?[2,x(t,0)]:[2,null]}})})},P.prototype._getAddress=function(e,t){var r=Q[String(e)];if(null==r&&v.throwError("unsupported coin type: "+e,m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress("+e+")"}),"eth"===r.ilk)return this.provider.formatter.address(t);e=(0,w.arrayify)(t);if(null!=r.p2pkh){var n=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(n){var i=parseInt(n[1],16);if(n[2].length===2*i&&1<=i&&i<=75)return C((0,w.concat)([[r.p2pkh],"0x"+n[2]]))}}if(null!=r.p2sh){i=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(i){n=parseInt(i[1],16);if(i[2].length===2*n&&1<=n&&n<=75)return C((0,w.concat)([[r.p2sh],"0x"+i[2]]))}}if(null!=r.prefix){t=e[1],n=e[0];if(0<=(n=0!==n||20!==t&&32!==t?-1:n)&&e.length===2+t&&1<=t&&t<=75)return(i=h.default.toWords(e.slice(2))).unshift(n),h.default.encode(r.prefix,i)}return null},P.prototype.getAddress=function(i){return b(this,void 0,void 0,function(){var t,r,n;return A(this,function(e){switch(e.label){case 0:if(60!==(i=null==i?60:i))return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this._fetch("0x3b3b57de")];case 2:return"0x"===(t=e.sent())||t===j.HashZero?[2,null]:[2,this.provider.formatter.callAddress(t)];case 3:if((t=e.sent()).code===m.Logger.errors.CALL_EXCEPTION)return[2,null];throw t;case 4:return[4,this._fetchBytes("0xf1cb7e06",I(i))];case 5:return null==(r=e.sent())||"0x"===r?[2,null]:(null==(n=this._getAddress(i,r))&&v.throwError("invalid or unsupported coin data",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress("+i+")",coinType:i,data:r}),[2,n])}})})},P.prototype.getAvatar=function(){return b(this,void 0,void 0,function(){var t,r,n,i,o,s,a,c,u,h,l,f,d,p,g,y,b,m,v;return A(this,function(e){switch(e.label){case 0:t=[{type:"name",content:this.name}],e.label=1;case 1:return e.trys.push([1,19,,20]),[4,this.getText("avatar")];case 2:if(null==(r=e.sent()))return[2,null];n=0,e.label=3;case 3:if(!(n<K.length))return[3,18];if(null!=(i=r.match(K[n])))switch(o=i[1].toLowerCase()){case"https":return[3,4];case"data":return[3,5];case"ipfs":return[3,6];case"erc721":case"erc1155":return[3,7]}return[3,17];case 4:return t.push({type:"url",content:r}),[2,{linkage:t,url:r}];case 5:return t.push({type:"data",content:r}),[2,{linkage:t,url:r}];case 6:return t.push({type:"ipfs",content:r}),[2,{linkage:t,url:T(r)}];case 7:return s="erc721"===o?"0xc87b56dd":"0x0e89341c",t.push({type:o,content:r}),(c=this._resolvedAddress)?[3,9]:[4,this.getAddress()];case 8:c=e.sent(),e.label=9;case 9:return a=c,2!==(u=(i[2]||"").split("/")).length?[2,null]:[4,this.provider.formatter.address(u[0])];case 10:return(h=e.sent(),l=(0,w.hexZeroPad)(_.BigNumber.from(u[1]).toHexString(),32),"erc721"!==o)?[3,12]:(d=(f=this.provider.formatter).callAddress,[4,this.provider.call({to:h,data:(0,w.hexConcat)(["0x6352211e",l])})]);case 11:return(p=d.apply(f,[e.sent()]),a!==p)?[2,null]:(t.push({type:"owner",content:p}),[3,14]);case 12:return"erc1155"!==o?[3,14]:(y=(g=_.BigNumber).from,[4,this.provider.call({to:h,data:(0,w.hexConcat)(["0x00fdd58e",(0,w.hexZeroPad)(a,32),l])})]);case 13:if((p=y.apply(g,[e.sent()])).isZero())return[2,null];t.push({type:"balance",content:p.toString()}),e.label=14;case 14:return b={to:this.provider.formatter.address(u[0]),data:(0,w.hexConcat)([s,l])},m=B,[4,this.provider.call(b)];case 15:return null==(b=m.apply(void 0,[e.sent(),0]))?[2,null]:(t.push({type:"metadata-url-base",content:b}),"erc1155"===o&&(b=b.replace("{id}",l.substring(2)),t.push({type:"metadata-url-expanded",content:b})),b.match(/^ipfs:/i)&&(b=T(b)),t.push({type:"metadata-url",content:b}),[4,(0,E.fetchJson)(b)]);case 16:if(!(v=e.sent()))return[2,null];if(t.push({type:"metadata",content:JSON.stringify(v)}),"string"!=typeof(v=v.image))return[2,null];if(!v.match(/^(https:\/\/|data:)/i)){if(null==v.match(H))return[2,null];t.push({type:"url-ipfs",content:v}),v=T(v)}return t.push({type:"url",content:v}),[2,{linkage:t,url:v}];case 17:return n++,[3,3];case 18:return[3,20];case 19:return e.sent(),[3,20];case 20:return[2,null]}})})},P.prototype.getContentHash=function(){return b(this,void 0,void 0,function(){var t,r,n,i;return A(this,function(e){switch(e.label){case 0:return[4,this._fetchBytes("0xbc1c58d1")];case 1:return null==(t=e.sent())||"0x"===t?[2,null]:(n=t.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/))&&(r=parseInt(n[3],16),n[4].length===2*r)?[2,"ipfs://"+o.Base58.encode("0x"+n[1])]:(r=t.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/))&&(n=parseInt(r[3],16),r[4].length===2*n)?[2,"ipns://"+o.Base58.encode("0x"+r[1])]:(n=t.match(/^0xe40101fa011b20([0-9a-f]*)$/))&&64===n[1].length?[2,"bzz://"+n[1]]:(n=t.match(/^0x90b2c605([0-9a-f]*)$/))&&68===n[1].length?(i={"=":"","+":"-","/":"_"},[2,"sia://"+(0,F.encode)("0x"+n[1]).replace(/[=+\/]/g,function(e){return i[e]})]):[2,v.throwError("invalid or unsupported content hash data",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:t})]}})})},P.prototype.getText=function(r){return b(this,void 0,void 0,function(){var t;return A(this,function(e){switch(e.label){case 0:return t=(0,c.toUtf8Bytes)(r),(t=(0,w.concat)([I(64),I(t.length),t])).length%32!=0&&(t=(0,w.concat)([t,(0,w.hexZeroPad)("0x",32-r.length%32)])),[4,this._fetchBytes("0x59d1d43c",(0,w.hexlify)(t))];case 1:return null==(t=e.sent())||"0x"===t?[2,null]:[2,(0,c.toUtf8String)(t)]}})})};var M=P;function P(e,t,r,n){(0,a.defineReadOnly)(this,"provider",e),(0,a.defineReadOnly)(this,"name",r),(0,a.defineReadOnly)(this,"address",e.formatter.address(t)),(0,a.defineReadOnly)(this,"_resolvedAddress",n)}t.Resolver=M;var O,L=null,X=1,r=(O=i.Provider,N(R,O),R.prototype._ready=function(){return b(this,void 0,void 0,function(){var t;return A(this,function(e){switch(e.label){case 0:if(null!=this._network)return[3,7];if(t=null,!this._networkPromise)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this._networkPromise];case 2:return t=e.sent(),[3,4];case 3:return e.sent(),[3,4];case 4:return null!=t?[3,6]:[4,this.detectNetwork()];case 5:t=e.sent(),e.label=6;case 6:t||v.throwError("no network detected",m.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:(0,a.defineReadOnly)(this,"_network",t),this.emit("network",t,null)),e.label=7;case 7:return[2,this._network]}})})},Object.defineProperty(R.prototype,"ready",{get:function(){var e=this;return(0,E.poll)(function(){return e._ready().then(function(e){return e},function(e){if(e.code!==m.Logger.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e})})},enumerable:!1,configurable:!0}),R.getFormatter=function(){return L=null==L?new l.Formatter:L},R.getNetwork=function(e){return(0,U.getNetwork)(null==e?"homestead":e)},R.prototype.ccipReadFetch=function(c,u,h){return b(this,void 0,void 0,function(){var t,r,n,i,o,s,a;return A(this,function(e){switch(e.label){case 0:if(this.disableCcipRead||0===h.length)return[2,null];t=c.to.toLowerCase(),r=u.toLowerCase(),n=[],i=0,e.label=1;case 1:return i<h.length?(o=h[i],s=o.replace("{sender}",t).replace("{data}",r),a=0<=o.indexOf("{data}")?null:JSON.stringify({data:r,sender:t}),[4,(0,E.fetchJson)({url:s,errorPassThrough:!0},a,function(e,t){return e.status=t.statusCode,e})]):[3,4];case 2:if((s=e.sent()).data)return[2,s.data];if(a=s.message||"unknown error",400<=s.status&&s.status<500)return[2,v.throwError("response not found during CCIP fetch: "+a,m.Logger.errors.SERVER_ERROR,{url:o,errorMessage:a})];n.push(a),e.label=3;case 3:return i++,[3,1];case 4:return[2,v.throwError("error encountered during CCIP fetch: "+n.map(function(e){return JSON.stringify(e)}).join(", "),m.Logger.errors.SERVER_ERROR,{urls:h,errorMessages:n})]}})})},R.prototype._getInternalBlockNumber=function(s){return b(this,void 0,void 0,function(){var t,r,n,i,o=this;return A(this,function(e){switch(e.label){case 0:return[4,this._ready()];case 1:if(e.sent(),!(0<s))return[3,7];e.label=2;case 2:if(!this._internalBlockNumber)return[3,7];t=this._internalBlockNumber,e.label=3;case 3:return e.trys.push([3,5,,6]),[4,t];case 4:return r=e.sent(),g()-r.respTime<=s?[2,r.blockNumber]:[3,7];case 5:return e.sent(),this._internalBlockNumber===t?[3,7]:[3,6];case 6:return[3,2];case 7:return n=g(),i=(0,a.resolveProperties)({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(function(e){return null},function(e){return e})}).then(function(e){var t=e.blockNumber,e=e.networkError;if(e)throw o._internalBlockNumber===i&&(o._internalBlockNumber=null),e;e=g();return(t=_.BigNumber.from(t).toNumber())<o._maxInternalBlockNumber&&(t=o._maxInternalBlockNumber),o._maxInternalBlockNumber=t,o._setFastBlockNumber(t),{blockNumber:t,reqTime:n,respTime:e}}),(this._internalBlockNumber=i).catch(function(e){o._internalBlockNumber===i&&(o._internalBlockNumber=null)}),[4,i];case 8:return[2,e.sent().blockNumber]}})})},R.prototype.poll=function(){return b(this,void 0,void 0,function(){var t,o,s,r,n,a=this;return A(this,function(e){switch(e.label){case 0:t=X++,o=[],s=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this._getInternalBlockNumber(100+this.pollingInterval/2)];case 2:return s=e.sent(),[3,4];case 3:return r=e.sent(),this.emit("error",r),[2];case 4:if(this._setFastBlockNumber(s),this.emit("poll",t,s),s===this._lastBlockNumber)this.emit("didPoll",t);else{if(-2===this._emitted.block&&(this._emitted.block=s-1),1e3<Math.abs(this._emitted.block-s))v.warn("network block skew detected; skipping block events (emitted="+this._emitted.block+" blockNumber"+s+")"),this.emit("error",v.makeError("network block skew detected",m.Logger.errors.NETWORK_ERROR,{blockNumber:s,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",s);else for(n=this._emitted.block+1;n<=s;n++)this.emit("block",n);this._emitted.block!==s&&(this._emitted.block=s,Object.keys(this._emitted).forEach(function(e){var t;"block"!==e&&"pending"!==(t=a._emitted[e])&&12<s-t&&delete a._emitted[e]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=s-1),this._events.forEach(function(t){switch(t.type){case"tx":var r=t.hash,e=a.getTransactionReceipt(r).then(function(e){return e&&null!=e.blockNumber&&(a._emitted["t:"+r]=e.blockNumber,a.emit(r,e)),null}).catch(function(e){a.emit("error",e)});o.push(e);break;case"filter":var n,i;t._inflight||(t._inflight=!0,-2===t._lastBlockNumber&&(t._lastBlockNumber=s-1),(n=t.filter).fromBlock=t._lastBlockNumber+1,n.toBlock=s,(i=n.toBlock-a._maxFilterBlockRange)>n.fromBlock&&(n.fromBlock=i),n.fromBlock<0&&(n.fromBlock=0),e=a.getLogs(n).then(function(e){t._inflight=!1,0!==e.length&&e.forEach(function(e){e.blockNumber>t._lastBlockNumber&&(t._lastBlockNumber=e.blockNumber),a._emitted["b:"+e.blockHash]=e.blockNumber,a._emitted["t:"+e.transactionHash]=e.blockNumber,a.emit(n,e)})}).catch(function(e){a.emit("error",e),t._inflight=!1}),o.push(e))}}),this._lastBlockNumber=s,Promise.all(o).then(function(){a.emit("didPoll",t)}).catch(function(e){a.emit("error",e)})}return[2]}})})},R.prototype.resetEventsBlock=function(e){this._lastBlockNumber=e-1,this.polling&&this.poll()},Object.defineProperty(R.prototype,"network",{get:function(){return this._network},enumerable:!1,configurable:!0}),R.prototype.detectNetwork=function(){return b(this,void 0,void 0,function(){return A(this,function(e){return[2,v.throwError("provider does not support network detection",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})]})})},R.prototype.getNetwork=function(){return b(this,void 0,void 0,function(){var t,r,n;return A(this,function(e){switch(e.label){case 0:return[4,this._ready()];case 1:return t=e.sent(),[4,this.detectNetwork()];case 2:return(r=e.sent(),t.chainId===r.chainId)?[3,5]:this.anyNetwork?(this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,t),[4,S(0)]):[3,4];case 3:return e.sent(),[2,this._network];case 4:throw n=v.makeError("underlying network changed",m.Logger.errors.NETWORK_ERROR,{event:"changed",network:t,detectedNetwork:r}),this.emit("error",n),n;case 5:return[2,t]}})})},Object.defineProperty(R.prototype,"blockNumber",{get:function(){var t=this;return this._getInternalBlockNumber(100+this.pollingInterval/2).then(function(e){t._setFastBlockNumber(e)},function(e){}),null!=this._fastBlockNumber?this._fastBlockNumber:-1},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"polling",{get:function(){return null!=this._poller},set:function(e){var t=this;e&&!this._poller?(this._poller=setInterval(function(){t.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(function(){t.poll(),t._bootstrapPoll=setTimeout(function(){t._poller||t.poll(),t._bootstrapPoll=null},t.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"pollingInterval",{get:function(){return this._pollingInterval},set:function(e){var t=this;if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(function(){t.poll()},this._pollingInterval))},enumerable:!1,configurable:!0}),R.prototype._getFastBlockNumber=function(){var t=this,e=g();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(function(e){return(null==t._fastBlockNumber||e>t._fastBlockNumber)&&(t._fastBlockNumber=e),t._fastBlockNumber})),this._fastBlockNumberPromise},R.prototype._setFastBlockNumber=function(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=g(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))},R.prototype.waitForTransaction=function(t,r,n){return b(this,void 0,void 0,function(){return A(this,function(e){return[2,this._waitForTransaction(t,null==r?1:r,n||0,null)]})})},R.prototype._waitForTransaction=function(p,g,o,y){return b(this,void 0,void 0,function(){var t,i=this;return A(this,function(e){switch(e.label){case 0:return[4,this.getTransactionReceipt(p)];case 1:return((t=e.sent())?t.confirmations:0)>=g?[2,t]:[2,new Promise(function(t,c){function u(){return!!h||(h=!0,n.forEach(function(e){e()}),!1)}function e(e){e.confirmations<g||u()||t(e)}var r,n=[],h=!1;if(i.on(p,e),n.push(function(){i.removeListener(p,e)}),y){var l=y.startBlock,f=null,d=function(a){return b(i,void 0,void 0,function(){var t=this;return A(this,function(e){switch(e.label){case 0:return h?[2]:[4,S(1e3)];case 1:return e.sent(),this.getTransactionCount(y.from).then(function(s){return b(t,void 0,void 0,function(){var t,r,n,i,o;return A(this,function(e){switch(e.label){case 0:return h?[2]:s<=y.nonce?(l=a,[3,9]):[3,1];case 1:return[4,this.getTransaction(p)];case 2:if((i=e.sent())&&null!=i.blockNumber)return[2];null==f&&(f=l-3)<y.startBlock&&(f=y.startBlock),e.label=3;case 3:return f<=a?h?[2]:[4,this.getBlockWithTransactions(f)]:[3,9];case 4:t=e.sent(),r=0,e.label=5;case 5:return r<t.transactions.length?(n=t.transactions[r]).hash===p?[2]:n.from!==y.from||n.nonce!==y.nonce?[3,7]:h?[2]:[4,this.waitForTransaction(n.hash,g)]:[3,8];case 6:return i=e.sent(),u()||(o="replaced",n.data===y.data&&n.to===y.to&&n.value.eq(y.value)?o="repriced":"0x"===n.data&&n.from===n.to&&n.value.isZero()&&(o="cancelled"),c(v.makeError("transaction was replaced",m.Logger.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===o||"cancelled"===o,reason:o,replacement:this._wrapTransaction(n),hash:p,receipt:i}))),[2];case 7:return r++,[3,5];case 8:return f++,[3,3];case 9:return h||this.once("block",d),[2]}})})},function(e){h||t.once("block",d)}),[2]}})})};if(h)return;i.once("block",d),n.push(function(){i.removeListener("block",d)})}"number"==typeof o&&0<o&&((r=setTimeout(function(){u()||c(v.makeError("timeout exceeded",m.Logger.errors.TIMEOUT,{timeout:o}))},o)).unref&&r.unref(),n.push(function(){clearTimeout(r)}))})]}})})},R.prototype.getBlockNumber=function(){return b(this,void 0,void 0,function(){return A(this,function(e){return[2,this._getInternalBlockNumber(0)]})})},R.prototype.getGasPrice=function(){return b(this,void 0,void 0,function(){var t;return A(this,function(e){switch(e.label){case 0:return[4,this.getNetwork()];case 1:return e.sent(),[4,this.perform("getGasPrice",{})];case 2:t=e.sent();try{return[2,_.BigNumber.from(t)]}catch(e){return[2,v.throwError("bad result from backend",m.Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:t,error:e})]}return[2]}})})},R.prototype.getBalance=function(n,i){return b(this,void 0,void 0,function(){var t,r;return A(this,function(e){switch(e.label){case 0:return[4,this.getNetwork()];case 1:return e.sent(),[4,(0,a.resolveProperties)({address:this._getAddress(n),blockTag:this._getBlockTag(i)})];case 2:return t=e.sent(),[4,this.perform("getBalance",t)];case 3:r=e.sent();try{return[2,_.BigNumber.from(r)]}catch(e){return[2,v.throwError("bad result from backend",m.Logger.errors.SERVER_ERROR,{method:"getBalance",params:t,result:r,error:e})]}return[2]}})})},R.prototype.getTransactionCount=function(n,i){return b(this,void 0,void 0,function(){var t,r;return A(this,function(e){switch(e.label){case 0:return[4,this.getNetwork()];case 1:return e.sent(),[4,(0,a.resolveProperties)({address:this._getAddress(n),blockTag:this._getBlockTag(i)})];case 2:return t=e.sent(),[4,this.perform("getTransactionCount",t)];case 3:r=e.sent();try{return[2,_.BigNumber.from(r).toNumber()]}catch(e){return[2,v.throwError("bad result from backend",m.Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:t,result:r,error:e})]}return[2]}})})},R.prototype.getCode=function(n,i){return b(this,void 0,void 0,function(){var t,r;return A(this,function(e){switch(e.label){case 0:return[4,this.getNetwork()];case 1:return e.sent(),[4,(0,a.resolveProperties)({address:this._getAddress(n),blockTag:this._getBlockTag(i)})];case 2:return t=e.sent(),[4,this.perform("getCode",t)];case 3:r=e.sent();try{return[2,(0,w.hexlify)(r)]}catch(e){return[2,v.throwError("bad result from backend",m.Logger.errors.SERVER_ERROR,{method:"getCode",params:t,result:r,error:e})]}return[2]}})})},R.prototype.getStorageAt=function(n,i,o){return b(this,void 0,void 0,function(){var t,r;return A(this,function(e){switch(e.label){case 0:return[4,this.getNetwork()];case 1:return e.sent(),[4,(0,a.resolveProperties)({address:this._getAddress(n),blockTag:this._getBlockTag(o),position:Promise.resolve(i).then(function(e){return(0,w.hexValue)(e)})})];case 2:return t=e.sent(),[4,this.perform("getStorageAt",t)];case 3:r=e.sent();try{return[2,(0,w.hexlify)(r)]}catch(e){return[2,v.throwError("bad result from backend",m.Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:t,result:r,error:e})]}return[2]}})})},R.prototype._wrapTransaction=function(i,e,o){var t=this;if(null!=e&&32!==(0,w.hexDataLength)(e))throw new Error("invalid response - sendTransaction");var r=i;return null!=e&&i.hash!==e&&v.throwError("Transaction hash mismatch from Provider.sendTransaction.",m.Logger.errors.UNKNOWN_ERROR,{expectedHash:i.hash,returnedHash:e}),r.wait=function(r,n){return b(t,void 0,void 0,function(){var t;return A(this,function(e){switch(e.label){case 0:return null==n&&(n=0),t=void 0,0!==(r=null==r?1:r)&&null!=o&&(t={data:i.data,from:i.from,nonce:i.nonce,to:i.to,value:i.value,startBlock:o}),[4,this._waitForTransaction(i.hash,r,n,t)];case 1:return null==(t=e.sent())&&0===r?[2,null]:(this._emitted["t:"+i.hash]=t.blockNumber,0===t.status&&v.throwError("transaction failed",m.Logger.errors.CALL_EXCEPTION,{transactionHash:i.hash,transaction:i,receipt:t}),[2,t])}})})},r},R.prototype.sendTransaction=function(o){return b(this,void 0,void 0,function(){var t,r,n,i;return A(this,function(e){switch(e.label){case 0:return[4,this.getNetwork()];case 1:return e.sent(),[4,Promise.resolve(o).then(function(e){return(0,w.hexlify)(e)})];case 2:return t=e.sent(),null==(r=this.formatter.transaction(o)).confirmations&&(r.confirmations=0),[4,this._getInternalBlockNumber(100+2*this.pollingInterval)];case 3:n=e.sent(),e.label=4;case 4:return e.trys.push([4,6,,7]),[4,this.perform("sendTransaction",{signedTransaction:t})];case 5:return i=e.sent(),[2,this._wrapTransaction(r,i,n)];case 6:throw(i=e.sent()).transaction=r,i.transactionHash=r.hash,i;case 7:return[2]}})})},R.prototype._getTransactionRequest=function(s){return b(this,void 0,void 0,function(){var t,r,n,i,o=this;return A(this,function(e){switch(e.label){case 0:return[4,s];case 1:return t=e.sent(),r={},["from","to"].forEach(function(e){null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(function(e){return e?o._getAddress(e):null}))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(function(e){null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(function(e){return e?_.BigNumber.from(e):null}))}),["type"].forEach(function(e){null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(function(e){return null!=e?e:null}))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(function(e){null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(function(e){return e?(0,w.hexlify)(e):null}))}),i=(n=this.formatter).transactionRequest,[4,(0,a.resolveProperties)(r)];case 2:return[2,i.apply(n,[e.sent()])]}})})},R.prototype._getFilter=function(o){return b(this,void 0,void 0,function(){var t,r,n,i=this;return A(this,function(e){switch(e.label){case 0:return[4,o];case 1:return o=e.sent(),t={},null!=o.address&&(t.address=this._getAddress(o.address)),["blockHash","topics"].forEach(function(e){null!=o[e]&&(t[e]=o[e])}),["fromBlock","toBlock"].forEach(function(e){null!=o[e]&&(t[e]=i._getBlockTag(o[e]))}),n=(r=this.formatter).filter,[4,(0,a.resolveProperties)(t)];case 2:return[2,n.apply(r,[e.sent()])]}})})},R.prototype._call=function(f,d,p){return b(this,void 0,void 0,function(){var t,r,n,i,o,s,a,c,u,h,l;return A(this,function(e){switch(e.label){case 0:return 10<=p&&v.throwError("CCIP read exceeded maximum redirections",m.Logger.errors.SERVER_ERROR,{redirects:p,transaction:f}),t=f.to,[4,this.perform("call",{transaction:f,blockTag:d})];case 1:if(r=e.sent(),!(0<=p&&"latest"===d&&null!=t&&"0x556f1830"===r.substring(0,10)&&(0,w.hexDataLength)(r)%32==4))return[3,5];e.label=2;case 2:for(e.trys.push([2,4,,5]),u=(0,w.hexDataSlice)(r,4),h=(0,w.hexDataSlice)(u,0,32),_.BigNumber.from(h).eq(t)||v.throwError("CCIP Read sender did not match",m.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:f,data:r}),n=[],h=_.BigNumber.from((0,w.hexDataSlice)(u,32,64)).toNumber(),i=_.BigNumber.from((0,w.hexDataSlice)(u,h,h+32)).toNumber(),o=(0,w.hexDataSlice)(u,h+32),s=0;s<i;s++)null==(a=B(o,32*s))&&v.throwError("CCIP Read contained corrupt URL string",m.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:f,data:r}),n.push(a);return h=x(u,64),_.BigNumber.from((0,w.hexDataSlice)(u,100,128)).isZero()||v.throwError("CCIP Read callback selector included junk",m.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:f,data:r}),c=(0,w.hexDataSlice)(u,96,100),u=x(u,128),[4,this.ccipReadFetch(f,h,n)];case 3:return null==(h=e.sent())&&v.throwError("CCIP Read disabled or provided no URLs",m.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:f,data:r}),l={to:t,data:(0,w.hexConcat)([c,z([h,u])])},[2,this._call(l,d,p+1)];case 4:if((l=e.sent()).code===m.Logger.errors.SERVER_ERROR)throw l;return[3,5];case 5:try{return[2,(0,w.hexlify)(r)]}catch(e){return[2,v.throwError("bad result from backend",m.Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:f,blockTag:d},result:r,error:e})]}return[2]}})})},R.prototype.call=function(r,n){return b(this,void 0,void 0,function(){var t;return A(this,function(e){switch(e.label){case 0:return[4,this.getNetwork()];case 1:return e.sent(),[4,(0,a.resolveProperties)({transaction:this._getTransactionRequest(r),blockTag:this._getBlockTag(n),ccipReadEnabled:Promise.resolve(r.ccipReadEnabled)})];case 2:return t=e.sent(),[2,this._call(t.transaction,t.blockTag,t.ccipReadEnabled?0:-1)]}})})},R.prototype.estimateGas=function(n){return b(this,void 0,void 0,function(){var t,r;return A(this,function(e){switch(e.label){case 0:return[4,this.getNetwork()];case 1:return e.sent(),[4,(0,a.resolveProperties)({transaction:this._getTransactionRequest(n)})];case 2:return t=e.sent(),[4,this.perform("estimateGas",t)];case 3:r=e.sent();try{return[2,_.BigNumber.from(r)]}catch(e){return[2,v.throwError("bad result from backend",m.Logger.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:e})]}return[2]}})})},R.prototype._getAddress=function(r){return b(this,void 0,void 0,function(){var t;return A(this,function(e){switch(e.label){case 0:return[4,r];case 1:return"string"!=typeof(r=e.sent())&&v.throwArgumentError("invalid address or ENS name","name",r),[4,this.resolveName(r)];case 2:return null==(t=e.sent())&&v.throwError("ENS name not configured",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName("+JSON.stringify(r)+")"}),[2,t]}})})},R.prototype._getBlock=function(n,u){return b(this,void 0,void 0,function(){var a,c,t,r=this;return A(this,function(e){switch(e.label){case 0:return[4,this.getNetwork()];case 1:return e.sent(),[4,n];case 2:return(n=e.sent(),a=-128,c={includeTransactions:!!u},(0,w.isHexString)(n,32))?(c.blockHash=n,[3,6]):[3,3];case 3:return e.trys.push([3,5,,6]),t=c,[4,this._getBlockTag(n)];case 4:return t.blockTag=e.sent(),(0,w.isHexString)(c.blockTag)&&(a=parseInt(c.blockTag.substring(2),16)),[3,6];case 5:return e.sent(),v.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",n),[3,6];case 6:return[2,(0,E.poll)(function(){return b(r,void 0,void 0,function(){var t,r,n,i,o,s=this;return A(this,function(e){switch(e.label){case 0:return[4,this.perform("getBlock",c)];case 1:if(null==(t=e.sent()))return null!=c.blockHash&&null==this._emitted["b:"+c.blockHash]||null!=c.blockTag&&a>this._emitted.block?[2,null]:[2,void 0];if(!u)return[3,8];r=null,n=0,e.label=2;case 2:return n<t.transactions.length?null!=(i=t.transactions[n]).blockNumber?[3,3]:(i.confirmations=0,[3,6]):[3,7];case 3:return null!=i.confirmations?[3,6]:null!=r?[3,5]:[4,this._getInternalBlockNumber(100+2*this.pollingInterval)];case 4:r=e.sent(),e.label=5;case 5:(o=r-i.blockNumber+1)<=0&&(o=1),i.confirmations=o,e.label=6;case 6:return n++,[3,2];case 7:return(o=this.formatter.blockWithTransactions(t)).transactions=o.transactions.map(function(e){return s._wrapTransaction(e)}),[2,o];case 8:return[2,this.formatter.block(t)]}})})},{oncePoll:this})]}})})},R.prototype.getBlock=function(e){return this._getBlock(e,!1)},R.prototype.getBlockWithTransactions=function(e){return this._getBlock(e,!0)},R.prototype.getTransaction=function(o){return b(this,void 0,void 0,function(){var i,t=this;return A(this,function(e){switch(e.label){case 0:return[4,this.getNetwork()];case 1:return e.sent(),[4,o];case 2:return o=e.sent(),i={transactionHash:this.formatter.hash(o,!0)},[2,(0,E.poll)(function(){return b(t,void 0,void 0,function(){var t,r,n;return A(this,function(e){switch(e.label){case 0:return[4,this.perform("getTransaction",i)];case 1:return null==(r=e.sent())?null==this._emitted["t:"+o]?[2,null]:[2,void 0]:null!=(t=this.formatter.transactionResponse(r)).blockNumber?[3,2]:(t.confirmations=0,[3,4]);case 2:return null!=t.confirmations?[3,4]:[4,this._getInternalBlockNumber(100+2*this.pollingInterval)];case 3:r=e.sent(),(n=r-t.blockNumber+1)<=0&&(n=1),t.confirmations=n,e.label=4;case 4:return[2,this._wrapTransaction(t)]}})})},{oncePoll:this})]}})})},R.prototype.getTransactionReceipt=function(o){return b(this,void 0,void 0,function(){var i,t=this;return A(this,function(e){switch(e.label){case 0:return[4,this.getNetwork()];case 1:return e.sent(),[4,o];case 2:return o=e.sent(),i={transactionHash:this.formatter.hash(o,!0)},[2,(0,E.poll)(function(){return b(t,void 0,void 0,function(){var t,r,n;return A(this,function(e){switch(e.label){case 0:return[4,this.perform("getTransactionReceipt",i)];case 1:return null==(r=e.sent())?null==this._emitted["t:"+o]?[2,null]:[2,void 0]:null==r.blockHash?[2,void 0]:null!=(t=this.formatter.receipt(r)).blockNumber?[3,2]:(t.confirmations=0,[3,4]);case 2:return null!=t.confirmations?[3,4]:[4,this._getInternalBlockNumber(100+2*this.pollingInterval)];case 3:r=e.sent(),(n=r-t.blockNumber+1)<=0&&(n=1),t.confirmations=n,e.label=4;case 4:return[2,t]}})})},{oncePoll:this})]}})})},R.prototype.getLogs=function(r){return b(this,void 0,void 0,function(){var t;return A(this,function(e){switch(e.label){case 0:return[4,this.getNetwork()];case 1:return e.sent(),[4,(0,a.resolveProperties)({filter:this._getFilter(r)})];case 2:return t=e.sent(),[4,this.perform("getLogs",t)];case 3:return(t=e.sent()).forEach(function(e){null==e.removed&&(e.removed=!1)}),[2,l.Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(t)]}})})},R.prototype.getEtherPrice=function(){return b(this,void 0,void 0,function(){return A(this,function(e){switch(e.label){case 0:return[4,this.getNetwork()];case 1:return e.sent(),[2,this.perform("getEtherPrice",{})]}})})},R.prototype._getBlockTag=function(r){return b(this,void 0,void 0,function(){var t;return A(this,function(e){switch(e.label){case 0:return[4,r];case 1:return"number"==typeof(r=e.sent())&&r<0?(r%1&&v.throwArgumentError("invalid BlockTag","blockTag",r),[4,this._getInternalBlockNumber(100+2*this.pollingInterval)]):[3,3];case 2:return t=e.sent(),(t+=r)<0&&(t=0),[2,this.formatter.blockTag(t)];case 3:return[2,this.formatter.blockTag(r)]}})})},R.prototype.getResolver=function(o){return b(this,void 0,void 0,function(){var t,r,n,i;return A(this,function(e){switch(e.label){case 0:t=o,e.label=1;case 1:return""===t||"."===t?[2,null]:"eth"!==o&&"eth"===t?[2,null]:[4,this._getResolver(t,"getResolver")];case 2:return null==(r=e.sent())?[3,5]:(n=new M(this,r,o),(i=t!==o)?[4,n.supportsWildcard()]:[3,4]);case 3:i=!e.sent(),e.label=4;case 4:return i?[2,null]:[2,n];case 5:return t=t.split(".").slice(1).join("."),[3,1];case 6:return[2]}})})},R.prototype._getResolver=function(n,i){return b(this,void 0,void 0,function(){var t,r;return A(this,function(e){switch(e.label){case 0:return null==i&&(i="ENS"),[4,this.getNetwork()];case 1:(t=e.sent()).ensAddress||v.throwError("network does not support ENS",m.Logger.errors.UNSUPPORTED_OPERATION,{operation:i,network:t.name}),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this.call({to:t.ensAddress,data:"0x0178b8bf"+(0,u.namehash)(n).substring(2)})];case 3:return r=e.sent(),[2,this.formatter.callAddress(r)];case 4:return e.sent(),[3,5];case 5:return[2,null]}})})},R.prototype.resolveName=function(r){return b(this,void 0,void 0,function(){var t;return A(this,function(e){switch(e.label){case 0:return[4,r];case 1:r=e.sent();try{return[2,Promise.resolve(this.formatter.address(r))]}catch(e){if((0,w.isHexString)(r))throw e}return"string"!=typeof r&&v.throwArgumentError("invalid ENS name","name",r),[4,this.getResolver(r)];case 2:return(t=e.sent())?[4,t.getAddress()]:[2,null];case 3:return[2,e.sent()]}})})},R.prototype.lookupAddress=function(o){return b(this,void 0,void 0,function(){var t,r,n,i;return A(this,function(e){switch(e.label){case 0:return[4,o];case 1:return o=e.sent(),o=this.formatter.address(o),t=o.substring(2).toLowerCase()+".addr.reverse",[4,this._getResolver(t,"lookupAddress")];case 2:return null==(r=e.sent())?[2,null]:(i=B,[4,this.call({to:r,data:"0x691f3431"+(0,u.namehash)(t).substring(2)})]);case 3:return n=i.apply(void 0,[e.sent(),0]),[4,this.resolveName(n)];case 4:return e.sent()!=o?[2,null]:[2,n]}})})},R.prototype.getAvatar=function(c){return b(this,void 0,void 0,function(){var t,r,n,i,o,s,a;return A(this,function(e){switch(e.label){case 0:return(t=null,w.isHexString)(c)?(r=this.formatter.address(c),r=r.substring(2).toLowerCase()+".addr.reverse",[4,this._getResolver(r,"getAvatar")]):[3,10];case 1:if(!(n=e.sent()))return[2,null];t=new M(this,n,r),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,t.getAvatar()];case 3:return(i=e.sent())?[2,i.url]:[3,5];case 4:if((i=e.sent()).code!==m.Logger.errors.CALL_EXCEPTION)throw i;return[3,5];case 5:return e.trys.push([5,8,,9]),o=B,[4,this.call({to:n,data:"0x691f3431"+(0,u.namehash)(r).substring(2)})];case 6:return s=o.apply(void 0,[e.sent(),0]),[4,this.getResolver(s)];case 7:return t=e.sent(),[3,9];case 8:if((s=e.sent()).code!==m.Logger.errors.CALL_EXCEPTION)throw s;return[2,null];case 9:return[3,12];case 10:return[4,this.getResolver(c)];case 11:if(!(t=e.sent()))return[2,null];e.label=12;case 12:return[4,t.getAvatar()];case 13:return null==(a=e.sent())?[2,null]:[2,a.url]}})})},R.prototype.perform=function(e,t){return v.throwError(e+" not implemented",m.Logger.errors.NOT_IMPLEMENTED,{operation:e})},R.prototype._startEvent=function(e){this.polling=0<this._events.filter(function(e){return e.pollable()}).length},R.prototype._stopEvent=function(e){this.polling=0<this._events.filter(function(e){return e.pollable()}).length},R.prototype._addEventListener=function(e,t,r){e=new y(p(e),t,r);return this._events.push(e),this._startEvent(e),this},R.prototype.on=function(e,t){return this._addEventListener(e,t,!1)},R.prototype.once=function(e,t){return this._addEventListener(e,t,!0)},R.prototype.emit=function(e){for(var t=this,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=!1,o=[],s=p(e);return this._events=this._events.filter(function(e){return e.tag!==s||(setTimeout(function(){e.listener.apply(t,r)},0),i=!0,!e.once||(o.push(e),!1))}),o.forEach(function(e){t._stopEvent(e)}),i},R.prototype.listenerCount=function(e){var t;return(e?(t=p(e),this._events.filter(function(e){return e.tag===t})):this._events).length},R.prototype.listeners=function(e){var t;return null==e?this._events.map(function(e){return e.listener}):(t=p(e),this._events.filter(function(e){return e.tag===t}).map(function(e){return e.listener}))},R.prototype.off=function(e,t){var r,n,i,o=this;return null==t?this.removeAllListeners(e):(n=!(r=[]),i=p(e),this._events=this._events.filter(function(e){return e.tag!==i||e.listener!=t||(!!n||(n=!0,r.push(e),!1))}),r.forEach(function(e){o._stopEvent(e)}),this)},R.prototype.removeAllListeners=function(e){var t,r=this,n=[];return null==e?(n=this._events,this._events=[]):(t=p(e),this._events=this._events.filter(function(e){return e.tag!==t||(n.push(e),!1)})),n.forEach(function(e){r._stopEvent(e)}),this},R);function R(e){var t=this.constructor,r=O.call(this)||this;return r._events=[],r._emitted={block:-2},r.disableCcipRead=!1,r.formatter=t.getFormatter(),(0,a.defineReadOnly)(r,"anyNetwork","any"===e),(e=r.anyNetwork?r.detectNetwork():e)instanceof Promise?((r._networkPromise=e).catch(function(e){}),r._ready().catch(function(e){})):(t=(0,a.getStatic)(t,"getNetwork")(e))?((0,a.defineReadOnly)(r,"_network",t),r.emit("network",t,null)):v.throwArgumentError("invalid network","network",e),r._maxInternalBlockNumber=-1024,r._lastBlockNumber=-2,r._maxFilterBlockRange=10,r._pollingInterval=4e3,r._fastQueryDate=0,r}t.BaseProvider=r},{"./_version":81,"./formatter":90,"@ethersproject/abstract-provider":34,"@ethersproject/base64":40,"@ethersproject/basex":41,"@ethersproject/bignumber":45,"@ethersproject/bytes":47,"@ethersproject/constants":51,"@ethersproject/hash":60,"@ethersproject/logger":74,"@ethersproject/networks":76,"@ethersproject/properties":80,"@ethersproject/sha2":108,"@ethersproject/strings":118,"@ethersproject/web":128,bech32:182}],85:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IpcProvider=void 0;r.IpcProvider=null},{}],86:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.WebSocket=void 0;var n=t("@ethersproject/logger"),t=t("./_version"),i=null;r.WebSocket=i;try{if(r.WebSocket=i=WebSocket,null==i)throw new Error("inject please")}catch(e){var o=new n.Logger(t.version);r.WebSocket=i=function(){o.throwError("WebSockets not supported in this environment",n.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}},{"./_version":81,"@ethersproject/logger":74}],87:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}o((c=c.apply(e,s||[])).next())})},a=this&&this.__generator||function(n,i){var o,s,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=i.call(n,c)}catch(e){t=[6,e],s=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},c=(Object.defineProperty(r,"__esModule",{value:!0}),r.CloudflareProvider=void 0,e("./url-json-rpc-provider")),u=e("@ethersproject/logger"),e=e("./_version"),h=new u.Logger(e.version),u=(i=c.UrlJsonRpcProvider,o(l,i),l.getApiKey=function(e){return null!=e&&h.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null},l.getUrl=function(e,t){var r=null;return"homestead"===e.name?r="https://cloudflare-eth.com/":h.throwArgumentError("unsupported network","network",e),r},l.prototype.perform=function(t,r){return s(this,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return"getBlockNumber"!==t?[3,2]:[4,i.prototype.perform.call(this,"getBlock",{blockTag:"latest"})];case 1:return[2,e.sent().number];case 2:return[2,i.prototype.perform.call(this,t,r)]}})})},l);function l(){return null!==i&&i.apply(this,arguments)||this}r.CloudflareProvider=u},{"./_version":81,"./url-json-rpc-provider":97,"@ethersproject/logger":74}],88:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}o((c=c.apply(e,s||[])).next())})},f=this&&this.__generator||function(n,i){var o,s,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=i.call(n,c)}catch(e){t=[6,e],s=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},o=(Object.defineProperty(r,"__esModule",{value:!0}),r.EtherscanProvider=void 0,e("@ethersproject/bytes")),h=e("@ethersproject/properties"),s=e("@ethersproject/transactions"),d=e("@ethersproject/web"),p=e("./formatter"),g=e("@ethersproject/logger"),a=e("./_version"),y=new g.Logger(a.version),a=e("./base-provider");function b(e){var t,r,n={};for(t in e)null!=e[t]&&(r=e[t],"type"===t&&0===r||(r={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[t]?(0,o.hexValue)((0,o.hexlify)(r)):"accessList"===t?"["+(0,s.accessListify)(r).map(function(e){return'{address:"'+e.address+'",storageKeys:["'+e.storageKeys.join('","')+'"]}'}).join(",")+"]":(0,o.hexlify)(r),n[t]=r));return n}function m(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;var t;if(1==e.status&&"string"==typeof e.message&&e.message.match(/^OK/))return e.result;throw(t=new Error("invalid response")).result=JSON.stringify(e),0<=(e.result||"").toLowerCase().indexOf("rate limit")&&(t.throttleRetry=!0),t}function v(e){var t;if(e&&0==e.status&&"NOTOK"==e.message&&0<=(e.result||"").toLowerCase().indexOf("rate limit"))throw(t=new Error("throttled response")).result=JSON.stringify(e),t.throttleRetry=!0,t;if("2.0"!=e.jsonrpc)throw(t=new Error("invalid response")).result=JSON.stringify(e),t;if(e.error)throw t=new Error(e.error.message||"unknown error"),e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t;return e.result}function A(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}function _(e,t,r){if("call"===e&&t.code===g.Logger.errors.SERVER_ERROR){var n=t.error;if(n&&(n.message.match(/reverted/i)||n.message.match(/VM execution error/i))){n=(n=n.data)&&"0x"+n.replace(/^.*0x/i,"");if((0,o.isHexString)(n))return n;y.throwError("missing revert data in call exception",g.Logger.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}n=t.message;throw t.code===g.Logger.errors.SERVER_ERROR&&(t.error&&"string"==typeof t.error.message?n=t.error.message:"string"==typeof t.body?n=t.body:"string"==typeof t.responseText&&(n=t.responseText)),(n=(n||"").toLowerCase()).match(/insufficient funds/)&&y.throwError("insufficient funds for intrinsic transaction cost",g.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&y.throwError("nonce has already been used",g.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),n.match(/another transaction with same nonce/)&&y.throwError("replacement fee too low",g.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&y.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",g.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}w=a.BaseProvider,i(c,w),c.prototype.getBaseUrl=function(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-kovan":return"https://api-kovan-optimistic.etherscan.io"}return y.throwArgumentError("unsupported network","network",this.network.name)},c.prototype.getUrl=function(e,n){var t=Object.keys(n).reduce(function(e,t){var r=n[t];return null!=r&&(e+="&"+t+"="+r),e},""),r=this.apiKey?"&apikey="+this.apiKey:"";return this.baseUrl+"/api?module="+e+t+r},c.prototype.getPostUrl=function(){return this.baseUrl+"/api"},c.prototype.getPostData=function(e,t){return t.module=e,t.apikey=this.apiKey,t},c.prototype.fetch=function(a,c,u){return l(this,void 0,void 0,function(){var t,r,n,i,o,s=this;return f(this,function(e){switch(e.label){case 0:return t=u?this.getPostUrl():this.getUrl(a,c),r=u?this.getPostData(a,c):null,n="proxy"===a?v:m,this.emit("debug",{action:"request",request:t,provider:this}),o={url:t,throttleSlotInterval:1e3,throttleCallback:function(e,t){return s.isCommunityResource()&&(0,p.showThrottleMessage)(),Promise.resolve(!0)}},i=null,r&&(o.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},i=Object.keys(r).map(function(e){return e+"="+r[e]}).join("&")),[4,(0,d.fetchJson)(o,i,n||v)];case 1:return o=e.sent(),this.emit("debug",{action:"response",request:t,response:(0,h.deepCopy)(o),provider:this}),[2,o]}})})},c.prototype.detectNetwork=function(){return l(this,void 0,void 0,function(){return f(this,function(e){return[2,this.network]})})},c.prototype.perform=function(u,h){return l(this,void 0,void 0,function(){var t,r,n,i,o,s,a,c;return f(this,function(e){switch(e.label){case 0:switch(u){case"getBlockNumber":return[3,1];case"getGasPrice":return[3,2];case"getBalance":return[3,3];case"getTransactionCount":return[3,4];case"getCode":return[3,5];case"getStorageAt":return[3,6];case"sendTransaction":return[3,7];case"getBlock":return[3,8];case"getTransaction":return[3,9];case"getTransactionReceipt":return[3,10];case"call":return[3,11];case"estimateGas":return[3,15];case"getLogs":return[3,19];case"getEtherPrice":return[3,26]}return[3,28];case 1:return[2,this.fetch("proxy",{action:"eth_blockNumber"})];case 2:return[2,this.fetch("proxy",{action:"eth_gasPrice"})];case 3:return[2,this.fetch("account",{action:"balance",address:h.address,tag:h.blockTag})];case 4:return[2,this.fetch("proxy",{action:"eth_getTransactionCount",address:h.address,tag:h.blockTag})];case 5:return[2,this.fetch("proxy",{action:"eth_getCode",address:h.address,tag:h.blockTag})];case 6:return[2,this.fetch("proxy",{action:"eth_getStorageAt",address:h.address,position:h.position,tag:h.blockTag})];case 7:return[2,this.fetch("proxy",{action:"eth_sendRawTransaction",hex:h.signedTransaction},!0).catch(function(e){return _("sendTransaction",e,h.signedTransaction)})];case 8:if(h.blockTag)return[2,this.fetch("proxy",{action:"eth_getBlockByNumber",tag:h.blockTag,boolean:h.includeTransactions?"true":"false"})];throw new Error("getBlock by blockHash not implemented");case 9:return[2,this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:h.transactionHash})];case 10:return[2,this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:h.transactionHash})];case 11:if("latest"!==h.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");(t=b(h.transaction)).module="proxy",t.action="eth_call",e.label=12;case 12:return e.trys.push([12,14,,15]),[4,this.fetch("proxy",t,!0)];case 13:return[2,e.sent()];case 14:return[2,_("call",e.sent(),h.transaction)];case 15:(t=b(h.transaction)).module="proxy",t.action="eth_estimateGas",e.label=16;case 16:return e.trys.push([16,18,,19]),[4,this.fetch("proxy",t,!0)];case 17:return[2,e.sent()];case 18:return[2,_("estimateGas",e.sent(),h.transaction)];case 19:return r={action:"getLogs"},h.filter.fromBlock&&(r.fromBlock=A(h.filter.fromBlock)),h.filter.toBlock&&(r.toBlock=A(h.filter.toBlock)),h.filter.address&&(r.address=h.filter.address),h.filter.topics&&0<h.filter.topics.length&&(1<h.filter.topics.length&&y.throwError("unsupported topic count",g.Logger.errors.UNSUPPORTED_OPERATION,{topics:h.filter.topics}),1===h.filter.topics.length&&("string"==typeof(a=h.filter.topics[0])&&66===a.length||y.throwError("unsupported topic format",g.Logger.errors.UNSUPPORTED_OPERATION,{topic0:a}),r.topic0=a)),[4,this.fetch("logs",r)];case 20:n=e.sent(),i={},o=0,e.label=21;case 21:return o<n.length?null!=(s=n[o]).blockHash?[3,24]:null!=i[s.blockNumber]?[3,23]:[4,this.getBlock(s.blockNumber)]:[3,25];case 22:(a=e.sent())&&(i[s.blockNumber]=a.hash),e.label=23;case 23:s.blockHash=i[s.blockNumber],e.label=24;case 24:return o++,[3,21];case 25:return[2,n];case 26:return"homestead"!==this.network.name?[2,0]:(c=parseFloat,[4,this.fetch("stats",{action:"ethprice"})]);case 27:return[2,c.apply(void 0,[e.sent().ethusd])];case 28:return[3,29];case 29:return[2,w.prototype.perform.call(this,u,h)]}})})},c.prototype.getHistory=function(i,o,s){return l(this,void 0,void 0,function(){var t,r,n=this;return f(this,function(e){switch(e.label){case 0:return r={action:"txlist"},[4,this.resolveName(i)];case 1:return r.address=e.sent(),r.startblock=null==o?0:o,r.endblock=null==s?99999999:s,r.sort="asc",t=r,[4,this.fetch("account",t)];case 2:return[2,e.sent().map(function(t){["contractAddress","to"].forEach(function(e){""==t[e]&&delete t[e]}),null==t.creates&&null!=t.contractAddress&&(t.creates=t.contractAddress);var e=n.formatter.transactionResponse(t);return t.timeStamp&&(e.timestamp=parseInt(t.timeStamp)),e})]}})})},c.prototype.isCommunityResource=function(){return null==this.apiKey};var w,e=c;function c(e,t){e=w.call(this,e)||this;return(0,h.defineReadOnly)(e,"baseUrl",e.getBaseUrl()),(0,h.defineReadOnly)(e,"apiKey",t||null),e}r.EtherscanProvider=e},{"./_version":81,"./base-provider":84,"./formatter":90,"@ethersproject/bytes":47,"@ethersproject/logger":74,"@ethersproject/properties":80,"@ethersproject/transactions":121,"@ethersproject/web":128}],89:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),y=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}o((c=c.apply(e,s||[])).next())})},b=this&&this.__generator||function(n,i){var o,s,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=i.call(n,c)}catch(e){t=[6,e],s=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},o=(Object.defineProperty(r,"__esModule",{value:!0}),r.FallbackProvider=void 0,e("@ethersproject/abstract-provider")),s=e("@ethersproject/bignumber"),m=e("@ethersproject/bytes"),v=e("@ethersproject/properties"),A=e("@ethersproject/random"),a=e("@ethersproject/web"),c=e("./base-provider"),u=e("./formatter"),_=e("@ethersproject/logger"),e=e("./_version"),w=new _.Logger(e.version);function E(){return(new Date).getTime()}function h(e){for(var t=null,r=0;r<e.length;r++){var n=e[r];if(null==n)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||null==t.ensAddress&&null==n.ensAddress)||w.throwArgumentError("provider mismatch","networks",e):t=n}return t}function l(e,t){e=e.slice().sort();var r,n=Math.floor(e.length/2);return e.length%2?e[n]:(r=e[n-1],e=e[n],null!=t&&Math.abs(r-e)>t?null:(r+e)/2)}function f(r){if(null===r)return"null";if("number"==typeof r||"boolean"==typeof r)return JSON.stringify(r);if("string"==typeof r)return r;if(s.BigNumber.isBigNumber(r))return r.toString();if(Array.isArray(r))return JSON.stringify(r.map(f));var e;if("object"==typeof r)return(e=Object.keys(r)).sort(),"{"+e.map(function(e){var t="function"==typeof(t=r[e])?"[function]":f(t);return JSON.stringify(e)+":"+t}).join(",")+"}";throw new Error("unknown value type: "+typeof r)}var S=1;function k(t){var r=null,n=null,i=new Promise(function(e){r=function(){n&&(clearTimeout(n),n=null),e()},n=setTimeout(r,t)});return{cancel:r,getPromise:function(){return i},wait:function(e){return i=i.then(e)}}}var I=[_.Logger.errors.CALL_EXCEPTION,_.Logger.errors.INSUFFICIENT_FUNDS,_.Logger.errors.NONCE_EXPIRED,_.Logger.errors.REPLACEMENT_UNDERPRICED,_.Logger.errors.UNPREDICTABLE_GAS_LIMIT],C=["address","args","errorArgs","errorSignature","method","transaction"];function B(e,t){var r={weight:e.weight};return Object.defineProperty(r,"provider",{get:function(){return e.provider}}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function x(r,e,t){var o,s,n=f;switch(e){case"getBlockNumber":return function(e){var t=e.map(function(e){return e.result}),e=l(e.map(function(e){return e.result}),2);if(null!=e)return e=Math.ceil(e),0<=t.indexOf(e+1)&&e++,e>=r._highestBlockNumber&&(r._highestBlockNumber=e),r._highestBlockNumber};case"getGasPrice":return function(e){e=e.map(function(e){return e.result});return e.sort(),e[Math.floor(e.length/2)]};case"getEtherPrice":return function(e){return l(e.map(function(e){return e.result}))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){return null==e?null:((e=(0,v.shallowCopy)(e)).confirmations=-1,f(e))};break;case"getBlock":n=t.includeTransactions?function(e){return null==e?null:((e=(0,v.shallowCopy)(e)).transactions=e.transactions.map(function(e){return(e=(0,v.shallowCopy)(e)).confirmations=-1,e}),f(e))}:function(e){return null==e?null:f(e)};break;default:throw new Error("unknown method: "+e)}return o=n,s=r.quorum,function(e){for(var r={},t=(e.forEach(function(e){var t=o(e.result);r[t]||(r[t]={count:0,result:e.result}),r[t].count++}),Object.keys(r)),n=0;n<t.length;n++){var i=r[t[n]];if(i.count>=s)return i.result}}}function T(n,i){return y(this,void 0,void 0,function(){var r;return b(this,function(e){return null!=(r=n.provider).blockNumber&&r.blockNumber>=i||-1===i?[2,r]:[2,(0,a.poll)(function(){return new Promise(function(e,t){setTimeout(function(){return r.blockNumber>=i?e(r):n.cancelled?e(null):e(void 0)},0)})},{oncePoll:r})]})})}d=c.BaseProvider,i(p,d),p.prototype.detectNetwork=function(){return y(this,void 0,void 0,function(){return b(this,function(e){switch(e.label){case 0:return[4,Promise.all(this.providerConfigs.map(function(e){return e.provider.getNetwork()}))];case 1:return[2,h(e.sent())]}})})},p.prototype.perform=function(p,g){return y(this,void 0,void 0,function(){var t,r,n,a,c,u,h,l,i,f,o,d=this;return b(this,function(e){switch(e.label){case 0:return"sendTransaction"!==p?[3,2]:[4,Promise.all(this.providerConfigs.map(function(e){return e.provider.sendTransaction(g.signedTransaction).then(function(e){return e.hash},function(e){return e})}))];case 1:for(t=e.sent(),r=0;r<t.length;r++)if("string"==typeof(n=t[r]))return[2,n];throw t[0];case 2:return-1!==this._highestBlockNumber||"getBlockNumber"===p?[3,4]:[4,this.getBlockNumber()];case 3:e.sent(),e.label=4;case 4:a=x(this,p,g),(c=(0,A.shuffled)(this.providerConfigs.map(v.shallowCopy))).sort(function(e,t){return e.priority-t.priority}),u=this._highestBlockNumber,l=!(h=0),i=function(){var t,n,r,i,o,s;return b(this,function(e){switch(e.label){case 0:for(t=E(),n=c.filter(function(e){return e.runner&&t-e.start<e.stallTimeout}).reduce(function(e,t){return e+t.weight},0),r=function(){var t=c[h++],r=S++;t.start=E(),t.staller=k(t.stallTimeout),t.staller.wait(function(){t.staller=null}),t.runner=function(n,i,o,s){return y(this,void 0,void 0,function(){var t,r;return b(this,function(e){switch(e.label){case 0:switch(t=n.provider,o){case"getBlockNumber":case"getGasPrice":return[3,1];case"getEtherPrice":return[3,2];case"getBalance":case"getTransactionCount":case"getCode":return[3,3];case"getStorageAt":return[3,6];case"getBlock":return[3,9];case"call":case"estimateGas":return[3,12];case"getTransaction":case"getTransactionReceipt":return[3,15];case"getLogs":return[3,16]}return[3,19];case 1:return[2,t[o]()];case 2:return t.getEtherPrice?[2,t.getEtherPrice()]:[3,19];case 3:return s.blockTag&&(0,m.isHexString)(s.blockTag)?[4,T(n,i)]:[3,5];case 4:t=e.sent(),e.label=5;case 5:return[2,t[o](s.address,s.blockTag||"latest")];case 6:return s.blockTag&&(0,m.isHexString)(s.blockTag)?[4,T(n,i)]:[3,8];case 7:t=e.sent(),e.label=8;case 8:return[2,t.getStorageAt(s.address,s.position,s.blockTag||"latest")];case 9:return s.blockTag&&(0,m.isHexString)(s.blockTag)?[4,T(n,i)]:[3,11];case 10:t=e.sent(),e.label=11;case 11:return[2,t[s.includeTransactions?"getBlockWithTransactions":"getBlock"](s.blockTag||s.blockHash)];case 12:return s.blockTag&&(0,m.isHexString)(s.blockTag)?[4,T(n,i)]:[3,14];case 13:t=e.sent(),e.label=14;case 14:return"call"===o&&s.blockTag?[2,t[o](s.transaction,s.blockTag)]:[2,t[o](s.transaction)];case 15:return[2,t[o](s.transactionHash)];case 16:return(r=s.filter).fromBlock&&(0,m.isHexString)(r.fromBlock)||r.toBlock&&(0,m.isHexString)(r.toBlock)?[4,T(n,i)]:[3,18];case 17:t=e.sent(),e.label=18;case 18:return[2,t.getLogs(r)];case 19:return[2,w.throwError("unknown method error",_.Logger.errors.UNKNOWN_ERROR,{method:o,params:s})]}})})}(t,u,p,g).then(function(e){t.done=!0,t.result=e,d.listenerCount("debug")&&d.emit("debug",{action:"request",rid:r,backend:B(t,E()),request:{method:p,params:(0,v.deepCopy)(g)},provider:d})},function(e){t.done=!0,t.error=e,d.listenerCount("debug")&&d.emit("debug",{action:"request",rid:r,backend:B(t,E()),request:{method:p,params:(0,v.deepCopy)(g)},provider:d})}),f.listenerCount("debug")&&f.emit("debug",{action:"request",rid:r,backend:B(t,null),request:{method:p,params:(0,v.deepCopy)(g)},provider:f}),n+=t.weight};n<f.quorum&&h<c.length;)r();return(i=[],c.forEach(function(e){!e.done&&e.runner&&(i.push(e.runner),e.staller&&i.push(e.staller.getPromise()))}),i.length)?[4,Promise.race(i)]:[3,2];case 1:e.sent(),e.label=2;case 2:return(o=c.filter(function(e){return e.done&&null==e.error})).length>=f.quorum?void 0!==(o=a(o))?(c.forEach(function(e){e.staller&&e.staller.cancel(),e.cancelled=!0}),[2,{value:o}]):l?[3,4]:[4,k(100).getPromise()]:[3,5];case 3:e.sent(),e.label=4;case 4:l=!1,e.label=5;case 5:return s=c.reduce(function(e,t){var r;return t.done&&null!=t.error&&(r=t.error.code,0<=I.indexOf(r)&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight)),e},{}),Object.keys(s).forEach(function(e){var t,r,n=s[e];n.weight<d.quorum||(c.forEach(function(e){e.staller&&e.staller.cancel(),e.cancelled=!0}),t=n.error,r={},C.forEach(function(e){null!=t[e]&&(r[e]=t[e])}),w.throwError(t.reason||t.message,e,r))}),0===c.filter(function(e){return!e.done}).length?[2,"break"]:[2]}})},f=this,e.label=5;case 5:return[5,i()];case 6:return"object"==typeof(o=e.sent())?[2,o.value]:"break"===o?[3,7]:[3,5];case 7:return c.forEach(function(e){e.staller&&e.staller.cancel(),e.cancelled=!0}),[2,w.throwError("failed to meet quorum",_.Logger.errors.SERVER_ERROR,{method:p,params:g,results:c.map(function(e){return B(e)}),provider:this})]}})})};var d,e=p;function p(e,t){var r=this,e=(0===e.length&&w.throwArgumentError("missing providers","providers",e),e.map(function(e,t){var r;return o.Provider.isProvider(e)?(r=(0,u.isCommunityResource)(e)?2e3:750,Object.freeze({provider:e,weight:1,stallTimeout:r,priority:1})):(null==(r=(0,v.shallowCopy)(e)).priority&&(r.priority=1),null==r.stallTimeout&&(r.stallTimeout=(0,u.isCommunityResource)(e)?2e3:750),null==r.weight&&(r.weight=1),((e=r.weight)%1||512<e||e<1)&&w.throwArgumentError("invalid weight; must be integer in [1, 512]","providers["+t+"].weight",e),Object.freeze(r))})),n=e.reduce(function(e,t){return e+t.weight},0),n=(null==t?t=n/2:n<t&&w.throwArgumentError("quorum will always fail; larger than total weight","quorum",t),h(e.map(function(e){return e.provider.network})));return null==n&&(n=new Promise(function(e,t){setTimeout(function(){r.detectNetwork().then(e,t)},0)})),r=d.call(this,n)||this,(0,v.defineReadOnly)(r,"providerConfigs",Object.freeze(e)),(0,v.defineReadOnly)(r,"quorum",t),r._highestBlockNumber=-1,r}r.FallbackProvider=e},{"./_version":81,"./base-provider":84,"./formatter":90,"@ethersproject/abstract-provider":34,"@ethersproject/bignumber":45,"@ethersproject/bytes":47,"@ethersproject/logger":74,"@ethersproject/properties":80,"@ethersproject/random":102,"@ethersproject/web":128}],90:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.showThrottleMessage=r.isCommunityResource=r.isCommunityResourcable=r.Formatter=void 0;var n=e("@ethersproject/address"),i=e("@ethersproject/bignumber"),o=e("@ethersproject/bytes"),s=e("@ethersproject/constants"),h=e("@ethersproject/properties"),a=e("@ethersproject/transactions"),c=e("@ethersproject/logger"),e=e("./_version"),u=new c.Logger(e.version);function l(){this.formats=this.getDefaultFormats()}function f(e){return e&&"function"==typeof e.isCommunityResource}l.prototype.getDefaultFormats=function(){var t=this,e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),o=this.data.bind(this),s=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),u=this.type.bind(this);return e.transaction={hash:s,type:u,accessList:l.allowNull(this.accessList.bind(this),null),blockHash:l.allowNull(s,null),blockNumber:l.allowNull(c,null),transactionIndex:l.allowNull(c,null),confirmations:l.allowNull(c,null),from:r,gasPrice:l.allowNull(n),maxPriorityFeePerGas:l.allowNull(n),maxFeePerGas:l.allowNull(n),gasLimit:n,to:l.allowNull(r,null),value:n,nonce:c,data:o,r:l.allowNull(this.uint256),s:l.allowNull(this.uint256),v:l.allowNull(c),creates:l.allowNull(r,null),raw:l.allowNull(o)},e.transactionRequest={from:l.allowNull(r),nonce:l.allowNull(c),gasLimit:l.allowNull(n),gasPrice:l.allowNull(n),maxPriorityFeePerGas:l.allowNull(n),maxFeePerGas:l.allowNull(n),to:l.allowNull(r),value:l.allowNull(n),data:l.allowNull(function(e){return t.data(e,!0)}),type:l.allowNull(c),accessList:l.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:s,address:r,topics:l.arrayOf(s),data:o,logIndex:c,blockHash:s},e.receipt={to:l.allowNull(this.address,null),from:l.allowNull(this.address,null),contractAddress:l.allowNull(r,null),transactionIndex:c,root:l.allowNull(a),gasUsed:n,logsBloom:l.allowNull(o),blockHash:s,transactionHash:s,logs:l.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:l.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:l.allowNull(n),status:l.allowNull(c),type:u},e.block={hash:l.allowNull(s),parentHash:s,number:c,timestamp:c,nonce:l.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:l.allowNull(r),extraData:o,transactions:l.allowNull(l.arrayOf(s)),baseFeePerGas:l.allowNull(n)},e.blockWithTransactions=(0,h.shallowCopy)(e.block),e.blockWithTransactions.transactions=l.allowNull(l.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:l.allowNull(i,void 0),toBlock:l.allowNull(i,void 0),blockHash:l.allowNull(s,void 0),address:l.allowNull(r,void 0),topics:l.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:l.allowNull(c),blockHash:l.allowNull(s),transactionIndex:c,removed:l.allowNull(this.boolean.bind(this)),address:r,data:l.allowFalsish(o,"0x"),topics:l.arrayOf(s),transactionHash:s,logIndex:c},e},l.prototype.accessList=function(e){return(0,a.accessListify)(e||[])},l.prototype.number=function(e){return"0x"===e?0:i.BigNumber.from(e).toNumber()},l.prototype.type=function(e){return"0x"===e||null==e?0:i.BigNumber.from(e).toNumber()},l.prototype.bigNumber=function(e){return i.BigNumber.from(e)},l.prototype.boolean=function(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)},l.prototype.hex=function(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),(0,o.isHexString)(e))?e.toLowerCase():u.throwArgumentError("invalid hash","value",e)},l.prototype.data=function(e,t){t=this.hex(e,t);if(t.length%2!=0)throw new Error("invalid data; odd-length - "+e);return t},l.prototype.address=function(e){return(0,n.getAddress)(e)},l.prototype.callAddress=function(e){return!(0,o.isHexString)(e,32)||(e=(0,n.getAddress)((0,o.hexDataSlice)(e,12)))===s.AddressZero?null:e},l.prototype.contractAddress=function(e){return(0,n.getContractAddress)(e)},l.prototype.blockTag=function(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"==typeof e||(0,o.isHexString)(e))return(0,o.hexValue)(e);throw new Error("invalid blockTag")},l.prototype.hash=function(e,t){t=this.hex(e,t);return 32!==(0,o.hexDataLength)(t)?u.throwArgumentError("invalid hash","value",e):t},l.prototype.difficulty=function(e){if(null!=e){e=i.BigNumber.from(e);try{return e.toNumber()}catch(e){}}return null},l.prototype.uint256=function(e){if((0,o.isHexString)(e))return(0,o.hexZeroPad)(e,32);throw new Error("invalid uint256")},l.prototype._block=function(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);var r=null!=e._difficulty?e._difficulty:e.difficulty,t=l.check(t,e);return t._difficulty=null==r?null:i.BigNumber.from(r),t},l.prototype.block=function(e){return this._block(e,this.formats.block)},l.prototype.blockWithTransactions=function(e){return this._block(e,this.formats.blockWithTransactions)},l.prototype.transactionRequest=function(e){return l.check(this.formats.transactionRequest,e)},l.prototype.transactionResponse=function(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&i.BigNumber.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),1!==e.type&&2!==e.type||null!=e.accessList||(e.accessList=[]);var t,r=l.check(this.formats.transaction,e);return null!=e.chainId?(t=e.chainId,(0,o.isHexString)(t)&&(t=i.BigNumber.from(t).toNumber()),r.chainId=t):(null==(t=e.networkId)&&null==r.v&&(t=e.chainId),"number"!=typeof(t=(0,o.isHexString)(t)?i.BigNumber.from(t).toNumber():t)&&null!=r.v&&((t=(r.v-35)/2)<0&&(t=0),t=parseInt(t)),r.chainId=t="number"!=typeof t?0:t),r.blockHash&&"x"===r.blockHash.replace(/0/g,"")&&(r.blockHash=null),r},l.prototype.transaction=function(e){return(0,a.parse)(e)},l.prototype.receiptLog=function(e){return l.check(this.formats.receiptLog,e)},l.prototype.receipt=function(e){var t,e=l.check(this.formats.receipt,e);return null!=e.root&&(e.root.length<=4?0===(t=i.BigNumber.from(e.root).toNumber())||1===t?(null!=e.status&&e.status!==t&&u.throwArgumentError("alt-root-status/status mismatch","value",{root:e.root,status:e.status}),e.status=t,delete e.root):u.throwArgumentError("invalid alt-root-status","value.root",e.root):66!==e.root.length&&u.throwArgumentError("invalid root hash","value.root",e.root)),null!=e.status&&(e.byzantium=!0),e},l.prototype.topics=function(e){var t=this;return Array.isArray(e)?e.map(function(e){return t.topics(e)}):null!=e?this.hash(e,!0):null},l.prototype.filter=function(e){return l.check(this.formats.filter,e)},l.prototype.filterLog=function(e){return l.check(this.formats.filterLog,e)},l.check=function(e,t){var r,n={};for(r in e)try{var i=e[r](t[r]);void 0!==i&&(n[r]=i)}catch(e){throw e.checkKey=r,e.checkValue=t[r],e}return n},l.allowNull=function(t,r){return function(e){return null==e?r:t(e)}},l.allowFalsish=function(t,r){return function(e){return e?t(e):r}},l.arrayOf=function(r){return function(e){var t;if(Array.isArray(e))return t=[],e.forEach(function(e){t.push(r(e))}),t;throw new Error("not an array")}},r.Formatter=l,r.isCommunityResourcable=f;var d=!(r.isCommunityResource=function(e){return f(e)&&e.isCommunityResource()});r.showThrottleMessage=function(){d||(d=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}},{"./_version":81,"@ethersproject/address":38,"@ethersproject/bignumber":45,"@ethersproject/bytes":47,"@ethersproject/constants":51,"@ethersproject/logger":74,"@ethersproject/properties":80,"@ethersproject/transactions":121}],91:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Formatter=r.showThrottleMessage=r.isCommunityResourcable=r.isCommunityResource=r.getNetwork=r.getDefaultProvider=r.JsonRpcSigner=r.IpcProvider=r.WebSocketProvider=r.Web3Provider=r.StaticJsonRpcProvider=r.PocketProvider=r.NodesmithProvider=r.JsonRpcBatchProvider=r.JsonRpcProvider=r.InfuraWebSocketProvider=r.InfuraProvider=r.EtherscanProvider=r.CloudflareProvider=r.AnkrProvider=r.AlchemyWebSocketProvider=r.AlchemyProvider=r.FallbackProvider=r.UrlJsonRpcProvider=r.Resolver=r.BaseProvider=r.Provider=void 0;var n=e("@ethersproject/abstract-provider"),i=(Object.defineProperty(r,"Provider",{enumerable:!0,get:function(){return n.Provider}}),e("@ethersproject/networks")),o=(Object.defineProperty(r,"getNetwork",{enumerable:!0,get:function(){return i.getNetwork}}),e("./base-provider")),s=(Object.defineProperty(r,"BaseProvider",{enumerable:!0,get:function(){return o.BaseProvider}}),Object.defineProperty(r,"Resolver",{enumerable:!0,get:function(){return o.Resolver}}),e("./alchemy-provider")),a=(Object.defineProperty(r,"AlchemyProvider",{enumerable:!0,get:function(){return s.AlchemyProvider}}),Object.defineProperty(r,"AlchemyWebSocketProvider",{enumerable:!0,get:function(){return s.AlchemyWebSocketProvider}}),e("./ankr-provider")),c=(Object.defineProperty(r,"AnkrProvider",{enumerable:!0,get:function(){return a.AnkrProvider}}),e("./cloudflare-provider")),u=(Object.defineProperty(r,"CloudflareProvider",{enumerable:!0,get:function(){return c.CloudflareProvider}}),e("./etherscan-provider")),h=(Object.defineProperty(r,"EtherscanProvider",{enumerable:!0,get:function(){return u.EtherscanProvider}}),e("./fallback-provider")),l=(Object.defineProperty(r,"FallbackProvider",{enumerable:!0,get:function(){return h.FallbackProvider}}),e("./ipc-provider")),f=(Object.defineProperty(r,"IpcProvider",{enumerable:!0,get:function(){return l.IpcProvider}}),e("./infura-provider")),d=(Object.defineProperty(r,"InfuraProvider",{enumerable:!0,get:function(){return f.InfuraProvider}}),Object.defineProperty(r,"InfuraWebSocketProvider",{enumerable:!0,get:function(){return f.InfuraWebSocketProvider}}),e("./json-rpc-provider")),p=(Object.defineProperty(r,"JsonRpcProvider",{enumerable:!0,get:function(){return d.JsonRpcProvider}}),Object.defineProperty(r,"JsonRpcSigner",{enumerable:!0,get:function(){return d.JsonRpcSigner}}),e("./json-rpc-batch-provider")),g=(Object.defineProperty(r,"JsonRpcBatchProvider",{enumerable:!0,get:function(){return p.JsonRpcBatchProvider}}),e("./nodesmith-provider")),y=(Object.defineProperty(r,"NodesmithProvider",{enumerable:!0,get:function(){return g.NodesmithProvider}}),e("./pocket-provider")),b=(Object.defineProperty(r,"PocketProvider",{enumerable:!0,get:function(){return y.PocketProvider}}),e("./url-json-rpc-provider")),m=(Object.defineProperty(r,"StaticJsonRpcProvider",{enumerable:!0,get:function(){return b.StaticJsonRpcProvider}}),Object.defineProperty(r,"UrlJsonRpcProvider",{enumerable:!0,get:function(){return b.UrlJsonRpcProvider}}),e("./web3-provider")),v=(Object.defineProperty(r,"Web3Provider",{enumerable:!0,get:function(){return m.Web3Provider}}),e("./websocket-provider")),A=(Object.defineProperty(r,"WebSocketProvider",{enumerable:!0,get:function(){return v.WebSocketProvider}}),e("./formatter")),_=(Object.defineProperty(r,"Formatter",{enumerable:!0,get:function(){return A.Formatter}}),Object.defineProperty(r,"isCommunityResourcable",{enumerable:!0,get:function(){return A.isCommunityResourcable}}),Object.defineProperty(r,"isCommunityResource",{enumerable:!0,get:function(){return A.isCommunityResource}}),Object.defineProperty(r,"showThrottleMessage",{enumerable:!0,get:function(){return A.showThrottleMessage}}),e("@ethersproject/logger")),e=e("./_version"),w=new _.Logger(e.version);r.getDefaultProvider=function(e,t){if("string"==typeof(e=null==e?"homestead":e)){var r=e.match(/^(ws|http)s?:/i);if(r)switch(r[1].toLowerCase()){case"http":case"https":return new d.JsonRpcProvider(e);case"ws":case"wss":return new v.WebSocketProvider(e);default:w.throwArgumentError("unsupported URL scheme","network",e)}}return(r=(0,i.getNetwork)(e))&&r._defaultProvider||w.throwError("unsupported getDefaultProvider network",_.Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),r._defaultProvider({FallbackProvider:h.FallbackProvider,AlchemyProvider:s.AlchemyProvider,AnkrProvider:a.AnkrProvider,CloudflareProvider:c.CloudflareProvider,EtherscanProvider:u.EtherscanProvider,InfuraProvider:f.InfuraProvider,JsonRpcProvider:d.JsonRpcProvider,NodesmithProvider:g.NodesmithProvider,PocketProvider:y.PocketProvider,Web3Provider:m.Web3Provider,IpcProvider:l.IpcProvider},t)}},{"./_version":81,"./alchemy-provider":82,"./ankr-provider":83,"./base-provider":84,"./cloudflare-provider":87,"./etherscan-provider":88,"./fallback-provider":89,"./formatter":90,"./infura-provider":92,"./ipc-provider":85,"./json-rpc-batch-provider":93,"./json-rpc-provider":94,"./nodesmith-provider":95,"./pocket-provider":96,"./url-json-rpc-provider":97,"./web3-provider":98,"./websocket-provider":99,"@ethersproject/abstract-provider":34,"@ethersproject/logger":74,"@ethersproject/networks":76}],92:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.InfuraProvider=r.InfuraWebSocketProvider=void 0,e("@ethersproject/properties")),a=e("./websocket-provider"),c=e("./formatter"),u=e("@ethersproject/logger"),h=e("./_version"),l=new u.Logger(h.version),h=e("./url-json-rpc-provider"),f="84842078b09946638c03157f83405213",d=(i=a.WebSocketProvider,o(p,i),p.prototype.isCommunityResource=function(){return this.projectId===f},p);function p(e,t){var t=new y(e,t),r=t.connection,r=(r.password&&l.throwError("INFURA WebSocket project secrets unsupported",u.Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"}),r.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/")),r=i.call(this,r,e)||this;return(0,s.defineReadOnly)(r,"apiKey",t.projectId),(0,s.defineReadOnly)(r,"projectId",t.projectId),(0,s.defineReadOnly)(r,"projectSecret",t.projectSecret),r}r.InfuraWebSocketProvider=d;g=h.UrlJsonRpcProvider,o(b,g),b.getWebSocketProvider=function(e,t){return new d(e,t)},b.getApiKey=function(e){var t={apiKey:f,projectId:f,projectSecret:null};return null!=e&&("string"==typeof e?t.projectId=e:null!=e.projectSecret?(l.assertArgument("string"==typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),l.assertArgument("string"==typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t},b.getUrl=function(e,r){var t=null;switch(e?e.name:"unknown"){case"homestead":t="mainnet.infura.io";break;case"ropsten":t="ropsten.infura.io";break;case"rinkeby":t="rinkeby.infura.io";break;case"kovan":t="kovan.infura.io";break;case"goerli":t="goerli.infura.io";break;case"matic":t="polygon-mainnet.infura.io";break;case"maticmum":t="polygon-mumbai.infura.io";break;case"optimism":t="optimism-mainnet.infura.io";break;case"optimism-kovan":t="optimism-kovan.infura.io";break;case"arbitrum":t="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":t="arbitrum-rinkeby.infura.io";break;default:l.throwError("unsupported network",u.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}var n={allowGzip:!0,url:"https://"+t+"/v3/"+r.projectId,throttleCallback:function(e,t){return r.projectId===f&&(0,c.showThrottleMessage)(),Promise.resolve(!0)}};return null!=r.projectSecret&&(n.user="",n.password=r.projectSecret),n},b.prototype.isCommunityResource=function(){return this.projectId===f};var g,y=b;function b(){return null!==g&&g.apply(this,arguments)||this}r.InfuraProvider=y},{"./_version":81,"./formatter":90,"./url-json-rpc-provider":97,"./websocket-provider":99,"@ethersproject/logger":74,"@ethersproject/properties":80}],93:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcBatchProvider=void 0,e("@ethersproject/properties")),a=e("@ethersproject/web"),e=e("./json-rpc-provider"),e=(i=e.JsonRpcProvider,o(c,i),c.prototype.send=function(e,t){var i=this,e={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"},r=(null==this._pendingBatch&&(this._pendingBatch=[]),{request:e,resolve:null,reject:null}),t=new Promise(function(e,t){r.resolve=e,r.reject=t});return this._pendingBatch.push(r),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(function(){var e=i._pendingBatch,r=(i._pendingBatch=null,i._pendingBatchAggregator=null,e.map(function(e){return e.request}));return i.emit("debug",{action:"requestBatch",request:(0,s.deepCopy)(r),provider:i}),(0,a.fetchJson)(i.connection,JSON.stringify(r)).then(function(n){i.emit("debug",{action:"response",request:r,response:n,provider:i}),e.forEach(function(e,t){var r,t=n[t];t.error?((r=new Error(t.error.message)).code=t.error.code,r.data=t.error.data,e.reject(r)):e.resolve(t.result)})},function(t){i.emit("debug",{action:"response",error:t,request:r,provider:i}),e.forEach(function(e){e.reject(t)})})},10)),t},c);function c(){return null!==i&&i.apply(this,arguments)||this}r.JsonRpcBatchProvider=e},{"./json-rpc-provider":94,"@ethersproject/properties":80,"@ethersproject/web":128}],94:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}o((c=c.apply(e,s||[])).next())})},u=this&&this.__generator||function(n,i){var o,s,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=i.call(n,c)}catch(e){t=[6,e],s=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},o=(Object.defineProperty(r,"__esModule",{value:!0}),r.JsonRpcProvider=r.JsonRpcSigner=void 0,e("@ethersproject/abstract-signer")),s=e("@ethersproject/bignumber"),a=e("@ethersproject/bytes"),h=e("@ethersproject/hash"),l=e("@ethersproject/properties"),f=e("@ethersproject/strings"),d=e("@ethersproject/transactions"),p=e("@ethersproject/web"),g=e("@ethersproject/logger"),y=e("./_version"),b=new g.Logger(y.version),y=e("./base-provider"),m=["call","estimateGas"];function v(e,t){if(null!=e){if("string"==typeof e.message&&e.message.match("reverted")){var r=(0,a.isHexString)(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"==typeof e)for(var n in e){n=v(e[n],t);if(n)return n}else if("string"==typeof e)try{return v(JSON.parse(e),t)}catch(e){}}return null}function A(e,t,r){r=r.transaction||r.signedTransaction;if("call"===e){if(n=v(t,!0))return n.data;b.throwError("missing revert data in call exception; Transaction reverted without a reason string",g.Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:r,error:t})}"estimateGas"===e&&(n=null==(n=v(t.body,!1))?v(t,!1):n)&&b.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",g.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:n.message,method:e,transaction:r,error:t});var n=t.message;throw t.code===g.Logger.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?n=t.error.message:"string"==typeof t.body?n=t.body:"string"==typeof t.responseText&&(n=t.responseText),(n=(n||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit/i)&&b.throwError("insufficient funds for intrinsic transaction cost",g.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),n.match(/nonce (is )?too low/i)&&b.throwError("nonce has already been used",g.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),n.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&b.throwError("replacement fee too low",g.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),n.match(/only replay-protected/i)&&b.throwError("legacy pre-eip-155 transactions not supported",g.Logger.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:r}),0<=m.indexOf(e)&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&b.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",g.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}function _(t){return new Promise(function(e){setTimeout(e,t)})}function w(e){var t;if(e.error)throw(t=new Error(e.error.message)).code=e.error.code,t.data=e.error.data,t;return e.result}function E(e){return e&&e.toLowerCase()}var S,k={},I=(S=o.Signer,i(C,S),C.prototype.connect=function(e){return b.throwError("cannot alter JSON-RPC Signer connection",g.Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})},C.prototype.connectUnchecked=function(){return new x(k,this.provider,this._address||this._index)},C.prototype.getAddress=function(){var t=this;return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(function(e){return e.length<=t._index&&b.throwError("unknown account #"+t._index,g.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),t.provider.formatter.address(e[t._index])})},C.prototype.sendUncheckedTransaction=function(n){var e,i=this,t=(n=(0,l.shallowCopy)(n),this.getAddress().then(function(e){return e=e&&e.toLowerCase()}));return null==n.gasLimit&&((e=(0,l.shallowCopy)(n)).from=t,n.gasLimit=this.provider.estimateGas(e)),null!=n.to&&(n.to=Promise.resolve(n.to).then(function(r){return c(i,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return null==r?[2,null]:[4,this.provider.resolveName(r)];case 1:return null==(t=e.sent())&&b.throwArgumentError("provided ENS name resolves to null","tx.to",r),[2,t]}})})})),(0,l.resolveProperties)({tx:(0,l.resolveProperties)(n),sender:t}).then(function(e){var t=e.tx,e=e.sender,r=(null!=t.from?t.from.toLowerCase()!==e&&b.throwArgumentError("from address mismatch","transaction",n):t.from=e,i.provider.constructor.hexlifyTransaction(t,{from:!0}));return i.provider.send("eth_sendTransaction",[r]).then(function(e){return e},function(e){return"string"==typeof e.message&&e.message.match(/user denied/i)&&b.throwError("user rejected transaction",g.Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:t}),A("sendTransaction",e,r)})})},C.prototype.signTransaction=function(e){return b.throwError("signing transactions is unsupported",g.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})},C.prototype.sendTransaction=function(o){return c(this,void 0,void 0,function(){var r,n,t,i=this;return u(this,function(e){switch(e.label){case 0:return[4,this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval)];case 1:return r=e.sent(),[4,this.sendUncheckedTransaction(o)];case 2:n=e.sent(),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,(0,p.poll)(function(){return c(i,void 0,void 0,function(){var t;return u(this,function(e){switch(e.label){case 0:return[4,this.provider.getTransaction(n)];case 1:return null===(t=e.sent())?[2,void 0]:[2,this.provider._wrapTransaction(t,n,r)]}})})},{oncePoll:this.provider})];case 4:return[2,e.sent()];case 5:throw(t=e.sent()).transactionHash=n,t;case 6:return[2]}})})},C.prototype.signMessage=function(i){return c(this,void 0,void 0,function(){var t,r,n;return u(this,function(e){switch(e.label){case 0:return t="string"==typeof i?(0,f.toUtf8Bytes)(i):i,[4,this.getAddress()];case 1:r=e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this.provider.send("personal_sign",[(0,a.hexlify)(t),r.toLowerCase()])];case 3:return[2,e.sent()];case 4:throw"string"==typeof(n=e.sent()).message&&n.message.match(/user denied/i)&&b.throwError("user rejected signing",g.Logger.errors.ACTION_REJECTED,{action:"signMessage",from:r,message:t}),n;case 5:return[2]}})})},C.prototype._legacySignMessage=function(i){return c(this,void 0,void 0,function(){var t,r,n;return u(this,function(e){switch(e.label){case 0:return t="string"==typeof i?(0,f.toUtf8Bytes)(i):i,[4,this.getAddress()];case 1:r=e.sent(),e.label=2;case 2:return e.trys.push([2,4,,5]),[4,this.provider.send("eth_sign",[r.toLowerCase(),(0,a.hexlify)(t)])];case 3:return[2,e.sent()];case 4:throw"string"==typeof(n=e.sent()).message&&n.message.match(/user denied/i)&&b.throwError("user rejected signing",g.Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,message:t}),n;case 5:return[2]}})})},C.prototype._signTypedData=function(o,s,a){return c(this,void 0,void 0,function(){var t,r,n,i=this;return u(this,function(e){switch(e.label){case 0:return[4,h._TypedDataEncoder.resolveNames(o,s,a,function(e){return i.provider.resolveName(e)})];case 1:return t=e.sent(),[4,this.getAddress()];case 2:r=e.sent(),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,this.provider.send("eth_signTypedData_v4",[r.toLowerCase(),JSON.stringify(h._TypedDataEncoder.getPayload(t.domain,s,t.value))])];case 4:return[2,e.sent()];case 5:throw"string"==typeof(n=e.sent()).message&&n.message.match(/user denied/i)&&b.throwError("user rejected signing",g.Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:r,message:{domain:t.domain,types:s,value:t.value}}),n;case 6:return[2]}})})},C.prototype.unlock=function(n){return c(this,void 0,void 0,function(){var t,r;return u(this,function(e){switch(e.label){case 0:return t=this.provider,[4,this.getAddress()];case 1:return r=e.sent(),[2,t.send("personal_unlockAccount",[r.toLowerCase(),n,null])]}})})},C);function C(e,t,r){var n=S.call(this)||this;if(e!==k)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");return(0,l.defineReadOnly)(n,"provider",t),"string"==typeof(r=null==r?0:r)?((0,l.defineReadOnly)(n,"_address",n.provider.formatter.address(r)),(0,l.defineReadOnly)(n,"_index",null)):"number"==typeof r?((0,l.defineReadOnly)(n,"_index",r),(0,l.defineReadOnly)(n,"_address",null)):b.throwArgumentError("invalid address or index","addressOrIndex",r),n}r.JsonRpcSigner=I;i(T,B=I),T.prototype.sendTransaction=function(e){var r=this;return this.sendUncheckedTransaction(e).then(function(t){return{hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:function(e){return r.provider.waitForTransaction(t,e)}}})};var B,x=T;function T(){return null!==B&&B.apply(this,arguments)||this}var M,P={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0},e=(M=y.BaseProvider,i(O,M),Object.defineProperty(O.prototype,"_cache",{get:function(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache},enumerable:!1,configurable:!0}),O.defaultUrl=function(){return"http://localhost:8545"},O.prototype.detectNetwork=function(){var e=this;return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(function(){e._cache.detectNetwork=null},0)),this._cache.detectNetwork},O.prototype._uncachedDetectNetwork=function(){return c(this,void 0,void 0,function(){var t,r;return u(this,function(e){switch(e.label){case 0:return[4,_(0)];case 1:e.sent(),t=null,e.label=2;case 2:return e.trys.push([2,4,,9]),[4,this.send("eth_chainId",[])];case 3:return t=e.sent(),[3,9];case 4:e.sent(),e.label=5;case 5:return e.trys.push([5,7,,8]),[4,this.send("net_version",[])];case 6:return t=e.sent(),[3,8];case 7:return e.sent(),[3,8];case 8:return[3,9];case 9:if(null!=t){r=(0,l.getStatic)(this.constructor,"getNetwork");try{return[2,r(s.BigNumber.from(t).toNumber())]}catch(e){return[2,b.throwError("could not detect network",g.Logger.errors.NETWORK_ERROR,{chainId:t,event:"invalidNetwork",serverError:e})]}}return[2,b.throwError("could not detect network",g.Logger.errors.NETWORK_ERROR,{event:"noNetwork"})]}})})},O.prototype.getSigner=function(e){return new I(k,this,e)},O.prototype.getUncheckedSigner=function(e){return this.getSigner(e).connectUnchecked()},O.prototype.listAccounts=function(){var t=this;return this.send("eth_accounts",[]).then(function(e){return e.map(function(e){return t.formatter.address(e)})})},O.prototype.send=function(e,t){var r,n=this,i={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"},t=(this.emit("debug",{action:"request",request:(0,l.deepCopy)(i),provider:this}),0<=["eth_chainId","eth_blockNumber"].indexOf(e));return t&&this._cache[e]?this._cache[e]:(r=(0,p.fetchJson)(this.connection,JSON.stringify(i),w).then(function(e){return n.emit("debug",{action:"response",request:i,response:e,provider:n}),e},function(e){throw n.emit("debug",{action:"response",error:e,request:i,provider:n}),e}),t&&(this._cache[e]=r,setTimeout(function(){n._cache[e]=null},0)),r)},O.prototype.prepareRequest=function(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[E(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[E(t.address),t.blockTag]];case"getCode":return["eth_getCode",[E(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[E(t.address),(0,a.hexZeroPad)(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[(0,l.getStatic)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[(0,l.getStatic)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=E(t.filter.address)),["eth_getLogs",[t.filter]]}return null},O.prototype.perform=function(i,o){return c(this,void 0,void 0,function(){var t,r,n;return u(this,function(e){switch(e.label){case 0:return"call"!==i&&"estimateGas"!==i?[3,2]:!(t=o.transaction)||null==t.type||!s.BigNumber.from(t.type).isZero()||null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas?[3,2]:[4,this.getFeeData()];case 1:null==(n=e.sent()).maxFeePerGas&&null==n.maxPriorityFeePerGas&&((o=(0,l.shallowCopy)(o)).transaction=(0,l.shallowCopy)(t),delete o.transaction.type),e.label=2;case 2:null==(r=this.prepareRequest(i,o))&&b.throwError(i+" not implemented",g.Logger.errors.NOT_IMPLEMENTED,{operation:i}),e.label=3;case 3:return e.trys.push([3,5,,6]),[4,this.send(r[0],r[1])];case 4:return[2,e.sent()];case 5:return n=e.sent(),[2,A(i,n,o)];case 6:return[2]}})})},O.prototype._startEvent=function(e){"pending"===e.tag&&this._startPending(),M.prototype._startEvent.call(this,e)},O.prototype._startPending=function(){var r,n;null==this._pendingFilter&&(n=(r=this).send("eth_newPendingTransactionFilter",[]),(this._pendingFilter=n).then(function(t){return function e(){r.send("eth_getFilterChanges",[t]).then(function(e){var t;return r._pendingFilter!=n?null:(t=Promise.resolve(),e.forEach(function(e){r._emitted["t:"+e.toLowerCase()]="pending",t=t.then(function(){return r.getTransaction(e).then(function(e){return r.emit("pending",e),null})})}),t.then(function(){return _(1e3)}))}).then(function(){if(r._pendingFilter==n)return setTimeout(function(){e()},0),null;r.send("eth_uninstallFilter",[t])}).catch(function(e){})}(),t}).catch(function(e){}))},O.prototype._stopEvent=function(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),M.prototype._stopEvent.call(this,e)},O.hexlifyTransaction=function(r,e){var t=(0,l.shallowCopy)(P);if(e)for(var n in e)e[n]&&(t[n]=!0);(0,l.checkProperties)(r,t);var i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(e){var t;null!=r[e]&&(t=(0,a.hexValue)(s.BigNumber.from(r[e])),i[e="gasLimit"===e?"gas":e]=t)}),["from","to","data"].forEach(function(e){null!=r[e]&&(i[e]=(0,a.hexlify)(r[e]))}),r.accessList&&(i.accessList=(0,d.accessListify)(r.accessList)),i},O);function O(e,t){var n=this,r=t;return null==t&&(r=new Promise(function(t,r){setTimeout(function(){n.detectNetwork().then(function(e){t(e)},function(e){r(e)})},0)})),n=M.call(this,r)||this,"string"==typeof(e=e||(0,l.getStatic)(n.constructor,"defaultUrl")())?(0,l.defineReadOnly)(n,"connection",Object.freeze({url:e})):(0,l.defineReadOnly)(n,"connection",Object.freeze((0,l.shallowCopy)(e))),n._nextId=42,n}r.JsonRpcProvider=e},{"./_version":81,"./base-provider":84,"@ethersproject/abstract-signer":36,"@ethersproject/bignumber":45,"@ethersproject/bytes":47,"@ethersproject/hash":60,"@ethersproject/logger":74,"@ethersproject/properties":80,"@ethersproject/strings":118,"@ethersproject/transactions":121,"@ethersproject/web":128}],95:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.NodesmithProvider=void 0,e("./url-json-rpc-provider")),a=e("@ethersproject/logger"),e=e("./_version"),c=new a.Logger(e.version),a=(i=s.UrlJsonRpcProvider,o(u,i),u.getApiKey=function(e){return e&&"string"!=typeof e&&c.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"},u.getUrl=function(e,t){c.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");var r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:c.throwArgumentError("unsupported network","network",e)}return r+"?apiKey="+t},u);function u(){return null!==i&&i.apply(this,arguments)||this}r.NodesmithProvider=a},{"./_version":81,"./url-json-rpc-provider":97,"@ethersproject/logger":74}],96:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.PocketProvider=void 0,e("@ethersproject/logger")),a=e("./_version"),c=new s.Logger(a.version),a=e("./url-json-rpc-provider"),u="62e1ad51b37b8e00394bda3b",e=(i=a.UrlJsonRpcProvider,o(h,i),h.getApiKey=function(e){var t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return null==e?t.applicationId=u:"string"==typeof e?t.applicationId=e:null!=e.applicationSecretKey?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:c.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t},h.getUrl=function(e,t){var r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:c.throwError("unsupported network",s.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}var n={headers:{},url:"https://"+r+"/v1/lb/"+t.applicationId};return null!=t.applicationSecretKey&&(n.user="",n.password=t.applicationSecretKey),n},h.prototype.isCommunityResource=function(){return this.applicationId===u},h);function h(){return null!==i&&i.apply(this,arguments)||this}r.PocketProvider=e},{"./_version":81,"./url-json-rpc-provider":97,"@ethersproject/logger":74}],97:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}o((c=c.apply(e,s||[])).next())})},a=this&&this.__generator||function(n,i){var o,s,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=i.call(n,c)}catch(e){t=[6,e],s=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},c=(Object.defineProperty(r,"__esModule",{value:!0}),r.UrlJsonRpcProvider=r.StaticJsonRpcProvider=void 0,e("@ethersproject/properties")),u=e("@ethersproject/logger"),h=e("./_version"),l=new u.Logger(h.version),h=e("./json-rpc-provider"),e=(i=h.JsonRpcProvider,o(f,i),f.prototype.detectNetwork=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return null!=(t=this.network)?[3,2]:[4,i.prototype.detectNetwork.call(this)];case 1:(t=e.sent())||l.throwError("no network detected",u.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,c.defineReadOnly)(this,"_network",t),this.emit("network",t,null)),e.label=2;case 2:return[2,t]}})})},f);function f(){return null!==i&&i.apply(this,arguments)||this}r.StaticJsonRpcProvider=e;o(p,d=e),p.prototype._startPending=function(){l.warn("WARNING: API provider does not support pending filters")},p.prototype.isCommunityResource=function(){return!1},p.prototype.getSigner=function(e){return l.throwError("API provider does not support signing",u.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})},p.prototype.listAccounts=function(){return Promise.resolve([])},p.getApiKey=function(e){return e},p.getUrl=function(e,t){return l.throwError("not implemented; sub-classes must override getUrl",u.Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})};var d,h=p;function p(e,t){var r=this.constructor,r=(l.checkAbstract(r,p),e=(0,c.getStatic)(r,"getNetwork")(e),t=(0,c.getStatic)(r,"getApiKey")(t),(0,c.getStatic)(r,"getUrl")(e,t)),n=d.call(this,r,e)||this;return"string"==typeof t?(0,c.defineReadOnly)(n,"apiKey",t):null!=t&&Object.keys(t).forEach(function(e){(0,c.defineReadOnly)(n,e,t[e])}),n}r.UrlJsonRpcProvider=h},{"./_version":81,"./json-rpc-provider":94,"@ethersproject/logger":74,"@ethersproject/properties":80}],98:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=(Object.defineProperty(r,"__esModule",{value:!0}),r.Web3Provider=void 0,e("@ethersproject/properties")),o=e("@ethersproject/logger"),s=e("./_version"),a=new o.Logger(s.version),o=e("./json-rpc-provider"),u=1;function h(e,s){var a="Web3LegacyFetcher";return function(e,t){var i=this,o={method:e,params:t,id:u++,jsonrpc:"2.0"};return new Promise(function(r,n){i.emit("debug",{action:"request",fetcher:a,request:(0,c.deepCopy)(o),provider:i}),s(o,function(e,t){return e?(i.emit("debug",{action:"response",fetcher:a,error:e,request:o,provider:i}),n(e)):(i.emit("debug",{action:"response",fetcher:a,request:o,response:t,provider:i}),t.error?((e=new Error(t.error.message)).code=t.error.code,e.data=t.error.data,n(e)):void r(t.result))})})}}l=o.JsonRpcProvider,i(f,l),f.prototype.send=function(e,t){return this.jsonRpcFetchFunc(e,t)};var l,s=f;function f(e,t){null==e&&a.throwArgumentError("missing provider","provider",e);var i,r=null,n=null,o=null;return"function"==typeof e?(r="unknown:",n=e):(!(r=e.host||e.path||"")&&e.isMetaMask&&(r="metamask"),(o=e).request?(""===r&&(r="eip-1193:"),i=e,n=function(e,t){var r=this,n={method:e,params:t=null==t?[]:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:(0,c.deepCopy)(n),provider:this}),i.request(n).then(function(e){return r.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:e,provider:r}),e},function(e){throw r.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:e,provider:r}),e})}):e.sendAsync?n=h(0,e.sendAsync.bind(e)):e.send?n=h(0,e.send.bind(e)):a.throwArgumentError("unsupported provider","provider",e),r=r||"unknown:"),e=l.call(this,r,t)||this,(0,c.defineReadOnly)(e,"jsonRpcFetchFunc",n),(0,c.defineReadOnly)(e,"provider",o),e}r.Web3Provider=s},{"./_version":81,"./json-rpc-provider":94,"@ethersproject/logger":74,"@ethersproject/properties":80}],99:[function(e,t,r){"use strict";var n,o,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}o((c=c.apply(e,s||[])).next())})},a=this&&this.__generator||function(n,i){var o,s,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=i.call(n,c)}catch(e){t=[6,e],s=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},c=(Object.defineProperty(r,"__esModule",{value:!0}),r.WebSocketProvider=void 0,e("@ethersproject/bignumber")),u=e("@ethersproject/properties"),h=e("./json-rpc-provider"),l=e("./ws"),f=e("@ethersproject/logger"),e=e("./_version"),d=new f.Logger(e.version),p=1,e=(o=h.JsonRpcProvider,i(g,o),Object.defineProperty(g.prototype,"websocket",{get:function(){return this._websocket},enumerable:!1,configurable:!0}),g.prototype.detectNetwork=function(){return this._detectNetwork},Object.defineProperty(g.prototype,"pollingInterval",{get:function(){return 0},set:function(e){d.throwError("cannot set polling interval on WebSocketProvider",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})},enumerable:!1,configurable:!0}),g.prototype.resetEventsBlock=function(e){d.throwError("cannot reset events block on WebSocketProvider",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})},g.prototype.poll=function(){return s(this,void 0,void 0,function(){return a(this,function(e){return[2,null]})})},Object.defineProperty(g.prototype,"polling",{set:function(e){e&&d.throwError("cannot set polling on WebSocketProvider",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})},enumerable:!1,configurable:!0}),g.prototype.send=function(t,i){var o=this,s=p++;return new Promise(function(r,n){var e=JSON.stringify({method:t,params:i,id:s,jsonrpc:"2.0"});o.emit("debug",{action:"request",request:JSON.parse(e),provider:o}),o._requests[String(s)]={callback:function(e,t){return e?n(e):r(t)},payload:e},o._wsReady&&o.websocket.send(e)})},g.defaultUrl=function(){return"ws://localhost:8546"},g.prototype._subscribe=function(n,i,o){return s(this,void 0,void 0,function(){var t,r=this;return a(this,function(e){switch(e.label){case 0:return null==(t=this._subIds[n])&&(t=Promise.all(i).then(function(e){return r.send("eth_subscribe",e)}),this._subIds[n]=t),[4,t];case 1:return t=e.sent(),this._subs[t]={tag:n,processFunc:o},[2]}})})},g.prototype._startEvent=function(t){var r=this;switch(t.type){case"block":this._subscribe("block",["newHeads"],function(e){e=c.BigNumber.from(e.number).toNumber();r._emitted.block=e,r.emit("block",e)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],function(e){r.emit("pending",e)});break;case"filter":this._subscribe(t.tag,["logs",this._getFilter(t.filter)],function(e){null==e.removed&&(e.removed=!1),r.emit(t.filter,r.formatter.filterLog(e))});break;case"tx":var n=function(e){var t=e.hash;r.getTransactionReceipt(t).then(function(e){e&&r.emit(t,e)})};n(t),this._subscribe("tx",["newHeads"],function(e){r._events.filter(function(e){return"tx"===e.type}).forEach(n)});break;case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",t)}},g.prototype._stopEvent=function(e){var t=this,r=e.tag;if("tx"===e.type){if(this._events.filter(function(e){return"tx"===e.type}).length)return;r="tx"}else if(this.listenerCount(e.event))return;e=this._subIds[r];e&&(delete this._subIds[r],e.then(function(e){t._subs[e]&&(delete t._subs[e],t.send("eth_unsubscribe",[e]))}))},g.prototype.destroy=function(){return s(this,void 0,void 0,function(){var t=this;return a(this,function(e){switch(e.label){case 0:return this.websocket.readyState!==l.WebSocket.CONNECTING?[3,2]:[4,new Promise(function(e){t.websocket.onopen=function(){e(!0)},t.websocket.onerror=function(){e(!1)}})];case 1:e.sent(),e.label=2;case 2:return this.websocket.close(1e3),[2]}})})},g);function g(e,t){var i=this,t=("any"===t&&d.throwError("WebSocketProvider does not support 'any' network yet",f.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),(i="string"==typeof e?o.call(this,e,t)||this:o.call(this,"_websocket",t)||this)._pollingInterval=-1,i._wsReady=!1,"string"==typeof e?(0,u.defineReadOnly)(i,"_websocket",new l.WebSocket(i.connection.url)):(0,u.defineReadOnly)(i,"_websocket",e),(0,u.defineReadOnly)(i,"_requests",{}),(0,u.defineReadOnly)(i,"_subs",{}),(0,u.defineReadOnly)(i,"_subIds",{}),(0,u.defineReadOnly)(i,"_detectNetwork",o.prototype.detectNetwork.call(i)),i.websocket.onopen=function(){i._wsReady=!0,Object.keys(i._requests).forEach(function(e){i.websocket.send(i._requests[e].payload)})},i.websocket.onmessage=function(e){var t,r,e=e.data,n=JSON.parse(e);null!=n.id?(r=String(n.id),t=i._requests[r],delete i._requests[r],void 0!==n.result?(t.callback(null,n.result),i.emit("debug",{action:"response",request:JSON.parse(t.payload),response:n.result,provider:i})):(r=null,n.error?(r=new Error(n.error.message||"unknown error"),(0,u.defineReadOnly)(r,"code",n.error.code||null),(0,u.defineReadOnly)(r,"response",e)):r=new Error("unknown error"),t.callback(r,void 0),i.emit("debug",{action:"response",error:r,request:JSON.parse(t.payload),provider:i}))):"eth_subscription"===n.method?(e=i._subs[n.params.subscription])&&e.processFunc(n.params.result):console.warn("this should not happen")},setInterval(function(){i.emit("poll")},1e3));return t.unref&&t.unref(),i}r.WebSocketProvider=e},{"./_version":81,"./json-rpc-provider":94,"./ws":86,"@ethersproject/bignumber":45,"@ethersproject/logger":74,"@ethersproject/properties":80}],100:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="random/5.7.0"},{}],101:[function(s,e,a){!function(o){!function(){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.randomBytes=void 0;var t=s("@ethersproject/bytes"),r=s("@ethersproject/logger"),e=s("./_version"),n=new r.Logger(e.version);var e=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==o)return o;throw new Error("unable to locate global object")}(),i=e.crypto||e.msCrypto;i&&i.getRandomValues||(n.warn("WARNING: Missing strong random number source"),i={getRandomValues:function(e){return n.throwError("no secure random source avaialble",r.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}}),a.randomBytes=function(e){return(e<=0||1024<e||e%1||e!=e)&&n.throwArgumentError("invalid length","length",e),e=new Uint8Array(e),i.getRandomValues(e),(0,t.arrayify)(e)}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_version":100,"@ethersproject/bytes":47,"@ethersproject/logger":74}],102:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shuffled=r.randomBytes=void 0;var n=e("./random"),i=(Object.defineProperty(r,"randomBytes",{enumerable:!0,get:function(){return n.randomBytes}}),e("./shuffle"));Object.defineProperty(r,"shuffled",{enumerable:!0,get:function(){return i.shuffled}})},{"./random":101,"./shuffle":103}],103:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.shuffled=void 0,r.shuffled=function(e){for(var t=(e=e.slice()).length-1;0<t;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}},{}],104:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="rlp/5.7.0"},{}],105:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decode=r.encode=void 0;var i=e("@ethersproject/bytes"),s=e("@ethersproject/logger"),e=e("./_version"),a=new s.Logger(e.version);function o(e){for(var t=[];e;)t.unshift(255&e),e>>=8;return t}function c(e,t,r){for(var n=0,i=0;i<r;i++)n=256*n+e[t+i];return n}function u(e,t,r,n){for(var i=[];r<t+1+n;){var o=h(e,r);i.push(o.result),t+1+n<(r+=o.consumed)&&a.throwError("child data too short",s.Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function h(e,t){var r,n;return 0===e.length&&a.throwError("data too short",s.Logger.errors.BUFFER_OVERRUN,{}),248<=e[t]?(t+1+(n=e[t]-247)>e.length&&a.throwError("data short segment too short",s.Logger.errors.BUFFER_OVERRUN,{}),t+1+n+(r=c(e,t+1,n))>e.length&&a.throwError("data long segment too short",s.Logger.errors.BUFFER_OVERRUN,{}),u(e,t,t+1+n,n+r)):192<=e[t]?(t+1+(r=e[t]-192)>e.length&&a.throwError("data array too short",s.Logger.errors.BUFFER_OVERRUN,{}),u(e,t,t+1,r)):184<=e[t]?(t+1+(n=e[t]-183)>e.length&&a.throwError("data array too short",s.Logger.errors.BUFFER_OVERRUN,{}),t+1+n+(r=c(e,t+1,n))>e.length&&a.throwError("data array too short",s.Logger.errors.BUFFER_OVERRUN,{}),{consumed:1+n+r,result:(0,i.hexlify)(e.slice(t+1+n,t+1+n+r))}):128<=e[t]?(t+1+(n=e[t]-128)>e.length&&a.throwError("data too short",s.Logger.errors.BUFFER_OVERRUN,{}),{consumed:1+n,result:(0,i.hexlify)(e.slice(t+1,t+1+n))}):{consumed:1,result:(0,i.hexlify)(e[t])}}r.encode=function(e){return(0,i.hexlify)(function t(e){var r;if(Array.isArray(e))return r=[],e.forEach(function(e){r=r.concat(t(e))}),r.length<=55?(r.unshift(192+r.length),r):((n=o(r.length)).unshift(247+n.length),n.concat(r));(0,i.isBytesLike)(e)||a.throwArgumentError("RLP object must be BytesLike","object",e);var n=Array.prototype.slice.call((0,i.arrayify)(e));return 1===n.length&&n[0]<=127?n:n.length<=55?(n.unshift(128+n.length),n):((e=o(n.length)).unshift(183+e.length),e.concat(n))}(e))},r.decode=function(e){var t=(0,i.arrayify)(e),r=h(t,0);return r.consumed!==t.length&&a.throwArgumentError("invalid rlp data","data",e),r.result}},{"./_version":104,"@ethersproject/bytes":47,"@ethersproject/logger":74}],106:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="sha2/5.7.0"},{}],107:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(r,"__esModule",{value:!0}),r.computeHmac=r.sha512=r.sha256=r.ripemd160=void 0,n(e("hash.js"))),o=e("@ethersproject/bytes"),s=e("./types"),a=e("@ethersproject/logger"),n=e("./_version"),c=new a.Logger(n.version);r.ripemd160=function(e){return"0x"+i.default.ripemd160().update((0,o.arrayify)(e)).digest("hex")},r.sha256=function(e){return"0x"+i.default.sha256().update((0,o.arrayify)(e)).digest("hex")},r.sha512=function(e){return"0x"+i.default.sha512().update((0,o.arrayify)(e)).digest("hex")},r.computeHmac=function(e,t,r){return s.SupportedAlgorithm[e]||c.throwError("unsupported algorithm "+e,a.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+i.default.hmac(i.default[e],(0,o.arrayify)(t)).update((0,o.arrayify)(r)).digest("hex")}},{"./_version":106,"./types":109,"@ethersproject/bytes":47,"@ethersproject/logger":74,"hash.js":341}],108:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SupportedAlgorithm=r.sha512=r.sha256=r.ripemd160=r.computeHmac=void 0;var n=e("./sha2"),i=(Object.defineProperty(r,"computeHmac",{enumerable:!0,get:function(){return n.computeHmac}}),Object.defineProperty(r,"ripemd160",{enumerable:!0,get:function(){return n.ripemd160}}),Object.defineProperty(r,"sha256",{enumerable:!0,get:function(){return n.sha256}}),Object.defineProperty(r,"sha512",{enumerable:!0,get:function(){return n.sha512}}),e("./types"));Object.defineProperty(r,"SupportedAlgorithm",{enumerable:!0,get:function(){return i.SupportedAlgorithm}})},{"./sha2":107,"./types":109}],109:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SupportedAlgorithm=void 0,(r=r.SupportedAlgorithm||(r.SupportedAlgorithm={})).sha256="sha256",r.sha512="sha512"},{}],110:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="signing-key/5.7.0"},{}],111:[function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.EC=void 0;n=n(e("elliptic")).default.ec;r.EC=n},{elliptic:257}],112:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.computePublicKey=r.recoverPublicKey=r.SigningKey=void 0;var n=e("./elliptic"),i=e("@ethersproject/bytes"),o=e("@ethersproject/properties"),s=e("@ethersproject/logger"),e=e("./_version"),a=new s.Logger(e.version),c=null;function u(){return c=c||new n.EC("secp256k1")}l.prototype._addPoint=function(e){var t=u().keyFromPublic((0,i.arrayify)(this.publicKey)),e=u().keyFromPublic((0,i.arrayify)(e));return"0x"+t.pub.add(e.pub).encodeCompressed("hex")},l.prototype.signDigest=function(e){var t=u().keyFromPrivate((0,i.arrayify)(this.privateKey)),r=(0,i.arrayify)(e),e=(32!==r.length&&a.throwArgumentError("bad digest length","digest",e),t.sign(r,{canonical:!0}));return(0,i.splitSignature)({recoveryParam:e.recoveryParam,r:(0,i.hexZeroPad)("0x"+e.r.toString(16),32),s:(0,i.hexZeroPad)("0x"+e.s.toString(16),32)})},l.prototype.computeSharedSecret=function(e){var t=u().keyFromPrivate((0,i.arrayify)(this.privateKey)),e=u().keyFromPublic((0,i.arrayify)(f(e)));return(0,i.hexZeroPad)("0x"+t.derive(e.getPublic()).toString(16),32)},l.isSigningKey=function(e){return!(!e||!e._isSigningKey)};var h=l;function l(e){(0,o.defineReadOnly)(this,"curve","secp256k1"),(0,o.defineReadOnly)(this,"privateKey",(0,i.hexlify)(e)),32!==(0,i.hexDataLength)(this.privateKey)&&a.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");e=u().keyFromPrivate((0,i.arrayify)(this.privateKey));(0,o.defineReadOnly)(this,"publicKey","0x"+e.getPublic(!1,"hex")),(0,o.defineReadOnly)(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),(0,o.defineReadOnly)(this,"_isSigningKey",!0)}function f(e,t){var r,e=(0,i.arrayify)(e);return 32===e.length?(r=new h(e),t?"0x"+u().keyFromPrivate(e).getPublic(!0,"hex"):r.publicKey):33===e.length?t?(0,i.hexlify)(e):"0x"+u().keyFromPublic(e).getPublic(!1,"hex"):65===e.length?t?"0x"+u().keyFromPublic(e).getPublic(!0,"hex"):(0,i.hexlify)(e):a.throwArgumentError("invalid public or private key","key","[REDACTED]")}r.SigningKey=h,r.recoverPublicKey=function(e,t){var t=(0,i.splitSignature)(t),r={r:(0,i.arrayify)(t.r),s:(0,i.arrayify)(t.s)};return"0x"+u().recoverPubKey((0,i.arrayify)(e),r,t.recoveryParam).encode("hex",!1)},r.computePublicKey=f},{"./_version":110,"./elliptic":111,"@ethersproject/bytes":47,"@ethersproject/logger":74,"@ethersproject/properties":80}],113:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="solidity/5.7.0"},{}],114:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sha256=r.keccak256=r.pack=void 0;var c=e("@ethersproject/bignumber"),u=e("@ethersproject/bytes"),n=e("@ethersproject/keccak256"),i=e("@ethersproject/sha2"),h=e("@ethersproject/strings"),l=new RegExp("^bytes([0-9]+)$"),f=new RegExp("^(u?int)([0-9]*)$"),d=new RegExp("^(.*)\\[([0-9]*)\\]$"),p="0000000000000000000000000000000000000000000000000000000000000000",o=e("@ethersproject/logger"),e=e("./_version"),g=new o.Logger(e.version);function s(e,r){e.length!=r.length&&g.throwArgumentError("wrong number of values; expected ${ types.length }","values",r);var n=[];return e.forEach(function(e,t){n.push(function t(e,r,n){switch(e){case"address":return n?(0,u.zeroPad)(r,32):(0,u.arrayify)(r);case"string":return(0,h.toUtf8Bytes)(r);case"bytes":return(0,u.arrayify)(r);case"bool":return r=r?"0x01":"0x00",n?(0,u.zeroPad)(r,32):(0,u.arrayify)(r)}var i,o,s,a=e.match(f);return a?(i=parseInt(a[2]||"256"),(a[2]&&String(i)!==a[2]||i%8!=0||0===i||256<i)&&g.throwArgumentError("invalid number type","type",e),n&&(i=256),r=c.BigNumber.from(r).toTwos(i),(0,u.zeroPad)(r,i/8)):(a=e.match(l))?(i=parseInt(a[1]),(String(i)!==a[1]||0===i||32<i)&&g.throwArgumentError("invalid bytes type","type",e),(0,u.arrayify)(r).byteLength!==i&&g.throwArgumentError("invalid value for "+e,"value",r),n?(0,u.arrayify)((r+p).substring(0,66)):r):(a=e.match(d))&&Array.isArray(r)?(o=a[1],parseInt(a[2]||String(r.length))!=r.length&&g.throwArgumentError("invalid array length for "+e,"value",r),s=[],r.forEach(function(e){s.push(t(o,e,!0))}),(0,u.concat)(s)):g.throwArgumentError("invalid type","type",e)}(e,r[t]))}),(0,u.hexlify)((0,u.concat)(n))}r.pack=s,r.keccak256=function(e,t){return(0,n.keccak256)(s(e,t))},r.sha256=function(e,t){return(0,i.sha256)(s(e,t))}},{"./_version":113,"@ethersproject/bignumber":45,"@ethersproject/bytes":47,"@ethersproject/keccak256":72,"@ethersproject/logger":74,"@ethersproject/sha2":108,"@ethersproject/strings":118}],115:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="strings/5.7.0"},{}],116:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseBytes32String=r.formatBytes32String=void 0;var n=e("@ethersproject/constants"),i=e("@ethersproject/bytes"),o=e("./utf8");r.formatBytes32String=function(e){if(31<(e=(0,o.toUtf8Bytes)(e)).length)throw new Error("bytes32 string must be less than 32 bytes");return(0,i.hexlify)((0,i.concat)([e,n.HashZero]).slice(0,32))},r.parseBytes32String=function(e){var t=(0,i.arrayify)(e);if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 string - no null terminator");for(var r=31;0===t[r-1];)r--;return(0,o.toUtf8String)(t.slice(0,r))}},{"./utf8":119,"@ethersproject/bytes":47,"@ethersproject/constants":51}],117:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.nameprep=r._nameprepTableC=r._nameprepTableB2=r._nameprepTableA1=void 0;var n=e("./utf8");function i(e,t){t=t||function(e){return[parseInt(e,16)]};var r=0,n={};return e.split(",").forEach(function(e){e=e.split(":");r+=parseInt(e[0],16),n[r]=t(e[1])}),n}function o(e){var t=0;return e.split(",").map(function(e){e=e.split("-");return 1===e.length?e[1]="0":""===e[1]&&(e[1]="1"),{l:t+parseInt(e[0],16),h:t=parseInt(e[1],16)}})}function s(e,t){for(var r=0,n=0;n<t.length;n++){var i=t[n];if((r+=i.l)<=e&&e<=r+i.h&&(e-r)%(i.d||1)==0&&(!i.e||-1===i.e.indexOf(e-r)))return i}return null}var a=o("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),c="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(function(e){return parseInt(e,16)}),u=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],h=i("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),l=i("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),f=i("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",function(e){if(e.length%4!=0)throw new Error("bad data");for(var t=[],r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}),d=o("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function p(e){return!!s(e,a)}function g(e){var t=s(e,u);return t?[e+t.s]:h[e]||((t=l[e])?[e+t[0]]:f[e]||null)}function y(e){return!!s(e,d)}r._nameprepTableA1=p,r._nameprepTableB2=g,r._nameprepTableC=y,r.nameprep=function(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();if(e=(e=(0,n.toUtf8CodePoints)(e)).map(function(e){return 0<=c.indexOf(e)||65024<=e&&e<=65039?[]:g(e)||[e]}).reduce(function(t,e){return e.forEach(function(e){t.push(e)}),t},[]),(e=(0,n.toUtf8CodePoints)((0,n._toUtf8String)(e),n.UnicodeNormalizationForm.NFKC)).forEach(function(e){if(y(e))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(function(e){if(p(e))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")}),"-"===(e=(0,n._toUtf8String)(e)).substring(0,1)||"--"===e.substring(2,4)||"-"===e.substring(e.length-1))throw new Error("invalid hyphen");return e}},{"./utf8":119}],118:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.nameprep=r.parseBytes32String=r.formatBytes32String=r.UnicodeNormalizationForm=r.Utf8ErrorReason=r.Utf8ErrorFuncs=r.toUtf8String=r.toUtf8CodePoints=r.toUtf8Bytes=r._toEscapedUtf8String=void 0;var n=e("./bytes32"),i=(Object.defineProperty(r,"formatBytes32String",{enumerable:!0,get:function(){return n.formatBytes32String}}),Object.defineProperty(r,"parseBytes32String",{enumerable:!0,get:function(){return n.parseBytes32String}}),e("./idna")),o=(Object.defineProperty(r,"nameprep",{enumerable:!0,get:function(){return i.nameprep}}),e("./utf8"));Object.defineProperty(r,"_toEscapedUtf8String",{enumerable:!0,get:function(){return o._toEscapedUtf8String}}),Object.defineProperty(r,"toUtf8Bytes",{enumerable:!0,get:function(){return o.toUtf8Bytes}}),Object.defineProperty(r,"toUtf8CodePoints",{enumerable:!0,get:function(){return o.toUtf8CodePoints}}),Object.defineProperty(r,"toUtf8String",{enumerable:!0,get:function(){return o.toUtf8String}}),Object.defineProperty(r,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return o.UnicodeNormalizationForm}}),Object.defineProperty(r,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return o.Utf8ErrorFuncs}}),Object.defineProperty(r,"Utf8ErrorReason",{enumerable:!0,get:function(){return o.Utf8ErrorReason}})},{"./bytes32":116,"./idna":117,"./utf8":119}],119:[function(e,t,h){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.toUtf8CodePoints=h.toUtf8String=h._toUtf8String=h._toEscapedUtf8String=h.toUtf8Bytes=h.Utf8ErrorFuncs=h.Utf8ErrorReason=h.UnicodeNormalizationForm=void 0;var s,l,f=e("@ethersproject/bytes"),r=e("@ethersproject/logger"),e=e("./_version"),a=new r.Logger(e.version);function o(e,t,r,n,i){if(e!==l.BAD_PREFIX&&e!==l.UNEXPECTED_CONTINUE)return e===l.OVERRUN?r.length-t-1:0;for(var o=0,s=t+1;s<r.length&&r[s]>>6==2;s++)o++;return o}function n(e,t){null==t&&(t=h.Utf8ErrorFuncs.error),e=(0,f.arrayify)(e);for(var r=[],n=0;n<e.length;){var i=e[n++];if(i>>7==0)r.push(i);else{var o=null,s=null;if(192==(224&i))o=1,s=127;else if(224==(240&i))o=2,s=2047;else{if(240!=(248&i)){n+=t(128==(192&i)?l.UNEXPECTED_CONTINUE:l.BAD_PREFIX,n-1,e,r);continue}o=3,s=65535}if(n-1+o>=e.length)n+=t(l.OVERRUN,n-1,e,r);else{for(var a=i&(1<<8-o-1)-1,c=0;c<o;c++){var u=e[n];if(128!=(192&u)){n+=t(l.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|63&u,n++}null!==a&&(1114111<a?n+=t(l.OUT_OF_RANGE,n-1-o,e,r,a):55296<=a&&a<=57343?n+=t(l.UTF16_SURROGATE,n-1-o,e,r,a):a<=s?n+=t(l.OVERLONG,n-1-o,e,r,a):r.push(a))}}}return r}function i(e,t){(t=void 0===t?s.current:t)!=s.current&&(a.checkNormalize(),e=e.normalize(t));for(var r=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if(55296==(64512&i)){n++;var o=e.charCodeAt(n);if(n>=e.length||56320!=(64512&o))throw new Error("invalid utf-8 string");o=65536+((1023&i)<<10)+(1023&o);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return(0,f.arrayify)(r)}function c(e){e="0000"+e.toString(16);return"\\u"+e.substring(e.length-4)}function u(e){return e.map(function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))}).join("")}(r=s=h.UnicodeNormalizationForm||(h.UnicodeNormalizationForm={})).current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD",(e=l=h.Utf8ErrorReason||(h.Utf8ErrorReason={})).UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation",h.Utf8ErrorFuncs=Object.freeze({error:function(e,t,r,n,i){return a.throwArgumentError("invalid codepoint at offset "+t+"; "+e,"bytes",r)},ignore:o,replace:function(e,t,r,n,i){return e===l.OVERLONG?(n.push(i),0):(n.push(65533),o(e,t,r))}}),h.toUtf8Bytes=i,h._toEscapedUtf8String=function(e,t){return'"'+n(e,t).map(function(e){if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(32<=e&&e<127)return String.fromCharCode(e)}return e<=65535?c(e):c(55296+((e-=65536)>>10&1023))+c(56320+(1023&e))}).join("")+'"'},h._toUtf8String=u,h.toUtf8String=function(e,t){return u(n(e,t))},h.toUtf8CodePoints=function(e,t){return n(i(e,t=void 0===t?s.current:t))}},{"./_version":115,"@ethersproject/bytes":47,"@ethersproject/logger":74}],120:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="transactions/5.7.0"},{}],121:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=(Object.defineProperty(r,"__esModule",{value:!0}),r.parse=r.serialize=r.accessListify=r.recoverAddress=r.computeAddress=r.TransactionTypes=void 0,e("@ethersproject/address")),u=e("@ethersproject/bignumber"),h=e("@ethersproject/bytes"),a=e("@ethersproject/constants"),l=e("@ethersproject/keccak256"),c=e("@ethersproject/properties"),f=o(e("@ethersproject/rlp")),d=e("@ethersproject/signing-key"),p=e("@ethersproject/logger"),o=e("./_version"),g=new p.Logger(o.version);function y(e){return"0x"===e?null:(0,s.getAddress)(e)}function b(e){return"0x"===e?a.Zero:u.BigNumber.from(e)}(e=r.TransactionTypes||(r.TransactionTypes={}))[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559";var m=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],v={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function A(e){e=(0,d.computePublicKey)(e);return(0,s.getAddress)((0,h.hexDataSlice)((0,l.keccak256)((0,h.hexDataSlice)(e,1)),12))}function _(e,t){return A((0,d.recoverPublicKey)((0,h.arrayify)(e),t))}function w(e,t){var r=(0,h.stripZeros)(u.BigNumber.from(e).toHexString());return 32<r.length&&g.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function E(r,e){return{address:(0,s.getAddress)(r),storageKeys:(e||[]).map(function(e,t){return 32!==(0,h.hexDataLength)(e)&&g.throwArgumentError("invalid access list storageKey","accessList["+r+":"+t+"]",e),e.toLowerCase()})}}function S(r){var e;return Array.isArray(r)?r.map(function(e,t){return Array.isArray(e)?(2<e.length&&g.throwArgumentError("access list expected to be [ address, storageKeys[] ]","value["+t+"]",e),E(e[0],e[1])):E(e.address,e.storageKeys)}):((e=Object.keys(r).map(function(e){var t=r[e].reduce(function(e,t){return e[t]=!0,e},{});return E(e,Object.keys(t).sort())})).sort(function(e,t){return e.address.localeCompare(t.address)}),e)}function k(e){return S(e).map(function(e){return[e.address,e.storageKeys]})}function I(e,t){null!=e.gasPrice&&(n=u.BigNumber.from(e.gasPrice),r=u.BigNumber.from(e.maxFeePerGas||0),n.eq(r)||g.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:r}));var r,n=[w(e.chainId||0,"chainId"),w(e.nonce||0,"nonce"),w(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),w(e.maxFeePerGas||0,"maxFeePerGas"),w(e.gasLimit||0,"gasLimit"),null!=e.to?(0,s.getAddress)(e.to):"0x",w(e.value||0,"value"),e.data||"0x",k(e.accessList||[])];return t&&(r=(0,h.splitSignature)(t),n.push(w(r.recoveryParam,"recoveryParam")),n.push((0,h.stripZeros)(r.r)),n.push((0,h.stripZeros)(r.s))),(0,h.hexConcat)(["0x02",f.encode(n)])}function C(e,t){e=[w(e.chainId||0,"chainId"),w(e.nonce||0,"nonce"),w(e.gasPrice||0,"gasPrice"),w(e.gasLimit||0,"gasLimit"),null!=e.to?(0,s.getAddress)(e.to):"0x",w(e.value||0,"value"),e.data||"0x",k(e.accessList||[])];return t&&(t=(0,h.splitSignature)(t),e.push(w(t.recoveryParam,"recoveryParam")),e.push((0,h.stripZeros)(t.r)),e.push((0,h.stripZeros)(t.s))),(0,h.hexConcat)(["0x01",f.encode(e)])}function B(e,t,r){try{var n=b(t[0]).toNumber();if(0!==n&&1!==n)throw new Error("bad recid");e.v=n}catch(e){g.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=(0,h.hexZeroPad)(t[1],32),e.s=(0,h.hexZeroPad)(t[2],32);try{var i=(0,l.keccak256)(r(e));e.from=_(i,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}r.computeAddress=A,r.recoverAddress=_,r.accessListify=S,r.serialize=function(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&g.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),n=e,r=t,(0,c.checkProperties)(n,v),s=[],m.forEach(function(e){var t=n[e.name]||[],r={};e.numeric&&(r.hexPad="left"),t=(0,h.arrayify)((0,h.hexlify)(t,r)),e.length&&t.length!==e.length&&0<t.length&&g.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,t),e.maxLength&&(t=(0,h.stripZeros)(t)).length>e.maxLength&&g.throwArgumentError("invalid length for "+e.name,"transaction:"+e.name,t),s.push((0,h.hexlify)(t))}),a=0,null!=n.chainId?"number"!=typeof(a=n.chainId)&&g.throwArgumentError("invalid transaction.chainId","transaction",n):r&&!(0,h.isBytesLike)(r)&&28<r.v&&(a=Math.floor((r.v-35)/2)),0!==a&&(s.push((0,h.hexlify)(a)),s.push("0x"),s.push("0x")),r&&(o=27+(i=(0,h.splitSignature)(r)).recoveryParam,0!==a?(s.pop(),s.pop(),s.pop(),o+=2*a+8,28<i.v&&i.v!==o&&g.throwArgumentError("transaction.chainId/signature.v mismatch","signature",r)):i.v!==o&&g.throwArgumentError("transaction.chainId/signature.v mismatch","signature",r),s.push((0,h.hexlify)(o)),s.push((0,h.stripZeros)((0,h.arrayify)(i.r))),s.push((0,h.stripZeros)((0,h.arrayify)(i.s)))),f.encode(s);var n,r,i,o,s,a;switch(e.type){case 1:return C(e,t);case 2:return I(e,t)}return g.throwError("unsupported transaction type: "+e.type,p.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})},r.parse=function(e){var t,r,n,i,o=(0,h.arrayify)(e);if(127<o[0]){var e=o,s=(9!==(c=f.decode(e)).length&&6!==c.length&&g.throwArgumentError("invalid raw transaction","rawTransaction",e),{nonce:b(c[0]).toNumber(),gasPrice:b(c[1]),gasLimit:b(c[2]),to:y(c[3]),value:b(c[4]),data:c[5],chainId:0});if(6!==c.length){try{s.v=u.BigNumber.from(c[6]).toNumber()}catch(e){return s}if(s.r=(0,h.hexZeroPad)(c[7],32),s.s=(0,h.hexZeroPad)(c[8],32),u.BigNumber.from(s.r).isZero()&&u.BigNumber.from(s.s).isZero())s.chainId=s.v,s.v=0;else{s.chainId=Math.floor((s.v-35)/2),s.chainId<0&&(s.chainId=0);var a=s.v-27,c=c.slice(0,6),c=(0!==s.chainId&&(c.push((0,h.hexlify)(s.chainId)),c.push("0x"),c.push("0x"),a-=2*s.chainId+8),(0,l.keccak256)(f.encode(c)));try{s.from=_(c,{r:(0,h.hexlify)(s.r),s:(0,h.hexlify)(s.s),recoveryParam:a})}catch(e){}s.hash=(0,l.keccak256)(e)}s.type=null}return s}switch(o[0]){case 1:return r=o,8!==(n=f.decode(r.slice(1))).length&&11!==n.length&&g.throwArgumentError("invalid component count for transaction type: 1","payload",(0,h.hexlify)(r)),i={type:1,chainId:b(n[0]).toNumber(),nonce:b(n[1]).toNumber(),gasPrice:b(n[2]),gasLimit:b(n[3]),to:y(n[4]),value:b(n[5]),data:n[6],accessList:S(n[7])},8!==n.length&&(i.hash=(0,l.keccak256)(r),B(i,n.slice(8),C)),i;case 2:return r=o,9!==(n=f.decode(r.slice(1))).length&&12!==n.length&&g.throwArgumentError("invalid component count for transaction type: 2","payload",(0,h.hexlify)(r)),i=b(n[2]),t=b(n[3]),i={type:2,chainId:b(n[0]).toNumber(),nonce:b(n[1]).toNumber(),maxPriorityFeePerGas:i,maxFeePerGas:t,gasPrice:null,gasLimit:b(n[4]),to:y(n[5]),value:b(n[6]),data:n[7],accessList:S(n[8])},9!==n.length&&(i.hash=(0,l.keccak256)(r),B(i,n.slice(9),I)),i}return g.throwError("unsupported transaction type: "+o[0],p.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:o[0]})}},{"./_version":120,"@ethersproject/address":38,"@ethersproject/bignumber":45,"@ethersproject/bytes":47,"@ethersproject/constants":51,"@ethersproject/keccak256":72,"@ethersproject/logger":74,"@ethersproject/properties":80,"@ethersproject/rlp":105,"@ethersproject/signing-key":112}],122:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="units/5.7.0"},{}],123:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseEther=r.formatEther=r.parseUnits=r.formatUnits=r.commify=void 0;var n=e("@ethersproject/bignumber"),i=e("@ethersproject/logger"),e=e("./_version"),s=new i.Logger(e.version),o=["wei","kwei","mwei","gwei","szabo","finney","ether"];function a(e,t){var r;return"string"==typeof t&&-1!==(r=o.indexOf(t))&&(t=3*r),(0,n.formatFixed)(e,null!=t?t:18)}function c(e,t){var r;return"string"!=typeof e&&s.throwArgumentError("value must be a string","value",e),"string"==typeof t&&-1!==(r=o.indexOf(t))&&(t=3*r),(0,n.parseFixed)(e,null!=t?t:18)}r.commify=function(e){var t=String(e).split("."),r=((2<t.length||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&s.throwArgumentError("invalid value","value",e),t[0]),e="";for("-"===r.substring(0,1)&&(e="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");var n="";for(2===t.length&&(n="."+(t[1]||"0"));2<n.length&&"0"===n[n.length-1];)n=n.substring(0,n.length-1);for(var i=[];r.length;){if(r.length<=3){i.unshift(r);break}var o=r.length-3;i.unshift(r.substring(o)),r=r.substring(0,o)}return e+i.join(",")+n},r.formatUnits=a,r.parseUnits=c,r.formatEther=function(e){return a(e,18)},r.parseEther=function(e){return c(e,18)}},{"./_version":122,"@ethersproject/bignumber":45,"@ethersproject/logger":74}],124:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="wallet/5.7.0"},{}],125:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}o((c=c.apply(e,s||[])).next())})},a=this&&this.__generator||function(n,i){var o,s,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=i.call(n,c)}catch(e){t=[6,e],s=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},c=(Object.defineProperty(r,"__esModule",{value:!0}),r.verifyTypedData=r.verifyMessage=r.Wallet=void 0,e("@ethersproject/address")),u=e("@ethersproject/abstract-provider"),o=e("@ethersproject/abstract-signer"),h=e("@ethersproject/bytes"),l=e("@ethersproject/hash"),f=e("@ethersproject/hdnode"),d=e("@ethersproject/keccak256"),p=e("@ethersproject/properties"),g=e("@ethersproject/random"),y=e("@ethersproject/signing-key"),b=e("@ethersproject/json-wallets"),m=e("@ethersproject/transactions"),v=e("@ethersproject/logger"),e=e("./_version"),A=new v.Logger(e.version);_=o.Signer,i(w,_),Object.defineProperty(w.prototype,"mnemonic",{get:function(){return this._mnemonic()},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"privateKey",{get:function(){return this._signingKey().privateKey},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"publicKey",{get:function(){return this._signingKey().publicKey},enumerable:!1,configurable:!0}),w.prototype.getAddress=function(){return Promise.resolve(this.address)},w.prototype.connect=function(e){return new w(this,e)},w.prototype.signTransaction=function(r){var n=this;return(0,p.resolveProperties)(r).then(function(e){null!=e.from&&((0,c.getAddress)(e.from)!==n.address&&A.throwArgumentError("transaction from address mismatch","transaction.from",r.from),delete e.from);var t=n._signingKey().signDigest((0,d.keccak256)((0,m.serialize)(e)));return(0,m.serialize)(e,t)})},w.prototype.signMessage=function(t){return s(this,void 0,void 0,function(){return a(this,function(e){return[2,(0,h.joinSignature)(this._signingKey().signDigest((0,l.hashMessage)(t)))]})})},w.prototype._signTypedData=function(n,i,o){return s(this,void 0,void 0,function(){var t,r=this;return a(this,function(e){switch(e.label){case 0:return[4,l._TypedDataEncoder.resolveNames(n,i,o,function(e){return null==r.provider&&A.throwError("cannot resolve ENS names without a provider",v.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),r.provider.resolveName(e)})];case 1:return t=e.sent(),[2,(0,h.joinSignature)(this._signingKey().signDigest(l._TypedDataEncoder.hash(t.domain,i,t.value)))]}})})},w.prototype.encrypt=function(e,t,r){if("function"!=typeof t||r||(r=t,t={}),r&&"function"!=typeof r)throw new Error("invalid callback");return(0,b.encryptKeystore)(this,e,t=t||{},r)},w.createRandom=function(e){var t=(0,g.randomBytes)(16),t=((e=e||{}).extraEntropy&&(t=(0,h.arrayify)((0,h.hexDataSlice)((0,d.keccak256)((0,h.concat)([t,e.extraEntropy])),0,16))),(0,f.entropyToMnemonic)(t,e.locale));return w.fromMnemonic(t,e.path,e.locale)},w.fromEncryptedJson=function(e,t,r){return(0,b.decryptJsonWallet)(e,t,r).then(function(e){return new w(e)})},w.fromEncryptedJsonSync=function(e,t){return new w((0,b.decryptJsonWalletSync)(e,t))},w.fromMnemonic=function(e,t,r){return t=t||f.defaultPath,new w(f.HDNode.fromMnemonic(e,null,r).derivePath(t))};var _,e=w;function w(e,t){var r,n,i,o,s=_.call(this)||this;return null!=(o=e)&&(0,h.isHexString)(o.privateKey,32)&&null!=o.address?(r=new y.SigningKey(e.privateKey),(0,p.defineReadOnly)(s,"_signingKey",function(){return r}),(0,p.defineReadOnly)(s,"address",(0,m.computeAddress)(s.publicKey)),s.address!==(0,c.getAddress)(e.address)&&A.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),(o=(o=e).mnemonic)&&o.phrase?(n=e.mnemonic,(0,p.defineReadOnly)(s,"_mnemonic",function(){return{phrase:n.phrase,path:n.path||f.defaultPath,locale:n.locale||"en"}}),o=s.mnemonic,o=f.HDNode.fromMnemonic(o.phrase,null,o.locale).derivePath(o.path),(0,m.computeAddress)(o.privateKey)!==s.address&&A.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")):(0,p.defineReadOnly)(s,"_mnemonic",function(){return null})):(y.SigningKey.isSigningKey(e)?("secp256k1"!==e.curve&&A.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),(0,p.defineReadOnly)(s,"_signingKey",function(){return e})):("string"==typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e),i=new y.SigningKey(e),(0,p.defineReadOnly)(s,"_signingKey",function(){return i})),(0,p.defineReadOnly)(s,"_mnemonic",function(){return null}),(0,p.defineReadOnly)(s,"address",(0,m.computeAddress)(s.publicKey))),t&&!u.Provider.isProvider(t)&&A.throwArgumentError("invalid provider","provider",t),(0,p.defineReadOnly)(s,"provider",t||null),s}r.Wallet=e,r.verifyMessage=function(e,t){return(0,m.recoverAddress)((0,l.hashMessage)(e),t)},r.verifyTypedData=function(e,t,r,n){return(0,m.recoverAddress)(l._TypedDataEncoder.hash(e,t,r),n)}},{"./_version":124,"@ethersproject/abstract-provider":34,"@ethersproject/abstract-signer":36,"@ethersproject/address":38,"@ethersproject/bytes":47,"@ethersproject/hash":60,"@ethersproject/hdnode":65,"@ethersproject/json-wallets":68,"@ethersproject/keccak256":72,"@ethersproject/logger":74,"@ethersproject/properties":80,"@ethersproject/random":102,"@ethersproject/signing-key":112,"@ethersproject/transactions":121}],126:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="web/5.7.0"},{}],127:[function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}o((c=c.apply(e,s||[])).next())})},a=this&&this.__generator||function(n,i){var o,s,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=i.call(n,c)}catch(e){t=[6,e],s=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},c=(Object.defineProperty(r,"__esModule",{value:!0}),r.getUrl=void 0,e("@ethersproject/bytes"));r.getUrl=function(o,s){return n(this,void 0,void 0,function(){var t,r,n,i;return a(this,function(e){switch(e.label){case 0:return t={method:(s=null==s?{}:s).method||"GET",headers:s.headers||{},body:s.body||void 0},!0!==s.skipFetchSetup&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client"),null!=s.fetchOptions&&((n=s.fetchOptions).mode&&(t.mode=n.mode),n.cache&&(t.cache=n.cache),n.credentials&&(t.credentials=n.credentials),n.redirect&&(t.redirect=n.redirect),n.referrer&&(t.referrer=n.referrer)),[4,fetch(o,t)];case 1:return[4,(r=e.sent()).arrayBuffer()];case 2:return n=e.sent(),i={},r.headers.forEach?r.headers.forEach(function(e,t){i[t.toLowerCase()]=e}):r.headers.keys().forEach(function(e){i[e.toLowerCase()]=r.headers.get(e)}),[2,{headers:i,statusCode:r.status,statusMessage:r.statusText,body:(0,c.arrayify)(new Uint8Array(n))}]}})})}},{"@ethersproject/bytes":47}],128:[function(e,t,r){"use strict";var v=this&&this.__awaiter||function(e,s,a,c){return new(a=a||Promise)(function(r,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function i(e){try{o(c.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(n,i)}o((c=c.apply(e,s||[])).next())})},A=this&&this.__generator||function(n,i){var o,s,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,s&&(a=2&t[0]?s.return:t[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,t[1])).done)return a;switch(s=0,(t=a?[2&t[0],a.value]:t)[0]){case 0:case 1:a=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,s=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!a||t[1]>a[0]&&t[1]<a[3]))c.label=t[1];else if(6===t[0]&&c.label<a[1])c.label=a[1],a=t;else{if(!(a&&c.label<a[2])){a[2]&&c.ops.pop(),c.trys.pop();continue}c.label=a[2],c.ops.push(t)}}t=i.call(n,c)}catch(e){t=[6,e],s=0}finally{o=a=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},_=(Object.defineProperty(r,"__esModule",{value:!0}),r.poll=r.fetchJson=r._fetchData=void 0,e("@ethersproject/base64")),n=e("@ethersproject/bytes"),w=e("@ethersproject/properties"),E=e("@ethersproject/strings"),S=e("@ethersproject/logger"),i=e("./_version"),k=new S.Logger(i.version),I=e("./geturl");function C(t){return new Promise(function(e){setTimeout(e,t)})}function B(e,t){if(null==e)return null;if("string"!=typeof e&&(0,n.isBytesLike)(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return(0,E.toUtf8String)(e)}catch(e){}return(0,n.hexlify)(e)}return e}function o(e,t,c){var u="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12,h=(k.assertArgument(0<u&&u%1==0,"invalid connection throttle limit","connection.throttleLimit",u),"object"==typeof e?e.throttleCallback:null),l="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100,f=(k.assertArgument(0<l&&l%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",l),"object"==typeof e&&!!e.errorPassThrough),r={},d=null,p={method:"GET"},g=!1,n=12e4;if("string"==typeof e)d=e;else if("object"==typeof e){if(null!=e&&null!=e.url||k.throwArgumentError("missing URL","connection.url",e),d=e.url,"number"==typeof e.timeout&&0<e.timeout&&(n=e.timeout),e.headers)for(var i in e.headers)r[i.toLowerCase()]={key:i,value:String(e.headers[i])},0<=["if-none-match","if-modified-since"].indexOf(i.toLowerCase())&&(g=!0);p.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password&&("https:"!==d.substring(0,6)&&!0!==e.allowInsecureAuthentication&&k.throwError("basic authentication requires a secure https url",S.Logger.errors.INVALID_ARGUMENT,{argument:"url",url:d,user:e.user,password:"[REDACTED]"}),o=e.user+":"+e.password,r.authorization={key:"Authorization",value:"Basic "+(0,_.encode)((0,E.toUtf8Bytes)(o))}),null!=e.skipFetchSetup&&(p.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(p.fetchOptions=(0,w.shallowCopy)(e.fetchOptions))}var o=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),o=d?d.match(o):null;if(o)try{var s={statusCode:200,statusMessage:"OK",headers:{"content-type":o[1]},body:(0,_.decode)(o[2])},a=s.body;return c&&(a=c(s.body,s)),Promise.resolve(a)}catch(e){k.throwError("processing response error",S.Logger.errors.SERVER_ERROR,{body:B(o[1],o[2]),error:e,requestBody:null,requestMethod:"GET",url:d})}t&&(p.method="POST",p.body=t,null==r["content-type"]&&(r["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==r["content-length"]&&(r["content-length"]={key:"Content-Length",value:String(t.length)}));var y,b={},m=(Object.keys(r).forEach(function(e){e=r[e];b[e.key]=e.value}),p.headers=b,y=null,{promise:new Promise(function(e,t){n&&(y=setTimeout(function(){null!=y&&(y=null,t(k.makeError("timeout",S.Logger.errors.TIMEOUT,{requestBody:B(p.body,b["content-type"]),requestMethod:p.method,timeout:n,url:d})))},n))}),cancel:function(){null!=y&&(clearTimeout(y),y=null)}}),s=function(){return v(this,void 0,void 0,function(){var t,r,n,i,o,s,a;return A(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:if(!(t<u))return[3,20];r=null,e.label=2;case 2:return e.trys.push([2,9,,10]),[4,(0,I.getUrl)(d,p)];case 3:return(r=e.sent(),t<u)?301!==r.statusCode&&302!==r.statusCode?[3,4]:(n=r.headers.location||"","GET"===p.method&&n.match(/^https:/)?(d=r.headers.location,[3,19]):[3,8]):[3,8];case 4:return 429!==r.statusCode?[3,8]:(a=!0,h?[4,h(t,d)]:[3,6]);case 5:a=e.sent(),e.label=6;case 6:return a?(n=r.headers["retry-after"],[4,C("string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):l*parseInt(String(Math.random()*Math.pow(2,t))))]):[3,8];case 7:return e.sent(),[3,19];case 8:return[3,10];case 9:return o=e.sent(),null==(r=o.response)&&(m.cancel(),k.throwError("missing response",S.Logger.errors.SERVER_ERROR,{requestBody:B(p.body,b["content-type"]),requestMethod:p.method,serverError:o,url:d})),[3,10];case 10:if(i=r.body,g&&304===r.statusCode?i=null:!f&&(r.statusCode<200||300<=r.statusCode)&&(m.cancel(),k.throwError("bad response",S.Logger.errors.SERVER_ERROR,{status:r.statusCode,headers:r.headers,body:B(i,r.headers?r.headers["content-type"]:null),requestBody:B(p.body,b["content-type"]),requestMethod:p.method,url:d})),!c)return[3,18];e.label=11;case 11:return e.trys.push([11,13,,18]),[4,c(i,r)];case 12:return o=e.sent(),m.cancel(),[2,o];case 13:return(s=e.sent()).throttleRetry&&t<u?(a=!0,h?[4,h(t,d)]:[3,15]):[3,17];case 14:a=e.sent(),e.label=15;case 15:return a?[4,C(l*parseInt(String(Math.random()*Math.pow(2,t))))]:[3,17];case 16:return e.sent(),[3,19];case 17:return m.cancel(),k.throwError("processing response error",S.Logger.errors.SERVER_ERROR,{body:B(i,r.headers?r.headers["content-type"]:null),error:s,requestBody:B(p.body,b["content-type"]),requestMethod:p.method,url:d}),[3,18];case 18:return m.cancel(),[2,i];case 19:return t++,[3,1];case 20:return[2,k.throwError("failed response",S.Logger.errors.SERVER_ERROR,{requestBody:B(p.body,b["content-type"]),requestMethod:p.method,url:d})]}})})}();return Promise.race([m.promise,s])}r._fetchData=o,r.fetchJson=function(e,t,n){var r=null;return null!=t&&(r=(0,E.toUtf8Bytes)(t),(t="string"==typeof e?{url:e}:(0,w.shallowCopy)(e)).headers?0===Object.keys(t.headers).filter(function(e){return"content-type"===e.toLowerCase()}).length&&(t.headers=(0,w.shallowCopy)(t.headers),t.headers["content-type"]="application/json"):t.headers={"content-type":"application/json"},e=t),o(e,r,function(t,e){var r=null;if(null!=t)try{r=JSON.parse((0,E.toUtf8String)(t))}catch(e){k.throwError("invalid JSON",S.Logger.errors.SERVER_ERROR,{body:t,error:e})}return r=n?n(r,e):r})},r.poll=function(c,u){return u=u||{},null==(u=(0,w.shallowCopy)(u)).floor&&(u.floor=0),null==u.ceiling&&(u.ceiling=1e4),null==u.interval&&(u.interval=250),new Promise(function(r,n){var e=null,i=!1,o=function(){return!i&&(i=!0,e&&clearTimeout(e),!0)},s=(u.timeout&&(e=setTimeout(function(){o()&&n(new Error("timeout"))},u.timeout)),u.retryLimit),a=0;!function t(){return c().then(function(e){if(void 0!==e)o()&&r(e);else if(u.oncePoll)u.oncePoll.once("poll",t);else if(u.onceBlock)u.onceBlock.once("block",t);else if(!i){if(s<++a)return void(o()&&n(new Error("retry limit reached")));(e=(e=u.interval*parseInt(String(Math.random()*Math.pow(2,a))))<u.floor?u.floor:e)>u.ceiling&&(e=u.ceiling),setTimeout(t,e)}return null},function(e){o()&&n(e)})}()})}},{"./_version":126,"./geturl":127,"@ethersproject/base64":40,"@ethersproject/bytes":47,"@ethersproject/logger":74,"@ethersproject/properties":80,"@ethersproject/strings":118}],129:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="wordlists/5.7.0"},{}],130:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.wordlists=r.Wordlist=r.logger=void 0;var n=e("./wordlist"),i=(Object.defineProperty(r,"logger",{enumerable:!0,get:function(){return n.logger}}),Object.defineProperty(r,"Wordlist",{enumerable:!0,get:function(){return n.Wordlist}}),e("./wordlists"));Object.defineProperty(r,"wordlists",{enumerable:!0,get:function(){return i.wordlists}})},{"./wordlist":139,"./wordlists":140}],131:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.langCz=void 0,e("./wordlist")),a="AbdikaceAbecedaAdresaAgreseAkceAktovkaAlejAlkoholAmputaceAnanasAndulkaAnekdotaAnketaAntikaAnulovatArchaAroganceAsfaltAsistentAspiraceAstmaAstronomAtlasAtletikaAtolAutobusAzylBabkaBachorBacilBaculkaBadatelBagetaBagrBahnoBakterieBaladaBaletkaBalkonBalonekBalvanBalzaBambusBankomatBarbarBaretBarmanBarokoBarvaBaterkaBatohBavlnaBazalkaBazilikaBazukaBednaBeranBesedaBestieBetonBezinkaBezmocBeztakBicyklBidloBiftekBikinyBilanceBiografBiologBitvaBizonBlahobytBlatouchBlechaBleduleBleskBlikatBliznaBlokovatBlouditBludBobekBobrBodlinaBodnoutBohatostBojkotBojovatBokorysBolestBorecBoroviceBotaBoubelBouchatBoudaBouleBouratBoxerBradavkaBramboraBrankaBratrBreptaBriketaBrkoBrlohBronzBroskevBrunetkaBrusinkaBrzdaBrzyBublinaBubnovatBuchtaBuditelBudkaBudovaBufetBujarostBukviceBuldokBulvaBundaBunkrBurzaButikBuvolBuzolaBydletBylinaBytovkaBzukotCapartCarevnaCedrCeduleCejchCejnCelaCelerCelkemCelniceCeninaCennostCenovkaCentrumCenzorCestopisCetkaChalupaChapadloCharitaChataChechtatChemieChichotChirurgChladChlebaChlubitChmelChmuraChobotChocholChodbaCholeraChomoutChopitChorobaChovChrapotChrlitChrtChrupChtivostChudinaChutnatChvatChvilkaChvostChybaChystatChytitCibuleCigaretaCihelnaCihlaCinkotCirkusCisternaCitaceCitrusCizinecCizostClonaCokolivCouvatCtitelCtnostCudnostCuketaCukrCupotCvaknoutCvalCvikCvrkotCyklistaDalekoDarebaDatelDatumDceraDebataDechovkaDecibelDeficitDeflaceDeklDekretDemokratDepreseDerbyDeskaDetektivDikobrazDiktovatDiodaDiplomDiskDisplejDivadloDivochDlahaDlouhoDluhopisDnesDobroDobytekDocentDochutitDodnesDohledDohodaDohraDojemDojniceDokladDokolaDoktorDokumentDolarDolevaDolinaDomaDominantDomluvitDomovDonutitDopadDopisDoplnitDoposudDoprovodDopustitDorazitDorostDortDosahDoslovDostatekDosudDosytaDotazDotekDotknoutDoufatDoutnatDovozceDozaduDoznatDozorceDrahotaDrakDramatikDravecDrazeDrdolDrobnostDrogerieDrozdDrsnostDrtitDrzostDubenDuchovnoDudekDuhaDuhovkaDusitDusnoDutostDvojiceDvorecDynamitEkologEkonomieElektronElipsaEmailEmiseEmoceEmpatieEpizodaEpochaEpopejEposEsejEsenceEskortaEskymoEtiketaEuforieEvoluceExekuceExkurzeExpediceExplozeExportExtraktFackaFajfkaFakultaFanatikFantazieFarmacieFavoritFazoleFederaceFejetonFenkaFialkaFigurantFilozofFiltrFinanceFintaFixaceFjordFlanelFlirtFlotilaFondFosforFotbalFotkaFotonFrakceFreskaFrontaFukarFunkceFyzikaGalejeGarantGenetikaGeologGilotinaGlazuraGlejtGolemGolfistaGotikaGrafGramofonGranuleGrepGrilGrogGroteskaGumaHadiceHadrHalaHalenkaHanbaHanopisHarfaHarpunaHavranHebkostHejkalHejnoHejtmanHektarHelmaHematomHerecHernaHesloHezkyHistorikHladovkaHlasivkyHlavaHledatHlenHlodavecHlohHloupostHltatHlubinaHluchotaHmatHmotaHmyzHnisHnojivoHnoutHoblinaHobojHochHodinyHodlatHodnotaHodovatHojnostHokejHolinkaHolkaHolubHomoleHonitbaHonoraceHoralHordaHorizontHorkoHorlivecHormonHorninaHoroskopHorstvoHospodaHostinaHotovostHoubaHoufHoupatHouskaHovorHradbaHraniceHravostHrazdaHrbolekHrdinaHrdloHrdostHrnekHrobkaHromadaHrotHroudaHrozenHrstkaHrubostHryzatHubenostHubnoutHudbaHukotHumrHusitaHustotaHvozdHybnostHydrantHygienaHymnaHysterikIdylkaIhnedIkonaIluzeImunitaInfekceInflaceInkasoInovaceInspekceInternetInvalidaInvestorInzerceIronieJablkoJachtaJahodaJakmileJakostJalovecJantarJarmarkJaroJasanJasnoJatkaJavorJazykJedinecJedleJednatelJehlanJekotJelenJelitoJemnostJenomJepiceJeseterJevitJezdecJezeroJinakJindyJinochJiskraJistotaJitrniceJizvaJmenovatJogurtJurtaKabaretKabelKabinetKachnaKadetKadidloKahanKajakKajutaKakaoKaktusKalamitaKalhotyKalibrKalnostKameraKamkolivKamnaKanibalKanoeKantorKapalinaKapelaKapitolaKapkaKapleKapotaKaprKapustaKapybaraKaramelKarotkaKartonKasaKatalogKatedraKauceKauzaKavalecKazajkaKazetaKazivostKdekolivKdesiKedlubenKempKeramikaKinoKlacekKladivoKlamKlapotKlasikaKlaunKlecKlenbaKlepatKlesnoutKlidKlimaKlisnaKloboukKlokanKlopaKloubKlubovnaKlusatKluzkostKmenKmitatKmotrKnihaKnotKoaliceKoberecKobkaKoblihaKobylaKocourKohoutKojenecKokosKoktejlKolapsKoledaKolizeKoloKomandoKometaKomikKomnataKomoraKompasKomunitaKonatKonceptKondiceKonecKonfeseKongresKoninaKonkursKontaktKonzervaKopanecKopieKopnoutKoprovkaKorbelKorektorKormidloKoroptevKorpusKorunaKorytoKorzetKosatecKostkaKotelKotletaKotoulKoukatKoupelnaKousekKouzloKovbojKozaKozorohKrabiceKrachKrajinaKralovatKrasopisKravataKreditKrejcarKresbaKrevetaKriketKritikKrizeKrkavecKrmelecKrmivoKrocanKrokKronikaKropitKroupaKrovkaKrtekKruhadloKrupiceKrutostKrvinkaKrychleKryptaKrystalKrytKudlankaKufrKujnostKuklaKulajdaKulichKulkaKulometKulturaKunaKupodivuKurtKurzorKutilKvalitaKvasinkaKvestorKynologKyselinaKytaraKyticeKytkaKytovecKyvadloLabradorLachtanLadnostLaikLakomecLamelaLampaLanovkaLasiceLasoLasturaLatinkaLavinaLebkaLeckdyLedenLedniceLedovkaLedvinaLegendaLegieLegraceLehceLehkostLehnoutLektvarLenochodLentilkaLepenkaLepidloLetadloLetecLetmoLetokruhLevhartLevitaceLevobokLibraLichotkaLidojedLidskostLihovinaLijavecLilekLimetkaLinieLinkaLinoleumListopadLitinaLitovatLobistaLodivodLogikaLogopedLokalitaLoketLomcovatLopataLopuchLordLososLotrLoudalLouhLoukaLouskatLovecLstivostLucernaLuciferLumpLuskLustraceLviceLyraLyrikaLysinaMadamMadloMagistrMahagonMajetekMajitelMajoritaMakakMakoviceMakrelaMalbaMalinaMalovatMalviceMaminkaMandleMankoMarnostMasakrMaskotMasopustMaticeMatrikaMaturitaMazanecMazivoMazlitMazurkaMdlobaMechanikMeditaceMedovinaMelasaMelounMentolkaMetlaMetodaMetrMezeraMigraceMihnoutMihuleMikinaMikrofonMilenecMilimetrMilostMimikaMincovnaMinibarMinometMinulostMiskaMistrMixovatMladostMlhaMlhovinaMlokMlsatMluvitMnichMnohemMobilMocnostModelkaModlitbaMohylaMokroMolekulaMomentkaMonarchaMonoklMonstrumMontovatMonzunMosazMoskytMostMotivaceMotorkaMotykaMouchaMoudrostMozaikaMozekMozolMramorMravenecMrkevMrtvolaMrzetMrzutostMstitelMudrcMuflonMulatMumieMuniceMusetMutaceMuzeumMuzikantMyslivecMzdaNabouratNachytatNadaceNadbytekNadhozNadobroNadpisNahlasNahnatNahodileNahraditNaivitaNajednouNajistoNajmoutNaklonitNakonecNakrmitNalevoNamazatNamluvitNanometrNaokoNaopakNaostroNapadatNapevnoNaplnitNapnoutNaposledNaprostoNaroditNarubyNarychloNasaditNasekatNaslepoNastatNatolikNavenekNavrchNavzdoryNazvatNebeNechatNeckyNedalekoNedbatNeduhNegaceNehetNehodaNejenNejprveNeklidNelibostNemilostNemocNeochotaNeonkaNepokojNerostNervNesmyslNesouladNetvorNeuronNevinaNezvykleNicotaNijakNikamNikdyNiklNikterakNitroNoclehNohaviceNominaceNoraNorekNositelNosnostNouzeNovinyNovotaNozdraNudaNudleNugetNutitNutnostNutrieNymfaObalObarvitObavaObdivObecObehnatObejmoutObezitaObhajobaObilniceObjasnitObjektObklopitOblastOblekOblibaOblohaObludaObnosObohatitObojekOboutObrazecObrnaObrubaObrysObsahObsluhaObstaratObuvObvazObvinitObvodObvykleObyvatelObzorOcasOcelOcenitOchladitOchotaOchranaOcitnoutOdbojOdbytOdchodOdcizitOdebratOdeslatOdevzdatOdezvaOdhadceOdhoditOdjetOdjinudOdkazOdkoupitOdlivOdlukaOdmlkaOdolnostOdpadOdpisOdploutOdporOdpustitOdpykatOdrazkaOdsouditOdstupOdsunOdtokOdtudOdvahaOdvetaOdvolatOdvracetOdznakOfinaOfsajdOhlasOhniskoOhradaOhrozitOhryzekOkapOkeniceOklikaOknoOkouzlitOkovyOkrasaOkresOkrsekOkruhOkupantOkurkaOkusitOlejninaOlizovatOmakOmeletaOmezitOmladinaOmlouvatOmluvaOmylOnehdyOpakovatOpasekOperaceOpiceOpilostOpisovatOporaOpoziceOpravduOprotiOrbitalOrchestrOrgieOrliceOrlojOrtelOsadaOschnoutOsikaOsivoOslavaOslepitOslnitOslovitOsnovaOsobaOsolitOspalecOstenOstrahaOstudaOstychOsvojitOteplitOtiskOtopOtrhatOtrlostOtrokOtrubyOtvorOvanoutOvarOvesOvlivnitOvoceOxidOzdobaPachatelPacientPadouchPahorekPaktPalandaPalecPalivoPalubaPamfletPamlsekPanenkaPanikaPannaPanovatPanstvoPantoflePaprikaParketaParodiePartaParukaParybaPasekaPasivitaPastelkaPatentPatronaPavoukPaznehtPazourekPeckaPedagogPejsekPekloPelotonPenaltaPendrekPenzePeriskopPeroPestrostPetardaPeticePetrolejPevninaPexesoPianistaPihaPijavicePiklePiknikPilinaPilnostPilulkaPinzetaPipetaPisatelPistolePitevnaPivnicePivovarPlacentaPlakatPlamenPlanetaPlastikaPlatitPlavidloPlazPlechPlemenoPlentaPlesPletivoPlevelPlivatPlnitPlnoPlochaPlodinaPlombaPloutPlukPlynPobavitPobytPochodPocitPoctivecPodatPodcenitPodepsatPodhledPodivitPodkladPodmanitPodnikPodobaPodporaPodrazPodstataPodvodPodzimPoeziePohankaPohnutkaPohovorPohromaPohybPointaPojistkaPojmoutPokazitPoklesPokojPokrokPokutaPokynPolednePolibekPolknoutPolohaPolynomPomaluPominoutPomlkaPomocPomstaPomysletPonechatPonorkaPonurostPopadatPopelPopisekPoplachPoprositPopsatPopudPoradcePorcePorodPoruchaPoryvPosaditPosedPosilaPoskokPoslanecPosouditPospoluPostavaPosudekPosypPotahPotkanPotleskPotomekPotravaPotupaPotvoraPoukazPoutoPouzdroPovahaPovidlaPovlakPovozPovrchPovstatPovykPovzdechPozdravPozemekPoznatekPozorPozvatPracovatPrahoryPraktikaPralesPraotecPraporekPrasePravdaPrincipPrknoProbuditProcentoProdejProfeseProhraProjektProlomitPromilePronikatPropadProrokProsbaProtonProutekProvazPrskavkaPrstenPrudkostPrutPrvekPrvohoryPsanecPsovodPstruhPtactvoPubertaPuchPudlPukavecPuklinaPukrlePultPumpaPuncPupenPusaPusinkaPustinaPutovatPutykaPyramidaPyskPytelRacekRachotRadiaceRadniceRadonRaftRagbyRaketaRakovinaRamenoRampouchRandeRarachRaritaRasovnaRastrRatolestRazanceRazidloReagovatReakceReceptRedaktorReferentReflexRejnokReklamaRekordRekrutRektorReputaceRevizeRevmaRevolverRezervaRiskovatRizikoRobotikaRodokmenRohovkaRokleRokokoRomanetoRopovodRopuchaRorejsRosolRostlinaRotmistrRotopedRotundaRoubenkaRouchoRoupRouraRovinaRovniceRozborRozchodRozdatRozeznatRozhodceRozinkaRozjezdRozkazRozlohaRozmarRozpadRozruchRozsahRoztokRozumRozvodRubrikaRuchadloRukaviceRukopisRybaRybolovRychlostRydloRypadloRytinaRyzostSadistaSahatSakoSamecSamizdatSamotaSanitkaSardinkaSasankaSatelitSazbaSazeniceSborSchovatSebrankaSeceseSedadloSedimentSedloSehnatSejmoutSekeraSektaSekundaSekvojeSemenoSenoServisSesaditSeshoraSeskokSeslatSestraSesuvSesypatSetbaSetinaSetkatSetnoutSetrvatSeverSeznamShodaShrnoutSifonSilniceSirkaSirotekSirupSituaceSkafandrSkaliskoSkanzenSkautSkeptikSkicaSkladbaSkleniceSkloSkluzSkobaSkokanSkoroSkriptaSkrzSkupinaSkvostSkvrnaSlabikaSladidloSlaninaSlastSlavnostSledovatSlepecSlevaSlezinaSlibSlinaSlizniceSlonSloupekSlovoSluchSluhaSlunceSlupkaSlzaSmaragdSmetanaSmilstvoSmlouvaSmogSmradSmrkSmrtkaSmutekSmyslSnadSnahaSnobSobotaSochaSodovkaSokolSopkaSotvaSoubojSoucitSoudceSouhlasSouladSoumrakSoupravaSousedSoutokSouvisetSpalovnaSpasitelSpisSplavSpodekSpojenecSpoluSponzorSpornostSpoustaSprchaSpustitSrandaSrazSrdceSrnaSrnecSrovnatSrpenSrstSrubStaniceStarostaStatikaStavbaStehnoStezkaStodolaStolekStopaStornoStoupatStrachStresStrhnoutStromStrunaStudnaStupniceStvolStykSubjektSubtropySucharSudostSuknoSundatSunoutSurikataSurovinaSvahSvalstvoSvetrSvatbaSvazekSvisleSvitekSvobodaSvodidloSvorkaSvrabSykavkaSykotSynekSynovecSypatSypkostSyrovostSyselSytostTabletkaTabuleTahounTajemnoTajfunTajgaTajitTajnostTaktikaTamhleTamponTancovatTanecTankerTapetaTaveninaTazatelTechnikaTehdyTekutinaTelefonTemnotaTendenceTenistaTenorTeplotaTepnaTeprveTerapieTermoskaTextilTichoTiskopisTitulekTkadlecTkaninaTlapkaTleskatTlukotTlupaTmelToaletaTopinkaTopolTorzoTouhaToulecTradiceTraktorTrampTrasaTraverzaTrefitTrestTrezorTrhavinaTrhlinaTrochuTrojiceTroskaTroubaTrpceTrpitelTrpkostTrubecTruchlitTruhliceTrusTrvatTudyTuhnoutTuhostTundraTuristaTurnajTuzemskoTvarohTvorbaTvrdostTvrzTygrTykevUbohostUbozeUbratUbrousekUbrusUbytovnaUchoUctivostUdivitUhraditUjednatUjistitUjmoutUkazatelUklidnitUklonitUkotvitUkrojitUliceUlitaUlovitUmyvadloUnavitUniformaUniknoutUpadnoutUplatnitUplynoutUpoutatUpravitUranUrazitUsednoutUsilovatUsmrtitUsnadnitUsnoutUsouditUstlatUstrnoutUtahovatUtkatUtlumitUtonoutUtopenecUtrousitUvalitUvolnitUvozovkaUzdravitUzelUzeninaUzlinaUznatVagonValchaValounVanaVandalVanilkaVaranVarhanyVarovatVcelkuVchodVdovaVedroVegetaceVejceVelbloudVeletrhVelitelVelmocVelrybaVenkovVerandaVerzeVeselkaVeskrzeVesniceVespoduVestaVeterinaVeverkaVibraceVichrVideohraVidinaVidleVilaViniceVisetVitalitaVizeVizitkaVjezdVkladVkusVlajkaVlakVlasecVlevoVlhkostVlivVlnovkaVloupatVnucovatVnukVodaVodivostVodoznakVodstvoVojenskyVojnaVojskoVolantVolbaVolitVolnoVoskovkaVozidloVozovnaVpravoVrabecVracetVrahVrataVrbaVrcholekVrhatVrstvaVrtuleVsaditVstoupitVstupVtipVybavitVybratVychovatVydatVydraVyfotitVyhledatVyhnoutVyhoditVyhraditVyhubitVyjasnitVyjetVyjmoutVyklopitVykonatVylekatVymazatVymezitVymizetVymysletVynechatVynikatVynutitVypadatVyplatitVypravitVypustitVyrazitVyrovnatVyrvatVyslovitVysokoVystavitVysunoutVysypatVytasitVytesatVytratitVyvinoutVyvolatVyvrhelVyzdobitVyznatVzaduVzbuditVzchopitVzdorVzduchVzdychatVzestupVzhledemVzkazVzlykatVznikVzorekVzpouraVztahVztekXylofonZabratZabydletZachovatZadarmoZadusitZafoukatZahltitZahoditZahradaZahynoutZajatecZajetZajistitZaklepatZakoupitZalepitZamezitZamotatZamysletZanechatZanikatZaplatitZapojitZapsatZarazitZastavitZasunoutZatajitZatemnitZatknoutZaujmoutZavalitZaveletZavinitZavolatZavrtatZazvonitZbavitZbrusuZbudovatZbytekZdalekaZdarmaZdatnostZdivoZdobitZdrojZdvihZdymadloZeleninaZemanZeminaZeptatZezaduZezdolaZhatitZhltnoutZhlubokaZhotovitZhrubaZimaZimniceZjemnitZklamatZkoumatZkratkaZkumavkaZlatoZlehkaZlobaZlomZlostZlozvykZmapovatZmarZmatekZmijeZmizetZmocnitZmodratZmrzlinaZmutovatZnakZnalostZnamenatZnovuZobrazitZotavitZoubekZoufaleZploditZpomalitZpravaZprostitZprudkaZprvuZradaZranitZrcadloZrnitostZrnoZrovnaZrychlitZrzavostZtichaZtratitZubovinaZubrZvednoutZvenkuZveselaZvonZvratZvukovodZvyk",c=null;function u(e){if(null==c&&(c=a.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x25f44555f4af25b51a711136e1c7d6e50ce9f8917d39d6b1f076b2bb4d2fac1a"!==s.Wordlist.check(e)))throw c=null,new Error("BIP39 Wordlist for en (English) FAILED")}function h(){return i.call(this,"cz")||this}i=s.Wordlist,o(h,i),h.prototype.getWord=function(e){return u(this),c[e]},h.prototype.getWordIndex=function(e){return u(this),c.indexOf(e)};e=new h;r.langCz=e,s.Wordlist.register(e)},{"./wordlist":139}],132:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.langEn=void 0,e("./wordlist")),a="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",c=null;function u(e){if(null==c&&(c=a.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==s.Wordlist.check(e)))throw c=null,new Error("BIP39 Wordlist for en (English) FAILED")}function h(){return i.call(this,"en")||this}i=s.Wordlist,o(h,i),h.prototype.getWord=function(e){return u(this),c[e]},h.prototype.getWordIndex=function(e){return u(this),c.indexOf(e)};e=new h;r.langEn=e,s.Wordlist.register(e)},{"./wordlist":139}],133:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.langEs=void 0,e("@ethersproject/strings")),a=e("./wordlist"),c="A/bacoAbdomenAbejaAbiertoAbogadoAbonoAbortoAbrazoAbrirAbueloAbusoAcabarAcademiaAccesoAccio/nAceiteAcelgaAcentoAceptarA/cidoAclararAcne/AcogerAcosoActivoActoActrizActuarAcudirAcuerdoAcusarAdictoAdmitirAdoptarAdornoAduanaAdultoAe/reoAfectarAficio/nAfinarAfirmarA/gilAgitarAgoni/aAgostoAgotarAgregarAgrioAguaAgudoA/guilaAgujaAhogoAhorroAireAislarAjedrezAjenoAjusteAlacra/nAlambreAlarmaAlbaA/lbumAlcaldeAldeaAlegreAlejarAlertaAletaAlfilerAlgaAlgodo/nAliadoAlientoAlivioAlmaAlmejaAlmi/barAltarAltezaAltivoAltoAlturaAlumnoAlzarAmableAmanteAmapolaAmargoAmasarA/mbarA/mbitoAmenoAmigoAmistadAmorAmparoAmplioAnchoAncianoAnclaAndarAnde/nAnemiaA/nguloAnilloA/nimoAni/sAnotarAntenaAntiguoAntojoAnualAnularAnuncioA~adirA~ejoA~oApagarAparatoApetitoApioAplicarApodoAporteApoyoAprenderAprobarApuestaApuroAradoAra~aArarA/rbitroA/rbolArbustoArchivoArcoArderArdillaArduoA/reaA/ridoAriesArmoni/aArne/sAromaArpaArpo/nArregloArrozArrugaArteArtistaAsaAsadoAsaltoAscensoAsegurarAseoAsesorAsientoAsiloAsistirAsnoAsombroA/speroAstillaAstroAstutoAsumirAsuntoAtajoAtaqueAtarAtentoAteoA/ticoAtletaA/tomoAtraerAtrozAtu/nAudazAudioAugeAulaAumentoAusenteAutorAvalAvanceAvaroAveAvellanaAvenaAvestruzAvio/nAvisoAyerAyudaAyunoAzafra/nAzarAzoteAzu/carAzufreAzulBabaBaborBacheBahi/aBaileBajarBalanzaBalco/nBaldeBambu/BancoBandaBa~oBarbaBarcoBarnizBarroBa/sculaBasto/nBasuraBatallaBateri/aBatirBatutaBau/lBazarBebe/BebidaBelloBesarBesoBestiaBichoBienBingoBlancoBloqueBlusaBoaBobinaBoboBocaBocinaBodaBodegaBoinaBolaBoleroBolsaBombaBondadBonitoBonoBonsa/iBordeBorrarBosqueBoteBoti/nBo/vedaBozalBravoBrazoBrechaBreveBrilloBrincoBrisaBrocaBromaBronceBroteBrujaBruscoBrutoBuceoBucleBuenoBueyBufandaBufo/nBu/hoBuitreBultoBurbujaBurlaBurroBuscarButacaBuzo/nCaballoCabezaCabinaCabraCacaoCada/verCadenaCaerCafe/Cai/daCaima/nCajaCajo/nCalCalamarCalcioCaldoCalidadCalleCalmaCalorCalvoCamaCambioCamelloCaminoCampoCa/ncerCandilCanelaCanguroCanicaCantoCa~aCa~o/nCaobaCaosCapazCapita/nCapoteCaptarCapuchaCaraCarbo/nCa/rcelCaretaCargaCari~oCarneCarpetaCarroCartaCasaCascoCaseroCaspaCastorCatorceCatreCaudalCausaCazoCebollaCederCedroCeldaCe/lebreCelosoCe/lulaCementoCenizaCentroCercaCerdoCerezaCeroCerrarCertezaCe/spedCetroChacalChalecoChampu/ChanclaChapaCharlaChicoChisteChivoChoqueChozaChuletaChuparCiclo/nCiegoCieloCienCiertoCifraCigarroCimaCincoCineCintaCipre/sCircoCiruelaCisneCitaCiudadClamorClanClaroClaseClaveClienteClimaCli/nicaCobreCoccio/nCochinoCocinaCocoCo/digoCodoCofreCogerCoheteCoji/nCojoColaColchaColegioColgarColinaCollarColmoColumnaCombateComerComidaCo/modoCompraCondeConejoCongaConocerConsejoContarCopaCopiaCorazo/nCorbataCorchoCordo/nCoronaCorrerCoserCosmosCostaCra/neoCra/terCrearCrecerCrei/doCremaCri/aCrimenCriptaCrisisCromoCro/nicaCroquetaCrudoCruzCuadroCuartoCuatroCuboCubrirCucharaCuelloCuentoCuerdaCuestaCuevaCuidarCulebraCulpaCultoCumbreCumplirCunaCunetaCuotaCupo/nCu/pulaCurarCuriosoCursoCurvaCutisDamaDanzaDarDardoDa/tilDeberDe/bilDe/cadaDecirDedoDefensaDefinirDejarDelfi/nDelgadoDelitoDemoraDensoDentalDeporteDerechoDerrotaDesayunoDeseoDesfileDesnudoDestinoDesvi/oDetalleDetenerDeudaDi/aDiabloDiademaDiamanteDianaDiarioDibujoDictarDienteDietaDiezDifi/cilDignoDilemaDiluirDineroDirectoDirigirDiscoDise~oDisfrazDivaDivinoDobleDoceDolorDomingoDonDonarDoradoDormirDorsoDosDosisDrago/nDrogaDuchaDudaDueloDue~oDulceDu/oDuqueDurarDurezaDuroE/banoEbrioEcharEcoEcuadorEdadEdicio/nEdificioEditorEducarEfectoEficazEjeEjemploElefanteElegirElementoElevarElipseE/liteElixirElogioEludirEmbudoEmitirEmocio/nEmpateEmpe~oEmpleoEmpresaEnanoEncargoEnchufeEnci/aEnemigoEneroEnfadoEnfermoEnga~oEnigmaEnlaceEnormeEnredoEnsayoEnse~arEnteroEntrarEnvaseEnvi/oE/pocaEquipoErizoEscalaEscenaEscolarEscribirEscudoEsenciaEsferaEsfuerzoEspadaEspejoEspi/aEsposaEspumaEsqui/EstarEsteEstiloEstufaEtapaEternoE/ticaEtniaEvadirEvaluarEventoEvitarExactoExamenExcesoExcusaExentoExigirExilioExistirE/xitoExpertoExplicarExponerExtremoFa/bricaFa/bulaFachadaFa/cilFactorFaenaFajaFaldaFalloFalsoFaltarFamaFamiliaFamosoFarao/nFarmaciaFarolFarsaFaseFatigaFaunaFavorFaxFebreroFechaFelizFeoFeriaFerozFe/rtilFervorFesti/nFiableFianzaFiarFibraFiccio/nFichaFideoFiebreFielFieraFiestaFiguraFijarFijoFilaFileteFilialFiltroFinFincaFingirFinitoFirmaFlacoFlautaFlechaFlorFlotaFluirFlujoFlu/orFobiaFocaFogataFogo/nFolioFolletoFondoFormaForroFortunaForzarFosaFotoFracasoFra/gilFranjaFraseFraudeFrei/rFrenoFresaFri/oFritoFrutaFuegoFuenteFuerzaFugaFumarFuncio/nFundaFurgo/nFuriaFusilFu/tbolFuturoGacelaGafasGaitaGajoGalaGaleri/aGalloGambaGanarGanchoGangaGansoGarajeGarzaGasolinaGastarGatoGavila/nGemeloGemirGenGe/neroGenioGenteGeranioGerenteGermenGestoGiganteGimnasioGirarGiroGlaciarGloboGloriaGolGolfoGolosoGolpeGomaGordoGorilaGorraGotaGoteoGozarGradaGra/ficoGranoGrasaGratisGraveGrietaGrilloGripeGrisGritoGrosorGru/aGruesoGrumoGrupoGuanteGuapoGuardiaGuerraGui/aGui~oGuionGuisoGuitarraGusanoGustarHaberHa/bilHablarHacerHachaHadaHallarHamacaHarinaHazHaza~aHebillaHebraHechoHeladoHelioHembraHerirHermanoHe/roeHervirHieloHierroHi/gadoHigieneHijoHimnoHistoriaHocicoHogarHogueraHojaHombreHongoHonorHonraHoraHormigaHornoHostilHoyoHuecoHuelgaHuertaHuesoHuevoHuidaHuirHumanoHu/medoHumildeHumoHundirHuraca/nHurtoIconoIdealIdiomaI/doloIglesiaIglu/IgualIlegalIlusio/nImagenIma/nImitarImparImperioImponerImpulsoIncapazI/ndiceInerteInfielInformeIngenioInicioInmensoInmuneInnatoInsectoInstanteIntere/sI/ntimoIntuirInu/tilInviernoIraIrisIroni/aIslaIsloteJabali/Jabo/nJamo/nJarabeJardi/nJarraJaulaJazmi/nJefeJeringaJineteJornadaJorobaJovenJoyaJuergaJuevesJuezJugadorJugoJugueteJuicioJuncoJunglaJunioJuntarJu/piterJurarJustoJuvenilJuzgarKiloKoalaLabioLacioLacraLadoLadro/nLagartoLa/grimaLagunaLaicoLamerLa/minaLa/mparaLanaLanchaLangostaLanzaLa/pizLargoLarvaLa/stimaLataLa/texLatirLaurelLavarLazoLealLeccio/nLecheLectorLeerLegio/nLegumbreLejanoLenguaLentoLe~aLeo/nLeopardoLesio/nLetalLetraLeveLeyendaLibertadLibroLicorLi/derLidiarLienzoLigaLigeroLimaLi/miteLimo/nLimpioLinceLindoLi/neaLingoteLinoLinternaLi/quidoLisoListaLiteraLitioLitroLlagaLlamaLlantoLlaveLlegarLlenarLlevarLlorarLloverLluviaLoboLocio/nLocoLocuraLo/gicaLogroLombrizLomoLonjaLoteLuchaLucirLugarLujoLunaLunesLupaLustroLutoLuzMacetaMachoMaderaMadreMaduroMaestroMafiaMagiaMagoMai/zMaldadMaletaMallaMaloMama/MamboMamutMancoMandoManejarMangaManiqui/ManjarManoMansoMantaMa~anaMapaMa/quinaMarMarcoMareaMarfilMargenMaridoMa/rmolMarro/nMartesMarzoMasaMa/scaraMasivoMatarMateriaMatizMatrizMa/ximoMayorMazorcaMechaMedallaMedioMe/dulaMejillaMejorMelenaMelo/nMemoriaMenorMensajeMenteMenu/MercadoMerengueMe/ritoMesMeso/nMetaMeterMe/todoMetroMezclaMiedoMielMiembroMigaMilMilagroMilitarMillo/nMimoMinaMineroMi/nimoMinutoMiopeMirarMisaMiseriaMisilMismoMitadMitoMochilaMocio/nModaModeloMohoMojarMoldeMolerMolinoMomentoMomiaMonarcaMonedaMonjaMontoMo~oMoradaMorderMorenoMorirMorroMorsaMortalMoscaMostrarMotivoMoverMo/vilMozoMuchoMudarMuebleMuelaMuerteMuestraMugreMujerMulaMuletaMultaMundoMu~ecaMuralMuroMu/sculoMuseoMusgoMu/sicaMusloNa/carNacio/nNadarNaipeNaranjaNarizNarrarNasalNatalNativoNaturalNa/useaNavalNaveNavidadNecioNe/ctarNegarNegocioNegroNeo/nNervioNetoNeutroNevarNeveraNichoNidoNieblaNietoNi~ezNi~oNi/tidoNivelNoblezaNocheNo/minaNoriaNormaNorteNotaNoticiaNovatoNovelaNovioNubeNucaNu/cleoNudilloNudoNueraNueveNuezNuloNu/meroNutriaOasisObesoObispoObjetoObraObreroObservarObtenerObvioOcaOcasoOce/anoOchentaOchoOcioOcreOctavoOctubreOcultoOcuparOcurrirOdiarOdioOdiseaOesteOfensaOfertaOficioOfrecerOgroOi/doOi/rOjoOlaOleadaOlfatoOlivoOllaOlmoOlorOlvidoOmbligoOndaOnzaOpacoOpcio/nO/peraOpinarOponerOptarO/pticaOpuestoOracio/nOradorOralO/rbitaOrcaOrdenOrejaO/rganoOrgi/aOrgulloOrienteOrigenOrillaOroOrquestaOrugaOsadi/aOscuroOseznoOsoOstraOto~oOtroOvejaO/vuloO/xidoOxi/genoOyenteOzonoPactoPadrePaellaPa/ginaPagoPai/sPa/jaroPalabraPalcoPaletaPa/lidoPalmaPalomaPalparPanPanalPa/nicoPanteraPa~ueloPapa/PapelPapillaPaquetePararParcelaParedParirParoPa/rpadoParquePa/rrafoPartePasarPaseoPasio/nPasoPastaPataPatioPatriaPausaPautaPavoPayasoPeato/nPecadoPeceraPechoPedalPedirPegarPeinePelarPelda~oPeleaPeligroPellejoPeloPelucaPenaPensarPe~o/nPeo/nPeorPepinoPeque~oPeraPerchaPerderPerezaPerfilPericoPerlaPermisoPerroPersonaPesaPescaPe/simoPesta~aPe/taloPetro/leoPezPezu~aPicarPicho/nPiePiedraPiernaPiezaPijamaPilarPilotoPimientaPinoPintorPinzaPi~aPiojoPipaPirataPisarPiscinaPisoPistaPito/nPizcaPlacaPlanPlataPlayaPlazaPleitoPlenoPlomoPlumaPluralPobrePocoPoderPodioPoemaPoesi/aPoetaPolenPolici/aPolloPolvoPomadaPomeloPomoPompaPonerPorcio/nPortalPosadaPoseerPosiblePostePotenciaPotroPozoPradoPrecozPreguntaPremioPrensaPresoPrevioPrimoPri/ncipePrisio/nPrivarProaProbarProcesoProductoProezaProfesorProgramaProlePromesaProntoPropioPro/ximoPruebaPu/blicoPucheroPudorPuebloPuertaPuestoPulgaPulirPulmo/nPulpoPulsoPumaPuntoPu~alPu~oPupaPupilaPure/QuedarQuejaQuemarQuererQuesoQuietoQui/micaQuinceQuitarRa/banoRabiaRaboRacio/nRadicalRai/zRamaRampaRanchoRangoRapazRa/pidoRaptoRasgoRaspaRatoRayoRazaRazo/nReaccio/nRealidadReba~oReboteRecaerRecetaRechazoRecogerRecreoRectoRecursoRedRedondoReducirReflejoReformaRefra/nRefugioRegaloRegirReglaRegresoRehe/nReinoRei/rRejaRelatoRelevoRelieveRellenoRelojRemarRemedioRemoRencorRendirRentaRepartoRepetirReposoReptilResRescateResinaRespetoRestoResumenRetiroRetornoRetratoReunirReve/sRevistaReyRezarRicoRiegoRiendaRiesgoRifaRi/gidoRigorRinco/nRi~o/nRi/oRiquezaRisaRitmoRitoRizoRobleRoceRociarRodarRodeoRodillaRoerRojizoRojoRomeroRomperRonRoncoRondaRopaRoperoRosaRoscaRostroRotarRubi/RuborRudoRuedaRugirRuidoRuinaRuletaRuloRumboRumorRupturaRutaRutinaSa/badoSaberSabioSableSacarSagazSagradoSalaSaldoSaleroSalirSalmo/nSalo/nSalsaSaltoSaludSalvarSambaSancio/nSandi/aSanearSangreSanidadSanoSantoSapoSaqueSardinaSarte/nSastreSata/nSaunaSaxofo/nSeccio/nSecoSecretoSectaSedSeguirSeisSelloSelvaSemanaSemillaSendaSensorSe~alSe~orSepararSepiaSequi/aSerSerieSermo/nServirSesentaSesio/nSetaSetentaSeveroSexoSextoSidraSiestaSieteSigloSignoSi/labaSilbarSilencioSillaSi/mboloSimioSirenaSistemaSitioSituarSobreSocioSodioSolSolapaSoldadoSoledadSo/lidoSoltarSolucio/nSombraSondeoSonidoSonoroSonrisaSopaSoplarSoporteSordoSorpresaSorteoSoste/nSo/tanoSuaveSubirSucesoSudorSuegraSueloSue~oSuerteSufrirSujetoSulta/nSumarSuperarSuplirSuponerSupremoSurSurcoSure~oSurgirSustoSutilTabacoTabiqueTablaTabu/TacoTactoTajoTalarTalcoTalentoTallaTalo/nTama~oTamborTangoTanqueTapaTapeteTapiaTapo/nTaquillaTardeTareaTarifaTarjetaTarotTarroTartaTatuajeTauroTazaTazo/nTeatroTechoTeclaTe/cnicaTejadoTejerTejidoTelaTele/fonoTemaTemorTemploTenazTenderTenerTenisTensoTeori/aTerapiaTercoTe/rminoTernuraTerrorTesisTesoroTestigoTeteraTextoTezTibioTiburo/nTiempoTiendaTierraTiesoTigreTijeraTildeTimbreTi/midoTimoTintaTi/oTi/picoTipoTiraTiro/nTita/nTi/tereTi/tuloTizaToallaTobilloTocarTocinoTodoTogaToldoTomarTonoTontoToparTopeToqueTo/raxToreroTormentaTorneoToroTorpedoTorreTorsoTortugaTosToscoToserTo/xicoTrabajoTractorTraerTra/ficoTragoTrajeTramoTranceTratoTraumaTrazarTre/bolTreguaTreintaTrenTreparTresTribuTrigoTripaTristeTriunfoTrofeoTrompaTroncoTropaTroteTrozoTrucoTruenoTrufaTuberi/aTuboTuertoTumbaTumorTu/nelTu/nicaTurbinaTurismoTurnoTutorUbicarU/lceraUmbralUnidadUnirUniversoUnoUntarU~aUrbanoUrbeUrgenteUrnaUsarUsuarioU/tilUtopi/aUvaVacaVaci/oVacunaVagarVagoVainaVajillaValeVa/lidoValleValorVa/lvulaVampiroVaraVariarVaro/nVasoVecinoVectorVehi/culoVeinteVejezVelaVeleroVelozVenaVencerVendaVenenoVengarVenirVentaVenusVerVeranoVerboVerdeVeredaVerjaVersoVerterVi/aViajeVibrarVicioVi/ctimaVidaVi/deoVidrioViejoViernesVigorVilVillaVinagreVinoVi~edoVioli/nViralVirgoVirtudVisorVi/speraVistaVitaminaViudoVivazViveroVivirVivoVolca/nVolumenVolverVorazVotarVotoVozVueloVulgarYacerYateYeguaYemaYernoYesoYodoYogaYogurZafiroZanjaZapatoZarzaZonaZorroZumoZurdo",u={},h=null;function l(e){return a.logger.checkNormalize(),(0,s.toUtf8String)(Array.prototype.filter.call((0,s.toUtf8Bytes)(e.normalize("NFD").toLowerCase()),function(e){return 65<=e&&e<=90||97<=e&&e<=123}))}function f(e){if(null==h&&((h=c.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" ").map(function(e){return t=[],Array.prototype.forEach.call((0,s.toUtf8Bytes)(e),function(e){47===e?(t.push(204),t.push(129)):126===e?(t.push(110),t.push(204),t.push(131)):t.push(e)}),(0,s.toUtf8String)(t);var t})).forEach(function(e,t){u[l(e)]=t}),"0xf74fb7092aeacdfbf8959557de22098da512207fb9f109cb526994938cf40300"!==a.Wordlist.check(e)))throw h=null,new Error("BIP39 Wordlist for es (Spanish) FAILED")}function d(){return i.call(this,"es")||this}i=a.Wordlist,o(d,i),d.prototype.getWord=function(e){return f(this),h[e]},d.prototype.getWordIndex=function(e){return f(this),u[l(e)]};e=new d;r.langEs=e,a.Wordlist.register(e)},{"./wordlist":139,"@ethersproject/strings":118}],134:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.langFr=void 0,e("@ethersproject/strings")),a=e("./wordlist"),c="AbaisserAbandonAbdiquerAbeilleAbolirAborderAboutirAboyerAbrasifAbreuverAbriterAbrogerAbruptAbsenceAbsoluAbsurdeAbusifAbyssalAcade/mieAcajouAcarienAccablerAccepterAcclamerAccoladeAccrocheAccuserAcerbeAchatAcheterAcidulerAcierAcompteAcque/rirAcronymeActeurActifActuelAdepteAde/quatAdhe/sifAdjectifAdjugerAdmettreAdmirerAdopterAdorerAdoucirAdresseAdroitAdulteAdverbeAe/rerAe/ronefAffaireAffecterAfficheAffreuxAffublerAgacerAgencerAgileAgiterAgraferAgre/ableAgrumeAiderAiguilleAilierAimableAisanceAjouterAjusterAlarmerAlchimieAlerteAlge-breAlgueAlie/nerAlimentAlle/gerAlliageAllouerAllumerAlourdirAlpagaAltesseAlve/oleAmateurAmbiguAmbreAme/nagerAmertumeAmidonAmiralAmorcerAmourAmovibleAmphibieAmpleurAmusantAnalyseAnaphoreAnarchieAnatomieAncienAne/antirAngleAngoisseAnguleuxAnimalAnnexerAnnonceAnnuelAnodinAnomalieAnonymeAnormalAntenneAntidoteAnxieuxApaiserApe/ritifAplanirApologieAppareilAppelerApporterAppuyerAquariumAqueducArbitreArbusteArdeurArdoiseArgentArlequinArmatureArmementArmoireArmureArpenterArracherArriverArroserArsenicArte/rielArticleAspectAsphalteAspirerAssautAsservirAssietteAssocierAssurerAsticotAstreAstuceAtelierAtomeAtriumAtroceAttaqueAttentifAttirerAttraperAubaineAubergeAudaceAudibleAugurerAuroreAutomneAutrucheAvalerAvancerAvariceAvenirAverseAveugleAviateurAvideAvionAviserAvoineAvouerAvrilAxialAxiomeBadgeBafouerBagageBaguetteBaignadeBalancerBalconBaleineBalisageBambinBancaireBandageBanlieueBannie-reBanquierBarbierBarilBaronBarqueBarrageBassinBastionBatailleBateauBatterieBaudrierBavarderBeletteBe/lierBeloteBe/ne/ficeBerceauBergerBerlineBermudaBesaceBesogneBe/tailBeurreBiberonBicycleBiduleBijouBilanBilingueBillardBinaireBiologieBiopsieBiotypeBiscuitBisonBistouriBitumeBizarreBlafardBlagueBlanchirBlessantBlinderBlondBloquerBlousonBobardBobineBoireBoiserBolideBonbonBondirBonheurBonifierBonusBordureBorneBotteBoucleBoueuxBougieBoulonBouquinBourseBoussoleBoutiqueBoxeurBrancheBrasierBraveBrebisBre-cheBreuvageBricolerBrigadeBrillantBriocheBriqueBrochureBroderBronzerBrousseBroyeurBrumeBrusqueBrutalBruyantBuffleBuissonBulletinBureauBurinBustierButinerButoirBuvableBuvetteCabanonCabineCachetteCadeauCadreCafe/ineCaillouCaissonCalculerCalepinCalibreCalmerCalomnieCalvaireCamaradeCame/raCamionCampagneCanalCanetonCanonCantineCanularCapableCaporalCapriceCapsuleCapterCapucheCarabineCarboneCaresserCaribouCarnageCarotteCarreauCartonCascadeCasierCasqueCassureCauserCautionCavalierCaverneCaviarCe/dilleCeintureCe/lesteCelluleCendrierCensurerCentralCercleCe/re/bralCeriseCernerCerveauCesserChagrinChaiseChaleurChambreChanceChapitreCharbonChasseurChatonChaussonChavirerChemiseChenilleChe/quierChercherChevalChienChiffreChignonChime-reChiotChlorureChocolatChoisirChoseChouetteChromeChuteCigareCigogneCimenterCine/maCintrerCirculerCirerCirqueCiterneCitoyenCitronCivilClaironClameurClaquerClasseClavierClientClignerClimatClivageClocheClonageCloporteCobaltCobraCocasseCocotierCoderCodifierCoffreCognerCohe/sionCoifferCoincerCole-reColibriCollineColmaterColonelCombatCome/dieCommandeCompactConcertConduireConfierCongelerConnoterConsonneContactConvexeCopainCopieCorailCorbeauCordageCornicheCorpusCorrectCorte-geCosmiqueCostumeCotonCoudeCoupureCourageCouteauCouvrirCoyoteCrabeCrainteCravateCrayonCre/atureCre/diterCre/meuxCreuserCrevetteCriblerCrierCristalCrite-reCroireCroquerCrotaleCrucialCruelCrypterCubiqueCueillirCuille-reCuisineCuivreCulminerCultiverCumulerCupideCuratifCurseurCyanureCycleCylindreCyniqueDaignerDamierDangerDanseurDauphinDe/battreDe/biterDe/borderDe/briderDe/butantDe/calerDe/cembreDe/chirerDe/ciderDe/clarerDe/corerDe/crireDe/cuplerDe/daleDe/ductifDe/esseDe/fensifDe/filerDe/frayerDe/gagerDe/givrerDe/glutirDe/graferDe/jeunerDe/liceDe/logerDemanderDemeurerDe/molirDe/nicherDe/nouerDentelleDe/nuderDe/partDe/penserDe/phaserDe/placerDe/poserDe/rangerDe/roberDe/sastreDescenteDe/sertDe/signerDe/sobe/irDessinerDestrierDe/tacherDe/testerDe/tourerDe/tresseDevancerDevenirDevinerDevoirDiableDialogueDiamantDicterDiffe/rerDige/rerDigitalDigneDiluerDimancheDiminuerDioxydeDirectifDirigerDiscuterDisposerDissiperDistanceDivertirDiviserDocileDocteurDogmeDoigtDomaineDomicileDompterDonateurDonjonDonnerDopamineDortoirDorureDosageDoseurDossierDotationDouanierDoubleDouceurDouterDoyenDragonDraperDresserDribblerDroitureDuperieDuplexeDurableDurcirDynastieE/blouirE/carterE/charpeE/chelleE/clairerE/clipseE/cloreE/cluseE/coleE/conomieE/corceE/couterE/craserE/cre/merE/crivainE/crouE/cumeE/cureuilE/difierE/duquerEffacerEffectifEffigieEffortEffrayerEffusionE/galiserE/garerE/jecterE/laborerE/largirE/lectronE/le/gantE/le/phantE/le-veE/ligibleE/litismeE/logeE/luciderE/luderEmballerEmbellirEmbryonE/meraudeE/missionEmmenerE/motionE/mouvoirEmpereurEmployerEmporterEmpriseE/mulsionEncadrerEnche-reEnclaveEncocheEndiguerEndosserEndroitEnduireE/nergieEnfanceEnfermerEnfouirEngagerEnginEngloberE/nigmeEnjamberEnjeuEnleverEnnemiEnnuyeuxEnrichirEnrobageEnseigneEntasserEntendreEntierEntourerEntraverE/nume/rerEnvahirEnviableEnvoyerEnzymeE/olienE/paissirE/pargneE/patantE/pauleE/picerieE/pide/mieE/pierE/pilogueE/pineE/pisodeE/pitapheE/poqueE/preuveE/prouverE/puisantE/querreE/quipeE/rigerE/rosionErreurE/ruptionEscalierEspadonEspe-ceEspie-gleEspoirEspritEsquiverEssayerEssenceEssieuEssorerEstimeEstomacEstradeE/tage-reE/talerE/tancheE/tatiqueE/teindreE/tendoirE/ternelE/thanolE/thiqueEthnieE/tirerE/tofferE/toileE/tonnantE/tourdirE/trangeE/troitE/tudeEuphorieE/valuerE/vasionE/ventailE/videnceE/viterE/volutifE/voquerExactExage/rerExaucerExcellerExcitantExclusifExcuseExe/cuterExempleExercerExhalerExhorterExigenceExilerExisterExotiqueExpe/dierExplorerExposerExprimerExquisExtensifExtraireExulterFableFabuleuxFacetteFacileFactureFaiblirFalaiseFameuxFamilleFarceurFarfeluFarineFaroucheFascinerFatalFatigueFauconFautifFaveurFavoriFe/brileFe/conderFe/de/rerFe/linFemmeFe/murFendoirFe/odalFermerFe/roceFerveurFestivalFeuilleFeutreFe/vrierFiascoFicelerFictifFide-leFigureFilatureFiletageFilie-reFilleulFilmerFilouFiltrerFinancerFinirFioleFirmeFissureFixerFlairerFlammeFlasqueFlatteurFle/auFle-cheFleurFlexionFloconFloreFluctuerFluideFluvialFolieFonderieFongibleFontaineForcerForgeronFormulerFortuneFossileFoudreFouge-reFouillerFoulureFourmiFragileFraiseFranchirFrapperFrayeurFre/gateFreinerFrelonFre/mirFre/ne/sieFre-reFriableFrictionFrissonFrivoleFroidFromageFrontalFrotterFruitFugitifFuiteFureurFurieuxFurtifFusionFuturGagnerGalaxieGalerieGambaderGarantirGardienGarnirGarrigueGazelleGazonGe/antGe/latineGe/luleGendarmeGe/ne/ralGe/nieGenouGentilGe/ologieGe/ome-treGe/raniumGermeGestuelGeyserGibierGiclerGirafeGivreGlaceGlaiveGlisserGlobeGloireGlorieuxGolfeurGommeGonflerGorgeGorilleGoudronGouffreGoulotGoupilleGourmandGoutteGraduelGraffitiGraineGrandGrappinGratuitGravirGrenatGriffureGrillerGrimperGrognerGronderGrotteGroupeGrugerGrutierGruye-reGue/pardGuerrierGuideGuimauveGuitareGustatifGymnasteGyrostatHabitudeHachoirHalteHameauHangarHannetonHaricotHarmonieHarponHasardHe/liumHe/matomeHerbeHe/rissonHermineHe/ronHe/siterHeureuxHibernerHibouHilarantHistoireHiverHomardHommageHomoge-neHonneurHonorerHonteuxHordeHorizonHorlogeHormoneHorribleHouleuxHousseHublotHuileuxHumainHumbleHumideHumourHurlerHydromelHygie-neHymneHypnoseIdylleIgnorerIguaneIlliciteIllusionImageImbiberImiterImmenseImmobileImmuableImpactImpe/rialImplorerImposerImprimerImputerIncarnerIncendieIncidentInclinerIncoloreIndexerIndiceInductifIne/ditIneptieInexactInfiniInfligerInformerInfusionInge/rerInhalerInhiberInjecterInjureInnocentInoculerInonderInscrireInsecteInsigneInsoliteInspirerInstinctInsulterIntactIntenseIntimeIntrigueIntuitifInutileInvasionInventerInviterInvoquerIroniqueIrradierIrre/elIrriterIsolerIvoireIvresseJaguarJaillirJambeJanvierJardinJaugerJauneJavelotJetableJetonJeudiJeunesseJoindreJoncherJonglerJoueurJouissifJournalJovialJoyauJoyeuxJubilerJugementJuniorJuponJuristeJusticeJuteuxJuve/nileKayakKimonoKiosqueLabelLabialLabourerLace/rerLactoseLaguneLaineLaisserLaitierLambeauLamelleLampeLanceurLangageLanterneLapinLargeurLarmeLaurierLavaboLavoirLectureLe/galLe/gerLe/gumeLessiveLettreLevierLexiqueLe/zardLiasseLibe/rerLibreLicenceLicorneLie-geLie-vreLigatureLigoterLigueLimerLimiteLimonadeLimpideLine/aireLingotLionceauLiquideLisie-reListerLithiumLitigeLittoralLivreurLogiqueLointainLoisirLombricLoterieLouerLourdLoutreLouveLoyalLubieLucideLucratifLueurLugubreLuisantLumie-reLunaireLundiLuronLutterLuxueuxMachineMagasinMagentaMagiqueMaigreMaillonMaintienMairieMaisonMajorerMalaxerMale/ficeMalheurMaliceMalletteMammouthMandaterManiableManquantManteauManuelMarathonMarbreMarchandMardiMaritimeMarqueurMarronMartelerMascotteMassifMate/rielMatie-reMatraqueMaudireMaussadeMauveMaximalMe/chantMe/connuMe/dailleMe/decinMe/diterMe/duseMeilleurMe/langeMe/lodieMembreMe/moireMenacerMenerMenhirMensongeMentorMercrediMe/riteMerleMessagerMesureMe/talMe/te/oreMe/thodeMe/tierMeubleMiaulerMicrobeMietteMignonMigrerMilieuMillionMimiqueMinceMine/ralMinimalMinorerMinuteMiracleMiroiterMissileMixteMobileModerneMoelleuxMondialMoniteurMonnaieMonotoneMonstreMontagneMonumentMoqueurMorceauMorsureMortierMoteurMotifMoucheMoufleMoulinMoussonMoutonMouvantMultipleMunitionMurailleMure-neMurmureMuscleMuse/umMusicienMutationMuterMutuelMyriadeMyrtilleMyste-reMythiqueNageurNappeNarquoisNarrerNatationNationNatureNaufrageNautiqueNavireNe/buleuxNectarNe/fasteNe/gationNe/gligerNe/gocierNeigeNerveuxNettoyerNeuroneNeutronNeveuNicheNickelNitrateNiveauNobleNocifNocturneNoirceurNoisetteNomadeNombreuxNommerNormatifNotableNotifierNotoireNourrirNouveauNovateurNovembreNoviceNuageNuancerNuireNuisibleNume/roNuptialNuqueNutritifObe/irObjectifObligerObscurObserverObstacleObtenirObturerOccasionOccuperOce/anOctobreOctroyerOctuplerOculaireOdeurOdorantOffenserOfficierOffrirOgiveOiseauOisillonOlfactifOlivierOmbrageOmettreOnctueuxOndulerOne/reuxOniriqueOpaleOpaqueOpe/rerOpinionOpportunOpprimerOpterOptiqueOrageuxOrangeOrbiteOrdonnerOreilleOrganeOrgueilOrificeOrnementOrqueOrtieOscillerOsmoseOssatureOtarieOuraganOursonOutilOutragerOuvrageOvationOxydeOxyge-neOzonePaisiblePalacePalmare-sPalourdePalperPanachePandaPangolinPaniquerPanneauPanoramaPantalonPapayePapierPapoterPapyrusParadoxeParcelleParesseParfumerParlerParoleParrainParsemerPartagerParureParvenirPassionPaste-quePaternelPatiencePatronPavillonPavoiserPayerPaysagePeignePeintrePelagePe/licanPellePelousePeluchePendulePe/ne/trerPe/niblePensifPe/nuriePe/pitePe/plumPerdrixPerforerPe/riodePermuterPerplexePersilPertePeserPe/talePetitPe/trirPeuplePharaonPhobiePhoquePhotonPhrasePhysiquePianoPicturalPie-cePierrePieuvrePilotePinceauPipettePiquerPiroguePiscinePistonPivoterPixelPizzaPlacardPlafondPlaisirPlanerPlaquePlastronPlateauPleurerPlexusPliagePlombPlongerPluiePlumagePochettePoe/siePoe-tePointePoirierPoissonPoivrePolairePolicierPollenPolygonePommadePompierPonctuelPonde/rerPoneyPortiquePositionPosse/derPosturePotagerPoteauPotionPoucePoulainPoumonPourprePoussinPouvoirPrairiePratiquePre/cieuxPre/direPre/fixePre/ludePre/nomPre/sencePre/textePre/voirPrimitifPrincePrisonPriverProble-meProce/derProdigeProfondProgre-sProieProjeterProloguePromenerPropreProspe-reProte/gerProuesseProverbePrudencePruneauPsychosePublicPuceronPuiserPulpePulsarPunaisePunitifPupitrePurifierPuzzlePyramideQuasarQuerelleQuestionQuie/tudeQuitterQuotientRacineRaconterRadieuxRagondinRaideurRaisinRalentirRallongeRamasserRapideRasageRatisserRavagerRavinRayonnerRe/actifRe/agirRe/aliserRe/animerRecevoirRe/citerRe/clamerRe/colterRecruterReculerRecyclerRe/digerRedouterRefaireRe/flexeRe/formerRefrainRefugeRe/galienRe/gionRe/glageRe/gulierRe/ite/rerRejeterRejouerRelatifReleverReliefRemarqueReme-deRemiseRemonterRemplirRemuerRenardRenfortReniflerRenoncerRentrerRenvoiReplierReporterRepriseReptileRequinRe/serveRe/sineuxRe/soudreRespectResterRe/sultatRe/tablirRetenirRe/ticuleRetomberRetracerRe/unionRe/ussirRevancheRevivreRe/volteRe/vulsifRichesseRideauRieurRigideRigolerRincerRiposterRisibleRisqueRituelRivalRivie-reRocheuxRomanceRompreRonceRondinRoseauRosierRotatifRotorRotuleRougeRouilleRouleauRoutineRoyaumeRubanRubisRucheRuelleRugueuxRuinerRuisseauRuserRustiqueRythmeSablerSaboterSabreSacocheSafariSagesseSaisirSaladeSaliveSalonSaluerSamediSanctionSanglierSarcasmeSardineSaturerSaugrenuSaumonSauterSauvageSavantSavonnerScalpelScandaleSce/le/ratSce/narioSceptreSche/maScienceScinderScoreScrutinSculpterSe/anceSe/cableSe/cherSecouerSe/cre/terSe/datifSe/duireSeigneurSe/jourSe/lectifSemaineSemblerSemenceSe/minalSe/nateurSensibleSentenceSe/parerSe/quenceSereinSergentSe/rieuxSerrureSe/rumServiceSe/sameSe/virSevrageSextupleSide/ralSie-cleSie/gerSifflerSigleSignalSilenceSiliciumSimpleSince-reSinistreSiphonSiropSismiqueSituerSkierSocialSocleSodiumSoigneuxSoldatSoleilSolitudeSolubleSombreSommeilSomnolerSondeSongeurSonnetteSonoreSorcierSortirSosieSottiseSoucieuxSoudureSouffleSouleverSoupapeSourceSoutirerSouvenirSpacieuxSpatialSpe/cialSphe-reSpiralStableStationSternumStimulusStipulerStrictStudieuxStupeurStylisteSublimeSubstratSubtilSubvenirSucce-sSucreSuffixeSugge/rerSuiveurSulfateSuperbeSupplierSurfaceSuricateSurmenerSurpriseSursautSurvieSuspectSyllabeSymboleSyme/trieSynapseSyntaxeSyste-meTabacTablierTactileTaillerTalentTalismanTalonnerTambourTamiserTangibleTapisTaquinerTarderTarifTartineTasseTatamiTatouageTaupeTaureauTaxerTe/moinTemporelTenailleTendreTeneurTenirTensionTerminerTerneTerribleTe/tineTexteThe-meThe/orieThe/rapieThoraxTibiaTie-deTimideTirelireTiroirTissuTitaneTitreTituberTobogganTole/rantTomateToniqueTonneauToponymeTorcheTordreTornadeTorpilleTorrentTorseTortueTotemToucherTournageTousserToxineTractionTraficTragiqueTrahirTrainTrancherTravailTre-fleTremperTre/sorTreuilTriageTribunalTricoterTrilogieTriompheTriplerTriturerTrivialTromboneTroncTropicalTroupeauTuileTulipeTumulteTunnelTurbineTuteurTutoyerTuyauTympanTyphonTypiqueTyranUbuesqueUltimeUltrasonUnanimeUnifierUnionUniqueUnitaireUniversUraniumUrbainUrticantUsageUsineUsuelUsureUtileUtopieVacarmeVaccinVagabondVagueVaillantVaincreVaisseauValableValiseVallonValveVampireVanilleVapeurVarierVaseuxVassalVasteVecteurVedetteVe/ge/talVe/hiculeVeinardVe/loceVendrediVe/ne/rerVengerVenimeuxVentouseVerdureVe/rinVernirVerrouVerserVertuVestonVe/te/ranVe/tusteVexantVexerViaducViandeVictoireVidangeVide/oVignetteVigueurVilainVillageVinaigreViolonVipe-reVirementVirtuoseVirusVisageViseurVisionVisqueuxVisuelVitalVitesseViticoleVitrineVivaceVivipareVocationVoguerVoileVoisinVoitureVolailleVolcanVoltigerVolumeVoraceVortexVoterVouloirVoyageVoyelleWagonXe/nonYachtZe-breZe/nithZesteZoologie",u=null,h={};function l(e){return a.logger.checkNormalize(),(0,s.toUtf8String)(Array.prototype.filter.call((0,s.toUtf8Bytes)(e.normalize("NFD").toLowerCase()),function(e){return 65<=e&&e<=90||97<=e&&e<=123}))}function f(e){if(null==u&&((u=c.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" ").map(function(e){return t=[],Array.prototype.forEach.call((0,s.toUtf8Bytes)(e),function(e){47===e?(t.push(204),t.push(129)):45===e?(t.push(204),t.push(128)):t.push(e)}),(0,s.toUtf8String)(t);var t})).forEach(function(e,t){h[l(e)]=t}),"0x51deb7ae009149dc61a6bd18a918eb7ac78d2775726c68e598b92d002519b045"!==a.Wordlist.check(e)))throw u=null,new Error("BIP39 Wordlist for fr (French) FAILED")}function d(){return i.call(this,"fr")||this}i=a.Wordlist,o(d,i),d.prototype.getWord=function(e){return f(this),u[e]},d.prototype.getWordIndex=function(e){return f(this),h[l(e)]};e=new d;r.langFr=e,a.Wordlist.register(e)},{"./wordlist":139,"@ethersproject/strings":118}],135:[function(e,t,r){"use strict";var n,i,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.langIt=void 0,e("./wordlist")),a="AbacoAbbaglioAbbinatoAbeteAbissoAbolireAbrasivoAbrogatoAccadereAccennoAccusatoAcetoneAchilleAcidoAcquaAcreAcrilicoAcrobataAcutoAdagioAddebitoAddomeAdeguatoAderireAdipeAdottareAdulareAffabileAffettoAffissoAffrantoAforismaAfosoAfricanoAgaveAgenteAgevoleAggancioAgireAgitareAgonismoAgricoloAgrumetoAguzzoAlabardaAlatoAlbatroAlberatoAlboAlbumeAlceAlcolicoAlettoneAlfaAlgebraAlianteAlibiAlimentoAllagatoAllegroAllievoAllodolaAllusivoAlmenoAlogenoAlpacaAlpestreAltalenaAlternoAlticcioAltroveAlunnoAlveoloAlzareAmalgamaAmanitaAmarenaAmbitoAmbratoAmebaAmericaAmetistaAmicoAmmassoAmmendaAmmirareAmmonitoAmoreAmpioAmpliareAmuletoAnacardoAnagrafeAnalistaAnarchiaAnatraAncaAncellaAncoraAndareAndreaAnelloAngeloAngolareAngustoAnimaAnnegareAnnidatoAnnoAnnuncioAnonimoAnticipoAnziApaticoAperturaApodeApparireAppetitoAppoggioApprodoAppuntoAprileArabicaArachideAragostaAraldicaArancioAraturaArazzoArbitroArchivioArditoArenileArgentoArgineArgutoAriaArmoniaArneseArredatoArringaArrostoArsenicoArsoArteficeArzilloAsciuttoAscoltoAsepsiAsetticoAsfaltoAsinoAsolaAspiratoAsproAssaggioAsseAssolutoAssurdoAstaAstenutoAsticeAstrattoAtavicoAteismoAtomicoAtonoAttesaAttivareAttornoAttritoAttualeAusilioAustriaAutistaAutonomoAutunnoAvanzatoAvereAvvenireAvvisoAvvolgereAzioneAzotoAzzimoAzzurroBabeleBaccanoBacinoBacoBadessaBadilataBagnatoBaitaBalconeBaldoBalenaBallataBalzanoBambinoBandireBaraondaBarbaroBarcaBaritonoBarlumeBaroccoBasilicoBassoBatostaBattutoBauleBavaBavosaBeccoBeffaBelgioBelvaBendaBenevoleBenignoBenzinaBereBerlinaBetaBibitaBiciBidoneBifidoBigaBilanciaBimboBinocoloBiologoBipedeBipolareBirbanteBirraBiscottoBisestoBisnonnoBisonteBisturiBizzarroBlandoBlattaBollitoBonificoBordoBoscoBotanicoBottinoBozzoloBraccioBradipoBramaBrancaBravuraBretellaBrevettoBrezzaBrigliaBrillanteBrindareBroccoloBrodoBronzinaBrulloBrunoBubboneBucaBudinoBuffoneBuioBulboBuonoBurloneBurrascaBussolaBustaCadettoCaducoCalamaroCalcoloCalesseCalibroCalmoCaloriaCambusaCamerataCamiciaCamminoCamolaCampaleCanapaCandelaCaneCaninoCanottoCantinaCapaceCapelloCapitoloCapogiroCapperoCapraCapsulaCarapaceCarcassaCardoCarismaCarovanaCarrettoCartolinaCasaccioCascataCasermaCasoCassoneCastelloCasualeCatastaCatenaCatrameCautoCavilloCedibileCedrataCefaloCelebreCellulareCenaCenoneCentesimoCeramicaCercareCertoCerumeCervelloCesoiaCespoCetoChelaChiaroChiccaChiedereChimeraChinaChirurgoChitarraCiaoCiclismoCifrareCignoCilindroCiottoloCircaCirrosiCitricoCittadinoCiuffoCivettaCivileClassicoClinicaCloroCoccoCodardoCodiceCoerenteCognomeCollareColmatoColoreColposoColtivatoColzaComaCometaCommandoComodoComputerComuneConcisoCondurreConfermaCongelareConiugeConnessoConoscereConsumoContinuoConvegnoCopertoCopioneCoppiaCopricapoCorazzaCordataCoricatoCorniceCorollaCorpoCorredoCorsiaCorteseCosmicoCostanteCotturaCovatoCratereCravattaCreatoCredereCremosoCrescitaCretaCricetoCrinaleCrisiCriticoCroceCronacaCrostataCrucialeCruscaCucireCuculoCuginoCullatoCupolaCuratoreCursoreCurvoCuscinoCustodeDadoDainoDalmataDamerinoDanielaDannosoDanzareDatatoDavantiDavveroDebuttoDecennioDecisoDeclinoDecolloDecretoDedicatoDefinitoDeformeDegnoDelegareDelfinoDelirioDeltaDemenzaDenotatoDentroDepositoDerapataDerivareDerogaDescrittoDesertoDesiderioDesumereDetersivoDevotoDiametroDicembreDiedroDifesoDiffusoDigerireDigitaleDiluvioDinamicoDinnanziDipintoDiplomaDipoloDiradareDireDirottoDirupoDisagioDiscretoDisfareDisgeloDispostoDistanzaDisumanoDitoDivanoDiveltoDividereDivoratoDobloneDocenteDoganaleDogmaDolceDomatoDomenicaDominareDondoloDonoDormireDoteDottoreDovutoDozzinaDragoDruidoDubbioDubitareDucaleDunaDuomoDupliceDuraturoEbanoEccessoEccoEclissiEconomiaEderaEdicolaEdileEditoriaEducareEgemoniaEgliEgoismoEgregioElaboratoElargireEleganteElencatoElettoElevareElficoElicaElmoElsaElusoEmanatoEmblemaEmessoEmiroEmotivoEmozioneEmpiricoEmuloEndemicoEnduroEnergiaEnfasiEnotecaEntrareEnzimaEpatiteEpilogoEpisodioEpocaleEppureEquatoreErarioErbaErbosoEredeEremitaErigereErmeticoEroeErosivoErranteEsagonoEsameEsanimeEsaudireEscaEsempioEsercitoEsibitoEsigenteEsistereEsitoEsofagoEsortatoEsosoEspansoEspressoEssenzaEssoEstesoEstimareEstoniaEstrosoEsultareEtilicoEtnicoEtruscoEttoEuclideoEuropaEvasoEvidenzaEvitatoEvolutoEvvivaFabbricaFaccendaFachiroFalcoFamigliaFanaleFanfaraFangoFantasmaFareFarfallaFarinosoFarmacoFasciaFastosoFasulloFaticareFatoFavolosoFebbreFecolaFedeFegatoFelpaFeltroFemminaFendereFenomenoFermentoFerroFertileFessuraFestivoFettaFeudoFiabaFiduciaFifaFiguratoFiloFinanzaFinestraFinireFioreFiscaleFisicoFiumeFlaconeFlamencoFleboFlemmaFloridoFluenteFluoroFobicoFocacciaFocosoFoderatoFoglioFolataFolcloreFolgoreFondenteFoneticoFoniaFontanaForbitoForchettaForestaFormicaFornaioForoFortezzaForzareFosfatoFossoFracassoFranaFrassinoFratelloFreccettaFrenataFrescoFrigoFrollinoFrondeFrugaleFruttaFucilataFucsiaFuggenteFulmineFulvoFumanteFumettoFumosoFuneFunzioneFuocoFurboFurgoneFuroreFusoFutileGabbianoGaffeGalateoGallinaGaloppoGamberoGammaGaranziaGarboGarofanoGarzoneGasdottoGasolioGastricoGattoGaudioGazeboGazzellaGecoGelatinaGelsoGemelloGemmatoGeneGenitoreGennaioGenotipoGergoGhepardoGhiaccioGhisaGialloGildaGineproGiocareGioielloGiornoGioveGiratoGironeGittataGiudizioGiuratoGiustoGlobuloGlutineGnomoGobbaGolfGomitoGommoneGonfioGonnaGovernoGracileGradoGraficoGrammoGrandeGrattareGravosoGraziaGrecaGreggeGrifoneGrigioGrinzaGrottaGruppoGuadagnoGuaioGuantoGuardareGufoGuidareIbernatoIconaIdenticoIdillioIdoloIdraIdricoIdrogenoIgieneIgnaroIgnoratoIlareIllesoIllogicoIlludereImballoImbevutoImboccoImbutoImmaneImmersoImmolatoImpaccoImpetoImpiegoImportoImprontaInalareInarcareInattivoIncantoIncendioInchinoIncisivoInclusoIncontroIncrocioIncuboIndagineIndiaIndoleIneditoInfattiInfilareInflittoIngaggioIngegnoIngleseIngordoIngrossoInnescoInodoreInoltrareInondatoInsanoInsettoInsiemeInsonniaInsulinaIntasatoInteroIntonacoIntuitoInumidireInvalidoInveceInvitoIperboleIpnoticoIpotesiIppicaIrideIrlandaIronicoIrrigatoIrrorareIsolatoIsotopoIstericoIstitutoIstriceItaliaIterareLabbroLabirintoLaccaLaceratoLacrimaLacunaLaddoveLagoLampoLancettaLanternaLardosoLargaLaringeLastraLatenzaLatinoLattugaLavagnaLavoroLegaleLeggeroLemboLentezzaLenzaLeoneLepreLesivoLessatoLestoLetteraleLevaLevigatoLiberoLidoLievitoLillaLimaturaLimitareLimpidoLineareLinguaLiquidoLiraLiricaLiscaLiteLitigioLivreaLocandaLodeLogicaLombareLondraLongevoLoquaceLorenzoLotoLotteriaLuceLucidatoLumacaLuminosoLungoLupoLuppoloLusingaLussoLuttoMacabroMacchinaMaceroMacinatoMadamaMagicoMagliaMagneteMagroMaiolicaMalafedeMalgradoMalintesoMalsanoMaltoMalumoreManaManciaMandorlaMangiareManifestoMannaroManovraMansardaMantideManubrioMappaMaratonaMarcireMarettaMarmoMarsupioMascheraMassaiaMastinoMaterassoMatricolaMattoneMaturoMazurcaMeandroMeccanicoMecenateMedesimoMeditareMegaMelassaMelisMelodiaMeningeMenoMensolaMercurioMerendaMerloMeschinoMeseMessereMestoloMetalloMetodoMettereMiagolareMicaMicelioMicheleMicroboMidolloMieleMiglioreMilanoMiliteMimosaMineraleMiniMinoreMirinoMirtilloMiscelaMissivaMistoMisurareMitezzaMitigareMitraMittenteMnemonicoModelloModificaModuloMoganoMogioMoleMolossoMonasteroMoncoMondinaMonetarioMonileMonotonoMonsoneMontatoMonvisoMoraMordereMorsicatoMostroMotivatoMotosegaMottoMovenzaMovimentoMozzoMuccaMucosaMuffaMughettoMugnaioMulattoMulinelloMultiploMummiaMuntoMuovereMuraleMusaMuscoloMusicaMutevoleMutoNababboNaftaNanometroNarcisoNariceNarratoNascereNastrareNaturaleNauticaNaviglioNebulosaNecrosiNegativoNegozioNemmenoNeofitaNerettoNervoNessunoNettunoNeutraleNeveNevroticoNicchiaNinfaNitidoNobileNocivoNodoNomeNominaNordicoNormaleNorvegeseNostranoNotareNotiziaNotturnoNovellaNucleoNullaNumeroNuovoNutrireNuvolaNuzialeOasiObbedireObbligoObeliscoOblioOboloObsoletoOccasioneOcchioOccidenteOccorrereOccultareOcraOculatoOdiernoOdorareOffertaOffrireOffuscatoOggettoOggiOgnunoOlandeseOlfattoOliatoOlivaOlogrammaOltreOmaggioOmbelicoOmbraOmegaOmissioneOndosoOnereOniceOnnivoroOnorevoleOntaOperatoOpinioneOppostoOracoloOrafoOrdineOrecchinoOreficeOrfanoOrganicoOrigineOrizzonteOrmaOrmeggioOrnativoOrologioOrrendoOrribileOrtensiaOrticaOrzataOrzoOsareOscurareOsmosiOspedaleOspiteOssaOssidareOstacoloOsteOtiteOtreOttagonoOttimoOttobreOvaleOvestOvinoOviparoOvocitoOvunqueOvviareOzioPacchettoPacePacificoPadellaPadronePaesePagaPaginaPalazzinaPalesarePallidoPaloPaludePandoroPannelloPaoloPaonazzoPapricaParabolaParcellaParerePargoloPariParlatoParolaPartireParvenzaParzialePassivoPasticcaPataccaPatologiaPattumePavonePeccatoPedalarePedonalePeggioPelosoPenarePendicePenisolaPennutoPenombraPensarePentolaPepePepitaPerbenePercorsoPerdonatoPerforarePergamenaPeriodoPermessoPernoPerplessoPersuasoPertugioPervasoPesatorePesistaPesoPestiferoPetaloPettinePetulantePezzoPiacerePiantaPiattinoPiccinoPicozzaPiegaPietraPifferoPigiamaPigolioPigroPilaPiliferoPillolaPilotaPimpantePinetaPinnaPinoloPioggiaPiomboPiramidePireticoPiritePirolisiPitonePizzicoPlaceboPlanarePlasmaPlatanoPlenarioPochezzaPoderosoPodismoPoesiaPoggiarePolentaPoligonoPollicePolmonitePolpettaPolsoPoltronaPolverePomicePomodoroPontePopolosoPorfidoPorosoPorporaPorrePortataPosaPositivoPossessoPostulatoPotassioPoterePranzoPrassiPraticaPreclusoPredicaPrefissoPregiatoPrelievoPremerePrenotarePreparatoPresenzaPretestoPrevalsoPrimaPrincipePrivatoProblemaProcuraProdurreProfumoProgettoProlungaPromessaPronomePropostaProrogaProtesoProvaPrudentePrugnaPruritoPsichePubblicoPudicaPugilatoPugnoPulcePulitoPulsantePuntarePupazzoPupillaPuroQuadroQualcosaQuasiQuerelaQuotaRaccoltoRaddoppioRadicaleRadunatoRafficaRagazzoRagioneRagnoRamarroRamingoRamoRandagioRantolareRapatoRapinaRappresoRasaturaRaschiatoRasenteRassegnaRastrelloRataRavvedutoRealeRecepireRecintoReclutaReconditoRecuperoRedditoRedimereRegalatoRegistroRegolaRegressoRelazioneRemareRemotoRennaReplicaReprimereReputareResaResidenteResponsoRestauroReteRetinaRetoricaRettificaRevocatoRiassuntoRibadireRibelleRibrezzoRicaricaRiccoRicevereRiciclatoRicordoRicredutoRidicoloRidurreRifasareRiflessoRiformaRifugioRigareRigettatoRighelloRilassatoRilevatoRimanereRimbalzoRimedioRimorchioRinascitaRincaroRinforzoRinnovoRinomatoRinsavitoRintoccoRinunciaRinvenireRiparatoRipetutoRipienoRiportareRipresaRipulireRisataRischioRiservaRisibileRisoRispettoRistoroRisultatoRisvoltoRitardoRitegnoRitmicoRitrovoRiunioneRivaRiversoRivincitaRivoltoRizomaRobaRoboticoRobustoRocciaRocoRodaggioRodereRoditoreRogitoRollioRomanticoRompereRonzioRosolareRospoRotanteRotondoRotulaRovescioRubizzoRubricaRugaRullinoRumineRumorosoRuoloRupeRussareRusticoSabatoSabbiareSabotatoSagomaSalassoSaldaturaSalgemmaSalivareSalmoneSaloneSaltareSalutoSalvoSapereSapidoSaporitoSaracenoSarcasmoSartoSassosoSatelliteSatiraSatolloSaturnoSavanaSavioSaziatoSbadiglioSbalzoSbancatoSbarraSbattereSbavareSbendareSbirciareSbloccatoSbocciatoSbrinareSbruffoneSbuffareScabrosoScadenzaScalaScambiareScandaloScapolaScarsoScatenareScavatoSceltoScenicoScettroSchedaSchienaSciarpaScienzaScindereScippoSciroppoScivoloSclerareScodellaScolpitoScompartoSconfortoScoprireScortaScossoneScozzeseScribaScrollareScrutinioScuderiaScultoreScuolaScuroScusareSdebitareSdoganareSeccaturaSecondoSedanoSeggiolaSegnalatoSegregatoSeguitoSelciatoSelettivoSellaSelvaggioSemaforoSembrareSemeSeminatoSempreSensoSentireSepoltoSequenzaSerataSerbatoSerenoSerioSerpenteSerraglioServireSestinaSetolaSettimanaSfaceloSfaldareSfamatoSfarzosoSfaticatoSferaSfidaSfilatoSfingeSfocatoSfoderareSfogoSfoltireSforzatoSfrattoSfruttatoSfuggitoSfumareSfusoSgabelloSgarbatoSgonfiareSgorbioSgrassatoSguardoSibiloSiccomeSierraSiglaSignoreSilenzioSillabaSimboloSimpaticoSimulatoSinfoniaSingoloSinistroSinoSintesiSinusoideSiparioSismaSistoleSituatoSlittaSlogaturaSlovenoSmarritoSmemoratoSmentitoSmeraldoSmilzoSmontareSmottatoSmussatoSnellireSnervatoSnodoSobbalzoSobrioSoccorsoSocialeSodaleSoffittoSognoSoldatoSolenneSolidoSollazzoSoloSolubileSolventeSomaticoSommaSondaSonettoSonniferoSopireSoppesoSopraSorgereSorpassoSorrisoSorsoSorteggioSorvolatoSospiroSostaSottileSpadaSpallaSpargereSpatolaSpaventoSpazzolaSpecieSpedireSpegnereSpelaturaSperanzaSpessoreSpettraleSpezzatoSpiaSpigolosoSpillatoSpinosoSpiraleSplendidoSportivoSposoSprangaSprecareSpronatoSpruzzoSpuntinoSquilloSradicareSrotolatoStabileStaccoStaffaStagnareStampatoStantioStarnutoStaseraStatutoSteloSteppaSterzoStilettoStimaStirpeStivaleStizzosoStonatoStoricoStrappoStregatoStriduloStrozzareStruttoStuccareStufoStupendoSubentroSuccosoSudoreSuggeritoSugoSultanoSuonareSuperboSupportoSurgelatoSurrogatoSussurroSuturaSvagareSvedeseSveglioSvelareSvenutoSveziaSviluppoSvistaSvizzeraSvoltaSvuotareTabaccoTabulatoTacciareTaciturnoTaleTalismanoTamponeTanninoTaraTardivoTargatoTariffaTarpareTartarugaTastoTatticoTavernaTavolataTazzaTecaTecnicoTelefonoTemerarioTempoTemutoTendoneTeneroTensioneTentacoloTeoremaTermeTerrazzoTerzettoTesiTesseratoTestatoTetroTettoiaTifareTigellaTimbroTintoTipicoTipografoTiraggioTiroTitanioTitoloTitubanteTizioTizzoneToccareTollerareToltoTombolaTomoTonfoTonsillaTopazioTopologiaToppaTorbaTornareTorroneTortoraToscanoTossireTostaturaTotanoTraboccoTracheaTrafilaTragediaTralcioTramontoTransitoTrapanoTrarreTraslocoTrattatoTraveTrecciaTremolioTrespoloTributoTrichecoTrifoglioTrilloTrinceaTrioTristezzaTrituratoTrivellaTrombaTronoTroppoTrottolaTrovareTruccatoTubaturaTuffatoTulipanoTumultoTunisiaTurbareTurchinoTutaTutelaUbicatoUccelloUccisoreUdireUditivoUffaUfficioUgualeUlisseUltimatoUmanoUmileUmorismoUncinettoUngereUnghereseUnicornoUnificatoUnisonoUnitarioUnteUovoUpupaUraganoUrgenzaUrloUsanzaUsatoUscitoUsignoloUsuraioUtensileUtilizzoUtopiaVacanteVaccinatoVagabondoVagliatoValangaValgoValicoVallettaValorosoValutareValvolaVampataVangareVanitosoVanoVantaggioVanveraVaporeVaranoVarcatoVarianteVascaVedettaVedovaVedutoVegetaleVeicoloVelcroVelinaVellutoVeloceVenatoVendemmiaVentoVeraceVerbaleVergognaVerificaVeroVerrucaVerticaleVescicaVessilloVestaleVeteranoVetrinaVetustoViandanteVibranteVicendaVichingoVicinanzaVidimareVigiliaVignetoVigoreVileVillanoViminiVincitoreViolaViperaVirgolaVirologoVirulentoViscosoVisioneVispoVissutoVisuraVitaVitelloVittimaVivandaVividoViziareVoceVogaVolatileVolereVolpeVoragineVulcanoZampognaZannaZappatoZatteraZavorraZefiroZelanteZeloZenzeroZerbinoZibettoZincoZirconeZittoZollaZoticoZuccheroZufoloZuluZuppa",c=null;function u(e){if(null==c&&(c=a.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x5c1362d88fd4cf614a96f3234941d29f7d37c08c5292fde03bf62c2db6ff7620"!==s.Wordlist.check(e)))throw c=null,new Error("BIP39 Wordlist for it (Italian) FAILED")}function h(){return i.call(this,"it")||this}i=s.Wordlist,o(h,i),h.prototype.getWord=function(e){return u(this),c[e]},h.prototype.getWordIndex=function(e){return u(this),c.indexOf(e)};e=new h;r.langIt=e,s.Wordlist.register(e)},{"./wordlist":139}],136:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=(Object.defineProperty(r,"__esModule",{value:!0}),r.langJa=void 0,e("@ethersproject/bytes")),h=e("@ethersproject/strings"),l=e("./wordlist"),f=["AQRASRAGBAGUAIRAHBAghAURAdBAdcAnoAMEAFBAFCBKFBQRBSFBCXBCDBCHBGFBEQBpBBpQBIkBHNBeOBgFBVCBhBBhNBmOBmRBiHBiFBUFBZDBvFBsXBkFBlcBjYBwDBMBBTBBTRBWBBWXXaQXaRXQWXSRXCFXYBXpHXOQXHRXhRXuRXmXXbRXlXXwDXTRXrCXWQXWGaBWaKcaYgasFadQalmaMBacAKaRKKBKKXKKjKQRKDRKCYKCRKIDKeVKHcKlXKjHKrYNAHNBWNaRNKcNIBNIONmXNsXNdXNnBNMBNRBNrXNWDNWMNFOQABQAHQBrQXBQXFQaRQKXQKDQKOQKFQNBQNDQQgQCXQCDQGBQGDQGdQYXQpBQpQQpHQLXQHuQgBQhBQhCQuFQmXQiDQUFQZDQsFQdRQkHQbRQlOQlmQPDQjDQwXQMBQMDQcFQTBQTHQrDDXQDNFDGBDGQDGRDpFDhFDmXDZXDbRDMYDRdDTRDrXSAhSBCSBrSGQSEQSHBSVRShYShkSyQSuFSiBSdcSoESocSlmSMBSFBSFKSFNSFdSFcCByCaRCKcCSBCSRCCrCGbCEHCYXCpBCpQCIBCIHCeNCgBCgFCVECVcCmkCmwCZXCZFCdRClOClmClFCjDCjdCnXCwBCwXCcRCFQCFjGXhGNhGDEGDMGCDGCHGIFGgBGVXGVEGVRGmXGsXGdYGoSGbRGnXGwXGwDGWRGFNGFLGFOGFdGFkEABEBDEBFEXOEaBEKSENBENDEYXEIgEIkEgBEgQEgHEhFEudEuFEiBEiHEiFEZDEvBEsXEsFEdXEdREkFEbBEbRElFEPCEfkEFNYAEYAhYBNYQdYDXYSRYCEYYoYgQYgRYuRYmCYZTYdBYbEYlXYjQYRbYWRpKXpQopQnpSFpCXpIBpISphNpdBpdRpbRpcZpFBpFNpFDpFopFrLADLBuLXQLXcLaFLCXLEhLpBLpFLHXLeVLhILdHLdRLoDLbRLrXIABIBQIBCIBsIBoIBMIBRIXaIaRIKYIKRINBINuICDIGBIIDIIkIgRIxFIyQIiHIdRIbYIbRIlHIwRIMYIcRIRVITRIFBIFNIFQOABOAFOBQOaFONBONMOQFOSFOCDOGBOEQOpBOLXOIBOIFOgQOgFOyQOycOmXOsXOdIOkHOMEOMkOWWHBNHXNHXWHNXHDuHDRHSuHSRHHoHhkHmRHdRHkQHlcHlRHwBHWcgAEgAggAkgBNgBQgBEgXOgYcgLXgHjgyQgiBgsFgdagMYgWSgFQgFEVBTVXEVKBVKNVKDVKYVKRVNBVNYVDBVDxVSBVSRVCjVGNVLXVIFVhBVhcVsXVdRVbRVlRhBYhKYhDYhGShxWhmNhdahdkhbRhjohMXhTRxAXxXSxKBxNBxEQxeNxeQxhXxsFxdbxlHxjcxFBxFNxFQxFOxFoyNYyYoybcyMYuBQuBRuBruDMuCouHBudQukkuoBulVuMXuFEmCYmCRmpRmeDmiMmjdmTFmFQiADiBOiaRiKRiNBiNRiSFiGkiGFiERipRiLFiIFihYibHijBijEiMXiWBiFBiFCUBQUXFUaRUNDUNcUNRUNFUDBUSHUCDUGBUGFUEqULNULoUIRUeEUeYUgBUhFUuRUiFUsXUdFUkHUbBUjSUjYUwXUMDUcHURdUTBUrBUrXUrQZAFZXZZaRZKFZNBZQFZCXZGBZYdZpBZLDZIFZHXZHNZeQZVRZVFZmXZiBZvFZdFZkFZbHZbFZwXZcCZcRZRBvBQvBGvBLvBWvCovMYsAFsBDsaRsKFsNFsDrsSHsSFsCXsCRsEBsEHsEfspBsLBsLDsIgsIRseGsbRsFBsFQsFSdNBdSRdCVdGHdYDdHcdVbdySduDdsXdlRdwXdWYdWcdWRkBMkXOkaRkNIkNFkSFkCFkYBkpRkeNkgBkhVkmXksFklVkMBkWDkFNoBNoaQoaFoNBoNXoNaoNEoSRoEroYXoYCoYbopRopFomXojkowXorFbBEbEIbdBbjYlaRlDElMXlFDjKjjSRjGBjYBjYkjpRjLXjIBjOFjeVjbRjwBnXQnSHnpFnLXnINnMBnTRwXBwXNwXYwNFwQFwSBwGFwLXwLDweNwgBwuHwjDwnXMBXMpFMIBMeNMTHcaQcNBcDHcSFcCXcpBcLXcLDcgFcuFcnXcwXccDcTQcrFTQErXNrCHrpFrgFrbFrTHrFcWNYWNbWEHWMXWTR","ABGHABIJAEAVAYJQALZJAIaRAHNXAHdcAHbRAZJMAZJRAZTRAdVJAklmAbcNAjdRAMnRAMWYAWpRAWgRAFgBAFhBAFdcBNJBBNJDBQKBBQhcBQlmBDEJBYJkBYJTBpNBBpJFBIJBBIJDBIcABOKXBOEJBOVJBOiJBOZJBepBBeLXBeIFBegBBgGJBVJXBuocBiJRBUJQBlXVBlITBwNFBMYVBcqXBTlmBWNFBWiJBWnRBFGHBFwXXKGJXNJBXNZJXDTTXSHSXSVRXSlHXCJDXGQJXEhXXYQJXYbRXOfXXeNcXVJFXhQJXhEJXdTRXjdXXMhBXcQTXRGBXTEBXTnQXFCXXFOFXFgFaBaFaBNJaBCJaBpBaBwXaNJKaNJDaQIBaDpRaEPDaHMFamDJalEJaMZJaFaFaFNBaFQJaFLDaFVHKBCYKBEBKBHDKXaFKXGdKXEJKXpHKXIBKXZDKXwXKKwLKNacKNYJKNJoKNWcKDGdKDTRKChXKGaRKGhBKGbRKEBTKEaRKEPTKLMDKLWRKOHDKVJcKdBcKlIBKlOPKFSBKFEPKFpFNBNJNJBQNBGHNBEPNBHXNBgFNBVXNBZDNBsXNBwXNNaRNNJDNNJENNJkNDCJNDVDNGJRNJiDNZJNNsCJNJFNNFSBNFCXNFEPNFLXNFIFQJBFQCaRQJEQQLJDQLJFQIaRQOqXQHaFQHHQQVJXQVJDQhNJQmEIQZJFQsJXQJrFQWbRDJABDBYJDXNFDXCXDXLXDXZDDXsJDQqXDSJFDJCXDEPkDEqXDYmQDpSJDOCkDOGQDHEIDVJDDuDuDWEBDJFgSBNDSBSFSBGHSBIBSBTQSKVYSJQNSJQiSJCXSEqXSJYVSIiJSOMYSHAHSHaQSeCFSepQSegBSHdHSHrFShSJSJuHSJUFSkNRSrSrSWEBSFaHSJFQSFCXSFGDSFYXSFODSFgBSFVXSFhBSFxFSFkFSFbBSFMFCADdCJXBCXaFCXKFCXNFCXCXCXGBCXEJCXYBCXLDCXIBCXOPCXHXCXgBCXhBCXiBCXlDCXcHCJNBCJNFCDCJCDGBCDVXCDhBCDiDCDJdCCmNCpJFCIaRCOqXCHCHCHZJCViJCuCuCmddCJiFCdNBCdHhClEJCnUJCreSCWlgCWTRCFBFCFNBCFYBCFVFCFhFCFdSCFTBCFWDGBNBGBQFGJBCGBEqGBpBGBgQGNBEGNJYGNkOGNJRGDUFGJpQGHaBGJeNGJeEGVBlGVKjGiJDGvJHGsVJGkEBGMIJGWjNGFBFGFCXGFGBGFYXGFpBGFMFEASJEAWpEJNFECJVEIXSEIQJEOqXEOcFEeNcEHEJEHlFEJgFEhlmEmDJEmZJEiMBEUqXEoSREPBFEPXFEPKFEPSFEPEFEPpFEPLXEPIBEJPdEPcFEPTBEJnXEqlHEMpREFCXEFODEFcFYASJYJAFYBaBYBVXYXpFYDhBYCJBYJGFYYbRYeNcYJeVYiIJYZJcYvJgYvJRYJsXYsJFYMYMYreVpBNHpBEJpBwXpQxFpYEJpeNDpJeDpeSFpeCHpHUJpHbBpHcHpmUJpiiJpUJrpsJuplITpFaBpFQqpFGBpFEfpFYBpFpBpFLJpFIDpFgBpFVXpFyQpFuFpFlFpFjDpFnXpFwXpJFMpFTBLXCJLXEFLXhFLXUJLXbFLalmLNJBLSJQLCLCLGJBLLDJLHaFLeNFLeSHLeCXLepFLhaRLZsJLsJDLsJrLocaLlLlLMdbLFNBLFSBLFEHLFkFIBBFIBXFIBaQIBKXIBSFIBpHIBLXIBgBIBhBIBuHIBmXIBiFIBZXIBvFIBbFIBjQIBwXIBWFIKTRIQUJIDGFICjQIYSRIINXIJeCIVaRImEkIZJFIvJRIsJXIdCJIJoRIbBQIjYBIcqXITFVIreVIFKFIFSFIFCJIFGFIFLDIFIBIJFOIFgBIFVXIJFhIFxFIFmXIFdHIFbBIJFrIJFWOBGBOQfXOOKjOUqXOfXBOqXEOcqXORVJOFIBOFlDHBIOHXiFHNTRHCJXHIaRHHJDHHEJHVbRHZJYHbIBHRsJHRkDHWlmgBKFgBSBgBCDgBGHgBpBgBIBgBVJgBuBgBvFgKDTgQVXgDUJgGSJgOqXgmUMgZIJgTUJgWIEgFBFgFNBgFDJgFSFgFGBgFYXgJFOgFgQgFVXgFhBgFbHgJFWVJABVQKcVDgFVOfXVeDFVhaRVmGdViJYVMaRVFNHhBNDhBCXhBEqhBpFhBLXhNJBhSJRheVXhhKEhxlmhZIJhdBQhkIJhbMNhMUJhMZJxNJgxQUJxDEkxDdFxSJRxplmxeSBxeCXxeGFxeYXxepQxegBxWVcxFEQxFLXxFIBxFgBxFxDxFZtxFdcxFbBxFwXyDJXyDlcuASJuDJpuDIBuCpJuGSJuIJFueEFuZIJusJXudWEuoIBuWGJuFBcuFKEuFNFuFQFuFDJuFGJuFVJuFUtuFdHuFTBmBYJmNJYmQhkmLJDmLJomIdXmiJYmvJRmsJRmklmmMBymMuCmclmmcnQiJABiJBNiJBDiBSFiBCJiBEFiBYBiBpFiBLXiBTHiJNciDEfiCZJiECJiJEqiOkHiHKFieNDiHJQieQcieDHieSFieCXieGFieEFieIHiegFihUJixNoioNXiFaBiFKFiFNDiFEPiFYXitFOitFHiFgBiFVEiFmXiFitiFbBiFMFiFrFUCXQUIoQUIJcUHQJUeCEUHwXUUJDUUqXUdWcUcqXUrnQUFNDUFSHUFCFUFEfUFLXUtFOZBXOZXSBZXpFZXVXZEQJZEJkZpDJZOqXZeNHZeCDZUqXZFBQZFEHZFLXvBAFvBKFvBCXvBEPvBpHvBIDvBgFvBuHvQNJvFNFvFGBvFIBvJFcsXCDsXLXsXsXsXlFsXcHsQqXsJQFsEqXseIFsFEHsFjDdBxOdNpRdNJRdEJbdpJRdhZJdnSJdrjNdFNJdFQHdFhNkNJDkYaRkHNRkHSRkVbRkuMRkjSJkcqDoSJFoEiJoYZJoOfXohEBoMGQocqXbBAFbBXFbBaFbBNDbBGBbBLXbBTBbBWDbGJYbIJHbFQqbFpQlDgQlOrFlVJRjGEBjZJRnXvJnXbBnEfHnOPDngJRnxfXnUJWwXEJwNpJwDpBwEfXwrEBMDCJMDGHMDIJMLJDcQGDcQpHcqXccqNFcqCXcFCJRBSBRBGBRBEJRBpQTBNFTBQJTBpBTBVXTFABTFSBTFCFTFGBTFMDrXCJrXLDrDNJrEfHrFQJrFitWNjdWNTR","AKLJMANOPFASNJIAEJWXAYJNRAIIbRAIcdaAeEfDAgidRAdjNYAMYEJAMIbRAFNJBAFpJFBBIJYBDZJFBSiJhBGdEBBEJfXBEJqXBEJWRBpaUJBLXrXBIYJMBOcfXBeEfFBestXBjNJRBcDJOBFEqXXNvJRXDMBhXCJNYXOAWpXONJWXHDEBXeIaRXhYJDXZJSJXMDJOXcASJXFVJXaBQqXaBZJFasXdQaFSJQaFEfXaFpJHaFOqXKBNSRKXvJBKQJhXKEJQJKEJGFKINJBKIJjNKgJNSKVElmKVhEBKiJGFKlBgJKjnUJKwsJYKMFIJKFNJDKFIJFKFOfXNJBSFNJBCXNBpJFNJBvQNJBMBNJLJXNJOqXNJeCXNJeGFNdsJCNbTKFNwXUJQNFEPQDiJcQDMSJQSFpBQGMQJQJeOcQyCJEQUJEBQJFBrQFEJqDXDJFDJXpBDJXIMDGiJhDIJGRDJeYcDHrDJDVXgFDkAWpDkIgRDjDEqDMvJRDJFNFDJFIBSKclmSJQOFSJQVHSJQjDSJGJBSJGJFSECJoSHEJqSJHTBSJVJDSViJYSZJNBSJsJDSFSJFSFEfXSJFLXCBUJVCJXSBCJXpBCXVJXCJXsXCJXdFCJNJHCLIJgCHiJFCVNJMChCJhCUHEJCsJTRCJdYcCoQJCCFEfXCFIJgCFUJxCFstFGJBaQGJBIDGQJqXGYJNRGJHKFGeQqDGHEJFGJeLXGHIiJGHdBlGUJEBGkIJTGFQPDGJFEqEAGegEJIJBEJVJXEhQJTEiJNcEJZJFEJoEqEjDEqEPDsXEPGJBEPOqXEPeQFEfDiDEJfEFEfepQEfMiJEqXNBEqDIDEqeSFEqVJXEMvJRYXNJDYXEJHYKVJcYYJEBYJeEcYJUqXYFpJFYFstXpAZJMpBSJFpNBNFpeQPDpHLJDpHIJFpHgJFpeitFpHZJFpJFADpFSJFpJFCJpFOqXpFitBpJFZJLXIJFLIJgRLVNJWLVHJMLwNpJLFGJBLFLJDLFOqXLJFUJIBDJXIBGJBIJBYQIJBIBIBOqXIBcqDIEGJFILNJTIIJEBIOiJhIJeNBIJeIBIhiJIIWoTRIJFAHIJFpBIJFuHIFUtFIJFTHOSBYJOEcqXOHEJqOvBpFOkVJrObBVJOncqDOcNJkHhNJRHuHJuHdMhBgBUqXgBsJXgONJBgHNJDgHHJQgJeitgHsJXgJyNagyDJBgZJDrgsVJQgkEJNgkjSJgJFAHgFCJDgFZtMVJXNFVXQfXVJXDJVXoQJVQVJQVDEfXVDvJHVEqNFVeQfXVHpJFVHxfXVVJSRVVmaRVlIJOhCXVJhHjYkhxCJVhWVUJhWiJcxBNJIxeEqDxfXBFxcFEPxFSJFxFYJXyBDQJydaUJyFOPDuYCJYuLvJRuHLJXuZJLDuFOPDuFZJHuFcqXmKHJdmCQJcmOsVJiJAGFitLCFieOfXiestXiZJMEikNJQirXzFiFQqXiFIJFiFZJFiFvtFUHpJFUteIcUteOcUVCJkUhdHcUbEJEUJqXQUMNJhURjYkUFitFZDGJHZJIxDZJVJXZJFDJZJFpQvBNJBvBSJFvJxBrseQqDsVFVJdFLJDkEJNBkmNJYkFLJDoQJOPoGsJRoEAHBoEJfFbBQqDbBZJHbFVJXlFIJBjYIrXjeitcjjCEBjWMNBwXQfXwXOaFwDsJXwCJTRwrCZJMDNJQcDDJFcqDOPRYiJFTBsJXTQIJBTFEfXTFLJDrXEJFrEJXMrFZJFWEJdEWYTlm","ABCDEFACNJTRAMBDJdAcNJVXBLNJEBXSIdWRXErNJkXYDJMBXZJCJaXMNJaYKKVJKcKDEJqXKDcNJhKVJrNYKbgJVXKFVJSBNBYBwDNJeQfXNJeEqXNhGJWENJFiJRQlIJbEQJfXxDQqXcfXQFNDEJQFwXUJDYcnUJDJIBgQDIUJTRDJFEqDSJQSJFSJQIJFSOPeZtSJFZJHCJXQfXCTDEqFGJBSJFGJBOfXGJBcqXGJHNJDGJRLiJEJfXEqEJFEJPEFpBEJYJBZJFYBwXUJYiJMEBYJZJyTYTONJXpQMFXFpeGIDdpJFstXpJFcPDLBVSJRLHQJqXLJFZJFIJBNJDIJBUqXIBkFDJIJEJPTIYJGWRIJeQPDIJeEfHIJFsJXOqGDSFHXEJqXgJCsJCgGQJqXgdQYJEgFMFNBgJFcqDVJwXUJVJFZJchIgJCCxOEJqXxOwXUJyDJBVRuscisciJBiJBieUtqXiJFDJkiFsJXQUGEZJcUJFsJXZtXIrXZDZJDrZJFNJDZJFstXvJFQqXvJFCJEsJXQJqkhkNGBbDJdTRbYJMEBlDwXUJMEFiJFcfXNJDRcNJWMTBLJXC","BraFUtHBFSJFdbNBLJXVJQoYJNEBSJBEJfHSJHwXUJCJdAZJMGjaFVJXEJPNJBlEJfFiJFpFbFEJqIJBVJCrIBdHiJhOPFChvJVJZJNJWxGFNIFLueIBQJqUHEJfUFstOZJDrlXEASJRlXVJXSFwVJNJWD","QJEJNNJDQJEJIBSFQJEJxegBQJEJfHEPSJBmXEJFSJCDEJqXLXNJFQqXIcQsFNJFIFEJqXUJgFsJXIJBUJEJfHNFvJxEqXNJnXUJFQqD","IJBEJqXZJ"],d="~~AzB~X~a~KN~Q~D~S~C~G~E~Y~p~L~I~O~eH~g~V~hxyumi~~U~~Z~~v~~s~~dkoblPjfnqwMcRTr~W~~~F~~~~~Jt",p=null;function g(e){return(0,o.hexlify)((0,h.toUtf8Bytes)(e))}var s,y="0xe3818de38284e3818f",b="0xe3818de38283e3818f";function a(e){if(null===p){p=[];var o={};o[(0,h.toUtf8String)([227,130,154])]=!1,o[(0,h.toUtf8String)([227,130,153])]=!1,o[(0,h.toUtf8String)([227,130,133])]=(0,h.toUtf8String)([227,130,134]),o[(0,h.toUtf8String)([227,129,163])]=(0,h.toUtf8String)([227,129,164]),o[(0,h.toUtf8String)([227,130,131])]=(0,h.toUtf8String)([227,130,132]),o[(0,h.toUtf8String)([227,130,135])]=(0,h.toUtf8String)([227,130,136]);for(var t,r=3;r<=9;r++)for(var n=f[r-3],i=0;i<n.length;i+=r){for(var s=[],a=0;a<r;a++){var c=d.indexOf(n[i+a]);s.push(227),s.push(64&c?130:129),s.push(128+(63&c))}p.push((0,h.toUtf8String)(s))}if(p.sort(function(e,t){return(e=u(e))<(t=u(t))?-1:t<e?1:0}),g(p[442])===y&&g(p[443])===b&&(t=p[442],p[442]=p[443],p[443]=t),"0xcb36b09e6baa935787fd762ce65e80b0c6a8dabdfbc3a7f86ac0e2c4fd111600"!==l.Wordlist.check(e))throw p=null,new Error("BIP39 Wordlist for ja (Japanese) FAILED")}function u(e){for(var t="",r=0;r<e.length;r++){var n=e[r],i=o[n];!1!==i&&(t+=n=i?i:n)}return t}}function c(){return s.call(this,"ja")||this}s=l.Wordlist,i(c,s),c.prototype.getWord=function(e){return a(this),p[e]},c.prototype.getWordIndex=function(e){return a(this),p.indexOf(e)},c.prototype.split=function(e){return l.logger.checkNormalize(),e.split(/(?:\u3000| )+/g)},c.prototype.join=function(e){return e.join("　")};e=new c;r.langJa=e,l.Wordlist.register(e)},{"./wordlist":139,"@ethersproject/bytes":47,"@ethersproject/strings":118}],137:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.langKo=void 0,e("@ethersproject/strings")),o=e("./wordlist"),a=["OYAa","ATAZoATBl3ATCTrATCl8ATDloATGg3ATHT8ATJT8ATJl3ATLlvATLn4ATMT8ATMX8ATMboATMgoAToLbAToMTATrHgATvHnAT3AnAT3JbAT3MTAT8DbAT8JTAT8LmAT8MYAT8MbAT#LnAUHT8AUHZvAUJXrAUJX8AULnrAXJnvAXLUoAXLgvAXMn6AXRg3AXrMbAX3JTAX3QbAYLn3AZLgvAZrSUAZvAcAZ8AaAZ8AbAZ8AnAZ8HnAZ8LgAZ8MYAZ8MgAZ8OnAaAboAaDTrAaFTrAaJTrAaJboAaLVoAaMXvAaOl8AaSeoAbAUoAbAg8AbAl4AbGnrAbMT8AbMXrAbMn4AbQb8AbSV8AbvRlAb8AUAb8AnAb8HgAb8JTAb8NTAb8RbAcGboAcLnvAcMT8AcMX8AcSToAcrAaAcrFnAc8AbAc8MgAfGgrAfHboAfJnvAfLV8AfLkoAfMT8AfMnoAfQb8AfScrAfSgrAgAZ8AgFl3AgGX8AgHZvAgHgrAgJXoAgJX8AgJboAgLZoAgLn4AgOX8AgoATAgoAnAgoCUAgoJgAgoLXAgoMYAgoSeAgrDUAgrJTAhrFnAhrLjAhrQgAjAgoAjJnrAkMX8AkOnoAlCTvAlCV8AlClvAlFg4AlFl6AlFn3AloSnAlrAXAlrAfAlrFUAlrFbAlrGgAlrOXAlvKnAlvMTAl3AbAl3MnAnATrAnAcrAnCZ3AnCl8AnDg8AnFboAnFl3AnHX4AnHbrAnHgrAnIl3AnJgvAnLXoAnLX4AnLbrAnLgrAnLhrAnMXoAnMgrAnOn3AnSbrAnSeoAnvLnAn3OnCTGgvCTSlvCTvAUCTvKnCTvNTCT3CZCT3GUCT3MTCT8HnCUCZrCULf8CULnvCU3HnCU3JUCY6NUCbDb8CbFZoCbLnrCboOTCboScCbrFnCbvLnCb8AgCb8HgCb$LnCkLfoClBn3CloDUDTHT8DTLl3DTSU8DTrAaDTrLXDTrLjDTrOYDTrOgDTvFXDTvFnDT3HUDT3LfDUCT9DUDT4DUFVoDUFV8DUFkoDUGgrDUJnrDULl8DUMT8DUMXrDUMX4DUMg8DUOUoDUOgvDUOg8DUSToDUSZ8DbDXoDbDgoDbGT8DbJn3DbLg3DbLn4DbMXrDbMg8DbOToDboJXGTClvGTDT8GTFZrGTLVoGTLlvGTLl3GTMg8GTOTvGTSlrGToCUGTrDgGTrJYGTrScGTtLnGTvAnGTvQgGUCZrGUDTvGUFZoGUHXrGULnvGUMT8GUoMgGXoLnGXrMXGXrMnGXvFnGYLnvGZOnvGZvOnGZ8LaGZ8LmGbAl3GbDYvGbDlrGbHX3GbJl4GbLV8GbLn3GbMn4GboJTGboRfGbvFUGb3GUGb4JnGgDX3GgFl$GgJlrGgLX6GgLZoGgLf8GgOXoGgrAgGgrJXGgrMYGgrScGgvATGgvOYGnAgoGnJgvGnLZoGnLg3GnLnrGnQn8GnSbrGnrMgHTClvHTDToHTFT3HTQT8HToJTHToJgHTrDUHTrMnHTvFYHTvRfHT8MnHT8SUHUAZ8HUBb4HUDTvHUoMYHXFl6HXJX6HXQlrHXrAUHXrMnHXrSbHXvFYHXvKXHX3LjHX3MeHYvQlHZrScHZvDbHbAcrHbFT3HbFl3HbJT8HbLTrHbMT8HbMXrHbMbrHbQb8HbSX3HboDbHboJTHbrFUHbrHgHbrJTHb8JTHb8MnHb8QgHgAlrHgDT3HgGgrHgHgrHgJTrHgJT8HgLX@HgLnrHgMT8HgMX8HgMboHgOnrHgQToHgRg3HgoHgHgrCbHgrFnHgrLVHgvAcHgvAfHnAloHnCTrHnCnvHnGTrHnGZ8HnGnvHnJT8HnLf8HnLkvHnMg8HnRTrITvFUITvFnJTAXrJTCV8JTFT3JTFT8JTFn4JTGgvJTHT8JTJT8JTJXvJTJl3JTJnvJTLX4JTLf8JTLhvJTMT8JTMXrJTMnrJTObrJTQT8JTSlvJT8DUJT8FkJT8MTJT8OXJT8OgJT8QUJT8RfJUHZoJXFT4JXFlrJXGZ8JXGnrJXLV8JXLgvJXMXoJXMX3JXNboJXPlvJXoJTJXoLkJXrAXJXrHUJXrJgJXvJTJXvOnJX4KnJYAl3JYJT8JYLhvJYQToJYrQXJY6NUJbAl3JbCZrJbDloJbGT8JbGgrJbJXvJbJboJbLf8JbLhrJbLl3JbMnvJbRg8JbSZ8JboDbJbrCZJbrSUJb3KnJb8LnJfRn8JgAXrJgCZrJgDTrJgGZrJgGZ8JgHToJgJT8JgJXoJgJgvJgLX4JgLZ3JgLZ8JgLn4JgMgrJgMn4JgOgvJgPX6JgRnvJgSToJgoCZJgoJbJgoMYJgrJXJgrJgJgrLjJg6MTJlCn3JlGgvJlJl8Jl4AnJl8FnJl8HgJnAToJnATrJnAbvJnDUoJnGnrJnJXrJnJXvJnLhvJnLnrJnLnvJnMToJnMT8JnMXvJnMX3JnMg8JnMlrJnMn4JnOX8JnST4JnSX3JnoAgJnoAnJnoJTJnoObJnrAbJnrAkJnrHnJnrJTJnrJYJnrOYJnrScJnvCUJnvFaJnvJgJnvJnJnvOYJnvQUJnvRUJn3FnJn3JTKnFl3KnLT6LTDlvLTMnoLTOn3LTRl3LTSb4LTSlrLToAnLToJgLTrAULTrAcLTrCULTrHgLTrMgLT3JnLULnrLUMX8LUoJgLVATrLVDTrLVLb8LVoJgLV8MgLV8RTLXDg3LXFlrLXrCnLXrLXLX3GTLX4GgLX4OYLZAXrLZAcrLZAgrLZAhrLZDXyLZDlrLZFbrLZFl3LZJX6LZJX8LZLc8LZLnrLZSU8LZoJTLZoJnLZrAgLZrAnLZrJYLZrLULZrMgLZrSkLZvAnLZvGULZvJeLZvOTLZ3FZLZ4JXLZ8STLZ8ScLaAT3LaAl3LaHT8LaJTrLaJT8LaJXrLaJgvLaJl4LaLVoLaMXrLaMXvLaMX8LbClvLbFToLbHlrLbJn4LbLZ3LbLhvLbMXrLbMnoLbvSULcLnrLc8HnLc8MTLdrMnLeAgoLeOgvLeOn3LfAl3LfLnvLfMl3LfOX8Lf8AnLf8JXLf8LXLgJTrLgJXrLgJl8LgMX8LgRZrLhCToLhrAbLhrFULhrJXLhvJYLjHTrLjHX4LjJX8LjLhrLjSX3LjSZ4LkFX4LkGZ8LkGgvLkJTrLkMXoLkSToLkSU8LkSZ8LkoOYLl3FfLl3MgLmAZrLmCbrLmGgrLmHboLmJnoLmJn3LmLfoLmLhrLmSToLnAX6LnAb6LnCZ3LnCb3LnDTvLnDb8LnFl3LnGnrLnHZvLnHgvLnITvLnJT8LnJX8LnJlvLnLf8LnLg6LnLhvLnLnoLnMXrLnMg8LnQlvLnSbrLnrAgLnrAnLnrDbLnrFkLnrJdLnrMULnrOYLnrSTLnvAnLnvDULnvHgLnvOYLnvOnLn3GgLn4DULn4JTLn4JnMTAZoMTAloMTDb8MTFT8MTJnoMTJnrMTLZrMTLhrMTLkvMTMX8MTRTrMToATMTrDnMTrOnMT3JnMT4MnMT8FUMT8FaMT8FlMT8GTMT8GbMT8GnMT8HnMT8JTMT8JbMT8OTMUCl8MUJTrMUJU8MUMX8MURTrMUSToMXAX6MXAb6MXCZoMXFXrMXHXrMXLgvMXOgoMXrAUMXrAnMXrHgMXrJYMXrJnMXrMTMXrMgMXrOYMXrSZMXrSgMXvDUMXvOTMX3JgMX3OTMX4JnMX8DbMX8FnMX8HbMX8HgMX8HnMX8LbMX8MnMX8OnMYAb8MYGboMYHTvMYHX4MYLTrMYLnvMYMToMYOgvMYRg3MYSTrMbAToMbAXrMbAl3MbAn8MbGZ8MbJT8MbJXrMbMXvMbMX8MbMnoMbrMUMb8AfMb8FbMb8FkMcJXoMeLnrMgFl3MgGTvMgGXoMgGgrMgGnrMgHT8MgHZrMgJnoMgLnrMgLnvMgMT8MgQUoMgrHnMgvAnMg8HgMg8JYMg8LfMloJnMl8ATMl8AXMl8JYMnAToMnAT4MnAZ8MnAl3MnAl4MnCl8MnHT8MnHg8MnJnoMnLZoMnLhrMnMXoMnMX3MnMnrMnOgvMnrFbMnrFfMnrFnMnrNTMnvJXNTMl8OTCT3OTFV8OTFn3OTHZvOTJXrOTOl3OT3ATOT3JUOT3LZOT3LeOT3MbOT8ATOT8AbOT8AgOT8MbOUCXvOUMX3OXHXvOXLl3OXrMUOXvDbOX6NUOX8JbOYFZoOYLbrOYLkoOYMg8OYSX3ObHTrObHT4ObJgrObLhrObMX3ObOX8Ob8FnOeAlrOeJT8OeJXrOeJnrOeLToOeMb8OgJXoOgLXoOgMnrOgOXrOgOloOgoAgOgoJbOgoMYOgoSTOg8AbOjLX4OjMnoOjSV8OnLVoOnrAgOn3DUPXQlrPXvFXPbvFTPdAT3PlFn3PnvFbQTLn4QToAgQToMTQULV8QURg8QUoJnQXCXvQbFbrQb8AaQb8AcQb8FbQb8MYQb8ScQeAlrQeLhrQjAn3QlFXoQloJgQloSnRTLnvRTrGURTrJTRUJZrRUoJlRUrQnRZrLmRZrMnRZrSnRZ8ATRZ8JbRZ8ScRbMT8RbST3RfGZrRfMX8RfMgrRfSZrRnAbrRnGT8RnvJgRnvLfRnvMTRn8AaSTClvSTJgrSTOXrSTRg3STRnvSToAcSToAfSToAnSToHnSToLjSToMTSTrAaSTrEUST3BYST8AgST8LmSUAZvSUAgrSUDT4SUDT8SUGgvSUJXoSUJXvSULTrSU8JTSU8LjSV8AnSV8JgSXFToSXLf8SYvAnSZrDUSZrMUSZrMnSZ8HgSZ8JTSZ8JgSZ8MYSZ8QUSaQUoSbCT3SbHToSbQYvSbSl4SboJnSbvFbSb8HbSb8JgSb8OTScGZrScHgrScJTvScMT8ScSToScoHbScrMTScvAnSeAZrSeAcrSeHboSeJUoSeLhrSeMT8SeMXrSe6JgSgHTrSkJnoSkLnvSk8CUSlFl3SlrSnSl8GnSmAboSmGT8SmJU8","ATLnDlATrAZoATrJX4ATrMT8ATrMX4ATrRTrATvDl8ATvJUoATvMl8AT3AToAT3MX8AT8CT3AT8DT8AT8HZrAT8HgoAUAgFnAUCTFnAXoMX8AXrAT8AXrGgvAXrJXvAXrOgoAXvLl3AZvAgoAZvFbrAZvJXoAZvJl8AZvJn3AZvMX8AZvSbrAZ8FZoAZ8LZ8AZ8MU8AZ8OTvAZ8SV8AZ8SX3AbAgFZAboJnoAbvGboAb8ATrAb8AZoAb8AgrAb8Al4Ab8Db8Ab8JnoAb8LX4Ab8LZrAb8LhrAb8MT8Ab8OUoAb8Qb8Ab8ST8AcrAUoAcrAc8AcrCZ3AcrFT3AcrFZrAcrJl4AcrJn3AcrMX3AcrOTvAc8AZ8Ac8MT8AfAcJXAgoFn4AgoGgvAgoGnrAgoLc8AgoMXoAgrLnrAkrSZ8AlFXCTAloHboAlrHbrAlrLhrAlrLkoAl3CZrAl3LUoAl3LZrAnrAl4AnrMT8An3HT4BT3IToBX4MnvBb!Ln$CTGXMnCToLZ4CTrHT8CT3JTrCT3RZrCT#GTvCU6GgvCU8Db8CU8GZrCU8HT8CboLl3CbrGgrCbrMU8Cb8DT3Cb8GnrCb8LX4Cb8MT8Cb8ObrCgrGgvCgrKX4Cl8FZoDTrAbvDTrDboDTrGT6DTrJgrDTrMX3DTrRZrDTrRg8DTvAVvDTvFZoDT3DT8DT3Ln3DT4HZrDT4MT8DT8AlrDT8MT8DUAkGbDUDbJnDYLnQlDbDUOYDbMTAnDbMXSnDboAT3DboFn4DboLnvDj6JTrGTCgFTGTGgFnGTJTMnGTLnPlGToJT8GTrCT3GTrLVoGTrLnvGTrMX3GTrMboGTvKl3GZClFnGZrDT3GZ8DTrGZ8FZ8GZ8MXvGZ8On8GZ8ST3GbCnQXGbMbFnGboFboGboJg3GboMXoGb3JTvGb3JboGb3Mn6Gb3Qb8GgDXLjGgMnAUGgrDloGgrHX4GgrSToGgvAXrGgvAZvGgvFbrGgvLl3GgvMnvGnDnLXGnrATrGnrMboGnuLl3HTATMnHTAgCnHTCTCTHTrGTvHTrHTvHTrJX8HTrLl8HTrMT8HTrMgoHTrOTrHTuOn3HTvAZrHTvDTvHTvGboHTvJU8HTvLl3HTvMXrHTvQb4HT4GT6HT4JT8HT4Jb#HT8Al3HT8GZrHT8GgrHT8HX4HT8Jb8HT8JnoHT8LTrHT8LgvHT8SToHT8SV8HUoJUoHUoJX8HUoLnrHXrLZoHXvAl3HX3LnrHX4FkvHX4LhrHX4MXoHX4OnoHZrAZ8HZrDb8HZrGZ8HZrJnrHZvGZ8HZvLnvHZ8JnvHZ8LhrHbCXJlHbMTAnHboJl4HbpLl3HbrJX8HbrLnrHbrMnvHbvRYrHgoSTrHgrFV8HgrGZ8HgrJXoHgrRnvHgvBb!HgvGTrHgvHX4HgvHn!HgvLTrHgvSU8HnDnLbHnFbJbHnvDn8Hn6GgvHn!BTvJTCTLnJTQgFnJTrAnvJTrLX4JTrOUoJTvFn3JTvLnrJTvNToJT3AgoJT3Jn4JT3LhvJT3ObrJT8AcrJT8Al3JT8JT8JT8JnoJT8LX4JT8LnrJT8MX3JT8Rg3JT8Sc8JUoBTvJU8AToJU8GZ8JU8GgvJU8JTrJU8JXrJU8JnrJU8LnvJU8ScvJXHnJlJXrGgvJXrJU8JXrLhrJXrMT8JXrMXrJXrQUoJXvCTvJXvGZ8JXvGgrJXvQT8JX8Ab8JX8DT8JX8GZ8JX8HZvJX8LnrJX8MT8JX8MXoJX8MnvJX8ST3JYGnCTJbAkGbJbCTAnJbLTAcJboDT3JboLb6JbrAnvJbrCn3JbrDl8JbrGboJbrIZoJbrJnvJbrMnvJbrQb4Jb8RZrJeAbAnJgJnFbJgScAnJgrATrJgvHZ8JgvMn4JlJlFbJlLiQXJlLjOnJlRbOlJlvNXoJlvRl3Jl4AcrJl8AUoJl8MnrJnFnMlJnHgGbJnoDT8JnoFV8JnoGgvJnoIT8JnoQToJnoRg3JnrCZ3JnrGgrJnrHTvJnrLf8JnrOX8JnvAT3JnvFZoJnvGT8JnvJl4JnvMT8JnvMX8JnvOXrJnvPX6JnvSX3JnvSZrJn3MT8Jn3MX8Jn3RTrLTATKnLTJnLTLTMXKnLTRTQlLToGb8LTrAZ8LTrCZ8LTrDb8LTrHT8LT3PX6LT4FZoLT$CTvLT$GgrLUvHX3LVoATrLVoAgoLVoJboLVoMX3LVoRg3LV8CZ3LV8FZoLV8GTvLXrDXoLXrFbrLXvAgvLXvFlrLXvLl3LXvRn6LX4Mb8LX8GT8LYCXMnLYrMnrLZoSTvLZrAZvLZrAloLZrFToLZrJXvLZrJboLZrJl4LZrLnrLZrMT8LZrOgvLZrRnvLZrST4LZvMX8LZvSlvLZ8AgoLZ8CT3LZ8JT8LZ8LV8LZ8LZoLZ8Lg8LZ8SV8LZ8SbrLZ$HT8LZ$Mn4La6CTvLbFbMnLbRYFTLbSnFZLboJT8LbrAT9LbrGb3LbrQb8LcrJX8LcrMXrLerHTvLerJbrLerNboLgrDb8LgrGZ8LgrHTrLgrMXrLgrSU8LgvJTrLgvLl3Lg6Ll3LhrLnrLhrMT8LhvAl4LiLnQXLkoAgrLkoJT8LkoJn4LlrSU8Ll3FZoLl3HTrLl3JX8Ll3JnoLl3LToLmLeFbLnDUFbLnLVAnLnrATrLnrAZoLnrAb8LnrAlrLnrGgvLnrJU8LnrLZrLnrLhrLnrMb8LnrOXrLnrSZ8LnvAb4LnvDTrLnvDl8LnvHTrLnvHbrLnvJT8LnvJU8LnvJbrLnvLhvLnvMX8LnvMb8LnvNnoLnvSU8Ln3Al3Ln4FZoLn4GT6Ln4JgvLn4LhrLn4MT8Ln4SToMToCZrMToJX8MToLX4MToLf8MToRg3MTrEloMTvGb6MT3BTrMT3Lb6MT8AcrMT8AgrMT8GZrMT8JnoMT8LnrMT8MX3MUOUAnMXAbFnMXoAloMXoJX8MXoLf8MXoLl8MXrAb8MXrDTvMXrGT8MXrGgrMXrHTrMXrLf8MXrMU8MXrOXvMXrQb8MXvGT8MXvHTrMXvLVoMX3AX3MX3Jn3MX3LhrMX3MX3MX4AlrMX4OboMX8GTvMX8GZrMX8GgrMX8JT8MX8JX8MX8LhrMX8MT8MYDUFbMYMgDbMbGnFfMbvLX4MbvLl3Mb8Mb8Mb8ST4MgGXCnMg8ATrMg8AgoMg8CZrMg8DTrMg8DboMg8HTrMg8JgrMg8LT8MloJXoMl8AhrMl8JT8MnLgAUMnoJXrMnoLX4MnoLhrMnoMT8MnrAl4MnrDb8MnrOTvMnrOgvMnrQb8MnrSU8MnvGgrMnvHZ8Mn3MToMn4DTrMn4LTrMn4Mg8NnBXAnOTFTFnOToAToOTrGgvOTrJX8OT3JXoOT6MTrOT8GgrOT8HTpOT8MToOUoHT8OUoJT8OUoLn3OXrAgoOXrDg8OXrMT8OXvSToOX6CTvOX8CZrOX8OgrOb6HgvOb8AToOb8MT8OcvLZ8OgvAlrOgvHTvOgvJTrOgvJnrOgvLZrOgvLn4OgvMT8OgvRTrOg8AZoOg8DbvOnrOXoOnvJn4OnvLhvOnvRTrOn3GgoOn3JnvOn6JbvOn8OTrPTGYFTPbBnFnPbGnDnPgDYQTPlrAnvPlrETvPlrLnvPlrMXvPlvFX4QTMTAnQTrJU8QYCnJlQYJlQlQbGTQbQb8JnrQb8LZoQb8LnvQb8MT8Qb8Ml8Qb8ST4QloAl4QloHZvQloJX8QloMn8QnJZOlRTrAZvRTrDTrRTvJn4RTvLhvRT4Jb8RZrAZrRZ8AkrRZ8JU8RZ8LV8RZ8LnvRbJlQXRg3GboRg3MnvRg8AZ8Rg8JboRg8Jl4RnLTCbRnvFl3RnvQb8SToAl4SToCZrSToFZoSToHXrSToJU8SToJgvSToJl4SToLhrSToMX3STrAlvSTrCT9STrCgrSTrGgrSTrHXrSTrHboSTrJnoSTrNboSTvLnrST4AZoST8Ab8ST8JT8SUoJn3SU6HZ#SU6JTvSU8Db8SU8HboSU8LgrSV8JT8SZrAcrSZrAl3SZrJT8SZrJnvSZrMT8SZvLUoSZ4FZoSZ8JnoSZ8RZrScoLnrScoMT8ScoMX8ScrAT4ScrAZ8ScrLZ8ScrLkvScvDb8ScvLf8ScvNToSgrFZrShvKnrSloHUoSloLnrSlrMXoSl8HgrSmrJUoSn3BX6","ATFlOn3ATLgrDYAT4MTAnAT8LTMnAYJnRTrAbGgJnrAbLV8LnAbvNTAnAeFbLg3AgOYMXoAlQbFboAnDboAfAnJgoJTBToDgAnBUJbAl3BboDUAnCTDlvLnCTFTrSnCYoQTLnDTwAbAnDUDTrSnDUHgHgrDX8LXFnDbJXAcrETvLTLnGTFTQbrGTMnGToGT3DUFbGUJlPX3GbQg8LnGboJbFnGb3GgAYGgAg8ScGgMbAXrGgvAbAnGnJTLnvGnvATFgHTDT6ATHTrDlJnHYLnMn8HZrSbJTHZ8LTFnHbFTJUoHgSeMT8HgrLjAnHgvAbAnHlFUrDlHnDgvAnHnHTFT3HnQTGnrJTAaMXvJTGbCn3JTOgrAnJXvAXMnJbMg8SnJbMnRg3Jb8LTMnJnAl3OnJnGYrQlJnJlQY3LTDlCn3LTJjLg3LTLgvFXLTMg3GTLV8HUOgLXFZLg3LXNXrMnLX8QXFnLX9AlMYLYLXPXrLZAbJU8LZDUJU8LZMXrSnLZ$AgFnLaPXrDULbFYrMnLbMn8LXLboJgJgLeFbLg3LgLZrSnLgOYAgoLhrRnJlLkCTrSnLkOnLhrLnFX%AYLnFZoJXLnHTvJbLnLloAbMTATLf8MTHgJn3MTMXrAXMT3MTFnMUITvFnMXFX%AYMXMXvFbMXrFTDbMYAcMX3MbLf8SnMb8JbFnMgMXrMTMgvAXFnMgvGgCmMnAloSnMnFnJTrOXvMXSnOX8HTMnObJT8ScObLZFl3ObMXCZoPTLgrQXPUFnoQXPU3RXJlPX3RkQXPbrJXQlPlrJbFnQUAhrDbQXGnCXvQYLnHlvQbLfLnvRTOgvJbRXJYrQlRYLnrQlRbLnrQlRlFT8JlRlFnrQXSTClCn3STHTrAnSTLZQlrSTMnGTrSToHgGbSTrGTDnSTvGXCnST3HgFbSU3HXAXSbAnJn3SbFT8LnScLfLnv","AT3JgJX8AT8FZoSnAT8JgFV8AT8LhrDbAZ8JT8DbAb8GgLhrAb8SkLnvAe8MT8SnAlMYJXLVAl3GYDTvAl3LfLnvBUDTvLl3CTOn3HTrCT3DUGgrCU8MT8AbCbFTrJUoCgrDb8MTDTLV8JX8DTLnLXQlDT8LZrSnDUQb8FZ8DUST4JnvDb8ScOUoDj6GbJl4GTLfCYMlGToAXvFnGboAXvLnGgAcrJn3GgvFnSToGnLf8JnvGn#HTDToHTLnFXJlHTvATFToHTvHTDToHTvMTAgoHT3STClvHT4AlFl6HT8HTDToHUoDgJTrHUoScMX3HbRZrMXoHboJg8LTHgDb8JTrHgMToLf8HgvLnLnoHnHn3HT4Hn6MgvAnJTJU8ScvJT3AaQT8JT8HTrAnJXrRg8AnJbAloMXoJbrATFToJbvMnoSnJgDb6GgvJgDb8MXoJgSX3JU8JguATFToJlPYLnQlJlQkDnLbJlQlFYJlJl8Lf8OTJnCTFnLbJnLTHXMnJnLXGXCnJnoFfRg3JnrMYRg3Jn3HgFl3KT8Dg8LnLTRlFnPTLTvPbLbvLVoSbrCZLXMY6HT3LXNU7DlrLXNXDTATLX8DX8LnLZDb8JU8LZMnoLhrLZSToJU8LZrLaLnrLZvJn3SnLZ8LhrSnLaJnoMT8LbFlrHTvLbrFTLnrLbvATLlvLb6OTFn3LcLnJZOlLeAT6Mn4LeJT3ObrLg6LXFlrLhrJg8LnLhvDlPX4LhvLfLnvLj6JTFT3LnFbrMXoLnQluCTvLnrQXCY6LnvLfLnvLnvMgLnvLnvSeLf8MTMbrJn3MT3JgST3MT8AnATrMT8LULnrMUMToCZrMUScvLf8MXoDT8SnMX6ATFToMX8AXMT8MX8FkMT8MX8HTrDUMX8ScoSnMYJT6CTvMgAcrMXoMg8SToAfMlvAXLg3MnFl3AnvOT3AnFl3OUoATHT8OU3RnLXrOXrOXrSnObPbvFn6Og8HgrSnOg8OX8DbPTvAgoJgPU3RYLnrPXrDnJZrPb8CTGgvPlrLTDlvPlvFUJnoQUvFXrQlQeMnoAl3QlrQlrSnRTFTrJUoSTDlLiLXSTFg6HT3STJgoMn4STrFTJTrSTrLZFl3ST4FnMXoSUrDlHUoScvHTvSnSfLkvMXo","AUoAcrMXoAZ8HboAg8AbOg6ATFgAg8AloMXoAl3AT8JTrAl8MX8MXoCT3SToJU8Cl8Db8MXoDT8HgrATrDboOT8MXoGTOTrATMnGT8LhrAZ8GnvFnGnQXHToGgvAcrHTvAXvLl3HbrAZoMXoHgBlFXLg3HgMnFXrSnHgrSb8JUoHn6HT8LgvITvATrJUoJUoLZrRnvJU8HT8Jb8JXvFX8QT8JXvLToJTrJYrQnGnQXJgrJnoATrJnoJU8ScvJnvMnvMXoLTCTLgrJXLTJlRTvQlLbRnJlQYvLbrMb8LnvLbvFn3RnoLdCVSTGZrLeSTvGXCnLg3MnoLn3MToLlrETvMT8SToAl3MbrDU6GTvMb8LX4LhrPlrLXGXCnSToLf8Rg3STrDb8LTrSTvLTHXMnSb3RYLnMnSgOg6ATFg","HUDlGnrQXrJTrHgLnrAcJYMb8DULc8LTvFgGnCk3Mg8JbAnLX4QYvFYHnMXrRUoJnGnvFnRlvFTJlQnoSTrBXHXrLYSUJgLfoMT8Se8DTrHbDb","AbDl8SToJU8An3RbAb8ST8DUSTrGnrAgoLbFU6Db8LTrMg8AaHT8Jb8ObDl8SToJU8Pb3RlvFYoJl"],c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";var u,h=null;function l(e){if(null==h&&(h=[],a.forEach(function(e,t){t+=4;for(var r,n=0;n<e.length;n+=t){for(var i="",o=0;o<t;o++)i+=(40<=(r=c.indexOf(e[n+o]))?r=r+168-40:19<=r&&(r=r+97-19),(0,s.toUtf8String)([225,132+(r>>6),128+(63&r)]));h.push(i)}}),h.sort(),"0xf9eddeace9c5d3da9c93cf7d3cd38f6a13ed3affb933259ae865714e8a3ae71a"!==o.Wordlist.check(e)))throw h=null,new Error("BIP39 Wordlist for ko (Korean) FAILED")}function f(){return u.call(this,"ko")||this}u=o.Wordlist,i(f,u),f.prototype.getWord=function(e){return l(this),h[e]},f.prototype.getWordIndex=function(e){return l(this),h.indexOf(e)};e=new f;r.langKo=e,o.Wordlist.register(e)},{"./wordlist":139,"@ethersproject/strings":118}],138:[function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),s=(Object.defineProperty(r,"__esModule",{value:!0}),r.langZhTw=r.langZhCn=void 0,e("@ethersproject/strings")),a=e("./wordlist"),c="}aE#4A=Yv&co#4N#6G=cJ&SM#66|/Z#4t&kn~46#4K~4q%b9=IR#7l,mB#7W_X2*dl}Uo~7s}Uf&Iw#9c&cw~6O&H6&wx&IG%v5=IQ~8a&Pv#47$PR&50%Ko&QM&3l#5f,D9#4L|/H&tQ;v0~6n]nN<di,AM=W5%QO&ka&ua,hM^tm=zV=JA=wR&+X]7P&NB#4J#5L|/b[dA}tJ<Do&6m&u2[U1&Kb.HM&mC=w0&MW<rY,Hq#6M}QG,13&wP}Jp]Ow%ue&Kg<HP<D9~4k~9T&I2_c6$9T#9/[C5~7O~4a=cs&O7=KK=An&l9$6U$8A&uD&QI|/Y&bg}Ux&F2#6b}E2&JN&kW&kp=U/&bb=Xl<Cj}k+~5J#6L&5z&9i}b4&Fo,ho(X0_g3~4O$Fz&QE<HN=Ww]6/%GF-Vw=tj&/D&PN#9g=YO}cL&Of&PI~5I&Ip=vU=IW#9G;0o-wU}ss&QR<BT&R9=tk$PY_dh&Pq-yh]7T,nj.Xu=EP&76=cI&Fs*Xg}z7$Gb&+I=DF,AF=cA}rL#7j=Dz&3y<Aa$52=PQ}b0(iY$Fa}oL&xV#6U=ec=WZ,xh%RY<dp#9N&Fl&44=WH*A7=sh&TB&8P=07;u+&PK}uh}J5#72)V/=xC,AB$k0&f6;1E|+5=1B,3v]6n&wR%b+&xx]7f=Ol}fl;+D^wG]7E;nB;uh^Ir&l5=JL,nS=cf=g5;u6|/Q$Gc=MH%Hg#5d%M6^86=U+$Gz,l/,ir^5y&Ba&/F-IY&FI&be%IZ#77&PW_Nu$kE(Yf&NX]7Z,Jy&FJ(Xo&Nz#/d=y7&MX<Ag}Z+;nE]Dt(iG#4D=13&Pj~4c%v8&Zo%OL&/X#4W<HR&ie~6J_1O(Y2=y5=Ad*cv_eB#6k&PX:BU#7A;uk&Ft&Fx_dD=U2;vB=U5=4F}+O&GN.HH:9s=b0%NV(jO&IH=JT}Z9=VZ<Af,Kx^4m&uJ%c6,6r;9m#+L}cf%Kh&F3~4H=vP}bu,Hz|++,1w]nv}k6;uu$jw*Kl*WX&uM[x7&Fr[m7$NO&QN]hu=JN}nR^8g#/h(ps|KC;vd}xz=V0}p6&FD$G1#7K<bG_4p~8g&cf;u4=tl}+k%5/}fz;uw<cA=u1}gU}VM=LJ=eX&+L&Pr#4U}p2:nC,2K]7H:jF&9x}uX#9O=MB<fz~8X~5m&4D&kN&u5%E/(h7(ZF&VG<de(qM|/e-Wt=3x(a+,/R]f/&ND$Ro&nU}0g=KA%kH&NK$Ke<dS}cB&IX~5g$TN]6m=Uv,Is&Py=Ef%Kz#+/%bi&+A<F4$OG&4C&FL#9V<Zk=2I_eE&6c]nw&kq$HG}y+&A8$P3}OH=XP]70%IS(AJ_gH%GZ&tY&AZ=vb~6y&/r=VI=Wv<Zi=fl=xf&eL}c8}OL=MJ=g8$F7=YT}9u=0+^xC}JH&nL^N0~4T]K2,Cy%OC#6s;vG(AC^xe^cG&MF}Br#9P;wD-7h$O/&xA}Fn^PC]6i]7G&8V$Qs;vl(TB~73~4l<mW&6V=2y&uY&+3)aP}XF;LP&kx$wU=t7;uy<FN&lz)7E=Oo*Y+;wI}9q}le;J6&Ri&4t&Qr#8B=cb&vG=J5|Ql(h5<Yy~4+}QD,Lx=wn%K/&RK=dO&Pw,Q9=co%4u;9u}g0@6a^4I%b0=zo|/c&tX=dQ=OS#+b=yz_AB&wB&Pm=W9$HP_gR=62=AO=ti=hI,oA&jr&dH=tm&b6$P2(x8=zi;nG~7F;05]0n[Ix&3m}rg=Xp=cd&uz]7t;97=cN;vV<jf&FF&F1=6Q&Ik*Kk&P4,2z=fQ]7D&3u,H0=d/}Uw<ZN<7R}Kv;0f$H7,MD]7n$F0#88~9Z%da=by;+T#/u=VF&fO&kr^kf<AB]sU,I5$Ng&Pz;0i&QD&vM=Yl:BM;nJ_xJ]U7&Kf&30,3f|Z9*dC)je_jA&Q4&Kp$NH(Yz#6S&Id%Ib=KX,AD=KV%dP}tW&Pk^+E_Ni=cq,3R}VZ(Si=b+}rv;0j}rZ]uA,/w(Sx&Jv$w9&4d&wE,NJ$Gy=J/]Ls#7k<ZQ<Y/&uj]Ov$PM;v3,2F&+u:up=On&3e,Jv;90=J+&Qm]6q}bK#+d~8Y(h2]hA;99&AS=I/}qB&dQ}yJ-VM}Vl&ui,iB&G3|Dc]7d=eQ%dX%JC_1L~4d^NP;vJ&/1)ZI#7N]9X[bQ&PL=0L(UZ,Lm&kc&IR}n7(iR<AQ<dg=33=vN}ft}au]7I,Ba=x9=dR~6R&Tq=Xi,3d$Nr&Bc}DI&ku&vf]Dn,/F&iD,Ll&Nw=0y&I7=Ls=/A&tU=Qe}Ua&uk&+F=g4=gh=Vj#+1&Qn}Uy*44#5F,Pc&Rz*Xn=oh=5W;0n_Nf(iE<Y7=vr=Zu]oz#5Z%mI=kN=Bv_Jp(T2;vt_Ml<FS&uI=L/&6P]64$M7}86<bo%QX(SI%IY&VK=Al&Ux;vv;ut*E/%uh<ZE|O3,M2(yc]yu=Wk&tp:Ex}hr,Cl&WE)+Z=8U}I2_4Q,hA_si=iw=OM=tM=yZ%Ia=U7;wT}b+;uo=Za}yS!5x}HD}fb#5O_dA;Nv%uB(yB;01(Sf}Fk;v7}Pt#8v<mZ#7L,/r&Pl~4w&f5=Ph$Fw_LF&8m,bL=yJ&BH}p/*Jn}tU~5Q;wB(h6]Df]8p^+B;E4&Wc=d+;Ea&bw$8C&FN,DM=Yf}mP~5w=fT#6V=mC=Fi=AV}jB&AN}lW}aH#/D)dZ;hl;vE}/7,CJ;31&w8,hj%u9_Js=jJ&4M~8k=TN&eC}nL&uc-wi&lX}dj=Mv=e2#6u=cr$uq$6G]8W}Jb:nm=Yg<b3(UA;vX&6n&xF=KT,jC,De&R8&oY=Zv&oB]7/=Z2&Oa}bf,hh(4h^tZ&72&Nx;D2&xL~5h~40)ZG)h+=OJ&RA]Bv$yB=Oq=df,AQ%Jn}OJ;11,3z&Tl&tj;v+^Hv,Dh(id=s+]7N&N3)9Q~8f,S4=uW=w4&uX,LX&3d]CJ&yp&8x<b2_do&lP=y/<cy_dG=Oi=7R(VH(lt_1T,Iq_AA;12^6T%k6#8K[B1{oO<AU[Bt;1b$9S&Ps<8T=St{bY,jB(Zp&63&Uv$9V,PM]6v&Af}zW[bW_oq}sm}nB&Kq&gC&ff_eq_2m&5F&TI}rf}Gf;Zr_z9;ER&jk}iz_sn<BN~+n&vo=Vi%97|ZR=Wc,WE&6t]6z%85(ly#84=KY)6m_5/=aX,N3}Tm&he&6K]tR_B2-I3;u/&hU&lH<AP=iB&IA=XL;/5&Nh=wv<BH#79=vS=zl<AA=0X_RG}Bw&9p$NW,AX&kP_Lp&/Z(Tc]Mu}hs#6I}5B&cI<bq&H9#6m=K9}vH(Y1(Y0#4B&w6,/9&gG<bE,/O=zb}I4_l8<B/;wL%Qo<HO[Mq=XX}0v&BP&F4(mG}0i}nm,EC=9u{I3,xG&/9=JY*DK&hR)BX=EI=cx=b/{6k}yX%A+&wa}Xb=la;wi^lL;0t}jo&Qb=xg=XB}iO<qo{bR=NV&8f=a0&Jy;0v=uK)HK;vN#6h&jB(h/%ud&NI%wY.X7=Pt}Cu-uL&Gs_hl%mH,tm]78=Lb^Q0#7Y=1u<Bt&+Q=Co_RH,w3;1e}ux<aU;ui}U3&Q5%bt]63&UQ|0l&uL}O7&3o,AV&dm|Nj(Xt*5+(Uu&Hh(p7(UF=VR=Bp^Jl&Hd[ix)9/=Iq]C8<67]66}mB%6f}bb}JI]8T$HA}db=YM&pa=2J}tS&Y0=PS&y4=cX$6E,hX,XP&nR;04,FQ&l0&Vm_Dv#5Y~8Z=Bi%MA]6x=JO:+p,Az&9q,Hj~6/}SD=K1:EJ}nA;Qo#/E]9R,Ie&6X%W3]61&v4=xX_MC=0q;06(Xq=fs}IG}Dv=0l}o7$iZ;9v&LH&DP-7a&OY,SZ,Kz,Cv&dh=fx|Nh,F/~7q=XF&w+;9n&Gw;0h}Z7<7O&JK(S7&LS<AD<ac=wo<Dt&zw%4B=4v#8P;9o~6p*vV=Tm,Or&I6=1q}nY=P0=gq&Bl&Uu,Ch%yb}UY=zh}dh}rl(T4_xk(YA#8R*xH,IN}Jn]7V}C4&Ty}j3]7p=cL=3h&wW%Qv<Z3=f0&RI&+S(ic_zq}oN&/Y=z1;Td=LW=0e=OI(Vc,+b^ju(UL;0r:Za%8v=Rp=zw&58&73&wK}qX]6y&8E)a2}WR=wP^ur&nQ<cH}Re=Aq&wk}Q0&+q=PP,Gc|/d^k5,Fw]8Y}Pg]p3=ju=ed}r5_yf&Cs]7z$/G<Cm&Jp&54_1G_gP_Ll}JZ;0u]k8_7k(Sg]65{9i=LN&Sx&WK,iW&fD&Lk{9a}Em-9c#8N&io=sy]8d&nT&IK(lx#7/$lW(Td<s8~49,3o<7Y=MW(T+_Jr&Wd,iL}Ct=xh&5V;v4&8n%Kx=iF&l2_0B{B+,If(J0,Lv;u8=Kx-vB=HC&vS=Z6&fU&vE^xK;3D=4h=MR#45:Jw;0d}iw=LU}I5=I0]gB*im,K9}GU,1k_4U&Tt=Vs(iX&lU(TF#7y,ZO}oA&m5#5P}PN}Uz=hM<B1&FB<aG,e6~7T<tP(UQ_ZT=wu&F8)aQ]iN,1r_Lo&/g:CD}84{J1_Ki&Na&3n$jz&FE=dc;uv;va}in}ll=fv(h1&3h}fp=Cy}BM(+E~8m}lo%v7=hC(T6$cj=BQ=Bw(DR,2j=Ks,NS|F+;00=fU=70}Mb(YU;+G&m7&hr=Sk%Co]t+(X5_Jw}0r}gC(AS-IP&QK<Z2#8Q$WC]WX}T2&pG_Ka,HC=R4&/N;Z+;ch(C7,D4$3p_Mk&B2$8D=n9%Ky#5z(CT&QJ#7B]DC]gW}nf~5M;Iw#80}Tc_1F#4Z-aC}Hl=ph=fz,/3=aW}JM}nn;DG;vm}wn,4P}T3;wx&RG$u+}zK=0b;+J_Ek{re<aZ=AS}yY#5D]7q,Cp}xN=VP*2C}GZ}aG~+m_Cs=OY#6r]6g<GS}LC(UB=3A=Bo}Jy<c4}Is;1P<AG}Op<Z1}ld}nS=1Z,yM&95&98=CJ(4t:2L$Hk=Zo}Vc;+I}np&N1}9y=iv}CO*7p=jL)px]tb^zh&GS&Vl%v/;vR=14=zJ&49|/f]hF}WG;03=8P}o/&Gg&rp;DB,Kv}Ji&Pb;aA^ll(4j%yt}+K$Ht#4y&hY]7Y<F1,eN}bG(Uh%6Z]t5%G7;+F_RE;it}tL=LS&Da=Xx(S+(4f=8G=yI}cJ}WP=37=jS}pX}hd)fp<A8=Jt~+o$HJ=M6}iX=g9}CS=dv=Cj(mP%Kd,xq|+9&LD(4/=Xm&QP=Lc}LX&fL;+K=Op(lu=Qs.qC:+e&L+=Jj#8w;SL]7S(b+#4I=c1&nG_Lf&uH;+R)ZV<bV%B/,TE&0H&Jq&Ah%OF&Ss(p2,Wv&I3=Wl}Vq;1L&lJ#9b_1H=8r=b8=JH(SZ=hD=J2#7U,/U#/X~6P,FU<eL=jx,mG=hG=CE&PU=Se(qX&LY=X6=y4&tk&QQ&tf=4g&xI}W+&mZ=Dc#7w}Lg;DA;wQ_Kb(cJ=hR%yX&Yb,hw{bX_4X;EP;1W_2M}Uc=b5(YF,CM&Tp^OJ{DD]6s=vF=Yo~8q}XH}Fu%P5(SJ=Qt;MO]s8<F3&B3&8T(Ul-BS*dw&dR<87}/8]62$PZ]Lx<Au}9Q]7c=ja=KR,Go,Us&v6(qk}pG&G2=ev^GM%w4&H4]7F&dv]J6}Ew:9w=sj-ZL}Ym$+h(Ut(Um~4n=Xs(U7%eE=Qc_JR<CA#6t<Fv|/I,IS,EG<F2(Xy$/n<Fa(h9}+9_2o&N4#7X<Zq|+f_Dp=dt&na,Ca=NJ)jY=8C=YG=s6&Q+<DO}D3=xB&R1(lw;Qn<bF(Cu|/B}HV=SS&n7,10&u0]Dm%A6^4Q=WR(TD=Xo<GH,Rj(l8)bP&n/=LM&CF,F5&ml=PJ;0k=LG=tq,Rh,D6@4i=1p&+9=YC%er_Mh;nI;0q=Fw]80=xq=FM$Gv;v6&nc;wK%H2&Kj;vs,AA=YP,66}bI(qR~5U=6q~4b$Ni=K5.X3$So&Iu(p+]8G=Cf=RY(TS_O3(iH&57=fE=Dg_Do#9z#7H;FK{qd_2k%JR}en&gh_z8;Rx}9p<cN_Ne,DO;LN_7o~/p=NF=5Y}gN<ce<C1,QE]Wv=3u<BC}GK]yq}DY&u/_hj=II(pz&rC,jV&+Z}ut=NQ;Cg-SR_ZS,+o=u/;Oy_RK_QF(Fx&xP}Wr&TA,Uh&g1=yr{ax[VF$Pg(YB;Ox=Vy;+W(Sp}XV%dd&33(l/]l4#4Y}OE=6c=bw(A7&9t%wd&N/&mo,JH&Qe)fm=Ao}fu=tH",u="FAZDC6BALcLZCA+GBARCW8wNCcDDZ8LVFBOqqDUiou+M42TFAyERXFb7EjhP+vmBFpFrUpfDV2F7eB+eCltCHJFWLFCED+pWTojEIHFXc3aFn4F68zqjEuKidS1QBVPDEhE7NA4mhMF7oThD49ot3FgtzHFCK0acW1x8DH1EmLoIlrWFBLE+y5+NA3Cx65wJHTaEZVaK1mWAmPGxgYCdxwOjTDIt/faOEhTl1vqNsKtJCOhJWuio2g07KLZEQsFBUpNtwEByBgxFslFheFbiEPvi61msDvApxCzB6rBCzox7joYA5UdDc+Cb4FSgIabpXFAj3bjkmFAxCZE+mD/SFf/0ELecYCt3nLoxC6WEZf2tKDB4oZvrEmqFkKk7BwILA7gtYBpsTq//D4jD0F0wEB9pyQ1BD5Ba0oYHDI+sbDFhvrHXdDHfgFEIJLi5r8qercNFBgFLC4bo5ERJtamWBDFy73KCEb6M8VpmEt330ygCTK58EIIFkYgF84gtGA9Uyh3m68iVrFbWFbcbqiCYHZ9J1jeRPbL8yswhMiDbhEhdNoSwFbZrLT740ABEqgCkO8J1BLd1VhKKR4sD1yUo0z+FF59Mvg71CFbyEhbHSFBKEIKyoQNgQppq9T0KAqePu0ZFGrXOHdKJqkoTFhYvpDNyuuznrN84thJbsCoO6Cu6Xlvntvy0QYuAExQEYtTUBf3CoCqwgGFZ4u1HJFzDVwEy3cjcpV4QvsPaBC3rCGyCF23o4K3pp2gberGgFEJEHo4nHICtyKH2ZqyxhN05KBBJIQlKh/Oujv/DH32VrlqFdIFC7Fz9Ct4kaqFME0UETLprnN9kfy+kFmtQBB0+5CFu0N9Ij8l/VvJDh2oq3hT6EzjTHKFN7ZjZwoTsAZ4Exsko6Fpa6WC+sduz8jyrLpegTv2h1EBeYpLpm2czQW0KoCcS0bCVXCmuWJDBjN1nQNLdF58SFJ0h7i3pC3oEOKy/FjBklL70XvBEEIWp2yZ04xObzAWDDJG7f+DbqBEA7LyiR95j7MDVdDViz2RE5vWlBMv5e4+VfhP3aXNPhvLSynb9O2x4uFBV+3jqu6d5pCG28/sETByvmu/+IJ0L3wb4rj9DNOLBF6XPIODr4L19U9RRofAG6Nxydi8Bki8BhGJbBAJKzbJxkZSlF9Q2Cu8oKqggB9hBArwLLqEBWEtFowy8XK8bEyw9snT+BeyFk1ZCSrdmgfEwFePTgCjELBEnIbjaDDPJm36rG9pztcEzT8dGk23SBhXBB1H4z+OWze0ooFzz8pDBYFvp9j9tvFByf9y4EFdVnz026CGR5qMr7fxMHN8UUdlyJAzlTBDRC28k+L4FB8078ljyD91tUj1ocnTs8vdEf7znbzm+GIjEZnoZE5rnLL700Xc7yHfz05nWxy03vBB9YGHYOWxgMQGBCR24CVYNE1hpfKxN0zKnfJDmmMgMmBWqNbjfSyFCBWSCGCgR8yFXiHyEj+VtD1FB3FpC1zI0kFbzifiKTLm9yq5zFmur+q8FHqjoOBWsBPiDbnCC2ErunV6cJ6TygXFYHYp7MKN9RUlSIS8/xBAGYLzeqUnBF4QbsTuUkUqGs6CaiDWKWjQK9EJkjpkTmNCPYXL",h={zh_cn:null,zh_tw:null},l={zh_cn:"0x17bcc4d8547e5a7135e365d1ab443aaae95e76d8230c2782c67305d4f21497a1",zh_tw:"0x51e720e90c7b87bec1d70eb6e74a21a449bd3ec9c020b01d3a40ed991b60ce5d"},f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="~!@#$%^&*_-=[]{}|;:,.()<>?";function o(e){if(null===h[e.locale]){h[e.locale]=[];for(var t=0,r=0;r<2048;r++){var n=d.indexOf(c[3*r]),i=[228+(n>>2),128+f.indexOf(c[3*r+1]),128+f.indexOf(c[3*r+2])];if("zh_tw"===e.locale)for(var o=n%4;o<3;o++)i[o]=f.indexOf(u[t++])+(0==o?228:128);h[e.locale].push((0,s.toUtf8String)(i))}if(a.Wordlist.check(e)!==l[e.locale])throw h[e.locale]=null,new Error("BIP39 Wordlist for "+e.locale+" (Chinese) FAILED")}}p=a.Wordlist,i(g,p),g.prototype.getWord=function(e){return o(this),h[this.locale][e]},g.prototype.getWordIndex=function(e){return o(this),h[this.locale].indexOf(e)},g.prototype.split=function(e){return(e=e.replace(/(?:\u3000| )+/g,"")).split("")};var p,e=g;function g(e){return p.call(this,"zh_"+e)||this}i=new e("cn"),r.langZhCn=i,a.Wordlist.register(i),a.Wordlist.register(i,"zh"),i=new e("tw");r.langZhTw=i,a.Wordlist.register(i)},{"./wordlist":139,"@ethersproject/strings":118}],139:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Wordlist=r.logger=void 0;var i=e("@ethersproject/hash"),n=e("@ethersproject/properties"),o=e("@ethersproject/logger"),e=e("./_version"),o=(r.logger=new o.Logger(e.version),s.prototype.split=function(e){return e.toLowerCase().split(/ +/g)},s.prototype.join=function(e){return e.join(" ")},s.check=function(e){for(var t=[],r=0;r<2048;r++){var n=e.getWord(r);if(r!==e.getWordIndex(n))return"0x";t.push(n)}return(0,i.id)(t.join("\n")+"\n")},s.register=function(e,t){t=t||e.locale},s);function s(e){var t=this.constructor;r.logger.checkAbstract(t,s),(0,n.defineReadOnly)(this,"locale",e)}r.Wordlist=o},{"./_version":129,"@ethersproject/hash":60,"@ethersproject/logger":74,"@ethersproject/properties":80}],140:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.wordlists=void 0;var n=e("./lang-cz"),i=e("./lang-en"),o=e("./lang-es"),s=e("./lang-fr"),a=e("./lang-ja"),c=e("./lang-ko"),u=e("./lang-it"),e=e("./lang-zh");r.wordlists={cz:n.langCz,en:i.langEn,es:o.langEs,fr:s.langFr,it:u.langIt,ja:a.langJa,ko:c.langKo,zh:e.langZhCn,zh_cn:e.langZhCn,zh_tw:e.langZhTw}},{"./lang-cz":131,"./lang-en":132,"./lang-es":133,"./lang-fr":134,"./lang-it":135,"./lang-ja":136,"./lang-ko":137,"./lang-zh":138}],141:[function(h,y,e){!function(u,g){!function(){var e=h("events")["EventEmitter"];const l=h("crypto"),f=h("nanocustomassert"),n=h("pump"),d=h("debug")("discovery-swarm-webrtc"),p=h("./lib/mmst-signal-client"),{toHex:r,callbackPromise:i,resolveCallback:o}=h("./lib/utils");var t=h("./lib/errors");const s=t["ERR_CONNECTION_DUPLICATED"],a=e=>f(g.isBuffer(e)&&32===e.length,"Channel must be a buffer of 32 bytes");class c extends e{constructor(e={}){super(),d("opts",e);const{id:t=l.randomBytes(32),bootstrap:r,stream:n,simplePeer:i,maxPeers:o=5,timeout:s=15e3,signal:a,mmst:c={}}=e;f(Array.isArray(r)&&0<r.length,"The `bootstrap` options is required."),f(g.isBuffer(t)&&32===t.length,"The `id` option needs to be a Buffer of 32 bytes."),this.id=t;var u=2*s,h={id:this.id,bootstrap:r,createConnection:e=>this._createConnection(e),requestTimeout:s,simplePeer:i,reconnectingWebsocket:{connectionTimeout:s}};this.signal=a?a(h,this):new p({...h,mmstOpts:{maxPeers:o,queueTimeout:u,lookupTimeout:s,...c}}),this._maxPeers=o,this._stream=n,this._destroyed=!1,this._initialize(e)}get connected(){return this.signal.peersConnected}get connecting(){return this.signal.peersConnecting}listen(){}getPeers(e){return e?this.signal.getPeersByTopic(e).filter(e=>e.connected):this.signal.peersConnected}join(e){this.signal.join(e)}leave(e,t=i()){return a(e),o(this.signal.leave(e),t),t.promise}close(e=i()){return o(this._close(),e),e.promise}async connect(e,t){f(e&&g.isBuffer(e),"channel must be a buffer"),f(t&&g.isBuffer(t),"peerId must be a buffer");const r=this.signal.connect(e,t);return r.subscribeMediaStream=!0,await r.ready(),r.stream}async _close(){this._destroyed||(this._destroyed=!0,await this.signal.close(),this.emit("close"))}_initialize(){const e=this.signal;this.on("error",(...e)=>d("error",...e)),e.on("peer-error",e=>this.emit("error",e)),e.on("error",e=>this.emit("error",e)),e.open().catch(e=>u.nextTick(()=>this.emit("error",e))),e.on("candidates-updated",(...e)=>this.emit("candidates-updated",...e))}_createConnection(t){t.subscribeMediaStream=!0,t.channel=t.topic,t.getInfo=()=>({id:t.id,channel:t.topic,initiator:t.initiator}),t.printInfo=()=>({id:r(t.id),channel:r(t.topic),initiator:t.initiator}),d("createConnection",{info:t.printInfo()});try{const e=this._checkForDuplicate(t);if(e){if(e===t)throw new s(r(this.id),r(t.id));e.destroy()}return this._bindSocketEvents(t),t}catch(e){throw this.emit("connect-failed",e,t.getInfo()),e}}_bindSocketEvents(t){const r=t.getInfo();t.on("error",e=>{d("error",e),this.emit("connection-error",e,r)}),t.on("connect",()=>{if(d("connect",{peer:t}),!t.stream.destroyed)if(this._stream){const e=this._stream(r);e?(this.emit("handshaking",e,r),e.on("handshake",this._handshake.bind(this,e,r)),n(t.stream,e,t.stream)):this._handleConnection(t.stream,r)}else this._handleConnection(t.stream,r)}),t.on("close",()=>{d("close",{peer:t}),this.emit("connection-closed",t.stream,r)})}_handshake(e,t){this._handleConnection(e,t)}_handleConnection(e,t){this.emit("connection",e,t)}_checkForDuplicate(t){var e=this.signal.getPeersByTopic(t.channel).find(e=>e.id.equals(t.id)&&!e.sessionId.equals(t.sessionId));if(e){const r=[t,e];if(t.initiator&&e.initiator||!t.initiator&&!e.initiator)return r.sort((e,t)=>g.compare(e.sessionId,t.sessionId))[0];const n=[this.id,t.id].sort(g.compare)[0];return r.find(e=>e.id.equals(n))}}}y.exports=(...e)=>new c(...e),y.exports.errors=t}.call(this)}.call(this,h("_process"),h("buffer").Buffer)},{"./lib/errors":142,"./lib/mmst-signal-client":143,"./lib/utils":145,_process:437,buffer:221,crypto:239,debug:241,events:284,nanocustomassert:395,pump:446}],142:[function(e,t,r){const n=e("nanoerror");function i(e,t){r[e]=n(e,t)}i("ERR_MAX_PEERS_REACHED","max peers reached: %s"),i("ERR_INVALID_CHANNEL","invalid channel: %s"),i("ERR_CONNECTION_DUPLICATED","connection duplicated: %s -> %s")},{nanoerror:396}],143:[function(t,p,e){!function(d){!function(){var e=t("socket-signal-websocket")["SocketSignalWebsocketClient"];const i=t("mostly-minimal-spanning-tree"),r=t("nanocustomassert"),n=t("stream")["Readable"],o=t("debug")("discovery-swarm-webrtc:mmst-signal"),s=t("./utils")["toHex"],{ERR_INVALID_CHANNEL:a,ERR_MAX_PEERS_REACHED:c}=t("./errors"),u=t("./scheduler"),h=e=>r(d.isBuffer(e)&&32===e.length,"Channel must be a buffer of 32 bytes"),l=Symbol("mmstsignal.onconnected"),f=Symbol("mmstsignal.getcandidates");p.exports=class extends e{constructor(e={}){const{bootstrap:t,createConnection:r,mmstOpts:n={},strict:i=!0,...o}=e;super(t,o),this._createConnection=r,this._mmstOpts=n,this._strict=i,this._channels=new Map,this._mmsts=new Map,this._candidates=new Map,this._scheduler=new u,this[l]=this[l].bind(this)}join(n){h(n);var t=s(n);if(!this._channels.has(t)){this._channels.set(t,n);var r={id:this.id,lookup:()=>this._lookup(n),connect:async t=>{await this.open();try{const e=this.connect(n,t);return this._runCreateConnection(e),await e.ready(),e.stream}catch(e){const r=this[f](n);throw r.list=r.list.filter(e=>!e.equals(t)),0===r.list.length&&(r.lookup=!0),e}}};let e;e="function"==typeof this._mmstOpts?this._mmstOpts(r):new i({...this._mmstOpts,...r}),this._mmsts.set(t,e)}this.connected&&super.join(n).catch(()=>{})}async leave(e){h(e);var t=s(e);this._scheduler.delete(t),this._mmsts.get(t).destroy(),this._mmsts.delete(t),this._channels.delete(t),this._candidates.delete(t),await super.leave(e),await super.closeConnectionsByTopic(e)}async _open(){this.on("connected",this[l]),this.on("join",async(t,e)=>{o("discover",{channel:t}),this.hasChannel(t)&&(await this._updateCandidates(t,e),await this._run(t),this._scheduler.add(t.toString("hex"),async()=>{const e=this[f](t);0!==e.list.length&&0!==this.getPeersByTopic(t).length||(e.lookup=!0,await this._updateCandidates(t),await this._run(t))}))}),this.onIncomingPeer(e=>this._runCreateConnection(e)),await super._open()}hasChannel(e){return this._channels.has(s(e))}_runCreateConnection(e){if(!this.hasChannel(e.topic))throw new a(s(e.topic));const t=this._getMMST(e.topic);if(!this._strict||e.initiator||t.shouldHandleIncoming())return this._createConnection(e),e.initiator||t.addConnection(e.id,e.stream),e;throw new c(this._mmstOpts.maxPeers)}async _close(){await super._close(),this.removeListener("connected",this[l]),this._mmsts.forEach(e=>e.destroy()),this._mmsts.clear(),this._channels.clear(),this._candidates.clear(),this._scheduler.clear()}async _run(e){if(this.connected&&!(0<this.getPeersByTopic(e).filter(e=>e.initiator).length))try{this.hasChannel(e)&&await this._getMMST(e).run()}catch(e){o("run error",e.message)}}_getMMST(e){return this._mmsts.get(s(e))}_lookup(e){const t=new n({read(){},objectMode:!0});return this._updateCandidates(e).finally(()=>{t.push(this[f](e).list),t.push(null)}),t}async[l](e){this._channels.forEach(e=>super.join(e).catch(()=>{}))}async _updateCandidates(e,t){const r=this[f](e);let n=r.list;if(t)n=t;else if(r.lookup){r.lookup=!1;try{n=await this.lookup(e)}catch(e){}}r.list=n.filter(e=>!e.equals(this.id)),this.emit("candidates-updated",e,n)}[f](e){r(d.isBuffer(e));let t=this._candidates.get(s(e));return t||(t={list:[],lookup:!1},this._candidates.set(s(e),t)),t}}}.call(this)}.call(this,{isBuffer:t("../../../../../is-buffer@1.1.6/node_modules/is-buffer/index.js")})},{"../../../../../is-buffer@1.1.6/node_modules/is-buffer/index.js":364,"./errors":142,"./scheduler":144,"./utils":145,debug:241,"mostly-minimal-spanning-tree":387,nanocustomassert:395,"socket-signal-websocket":534,stream:571}],144:[function(e,t,r){const n=n=>{let i,o=!1;const e=new Promise((e,t)=>{const r=setTimeout(()=>{o=!0,e()},n);i=()=>{o||(clearTimeout(r),t(new Error("timeout")))}});return e.cancel=i,e};class i{constructor(e){this._fn=e,this._stop=!1,this.run()}run(){(async()=>{for(;!this._stop;){if(this._time=n(1e3*Math.floor(11*Math.random())),await this._time,this._stop)return;await this._fn()}})().catch(()=>{})}stop(){this._time&&this._time.cancel(),this._stop=!0}}t.exports=class{constructor(){this._tasks=new Map}add(e,t){this._tasks.set(e,new i(t))}delete(e){const t=this._tasks.get(e);t&&t.stop(),this._tasks.delete(e)}clear(){this._tasks.forEach(e=>{e.stop()}),this._tasks.clear()}}},{}],145:[function(e,r,t){!function(t){!function(){r.exports={toHex:e=>{if("string"==typeof e)return e;if(t.isBuffer(e))return e.toString("hex");throw new Error("Cannot convert the buffer to hex: ",e)},toBuffer:e=>{if(t.isBuffer(e))return e;if("string"==typeof e)return t.from(e,"hex");throw new Error("Cannot convert the string to buffer: ",e)},callbackPromise:()=>{let e;var t=new Promise((r,n)=>{e=(e,t)=>{e?n(e):r(t)}});return e.promise=t,e},resolveCallback:(e,t)=>(e=e.then?e:Promise.resolve()).then(e=>t(null,e)).catch(t)}}.call(this)}.call(this,e("buffer").Buffer)},{buffer:221}],146:[function(e,t,r){"use strict";function n(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("Wrong positive integer: "+e)}function i(e){if("boolean"!=typeof e)throw new Error("Expected boolean, not "+e)}function o(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0<t.length&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=`+e.length)}function s(e){if("function"!=typeof e||"function"!=typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");n(e.outputLen),n(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function c(e,t){o(e);t=t.outputLen;if(e.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}Object.defineProperty(r,"__esModule",{value:!0}),r.output=r.exists=r.hash=r.bytes=r.bool=r.number=void 0,r.number=n,r.bool=i,r.bytes=o,r.hash=s,r.exists=a,r.output=c,r.default={number:n,bool:i,bytes:o,hash:s,exists:a,output:c}},{}],147:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BLAKE2=r.SIGMA=void 0;const u=e("./_assert.js"),h=e("./utils.js");r.SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class n extends h.Hash{constructor(e,t,r={},n,i,o){if(super(),this.blockLen=e,this.outputLen=t,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,u.default.number(e),u.default.number(t),u.default.number(n),t<0||n<t)throw new Error("Blake2: outputLen bigger than keyLen");if(void 0!==r.key&&(r.key.length<1||r.key.length>n))throw new Error(`Key should be up 1..${n} byte long or undefined`);if(void 0!==r.salt&&r.salt.length!==i)throw new Error(`Salt should be ${i} byte long or undefined`);if(void 0!==r.personalization&&r.personalization.length!==o)throw new Error(`Personalization should be ${o} byte long or undefined`);this.buffer32=(0,h.u32)(this.buffer=new Uint8Array(e))}update(e){u.default.exists(this);const{blockLen:r,buffer:n,buffer32:i}=this;var o=(e=(0,h.toBytes)(e)).length;for(let t=0;t<o;){this.pos===r&&(this.compress(i,0,!1),this.pos=0);var s=Math.min(r-this.pos,o-t),a=e.byteOffset+t;if(s===r&&!(a%4)&&t+s<o){var c=new Uint32Array(e.buffer,a,Math.floor((o-t)/4));for(let e=0;t+r<o;e+=i.length,t+=r)this.length+=r,this.compress(c,e,!1)}else n.set(e.subarray(t,t+s),this.pos),this.pos+=s,this.length+=s,t+=s}return this}digestInto(e){u.default.exists(this),u.default.output(e,this);var{pos:t,buffer32:r}=this;this.finished=!0,this.buffer.subarray(t).fill(0),this.compress(r,0,!0);const n=(0,h.u32)(e);this.get().forEach((e,t)=>n[t]=e)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);var r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){var{buffer:t,length:r,finished:n,destroyed:i,outputLen:o,pos:s}=this;return(e=e||new this.constructor({dkLen:o})).set(...this.get()),e.length=r,e.finished=n,e.destroyed=i,e.outputLen=o,e.buffer.set(t),e.pos=s,e}}r.BLAKE2=n},{"./_assert.js":146,"./utils.js":157}],148:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SHA2=void 0;const c=e("./_assert.js"),u=e("./utils.js");class n extends u.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,u.createView)(this.buffer)}update(t){c.default.exists(this);const{view:r,buffer:n,blockLen:i}=this;var o=(t=(0,u.toBytes)(t)).length;for(let e=0;e<o;){var s=Math.min(i-this.pos,o-e);if(s===i)for(var a=(0,u.createView)(t);i<=o-e;e+=i)this.process(a,e);else n.set(t.subarray(e,e+s),this.pos),this.pos+=s,e+=s,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(e){c.default.exists(this),c.default.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let o=this["pos"];t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let e=o;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);var i=BigInt(32),o=BigInt(4294967295),i=Number(r>>i&o),r=Number(r&o),o=n?0:4;e.setUint32(t+(n?4:0),i,n),e.setUint32(t+o,r,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const s=(0,u.createView)(e);this.get().forEach((e,t)=>s.setUint32(4*t,e,i))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);var r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){(e=e||new this.constructor).set(...this.get());var{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}r.SHA2=n},{"./_assert.js":146,"./utils.js":157}],149:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.add=r.toBig=r.split=r.fromBig=void 0;const n=BigInt(2**32-1),i=BigInt(32);function a(e,t=!1){return t?{h:Number(e&n),l:Number(e>>i&n)}:{h:0|Number(e>>i&n),l:0|Number(e&n)}}function o(t,r=!1){let n=new Uint32Array(t.length),i=new Uint32Array(t.length);for(let e=0;e<t.length;e++){var{h:o,l:s}=a(t[e],r);[n[e],i[e]]=[o,s]}return[n,i]}r.fromBig=a,r.split=o;r.toBig=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);function s(e,t,r,n){t=(t>>>0)+(n>>>0);return{h:e+r+(t/2**32|0)|0,l:0|t}}r.add=s;var c={fromBig:a,split:o,toBig:r.toBig,shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:s,add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};r.default=c},{}],150:[function(e,t,y){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.blake2s=y.compress=y.IV=void 0;const b=e("./_blake2.js"),m=e("./_u64.js"),o=e("./utils.js");function w(e,t,r,n,i){return e=e+t+i|0,r=r+(n=(0,o.rotr)(n^e,16))|0,{a:e,b:t=(0,o.rotr)(t^r,12),c:r,d:n}}function E(e,t,r,n,i){return e=e+t+i|0,r=r+(n=(0,o.rotr)(n^e,8))|0,{a:e,b:t=(0,o.rotr)(t^r,7),c:r,d:n}}function v(t,r,n,i,o,s,a,c,u,h,l,f,d,p,g,y,b,m,v,A){let _=0;for(let e=0;e<i;e++)({a:o,b:u,c:d,d:b}=w(o,u,d,b,n[r+t[_++]])),{a:o,b:u,c:d,d:b}=E(o,u,d,b,n[r+t[_++]]),{a:s,b:h,c:p,d:m}=w(s,h,p,m,n[r+t[_++]]),{a:s,b:h,c:p,d:m}=E(s,h,p,m,n[r+t[_++]]),{a,b:l,c:g,d:v}=w(a,l,g,v,n[r+t[_++]]),{a,b:l,c:g,d:v}=E(a,l,g,v,n[r+t[_++]]),{a:c,b:f,c:y,d:A}=w(c,f,y,A,n[r+t[_++]]),{a:c,b:f,c:y,d:A}=E(c,f,y,A,n[r+t[_++]]),{a:o,b:h,c:g,d:A}=w(o,h,g,A,n[r+t[_++]]),{a:o,b:h,c:g,d:A}=E(o,h,g,A,n[r+t[_++]]),{a:s,b:l,c:y,d:b}=w(s,l,y,b,n[r+t[_++]]),{a:s,b:l,c:y,d:b}=E(s,l,y,b,n[r+t[_++]]),{a,b:f,c:d,d:m}=w(a,f,d,m,n[r+t[_++]]),{a,b:f,c:d,d:m}=E(a,f,d,m,n[r+t[_++]]),{a:c,b:u,c:p,d:v}=w(c,u,p,v,n[r+t[_++]]),{a:c,b:u,c:p,d:v}=E(c,u,p,v,n[r+t[_++]]);return{v0:o,v1:s,v2:a,v3:c,v4:u,v5:h,v6:l,v7:f,v8:d,v9:p,v10:g,v11:y,v12:b,v13:m,v14:v,v15:A}}y.IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),y.compress=v;class r extends b.BLAKE2{constructor(e={}){super(64,void 0===e.dkLen?32:e.dkLen,e,32,8,8),this.v0=0|y.IV[0],this.v1=0|y.IV[1],this.v2=0|y.IV[2],this.v3=0|y.IV[3],this.v4=0|y.IV[4],this.v5=0|y.IV[5],this.v6=0|y.IV[6],this.v7=0|y.IV[7];var t=e.key?e.key.length:0;if(this.v0^=this.outputLen|t<<8|65536|1<<24,e.salt&&(t=(0,o.u32)((0,o.toBytes)(e.salt)),this.v4^=t[0],this.v5^=t[1]),e.personalization&&(t=(0,o.u32)((0,o.toBytes)(e.personalization)),this.v6^=t[0],this.v7^=t[1]),e.key){const r=new Uint8Array(this.blockLen);r.set((0,o.toBytes)(e.key)),this.update(r)}}get(){var{v0:e,v1:t,v2:r,v3:n,v4:i,v5:o,v6:s,v7:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.v0=0|e,this.v1=0|t,this.v2=0|r,this.v3=0|n,this.v4=0|i,this.v5=0|o,this.v6=0|s,this.v7=0|a}compress(e,t,r){var{h:n,l:i}=m.default.fromBig(BigInt(this.length)),{v0:t,v1:e,v2:i,v3:n,v4:r,v5:o,v6:s,v7:a,v8:c,v9:u,v10:h,v11:l,v12:f,v13:d,v14:p,v15:g}=v(b.SIGMA,t,e,10,this.v0,this.v1,this.v2,this.v3,this.v4,this.v5,this.v6,this.v7,y.IV[0],y.IV[1],y.IV[2],y.IV[3],i^y.IV[4],n^y.IV[5],r?~y.IV[6]:y.IV[6],y.IV[7]);this.v0^=t^c,this.v1^=e^u,this.v2^=i^h,this.v3^=n^l,this.v4^=r^f,this.v5^=o^d,this.v6^=s^p,this.v7^=a^g}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0)}}y.blake2s=(0,o.wrapConstructorWithOpts)(e=>new r(e))},{"./_blake2.js":147,"./_u64.js":149,"./utils.js":157}],151:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.blake3=void 0;const s=e("./_assert.js"),_=e("./_u64.js");var i,n=e("./_blake2.js");const w=e("./blake2s.js"),o=e("./utils.js"),E=((e=i=i||{})[e.CHUNK_START=1]="CHUNK_START",e[e.CHUNK_END=2]="CHUNK_END",e[e.PARENT=4]="PARENT",e[e.ROOT=8]="ROOT",e[e.KEYED_HASH=16]="KEYED_HASH",e[e.DERIVE_KEY_CONTEXT=32]="DERIVE_KEY_CONTEXT",e[e.DERIVE_KEY_MATERIAL=64]="DERIVE_KEY_MATERIAL",(()=>{const r=[];for(let e=0,t=Array.from({length:16},(e,t)=>t);e<7;e++,t=(t=>[2,6,3,10,7,0,4,13,1,11,12,5,9,14,15,8].map(e=>t[e]))(t))r.push(...t);return Uint8Array.from(r)})());class a extends n.BLAKE2{constructor(e={},t=0){if(super(64,void 0===e.dkLen?32:e.dkLen,{},Number.MAX_SAFE_INTEGER,0,0),this.flags=0,this.chunkPos=0,this.chunksDone=0,this.stack=[],this.posOut=0,this.bufferOut32=new Uint32Array(16),this.chunkOut=0,this.enableXOF=!0,this.outputLen=void 0===e.dkLen?32:e.dkLen,s.default.number(this.outputLen),void 0!==e.key&&void 0!==e.context)throw new Error("Blake3: only key or context can be specified at same time");if(void 0!==e.key){var r=(0,o.toBytes)(e.key);if(32!==r.length)throw new Error("Blake3: key should be 32 byte");this.IV=(0,o.u32)(r),this.flags=t|i.KEYED_HASH}else void 0!==e.context?(r=new a({dkLen:32},i.DERIVE_KEY_CONTEXT).update(e.context).digest(),this.IV=(0,o.u32)(r),this.flags=t|i.DERIVE_KEY_MATERIAL):(this.IV=w.IV.slice(),this.flags=t);this.state=this.IV.slice(),this.bufferOut=(0,o.u8)(this.bufferOut32)}get(){return[]}set(){}b2Compress(e,t,r,n=0){const{state:i,pos:o}=this;var{h:e,l:s}=_.default.fromBig(BigInt(e),!0),{v0:n,v1:r,v2:e,v3:s,v4:t,v5:a,v6:c,v7:u,v8:h,v9:l,v10:f,v11:d,v12:p,v13:g,v14:y,v15:b}=(0,w.compress)(E,n,r,7,i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7],w.IV[0],w.IV[1],w.IV[2],w.IV[3],e,s,o,t);i[0]=n^h,i[1]=r^l,i[2]=e^f,i[3]=s^d,i[4]=t^p,i[5]=a^g,i[6]=c^y,i[7]=u^b}compress(e,t=0,n=!1){let r=this.flags;if(this.chunkPos||(r|=i.CHUNK_START),15!==this.chunkPos&&!n||(r|=i.CHUNK_END),n||(this.pos=this.blockLen),this.b2Compress(this.chunksDone,r,e,t),this.chunkPos+=1,16===this.chunkPos||n){let r=this.state;this.state=this.IV.slice();for(let e,t=this.chunksDone+1;(n||!(1&t))&&(e=this.stack.pop());t>>=1)this.buffer32.set(e,0),this.buffer32.set(r,8),this.pos=this.blockLen,this.b2Compress(0,this.flags|i.PARENT,this.buffer32,0),r=this.state,this.state=this.IV.slice();this.chunksDone++,this.chunkPos=0,this.stack.push(r)}this.pos=0}_cloneInto(e){const{IV:t,flags:r,state:n,chunkPos:i,posOut:o,chunkOut:s,stack:a,chunksDone:c}=this;return(e=super._cloneInto(e)).state.set(n.slice()),e.stack=a.map(e=>Uint32Array.from(e)),e.IV.set(t),e.flags=r,e.chunkPos=i,e.chunksDone=c,e.posOut=o,e.chunkOut=s,e.enableXOF=this.enableXOF,e.bufferOut32.set(this.bufferOut32),e}destroy(){this.destroyed=!0,this.state.fill(0),this.buffer32.fill(0),this.IV.fill(0),this.bufferOut32.fill(0);for(var e of this.stack)e.fill(0)}b2CompressOut(){const{state:e,pos:t,flags:r,buffer32:n,bufferOut32:i}=this;var{h:o,l:s}=_.default.fromBig(BigInt(this.chunkOut++)),{v0:s,v1:o,v2:a,v3:c,v4:u,v5:h,v6:l,v7:f,v8:d,v9:p,v10:g,v11:y,v12:b,v13:m,v14:v,v15:A}=(0,w.compress)(E,0,n,7,e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],w.IV[0],w.IV[1],w.IV[2],w.IV[3],s,o,t,r);i[0]=s^d,i[1]=o^p,i[2]=a^g,i[3]=c^y,i[4]=u^b,i[5]=h^m,i[6]=l^v,i[7]=f^A,i[8]=e[0]^d,i[9]=e[1]^p,i[10]=e[2]^g,i[11]=e[3]^y,i[12]=e[4]^b,i[13]=e[5]^m,i[14]=e[6]^v,i[15]=e[7]^A,this.posOut=0}finish(){if(!this.finished){this.finished=!0,this.buffer.fill(0,this.pos);let e=this.flags|i.ROOT;this.stack.length?(e|=i.PARENT,this.compress(this.buffer32,0,!0),this.chunksDone=0,this.pos=this.blockLen):e|=(this.chunkPos?0:i.CHUNK_START)|i.CHUNK_END,this.flags=e,this.b2CompressOut()}}writeInto(r){s.default.exists(this,!1),s.default.bytes(r),this.finish();const{blockLen:n,bufferOut:i}=this;for(let e=0,t=r.length;e<t;){this.posOut>=n&&this.b2CompressOut();var o=Math.min(n-this.posOut,t-e);r.set(i.subarray(this.posOut,this.posOut+o),e),this.posOut+=o,e+=o}return r}xofInto(e){if(this.enableXOF)return this.writeInto(e);throw new Error("XOF is not possible after digest call")}xof(e){return s.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(s.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.enableXOF=!1,this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}}r.blake3=(0,o.wrapConstructorWithOpts)(e=>new a(e))},{"./_assert.js":146,"./_blake2.js":147,"./_u64.js":149,"./blake2s.js":150,"./utils.js":157}],152:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=void 0,r.crypto={node:void 0,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0}},{}],153:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hmac=void 0;const i=e("./_assert.js"),o=e("./utils.js");class n extends o.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,i.default.hash(e);t=(0,o.toBytes)(t);if(this.iHash=e.create(),!(this.iHash instanceof o.Hash))throw new TypeError("Expected instance of class which extends utils.Hash");var r=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const n=new Uint8Array(r);n.set(t.length>this.iHash.blockLen?e.create().update(t).digest():t);for(let e=0;e<n.length;e++)n[e]^=54;this.iHash.update(n),this.oHash=e.create();for(let e=0;e<n.length;e++)n[e]^=106;this.oHash.update(n),n.fill(0)}update(e){return i.default.exists(this),this.iHash.update(e),this}digestInto(e){i.default.exists(this),i.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){var e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return(e=e||Object.create(Object.getPrototypeOf(this),{})).finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}r.hmac=(e,t,r)=>new n(e,t).update(r).digest(),r.hmac.create=(e,t)=>new n(e,t)},{"./_assert.js":146,"./utils.js":157}],154:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.pbkdf2Async=r.pbkdf2=void 0;const c=e("./_assert.js"),u=e("./hmac.js"),g=e("./utils.js");function y(e,t,r,n){c.default.hash(e);var{c:n,dkLen:i,asyncTick:o}=(0,g.checkOpts)({dkLen:32,asyncTick:10},n);if(c.default.number(n),c.default.number(i),c.default.number(o),n<1)throw new Error("PBKDF2: iterations (c) should be >= 1");var t=(0,g.toBytes)(t),r=(0,g.toBytes)(r),s=new Uint8Array(i);const a=u.hmac.create(e,t);e=a._cloneInto().update(r);return{c:n,dkLen:i,asyncTick:o,DK:s,PRF:a,PRFSalt:e}}function b(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}r.pbkdf2=function(e,t,r,n){const{c:i,dkLen:o,DK:s,PRF:a,PRFSalt:c}=y(e,t,r,n);let u;var h=new Uint8Array(4);const l=(0,g.createView)(h),f=new Uint8Array(a.outputLen);for(let e=1,t=0;t<o;e++,t+=a.outputLen){const d=s.subarray(t,t+a.outputLen);l.setInt32(0,e,!1),(u=c._cloneInto(u)).update(h).digestInto(f),d.set(f.subarray(0,d.length));for(let e=1;e<i;e++){a._cloneInto(u).update(f).digestInto(f);for(let e=0;e<d.length;e++)d[e]^=f[e]}}return b(a,c,s,u,f)},r.pbkdf2Async=async function(e,t,r,n){const{c:i,dkLen:o,asyncTick:s,DK:a,PRF:c,PRFSalt:u}=y(e,t,r,n);let h;var l=new Uint8Array(4);const f=(0,g.createView)(l),d=new Uint8Array(c.outputLen);for(let e=1,t=0;t<o;e++,t+=c.outputLen){const p=a.subarray(t,t+c.outputLen);f.setInt32(0,e,!1),(h=u._cloneInto(h)).update(l).digestInto(d),p.set(d.subarray(0,p.length)),await(0,g.asyncLoop)(i-1,s,e=>{c._cloneInto(h).update(d).digestInto(d);for(let e=0;e<p.length;e++)p[e]^=d[e]})}return b(c,u,a,h,d)}},{"./_assert.js":146,"./hmac.js":153,"./utils.js":157}],155:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.scryptAsync=r.scrypt=void 0;const g=e("./_assert.js"),y=e("./sha256.js"),b=e("./pbkdf2.js"),m=e("./utils.js"),N=(e,t)=>e<<t|e>>>32-t;function a(e,t,r,n,i,o){var s=e[t++]^r[n++],a=e[t++]^r[n++],c=e[t++]^r[n++],u=e[t++]^r[n++],h=e[t++]^r[n++],l=e[t++]^r[n++],f=e[t++]^r[n++],d=e[t++]^r[n++],p=e[t++]^r[n++],g=e[t++]^r[n++],y=e[t++]^r[n++],b=e[t++]^r[n++],m=e[t++]^r[n++],v=e[t++]^r[n++],D=e[t++]^r[n++],e=e[t++]^r[n++];let A=s,_=a,w=c,E=u,S=h,k=l,I=f,C=d,B=p,x=g,T=y,M=b,P=m,O=v,L=D,R=e;for(let e=0;e<8;e+=2)S^=N(A+P|0,7),B^=N(S+A|0,9),P^=N(B+S|0,13),A^=N(P+B|0,18),x^=N(k+_|0,7),O^=N(x+k|0,9),_^=N(O+x|0,13),k^=N(_+O|0,18),L^=N(T+I|0,7),w^=N(L+T|0,9),I^=N(w+L|0,13),T^=N(I+w|0,18),E^=N(R+M|0,7),C^=N(E+R|0,9),M^=N(C+E|0,13),R^=N(M+C|0,18),_^=N(A+E|0,7),w^=N(_+A|0,9),E^=N(w+_|0,13),A^=N(E+w|0,18),I^=N(k+S|0,7),C^=N(I+k|0,9),S^=N(C+I|0,13),k^=N(S+C|0,18),M^=N(T+x|0,7),B^=N(M+T|0,9),x^=N(B+M|0,13),T^=N(x+B|0,18),P^=N(R+L|0,7),O^=N(P+R|0,9),L^=N(O+P|0,13),R^=N(L+O|0,18);i[o++]=s+A|0,i[o++]=a+_|0,i[o++]=c+w|0,i[o++]=u+E|0,i[o++]=h+S|0,i[o++]=l+k|0,i[o++]=f+I|0,i[o++]=d+C|0,i[o++]=p+B|0,i[o++]=g+x|0,i[o++]=y+T|0,i[o++]=b+M|0,i[o++]=m+P|0,i[o++]=v+O|0,i[o++]=D+L|0,i[o++]=e+R|0}function v(t,r,n,e,i){let o=e+0,s=e+16*i;for(let e=0;e<16;e++)n[s+e]=t[r+16*(2*i-1)+e];for(let e=0;e<i;e++,o+=16,r+=16)a(n,s,t,r,n,o),0<e&&(s+=16),a(n,o,t,r+=16,n,s)}function A(e,t,r){const{N:n,r:i,p:o,dkLen:s,asyncTick:a,maxmem:c,onProgress:u}=(0,m.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},r);if(g.default.number(n),g.default.number(i),g.default.number(o),g.default.number(s),g.default.number(a),g.default.number(c),void 0!==u&&"function"!=typeof u)throw new Error("progressCb should be function");var r=128*i,h=r/4;if(n<=1||0!=(n&n-1)||2**(r/8)<=n||2**32<n)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||137438953440/r<o)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(s<0||137438953440<s)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");var l=r*(n+o);if(c<l)throw new Error(`Scrypt: parameters too large, ${l} (128 * r * (N + p)) > ${c} (maxmem)`);l=(0,b.pbkdf2)(y.sha256,e,t,{c:1,dkLen:r*o}),e=(0,m.u32)(l),t=(0,m.u32)(new Uint8Array(r*n)),r=(0,m.u32)(new Uint8Array(r));let f=()=>{};if(u){const d=2*n*o,p=Math.max(Math.floor(d/1e4),1);let e=0;f=()=>{e++,!u||e%p&&e!==d||u(e/d)}}return{N:n,r:i,p:o,dkLen:s,blockSize32:h,V:t,B32:e,B:l,tmp:r,blockMixCb:f,asyncTick:a}}function _(e,t,r,n,i){e=(0,b.pbkdf2)(y.sha256,e,r,{c:1,dkLen:t});return r.fill(0),n.fill(0),i.fill(0),e}r.scrypt=function(e,t,r){const{N:n,r:i,p:o,dkLen:s,blockSize32:a,V:c,B32:u,B:h,tmp:l,blockMixCb:f}=A(e,t,r);for(let e=0;e<o;e++){var d=a*e;for(let e=0;e<a;e++)c[e]=u[d+e];for(let e=0,t=0;e<n-1;e++)v(c,t,c,t+=a,i),f();v(c,(n-1)*a,u,d,i),f();for(let e=0;e<n;e++){var p=u[d+a-16]%n;for(let e=0;e<a;e++)l[e]=u[d+e]^c[p*a+e];v(l,0,u,d,i),f()}}return _(e,s,h,c,l)},r.scryptAsync=async function(e,t,r){const{N:n,r:i,p:o,dkLen:s,blockSize32:a,V:c,B32:u,B:h,tmp:l,blockMixCb:f,asyncTick:d}=A(e,t,r);for(let e=0;e<o;e++){const p=a*e;for(let e=0;e<a;e++)c[e]=u[p+e];let t=0;await(0,m.asyncLoop)(n-1,d,e=>{v(c,t,c,t+=a,i),f()}),v(c,(n-1)*a,u,p,i),f(),await(0,m.asyncLoop)(n,d,e=>{var t=u[p+a-16]%n;for(let e=0;e<a;e++)l[e]=u[p+e]^c[t*a+e];v(l,0,u,p,i),f()})}return _(e,s,h,c,l)}},{"./_assert.js":146,"./pbkdf2.js":154,"./sha256.js":156,"./utils.js":157}],156:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sha256=void 0;var n=e("./_sha2.js");const b=e("./utils.js"),m=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),v=new Uint32Array(64);class o extends n.SHA2{constructor(){super(64,32,8,!1),this.A=0|i[0],this.B=0|i[1],this.C=0|i[2],this.D=0|i[3],this.E=0|i[4],this.F=0|i[5],this.G=0|i[6],this.H=0|i[7]}get(){var{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(t,r){for(let e=0;e<16;e++,r+=4)v[e]=t.getUint32(r,!1);for(let e=16;e<64;e++){var n=v[e-15],i=v[e-2],n=(0,b.rotr)(n,7)^(0,b.rotr)(n,18)^n>>>3,i=(0,b.rotr)(i,17)^(0,b.rotr)(i,19)^i>>>10;v[e]=i+v[e-7]+n+v[e-16]|0}let{A:o,B:s,C:a,D:c,E:u,F:h,G:l,H:f}=this;for(let e=0;e<64;e++){var d=(0,b.rotr)(u,6)^(0,b.rotr)(u,11)^(0,b.rotr)(u,25),p=f+d+(d=u,p=h,y=l,d&p^~d&y)+m[e]+v[e]|0,d=((0,b.rotr)(o,2)^(0,b.rotr)(o,13)^(0,b.rotr)(o,22))+(d=o,y=s,g=a,d&y^d&g^y&g)|0;f=l,l=h,h=u,u=c+p|0,c=a,a=s,s=o,o=p+d|0}var g,p,y;o=o+this.A|0,s=s+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,h=h+this.F|0,l=l+this.G|0,f=f+this.H|0,this.set(o,s,a,c,u,h,l,f)}roundClean(){v.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}r.sha256=(0,b.wrapConstructor)(()=>new o)},{"./_sha2.js":148,"./utils.js":157}],157:[function(e,t,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.randomBytes=s.wrapConstructorWithOpts=s.wrapConstructor=s.checkOpts=s.Hash=s.concatBytes=s.toBytes=s.utf8ToBytes=s.asyncLoop=s.nextTick=s.hexToBytes=s.bytesToHex=s.isLE=s.rotr=s.createView=s.u32=s.u8=void 0;const r=e("@noble/hashes/crypto");s.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),s.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);if(s.rotr=(e,t)=>e<<32-t|e>>>t,s.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],!s.isLE)throw new Error("Non little-endian hardware is not supported");const n=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));s.bytesToHex=function(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let r="";for(let e=0;e<t.length;e++)r+=n[t[e]];return r},s.hexToBytes=function(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const r=new Uint8Array(t.length/2);for(let e=0;e<r.length;e++){var n=2*e,n=t.slice(n,2+n),n=Number.parseInt(n,16);if(Number.isNaN(n)||n<0)throw new Error("Invalid byte sequence");r[e]=n}return r};function i(e){if("string"!=typeof e)throw new TypeError("utf8ToBytes expected string, got "+typeof e);return(new TextEncoder).encode(e)}function o(e){if((e="string"==typeof e?i(e):e)instanceof Uint8Array)return e;throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`)}s.nextTick=async()=>{},s.asyncLoop=async function(t,r,n){let i=Date.now();for(let e=0;e<t;e++){n(e);var o=Date.now()-i;0<=o&&o<r||(await(0,s.nextTick)(),i+=o)}},s.utf8ToBytes=i,s.toBytes=o,s.concatBytes=function(...r){if(!r.every(e=>e instanceof Uint8Array))throw new Error("Uint8Array list expected");if(1===r.length)return r[0];var e=r.reduce((e,t)=>e+t.length,0);const n=new Uint8Array(e);for(let e=0,t=0;e<r.length;e++){var i=r[e];n.set(i,t),t+=i.length}return n};s.Hash=class{clone(){return this._cloneInto()}};s.checkOpts=function(e,t){var r;if(void 0===t||"object"==typeof t&&(r=t,"[object Object]"===Object.prototype.toString.call(r)&&r.constructor===Object))return Object.assign(e,t);throw new TypeError("Options should be object or undefined")},s.wrapConstructor=function(t){var e=e=>t().update(o(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e},s.wrapConstructorWithOpts=function(r){var e=(e,t)=>r(t).update(o(e)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=e=>r(e),e},s.randomBytes=function(e=32){if(r.crypto.web)return r.crypto.web.getRandomValues(new Uint8Array(e));if(r.crypto.node)return new Uint8Array(r.crypto.node.randomBytes(e).buffer);throw new Error("The environment doesn't have randomBytes function")}},{"@noble/hashes/crypto":152}],158:[function(e,n,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.utils=c.schnorr=c.verify=c.signSync=c.sign=c.getSharedSecret=c.recoverPublicKey=c.getPublicKey=c.Signature=c.Point=c.CURVE=void 0;e=e("crypto");const l=BigInt(0),g=BigInt(1),y=BigInt(2),b=BigInt(3),N=BigInt(8),t=y**BigInt(256),m={a:l,b:BigInt(7),P:t-y**BigInt(32)-BigInt(977),n:t-BigInt("432420386565659656852420866394968145599"),h:g,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};function F(e){var{a:t,b:r}=m,n=S(e*e),n=S(n*e);return S(n+t*e+r)}const f=(c.CURVE=m).a===l;class d{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(e instanceof v)return new d(e.x,e.y,g);throw new TypeError("JacobianPoint#fromAffine: expected Point")}static toAffineBatch(e){const r=function(e,n=m.P){const i=new Array(e.length),t=e.reduce((e,t,r)=>t===l?e:S((i[r]=e)*t,n),g),r=I(t,n);return e.reduceRight((e,t,r)=>t===l?e:(i[r]=S(e*i[r],n),S(e*t,n)),r),i}(e.map(e=>e.z));return e.map((e,t)=>e.toAffine(r[t]))}static normalizeZ(e){return d.toAffineBatch(e).map(d.fromAffine)}equals(e){var t,r,n,i,o,s,a;if(e instanceof d)return{x:o,y:s,z:t}=this,{x:e,y:r,z:a}=e,n=S(t**y),i=S(a**y),o=S(o*i),e=S(e*n),s=S(S(s*a)*i),a=S(S(r*t)*n),o===e&&s===a;throw new TypeError("JacobianPoint expected")}negate(){return new d(this.x,S(-this.y),this.z)}double(){var{x:e,y:t,z:r}=this,n=S(e**y),i=S(t**y),o=S(i**y),e=S(y*(S((e+i)**y)-n-o)),i=S(b*n),n=S(i**y),n=S(n-y*e),i=S(i*(e-n)-N*o),e=S(y*t*r);return new d(n,i,e)}add(e){var t,r,n,i,o,s,a;if(e instanceof d)return{x:a,y:n,z:t}=this,{x:s,y:i,z:r}=e,s===l||i===l?this:a===l||n===l?e:(e=S(t**y),o=S(r**y),a=S(a*o),s=S(s*e),n=S(S(n*r)*o),o=S(S(i*t)*e),i=S(s-a),e=S(o-n),i===l?e===l?this.double():d.ZERO:(s=S(i**y),o=S(i*s),a=S(a*s),s=S(e**y-o-y*a),e=S(e*(a-s)-n*o),a=S(t*r*i),new d(s,e,a)));throw new TypeError("JacobianPoint expected")}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){var r=d.ZERO;if("bigint"==typeof e&&e===l)return r;let n=Q(e);if(n===g)return this;if(!f){let e=r,t=this;for(;n>l;)n&g&&(e=e.add(t)),t=t.double(),n>>=g;return e}let{k1neg:t,k1:i,k2neg:o,k2:s}=K(n),a=r,c=r,u=this;for(;i>l||s>l;)i&g&&(a=a.add(u)),s&g&&(c=c.add(u)),u=u.double(),i>>=g,s>>=g;return t&&(a=a.negate()),o&&(c=c.negate()),c=new d(S(c.x*m.beta),c.y,c.z),a.add(c)}precomputeWindow(t){var r=f?128/t+1:256/t+1;const n=[];let i=this,o=i;for(let e=0;e<r;e++){o=i,n.push(o);for(let e=1;e<2**(t-1);e++)o=o.add(i),n.push(o);i=o.double()}return n}wNAF(e,t){var r=(t=!t&&this.equals(d.BASE)?v.BASE:t)&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&p.get(t),i=(n||(n=this.precomputeWindow(r),t&&1!==r&&(n=d.normalizeZ(n),p.set(t,n))),d.ZERO),o=d.ZERO;var s=1+(f?128/r:256/r),a=2**(r-1),c=BigInt(2**r-1),u=2**r,h=BigInt(r);for(let r=0;r<s;r++){var l=r*a;let t=Number(e&c);if(e>>=h,t>a&&(t-=u,e+=g),0===t){let e=n[l];r%2&&(e=e.negate()),o=o.add(e)}else{let e=n[l+Math.abs(t)-1];t<0&&(e=e.negate()),i=i.add(e)}}return{p:i,f:o}}multiply(i,o){i=Q(i);let s,a;if(f){var{k1neg:c,k1:u,k2neg:h,k2:l}=K(i);let{p:e,f:t}=this.wNAF(u,o),{p:r,f:n}=this.wNAF(l,o);c&&(e=e.negate()),h&&(r=r.negate()),r=new d(S(r.x*m.beta),r.y,r.z),s=e.add(r),a=t.add(n)}else{var{p:u,f:l}=this.wNAF(i,o);s=u,a=l}return d.normalizeZ([s,a])[0]}toAffine(e=I(this.z)){var{x:t,y:r,z:n}=this,i=S(e*e),o=S(i*e),t=S(t*i),i=S(r*o);if(S(n*e)!==g)throw new Error("invZ was invalid");return new v(t,i)}}d.BASE=new d(m.Gx,m.Gy,g),d.ZERO=new d(l,g,l);const p=new WeakMap;class v{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,p.delete(this)}static fromCompressedHex(e){var t=32===e.length,r=w(t?e:e.subarray(1));if(!x(r))throw new Error("Point is not on curve");var n,i,o,s,a,c,u,h,l=F(r);l=l,n=m.P,i=BigInt(6),o=BigInt(11),d=BigInt(22),s=BigInt(23),a=BigInt(44),c=BigInt(88),h=k(l=(u=l*l*l%n)*u*l%n,b)*l%n,h=k(h,b)*l%n,h=k(h,y)*u%n,o=k(h,o)*h%n,h=k(o,d)*o%n,d=k(h,a)*h%n,c=k(d,c)*d%n,d=k(c,a)*h%n,c=k(d,b)*l%n,a=k(c,s)*o%n,h=k(a,i)*u%n;let f=k(h,y);var d=(f&g)===g;t?d&&(f=S(-f)):1==(1&e[0])!=d&&(f=S(-f));const p=new v(r,f);return p.assertValidity(),p}static fromUncompressedHex(e){var t=w(e.subarray(1,33)),e=w(e.subarray(33,65));const r=new v(t,e);return r.assertValidity(),r}static fromHex(e){var e=E(e),t=e.length,r=e[0];if(32===t||33===t&&(2===r||3===r))return this.fromCompressedHex(e);if(65===t&&4===r)return this.fromUncompressedHex(e);throw new Error("Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not "+t)}static fromPrivateKey(e){return v.BASE.multiply(T(e))}static fromSignature(e,t,r){var e=G(e=E(e)),{r:t,s:n}=q(t);if(0!==r&&1!==r)throw new Error("Cannot recover signature: invalid recovery bit");var r=1&r?"03":"02",r=v.fromHex(r+u(t)),i=m["n"],t=I(t,i),e=S(-e*t,i),n=S(n*t,i);const o=v.BASE.multiplyAndAddUnsafe(r,e,n);if(o)return o.assertValidity(),o;throw new Error("Cannot recover signature: point at infinify")}toRawBytes(e=!1){return r(this.toHex(e))}toHex(e=!1){var t=u(this.x);return e?(this.y&g?"03":"02")+t:"04"+t+u(this.y)}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){var e="Point is not on elliptic curve",{x:t,y:r}=this;if(!x(t)||!x(r))throw new Error(e);r=S(r*r);if(S(r-F(t))!==l)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new v(this.x,S(-this.y))}double(){return d.fromAffine(this).double().toAffine()}add(e){return d.fromAffine(this).add(d.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return d.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){const n=d.fromAffine(this),i=t===l||t===g||this!==v.BASE?n.multiplyUnsafe(t):n.multiply(t);t=d.fromAffine(e).multiplyUnsafe(r);const o=i.add(t);return o.equals(d.ZERO)?void 0:o.toAffine()}}function j(e){return 8<=Number.parseInt(e[0],16)?"00"+e:e}function U(e){if(e.length<2||2!==e[0])throw new Error("Invalid signature integer tag: "+i(e));var t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:w(r),left:e.subarray(t+2)}}(c.Point=v).BASE=new v(m.Gx,m.Gy),v.ZERO=new v(l,l);class s{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){var t=o(e),r="Signature.fromCompact";if("string"!=typeof e&&!t)throw new TypeError(r+": Expected string or Uint8Array");const n=t?i(e):e;if(128!==n.length)throw new Error(r+": Expected 64-byte hex");return new s(_(n.slice(0,64)),_(n.slice(64,128)))}static fromDER(e){var t=o(e);if("string"==typeof e||t)return{r:t,s:e}=function(e){if(e.length<2||48!=e[0])throw new Error("Invalid signature tag: "+i(e));if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");var{data:e,left:t}=U(e.subarray(2)),{data:t,left:r}=U(t);if(r.length)throw new Error("Invalid signature: left bytes after parsing: "+i(r));return{r:e,s:t}}(t?e:r(e)),new s(t,e);throw new TypeError("Signature.fromDER: Expected string or Uint8Array")}static fromHex(e){return this.fromDER(e)}assertValidity(){var{r:e,s:t}=this;if(!B(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!B(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){var e=m.n>>g;return this.s>e}normalizeS(){return this.hasHighS()?new s(this.r,m.n-this.s):this}toDERRawBytes(e=!1){return r(this.toDERHex(e))}toDERHex(e=!1){var t,r,n=j(A(this.s));return e?n:(e=j(A(this.r)),t=A(e.length/2),r=A(n.length/2),`30${A(e.length/2+n.length/2+4)}02${t}${e}02`+r+n)}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return r(this.toCompactHex())}toCompactHex(){return u(this.r)+u(this.s)}}function a(...r){if(!r.every(o))throw new Error("Uint8Array list expected");if(1===r.length)return r[0];var e=r.reduce((e,t)=>e+t.length,0);const n=new Uint8Array(e);for(let e=0,t=0;e<r.length;e++){var i=r[e];n.set(i,t),t+=i.length}return n}function o(e){return e instanceof Uint8Array}c.Signature=s;const J=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function i(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let r="";for(let e=0;e<t.length;e++)r+=J[t[e]];return r}function u(e){if(e>t)throw new Error("Expected number < 2^256");return e.toString(16).padStart(64,"0")}function h(e){return r(u(e))}function A(e){e=e.toString(16);return 1&e.length?"0"+e:e}function _(e){if("string"!=typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt("0x"+e)}function r(t){if("string"!=typeof t)throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const r=new Uint8Array(t.length/2);for(let e=0;e<r.length;e++){var n=2*e,n=t.slice(n,2+n),n=Number.parseInt(n,16);if(Number.isNaN(n)||n<0)throw new Error("Invalid byte sequence");r[e]=n}return r}function w(e){return _(i(e))}function E(e){return e instanceof Uint8Array?Uint8Array.from(e):r(e)}function Q(e){if("number"==typeof e&&Number.isSafeInteger(e)&&0<e)return BigInt(e);if("bigint"==typeof e&&B(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function S(e,t=m.P){e%=t;return e>=l?e:t+e}function k(e,t){var r=m["P"];let n=e;for(;t-- >l;)n=n*n%r;return n}function I(e,t=m.P){if(e===l||t<=l)throw new Error(`invert: expected positive integers, got n=${e} mod=`+t);let r=S(e,t),n=t,i=l,o=g,s=g,a=l;for(;r!==l;){var c=n/r,u=n%r,h=i-s*c,c=o-a*c;n=r,r=u,i=s,o=a,s=h,a=c}if(n!==g)throw new Error("invert: does not exist");return S(i,t)}const H=(e,t)=>(e+t/y)/t,C=y**BigInt(128);function K(e){var t=m["n"],r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-g*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=H(o*e,t),a=H(-n*e,t);let c=S(e-s*r-a*i,t),u=S(-s*n-a*o,t);r=c>C,i=u>C;if(r&&(c=t-c),i&&(u=t-u),c>C||u>C)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:r,k1:c,k2neg:i,k2:u}}function G(e){var t=m["n"],r=8*e.length-256;let n=w(e);return 0<r&&(n>>=BigInt(r)),n>=t&&(n-=t),n}class z{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...e){return c.utils.hmacSha256(this.k,...e)}hmacSync(...e){if("function"!=typeof c.utils.hmacSha256Sync)throw new Error("utils.hmacSha256Sync is undefined, you need to set it");e=c.utils.hmacSha256Sync(this.k,...e);if(e instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");return e}incr(){if(1e3<=this.counter)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.incr(),this.v=this.hmacSync(this.v),this.v}}function B(e){return l<e&&e<m.n}function x(e){return l<e&&e<m.P}function X(e,t,r){e=w(e);if(B(e)){var n=m["n"],i=v.BASE.multiply(e),o=S(i.x,n);if(o!==l){e=S(I(e,n)*S(t+r*o,n),n);if(e!==l)return{sig:t=new s(o,e),recovery:(i.x===t.r?0:2)|Number(i.y&g)}}}}function T(e){let t;if("bigint"==typeof e)t=e;else if("number"==typeof e&&Number.isSafeInteger(e)&&0<e)t=BigInt(e);else if("string"==typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private key");t=_(e)}else{if(!o(e))throw new TypeError("Expected valid private key");if(32!==e.length)throw new Error("Expected 32 bytes of private key");t=w(e)}if(B(t))return t;throw new Error("Expected private key: 0 < key < n")}function M(e){return e instanceof v?(e.assertValidity(),e):v.fromHex(e)}function q(t){if(t instanceof s)return t.assertValidity(),t;try{return s.fromDER(t)}catch(e){return s.fromCompact(t)}}function V(e){var t=o(e),r="string"==typeof e,n=(t||r)&&e.length;return t?33===n||65===n:r?66===n||130===n:e instanceof v}function Y(e){return w(32<e.length?e.slice(0,32):e)}function Z(e){if("bigint"!=typeof e)throw new Error("Expected bigint");return r(u(e))}function W(e,t,r){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);var n,e=E(e),t=T(t);const i=[Z(t),Z((n=S(o=Y(o=e),m.n))<l?o:n)];if(null!=r){var o=E(r=!0===r?c.utils.randomBytes(32):r);if(32!==o.length)throw new Error("sign: Expected 32 bytes of extra data");i.push(o)}return{seed:a(...i),m:Y(e),d:t}}function $(e,t){let{sig:r,recovery:n}=e;var{canonical:e,der:t,recovered:i}=Object.assign({canonical:!0,der:!0},t),e=(e&&r.hasHighS()&&(r=r.normalizeS(),n^=1),t?r.toDERRawBytes():r.toCompactRawBytes());return i?[e,n]:e}c.getPublicKey=function(e,t=!1){return v.fromPrivateKey(e).toRawBytes(t)},c.recoverPublicKey=function(e,t,r,n=!1){return v.fromSignature(e,t,r).toRawBytes(n)},c.getSharedSecret=function(e,t,r=!1){if(V(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!V(t))throw new TypeError("getSharedSecret: second arg must be public key");const n=M(t);return n.assertValidity(),n.multiply(T(e)).toRawBytes(r)},c.sign=async function(e,t,r={}){var{seed:e,m:n,d:i}=W(e,t,r.extraEntropy);let o;const s=new z;for(await s.reseed(e);!(o=X(await s.generate(),n,i));)await s.reseed();return $(o,r)},c.signSync=function(e,t,r={}){var{seed:e,m:n,d:i}=W(e,t,r.extraEntropy);let o;const s=new z;for(s.reseedSync(e);!(o=X(s.generateSync(),n,i));)s.reseedSync();return $(o,r)};const ee={strict:!0};function P(e){return S(w(e),m.n)}function te(e){return(e.y&g)===l}c.verify=function(e,t,r,n=ee){let i;try{i=q(e),t=E(t)}catch(e){return!1}var{r:e,s:o}=i;if(n.strict&&i.hasHighS())return!1;n=G(t);let s;try{s=M(r)}catch(e){return!1}return t=m.n,r=I(o,t),o=S(n*r,t),n=S(e*r,t),!!(r=v.BASE.multiplyAndAddUnsafe(s,o,n))&&S(r.x,t)===e};class O{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=E(e);if(64!==t.length)throw new TypeError("SchnorrSignature.fromHex: expected 64 bytes, not "+t.length);var e=w(t.subarray(0,32)),r=w(t.subarray(32,64));return new O(e,r)}assertValidity(){var{r:e,s:t}=this;if(!x(e)||!B(t))throw new Error("Invalid signature")}toHex(){return u(this.r)+u(this.s)}toRawBytes(){return r(this.toHex())}}function re(e,t,r){if(null==e)throw new TypeError(`sign: Expected valid message, not "${e}"`);e=E(e),t=T(t),r=E(r);if(32!==r.length)throw new TypeError("sign: Expected 32 bytes of aux randomness");const n=v.fromPrivateKey(t);var i=n.toRawX(),t=te(n)?t:m.n-t;return{m:e,P:n,px:i,d:t,rand:r}}function ne(e,t){return h(e^w(t))}function ie(e){e=S(w(e),m.n);if(e===l)throw new Error("sign: Creation of signature failed. k is zero");const t=v.fromPrivateKey(e);var r=t.toRawX(),e=te(t)?e:m.n-e;return{R:t,rx:r,k:e}}function oe(e,t,r,n){return new O(e.x,S(t+r*n,m.n)).toRawBytes()}function se(e,t,r){var n=e instanceof O;const i=n?e:O.fromHex(e);return n&&i.assertValidity(),{...i,m:E(t),P:M(r)}}function ae(e,t,r,n){t=v.BASE.multiplyAndAddUnsafe(t,T(r),S(-n,m.n));return!(!t||!te(t)||t.x!==e)}async function ce(e,t,r){try{const{r:i,s:o,m:s,P:a}=se(e,t,r);var n=P(await c.utils.taggedHash(R.challenge,h(i),a.toRawX(),s));return ae(i,a,o,n)}catch(e){return!1}}function ue(e,t,r){try{const{r:i,s:o,m:s,P:a}=se(e,t,r);var n=P(c.utils.taggedHashSync(R.challenge,h(i),a.toRawX(),s));return ae(i,a,o,n)}catch(e){return!1}}c.schnorr={Signature:O,getPublicKey:function(e){return v.fromPrivateKey(e).toRawX()},sign:async function(e,t,r=c.utils.randomBytes()){var{m:e,px:t,d:r,rand:n}=re(e,t,r),n=ne(r,await c.utils.taggedHash(R.aux,n)),{R:n,rx:i,k:o}=ie(await c.utils.taggedHash(R.nonce,n,t,e));if(await ce(n=oe(n,o,P(await c.utils.taggedHash(R.challenge,i,t,e)),r),e,t))return n;throw new Error("sign: Invalid signature produced")},verify:ce,signSync:function(e,t,r=c.utils.randomBytes()){var{m:e,px:t,d:r,rand:n}=re(e,t,r),n=ne(r,c.utils.taggedHashSync(R.aux,n)),{R:n,rx:i,k:o}=ie(c.utils.taggedHashSync(R.nonce,n,t,e));if(ue(n=oe(n,o,P(c.utils.taggedHashSync(R.challenge,i,t,e)),r),e,t))return n;throw new Error("sign: Invalid signature produced")},verifySync:ue},v.BASE._setWindowSize(8);const L={node:e,web:"object"==typeof self&&"crypto"in self?self.crypto:void 0},R={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},D={};c.utils={isValidPrivateKey(e){try{return T(e),!0}catch(e){return!1}},privateAdd:(e,t)=>{return h(S(T(e)+T(t),m.n))},privateNegate:e=>{e=T(e);return h(m.n-e)},pointAddScalar:(e,t,r)=>{e=v.fromHex(e),t=T(t);const n=v.BASE.multiplyAndAddUnsafe(e,t,g);if(n)return n.toRawBytes(r);throw new Error("Tweaked point at infinity")},pointMultiply:(e,t,r)=>{const n=v.fromHex(e);e=w(E(t));return n.multiply(e).toRawBytes(r)},hashToPrivateKey:e=>{if((e=E(e)).length<40||1024<e.length)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return h(S(w(e),m.n-g)+g)},randomBytes:(e=32)=>{if(L.web)return L.web.getRandomValues(new Uint8Array(e));if(L.node){const t=L.node["randomBytes"];return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>c.utils.hashToPrivateKey(c.utils.randomBytes(40)),bytesToHex:i,hexToBytes:r,concatBytes:a,mod:S,invert:I,sha256:async(...e)=>{var t;if(L.web)return t=await L.web.subtle.digest("SHA-256",a(...e)),new Uint8Array(t);if(L.node){const r=L.node["createHash"],n=r("sha256");return e.forEach(e=>n.update(e)),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{var r,n;if(L.web)return n=await L.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=a(...t),n=await L.web.subtle.sign("HMAC",n,r),new Uint8Array(n);if(L.node){const i=L.node["createHmac"],o=i("sha256",e);return t.forEach(e=>o.update(e)),Uint8Array.from(o.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...t)=>{let r=D[e];var n;return void 0===r&&(n=await c.utils.sha256(Uint8Array.from(e,e=>e.charCodeAt(0))),r=a(n,n),D[e]=r),c.utils.sha256(r,...t)},taggedHashSync:(e,...t)=>{if("function"!=typeof c.utils.sha256Sync)throw new Error("utils.sha256Sync is undefined, you need to set it");let r=D[e];var n;return void 0===r&&(n=c.utils.sha256Sync(Uint8Array.from(e,e=>e.charCodeAt(0))),r=a(n,n),D[e]=r),c.utils.sha256Sync(r,...t)},precompute(e=8,t=v.BASE){const r=t===v.BASE?t:new v(t.x,t.y);return r._setWindowSize(e),r.multiply(b),r}}},{crypto:191}],159:[function(R,e,t){"use strict";var r=this;function n(e){return parseInt(e)===e}function i(e){if(n(e.length)){for(var t=0;t<e.length;t++)if(!n(e[t])||e[t]<0||255<e[t])return;return 1}}function o(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return e=t?e.slice?e.slice():Array.prototype.slice.call(e):e;if(Array.isArray(e)){if(i(e))return new Uint8Array(e);throw new Error("Array contains invalid value: "+e)}if(n(e.length)&&i(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function c(e){return new Uint8Array(e)}function s(e,t,r,n,i){null==n&&null==i||(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}var a,u={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return o(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):191<n&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},h=(a="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(a[(240&n)>>4]+a[15&n])}return t.join("")}}),l={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],p=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],g=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],y=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],b=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],m=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],v=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],A=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],_=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],w=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],E=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],S=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],k=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],I=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function C(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}function B(e){if(!(this instanceof B))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:o(e,!0)}),this._prepare()}function x(e){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new B(e)}function T(e,t){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=c(16);this._lastCipherblock=o(t,!0),this._aes=new B(e)}function M(e,t,r){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=c(16);this.segmentSize=r=r||1,this._shiftRegister=o(t,!0),this._aes=new B(e)}function P(e,t){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=c(16);this._lastPrecipher=o(t,!0),this._lastPrecipherIndex=16,this._aes=new B(e)}function O(e){if(!(this instanceof O))throw Error("Counter must be instanitated with `new`");"number"==typeof(e=0===e||e?e:1)?(this._counter=c(16),this.setValue(e)):this.setBytes(e)}function L(e,t){if(!(this instanceof L))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof O||(t=new O(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new B(e)}B.prototype._prepare=function(){var e=l[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var r,n=4*(e+1),i=this.key.length/4,o=C(this.key),t=0;t<i;t++)this._Ke[r=t>>2][t%4]=o[t],this._Kd[e-r][t%4]=o[t];for(var s,a=0,c=i;c<n;){if(s=o[i-1],o[0]^=d[s>>16&255]<<24^d[s>>8&255]<<16^d[255&s]<<8^d[s>>24&255]^f[a]<<24,a+=1,8!=i)for(t=1;t<i;t++)o[t]^=o[t-1];else{for(t=1;t<i/2;t++)o[t]^=o[t-1];s=o[i/2-1],o[i/2]^=d[255&s]^d[s>>8&255]<<8^d[s>>16&255]<<16^d[s>>24&255]<<24;for(t=i/2+1;t<i;t++)o[t]^=o[t-1]}for(t=0;t<i&&c<n;)this._Ke[u=c>>2][h=c%4]=o[t],this._Kd[e-u][h]=o[t++],c++}for(var u=1;u<e;u++)for(var h=0;h<4;h++)s=this._Kd[u][h],this._Kd[u][h]=E[s>>24&255]^S[s>>16&255]^k[s>>8&255]^I[255&s]},B.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=C(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=g[n[i]>>24&255]^y[n[(i+1)%4]>>16&255]^b[n[(i+2)%4]>>8&255]^m[255&n[(i+3)%4]]^this._Ke[o][i];n=r.slice()}for(var s,a=c(16),i=0;i<4;i++)s=this._Ke[t][i],a[4*i]=255&(d[n[i]>>24&255]^s>>24),a[4*i+1]=255&(d[n[(i+1)%4]>>16&255]^s>>16),a[4*i+2]=255&(d[n[(i+2)%4]>>8&255]^s>>8),a[4*i+3]=255&(d[255&n[(i+3)%4]]^s);return a},B.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=C(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var o=1;o<t;o++){for(i=0;i<4;i++)r[i]=v[n[i]>>24&255]^A[n[(i+3)%4]>>16&255]^_[n[(i+2)%4]>>8&255]^w[255&n[(i+1)%4]]^this._Kd[o][i];n=r.slice()}for(var s,a=c(16),i=0;i<4;i++)s=this._Kd[t][i],a[4*i]=255&(p[n[i]>>24&255]^s>>24),a[4*i+1]=255&(p[n[(i+3)%4]>>16&255]^s>>16),a[4*i+2]=255&(p[n[(i+2)%4]>>8&255]^s>>8),a[4*i+3]=255&(p[255&n[(i+1)%4]]^s);return a},x.prototype.encrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=c(e.length),r=c(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.encrypt(r),t,n);return t},x.prototype.decrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=c(e.length),r=c(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.decrypt(r),t,n);return t},T.prototype.encrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=c(e.length),r=c(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16);for(var i=0;i<16;i++)r[i]^=this._lastCipherblock[i];this._lastCipherblock=this._aes.encrypt(r),s(this._lastCipherblock,t,n)}return t},T.prototype.decrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=c(e.length),r=c(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16);for(var r=this._aes.decrypt(r),i=0;i<16;i++)t[n+i]=r[i]^this._lastCipherblock[i];s(e,this._lastCipherblock,0,n,n+16)}return t},M.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t=o(e,!0),r=0;r<t.length;r+=this.segmentSize){for(var n=this._aes.encrypt(this._shiftRegister),i=0;i<this.segmentSize;i++)t[r+i]^=n[i];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(t,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return t},M.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t=o(e,!0),r=0;r<t.length;r+=this.segmentSize){for(var n=this._aes.encrypt(this._shiftRegister),i=0;i<this.segmentSize;i++)t[r+i]^=n[i];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(e,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return t},P.prototype.decrypt=P.prototype.encrypt=function(e){for(var t=o(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},O.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;0<=t;--t)this._counter[t]=e%256,e>>=8},O.prototype.setBytes=function(e){if(16!=(e=o(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},O.prototype.increment=function(){for(var e=15;0<=e;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}},L.prototype.decrypt=L.prototype.encrypt=function(e){for(var t=o(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},h={AES:B,Counter:O,ModeOfOperation:{ecb:x,cbc:T,cfb:M,ofb:P,ctr:L},utils:{hex:h,utf8:u},padding:{pkcs7:{pad:function(e){var t=16-(e=o(e,!0)).length%16,r=c(e.length+t);s(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=o(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(16<t)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var i=c(r);return s(e,i,0,0,r),i}}},_arrayTest:{coerceArray:o,createArray:c,copyArray:s}},void 0!==t?e.exports=h:"function"==typeof define&&define.amd?define(h):(r.aesjs&&(h._aesjs=r.aesjs),r.aesjs=h)},{}],160:[function(e,t,r){"use strict";const n=r;n.bignum=e("bn.js"),n.define=e("./asn1/api").define,n.base=e("./asn1/base"),n.constants=e("./asn1/constants"),n.decoders=e("./asn1/decoders"),n.encoders=e("./asn1/encoders")},{"./asn1/api":161,"./asn1/base":163,"./asn1/constants":167,"./asn1/decoders":169,"./asn1/encoders":172,"bn.js":188}],161:[function(e,t,r){"use strict";const n=e("./encoders"),i=e("./decoders"),o=e("inherits"),s=r;function a(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}s.define=function(e,t){return new a(e,t)},a.prototype._createNamed=function(r){const t=this.name;function e(e){this._initNamed(e,t)}return o(e,r),e.prototype._initNamed=function(e,t){r.call(this,e,t)},new e(this)},a.prototype._getDecoder=function(e){return this.decoders.hasOwnProperty(e=e||"der")||(this.decoders[e]=this._createNamed(i[e])),this.decoders[e]},a.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},a.prototype._getEncoder=function(e){return this.encoders.hasOwnProperty(e=e||"der")||(this.encoders[e]=this._createNamed(n[e])),this.encoders[e]},a.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},{"./decoders":169,"./encoders":172,inherits:362}],162:[function(e,t,r){"use strict";const n=e("inherits"),i=e("../base/reporter").Reporter,o=e("safer-buffer").Buffer;function s(e,t){i.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function a(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return a.isEncoderBuffer(e)||(e=new a(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}n(s,i),(r.DecoderBuffer=s).isDecoderBuffer=function(e){return e instanceof s||"object"==typeof e&&o.isBuffer(e.base)&&"DecoderBuffer"===e.constructor.name&&"number"==typeof e.offset&&"number"==typeof e.length&&"function"==typeof e.save&&"function"==typeof e.restore&&"function"==typeof e.isEmpty&&"function"==typeof e.readUInt8&&"function"==typeof e.skip&&"function"==typeof e.raw},s.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},s.prototype.restore=function(e){const t=new s(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},s.prototype.isEmpty=function(){return this.offset===this.length},s.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},s.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");const r=new s(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},s.prototype.raw=function(e){return this.base.slice((e||this).offset,this.length)},(r.EncoderBuffer=a).isEncoderBuffer=function(e){return e instanceof a||"object"==typeof e&&"EncoderBuffer"===e.constructor.name&&"number"==typeof e.length&&"function"==typeof e.join},a.prototype.join=function(t,r){return t=t||o.alloc(this.length),r=r||0,0!==this.length&&(Array.isArray(this.value)?this.value.forEach(function(e){e.join(t,r),r+=e.length}):("number"==typeof this.value?t[r]=this.value:"string"==typeof this.value?t.write(this.value,r):o.isBuffer(this.value)&&this.value.copy(t,r),r+=this.length)),t}},{"../base/reporter":165,inherits:362,"safer-buffer":488}],163:[function(e,t,r){"use strict";const n=r;n.Reporter=e("./reporter").Reporter,n.DecoderBuffer=e("./buffer").DecoderBuffer,n.EncoderBuffer=e("./buffer").EncoderBuffer,n.Node=e("./node")},{"./buffer":162,"./node":164,"./reporter":165}],164:[function(e,t,r){"use strict";const u=e("../base/reporter").Reporter,n=e("../base/buffer").EncoderBuffer,h=e("../base/buffer").DecoderBuffer,i=e("minimalistic-assert"),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],s=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function a(e,t,r){const n={};(this._baseState=n).name=r,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}t.exports=a;const c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];a.prototype.clone=function(){const t=this._baseState,r={},e=(c.forEach(function(e){r[e]=t[e]}),new this.constructor(r.parent));return e._baseState=r,e},a.prototype._wrap=function(){const r=this._baseState;s.forEach(function(t){this[t]=function(){const e=new this.constructor(this);return r.children.push(e),e[t].apply(e,arguments)}},this)},a.prototype._init=function(e){const t=this._baseState;i(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),i.equal(t.children.length,1,"Root node can have only one child")},a.prototype._useArgs=function(e){const t=this._baseState,r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==r.length&&(i(null===t.children),(t.children=r).forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(i(null===t.args),t.args=e,t.reverseArgs=e.map(function(r){if("object"!=typeof r||r.constructor!==Object)return r;const n={};return Object.keys(r).forEach(function(e){e==(0|e)&&(e|=0);var t=r[e];n[t]=e}),n}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(t){a.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}}),o.forEach(function(r){a.prototype[r]=function(){const e=this._baseState;var t=Array.prototype.slice.call(arguments);return i(null===e.tag),e.tag=r,this._useArgs(t),this}}),a.prototype.use=function(e){i(e);const t=this._baseState;return i(null===t.use),t.use=e,this},a.prototype.optional=function(){const e=this._baseState;return e.optional=!0,this},a.prototype.def=function(e){const t=this._baseState;return i(null===t.default),t.default=e,t.optional=!0,this},a.prototype.explicit=function(e){const t=this._baseState;return i(null===t.explicit&&null===t.implicit),t.explicit=e,this},a.prototype.implicit=function(e){const t=this._baseState;return i(null===t.explicit&&null===t.implicit),t.implicit=e,this},a.prototype.obj=function(){const e=this._baseState;var t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},a.prototype.key=function(e){const t=this._baseState;return i(null===t.key),t.key=e,this},a.prototype.any=function(){const e=this._baseState;return e.any=!0,this},a.prototype.choice=function(t){const e=this._baseState;return i(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},a.prototype.contains=function(e){const t=this._baseState;return i(null===t.use),t.contains=e,this},a.prototype._decode=function(t,r){const n=this._baseState;if(null===n.parent)return t.wrapResult(n.children[0]._decode(t,r));let i=n.default,o=!0,e=null;if(null!==n.key&&(e=t.enterKey(n.key)),n.optional){let e=null;if(null!==n.explicit?e=n.explicit:null!==n.implicit?e=n.implicit:null!==n.tag&&(e=n.tag),null!==e||n.any){if(o=this._peekTag(t,e,n.any),t.isError(o))return o}else{var s=t.save();try{null===n.choice?this._decodeGeneric(n.tag,t,r):this._decodeChoice(t,r),o=!0}catch(e){o=!1}t.restore(s)}}let a;if(n.obj&&o&&(a=t.enterObject()),o){if(null!==n.explicit){s=this._decodeTag(t,n.explicit);if(t.isError(s))return s;t=s}s=t.offset;if(null===n.use&&null===n.choice){let e;n.any&&(e=t.save());var c=this._decodeTag(t,null!==n.implicit?n.implicit:n.tag,n.any);if(t.isError(c))return c;n.any?i=t.raw(e):t=c}if(r&&r.track&&null!==n.tag&&r.track(t.path(),s,t.length,"tagged"),r&&r.track&&null!==n.tag&&r.track(t.path(),t.offset,t.length,"content"),n.any||(i=null===n.choice?this._decodeGeneric(n.tag,t,r):this._decodeChoice(t,r)),t.isError(i))return i;n.any||null!==n.choice||null===n.children||n.children.forEach(function(e){e._decode(t,r)}),!n.contains||"octstr"!==n.tag&&"bitstr"!==n.tag||(c=new h(i),i=this._getUse(n.contains,t._reporterState.obj)._decode(c,r))}return n.obj&&o&&(i=t.leaveObject(a)),null===n.key||null===i&&!0!==o?null!==e&&t.exitKey(e):t.leaveKey(e,n.key,i),i},a.prototype._decodeGeneric=function(e,t,r){var n=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,n.args[0],r):/str$/.test(e)?this._decodeStr(t,e,r):"objid"===e&&n.args?this._decodeObjid(t,n.args[0],n.args[1],r):"objid"===e?this._decodeObjid(t,null,null,r):"gentime"===e||"utctime"===e?this._decodeTime(t,e,r):"null_"===e?this._decodeNull(t,r):"bool"===e?this._decodeBool(t,r):"objDesc"===e?this._decodeStr(t,e,r):"int"===e||"enum"===e?this._decodeInt(t,n.args&&n.args[0],r):null!==n.use?this._getUse(n.use,t._reporterState.obj)._decode(t,r):t.error("unknown tag: "+e)},a.prototype._getUse=function(e,t){const r=this._baseState;return r.useDecoder=this._use(e,t),i(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},a.prototype._decodeChoice=function(i,o){const s=this._baseState;let a=null,c=!1;return Object.keys(s.choice).some(function(e){var t=i.save();const r=s.choice[e];try{var n=r._decode(i,o);if(i.isError(n))return!1;a={type:e,value:n},c=!0}catch(e){return i.restore(t),!1}return!0},this),c?a:i.error("Choice not matched")},a.prototype._createEncoderBuffer=function(e){return new n(e,this.reporter)},a.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n.default||n.default!==e){n=this._encodeValue(e,t,r);if(void 0!==n&&!this._skipDefault(n,t,r))return n}},a.prototype._encodeValue=function(r,n,e){const t=this._baseState;if(null===t.parent)return t.children[0]._encode(r,n||new u);let i=null;if(this.reporter=n,t.optional&&void 0===r){if(null===t.default)return;r=t.default}let o=null,s=!1;if(t.any)i=this._createEncoderBuffer(r);else if(t.choice)i=this._encodeChoice(r,n);else if(t.contains)o=this._getUse(t.contains,e)._encode(r,n),s=!0;else if(t.children)o=t.children.map(function(e){var t;return"null_"===e._baseState.tag?e._encode(null,n,r):null===e._baseState.key?n.error("Child should have a key"):(t=n.enterKey(e._baseState.key),"object"!=typeof r?n.error("Child expected, but input is not object"):(e=e._encode(r[e._baseState.key],n,r),n.leaveKey(t),e))},this).filter(function(e){return e}),o=this._createEncoderBuffer(o);else if("seqof"===t.tag||"setof"===t.tag){if(!t.args||1!==t.args.length)return n.error("Too many args for : "+t.tag);if(!Array.isArray(r))return n.error("seqof/setof, but data is not Array");const c=this.clone();c._baseState.implicit=null,o=this._createEncoderBuffer(r.map(function(e){var t=this._baseState;return this._getUse(t.args[0],r)._encode(e,n)},c))}else null!==t.use?i=this._getUse(t.use,e)._encode(r,n):(o=this._encodePrimitive(t.tag,r),s=!0);var a;return t.any||null!==t.choice||(e=null!==t.implicit?t.implicit:t.tag,a=null===t.implicit?"universal":"context",null===e?null===t.use&&n.error("Tag could be omitted only for .use()"):null===t.use&&(i=this._encodeComposite(e,s,a,o))),i=null!==t.explicit?this._encodeComposite(t.explicit,!1,"context",i):i},a.prototype._encodeChoice=function(e,t){var r=this._baseState;const n=r.choice[e.type];return n||i(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},a.prototype._encodePrimitive=function(e,t){var r=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},a.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},a.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(e)}},{"../base/buffer":162,"../base/reporter":165,"minimalistic-assert":378}],165:[function(e,t,r){"use strict";const n=e("inherits");function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}(r.Reporter=i).prototype.isError=function(e){return e instanceof o},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){const t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){const t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,r){const n=this._reporterState;this.exitKey(e),null!==n.obj&&(n.obj[t]=r)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){const e=this._reporterState;var t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){const t=this._reporterState;var r=t.obj;return t.obj=e,r},i.prototype.error=function(e){let t;const r=this._reporterState;var n=e instanceof o;if(t=n?e:new o(r.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),r.options.partial)return n||r.errors.push(t),t;throw t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},n(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},{inherits:362}],166:[function(e,t,r){"use strict";function n(r){const n={};return Object.keys(r).forEach(function(e){(0|e)==e&&(e|=0);var t=r[e];n[t]=e}),n}r.tagClass={0:"universal",1:"application",2:"context",3:"private"},r.tagClassByName=n(r.tagClass),r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},r.tagByName=n(r.tag)},{}],167:[function(e,t,r){"use strict";const n=r;n._reverse=function(r){const n={};return Object.keys(r).forEach(function(e){(0|e)==e&&(e|=0);var t=r[e];n[t]=e}),n},n.der=e("./der")},{"./der":166}],168:[function(e,t,r){"use strict";const n=e("inherits"),i=e("bn.js"),o=e("../base/buffer").DecoderBuffer,s=e("../base/node"),a=e("../constants/der");function c(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new u,this.tree._init(e.body)}function u(e){s.call(this,"der",e)}function h(t,r){let n=t.readUInt8(r);if(t.isError(n))return n;var e=a.tagClass[n>>6],i=0==(32&n);if(31==(31&n)){let e=n;for(n=0;128==(128&e);){if(e=t.readUInt8(r),t.isError(e))return e;n=(n<<=7)|127&e}}else n&=31;var o=a.tag[n];return{cls:e,primitive:i,tag:n,tagStr:o}}function l(t,e,r){let n=t.readUInt8(r);if(!t.isError(n)){if(!e&&128===n)return null;if(0!=(128&n)){var i=127&n;if(4<i)return t.error("length octect is too long");for(let e=n=0;e<i;e++){n<<=8;var o=t.readUInt8(r);if(t.isError(o))return o;n|=o}}}return n}(t.exports=c).prototype.decode=function(e,t){return o.isDecoderBuffer(e)||(e=new o(e,t)),this.tree._decode(e,t)},n(u,s),u.prototype._peekTag=function(e,t,r){var n,i;return!e.isEmpty()&&(n=e.save(),i=h(e,'Failed to peek tag: "'+t+'"'),e.isError(i)?i:(e.restore(n),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||r))},u.prototype._decodeTag=function(e,t,r){var n=h(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;let i=l(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(!n.primitive&&null===i){r=e.save(),n=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');if(e.isError(n))return n;i=e.offset-r.offset,e.restore(r)}return e.skip(i,'Failed to match body of: "'+t+'"')},u.prototype._skipUntilEnd=function(t,r){for(;;){var n=h(t,r);if(t.isError(n))return n;var i=l(t,n.primitive,r);if(t.isError(i))return i;let e;if(e=n.primitive||null!==i?t.skip(i):this._skipUntilEnd(t,r),t.isError(e))return e;if("end"===n.tagStr)break}},u.prototype._decodeList=function(e,t,r,n){const i=[];for(;!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var s=r.decode(e,"der",n);if(e.isError(s)&&o)break;i.push(s)}return i},u.prototype._decodeStr=function(e,t){var r;if("bitstr"===t)return r=e.readUInt8(),e.isError(r)?r:{unused:r,data:e.raw()};if("bmpstr"!==t)return"numstr"===t?(r=e.raw().toString("ascii"),this._isNumstr(r)?r:e.error("Decoding of string type: numstr unsupported characters")):"octstr"===t||"objDesc"===t?e.raw():"printstr"===t?(r=e.raw().toString("ascii"),this._isPrintstr(r)?r:e.error("Decoding of string type: printstr unsupported characters")):/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported");{const n=e.raw();if(n.length%2==1)return e.error("Decoding of string type: bmpstr length mismatch");let t="";for(let e=0;e<n.length/2;e++)t+=String.fromCharCode(n.readUInt16BE(2*e));return t}},u.prototype._decodeObjid=function(e,t,r){let n;const i=[];let o=0,s=0;for(;!e.isEmpty();)s=e.readUInt8(),o=(o<<=7)|127&s,0==(128&s)&&(i.push(o),o=0);128&s&&i.push(o);const a=i[0]/40|0,c=i[0]%40;if(n=r?i:[a,c].concat(i.slice(1)),t){let e=t[n.join(" ")];void 0!==(e=void 0===e?t[n.join(".")]:e)&&(n=e)}return n},u.prototype._decodeTime=function(e,t){const r=e.raw().toString();let n,i,o,s,a,c;if("gentime"===t)n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),s=0|r.slice(8,10),a=0|r.slice(10,12),c=0|r.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),s=0|r.slice(6,8),a=0|r.slice(8,10),c=0|r.slice(10,12),n=n<70?2e3+n:1900+n}return Date.UTC(n,i-1,o,s,a,c,0)},u.prototype._decodeNull=function(){return null},u.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},u.prototype._decodeInt=function(e,t){e=e.raw();let r=new i(e);return r=t?t[r.toString(10)]||r:r},u.prototype._use=function(e,t){return(e="function"==typeof e?e(t):e)._getDecoder("der").tree}},{"../base/buffer":162,"../base/node":164,"../constants/der":166,"bn.js":188,inherits:362}],169:[function(e,t,r){"use strict";const n=r;n.der=e("./der"),n.pem=e("./pem")},{"./der":168,"./pem":170}],170:[function(e,t,r){"use strict";const n=e("inherits"),u=e("safer-buffer").Buffer,h=e("./der");function i(e){h.call(this,e),this.enc="pem"}n(i,h),(t.exports=i).prototype.decode=function(e,t){const r=e.toString().split(/[\r\n]+/g);var n=t.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/;let o=-1,s=-1;for(let e=0;e<r.length;e++){var a=r[e].match(i);if(null!==a&&a[2]===n){if(-1!==o){if("END"!==a[1])break;s=e;break}if("BEGIN"!==a[1])break;o=e}}if(-1===o||-1===s)throw new Error("PEM section not found for: "+n);const c=r.slice(o+1,s).join("");c.replace(/[^a-z0-9+/=]+/gi,"");e=u.from(c,"base64");return h.prototype.decode.call(this,e,t)}},{"./der":168,inherits:362,"safer-buffer":488}],171:[function(e,t,r){"use strict";const n=e("inherits"),s=e("safer-buffer").Buffer,i=e("../base/node"),a=e("../constants/der");function o(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){i.call(this,"der",e)}function u(e){return e<10?"0"+e:e}(t.exports=o).prototype.encode=function(e,t){return this.tree._encode(e,t).join()},n(c,i),c.prototype._encodeComposite=function(e,t,r,n){e=function(e,t,r,n){let i;"seqof"===e?e="seq":"setof"===e&&(e="set");if(a.tagByName.hasOwnProperty(e))i=a.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}if(31<=i)return n.error("Multi-octet tag encoding unsupported");t||(i|=32);return i|=a.tagClassByName[r||"universal"]<<6}(e,t,r,this.reporter);if(n.length<128){const o=s.alloc(2);return o[0]=e,o[1]=n.length,this._createEncoderBuffer([o,n])}let i=1;for(let e=n.length;256<=e;e>>=8)i++;const o=s.alloc(2+i);o[0]=e,o[1]=128|i;for(let e=1+i,t=n.length;0<t;e--,t>>=8)o[e]=255&t;return this._createEncoderBuffer([o,n])},c.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"!==e)return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)||"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported");{const r=s.alloc(2*t.length);for(let e=0;e<t.length;e++)r.writeUInt16BE(t.charCodeAt(e),2*e);return this._createEncoderBuffer(r)}},c.prototype._encodeObjid=function(r,e,t){if("string"==typeof r){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(r))return this.reporter.error("objid not found in values map");r=e[r].split(/[\s.]+/g);for(let e=0;e<r.length;e++)r[e]|=0}else if(Array.isArray(r)){r=r.slice();for(let e=0;e<r.length;e++)r[e]|=0}if(!Array.isArray(r))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(r));if(!t){if(40<=r[1])return this.reporter.error("Second objid identifier OOB");r.splice(0,2,40*r[0]+r[1])}let n=0;for(let t=0;t<r.length;t++){let e=r[t];for(n++;128<=e;e>>=7)n++}const i=s.alloc(n);let o=i.length-1;for(let t=r.length-1;0<=t;t--){let e=r[t];for(i[o--]=127&e;0<(e>>=7);)i[o--]=128|127&e}return this._createEncoderBuffer(i)},c.prototype._encodeTime=function(e,t){let r;const n=new Date(e);return"gentime"===t?r=[u(n.getUTCFullYear()),u(n.getUTCMonth()+1),u(n.getUTCDate()),u(n.getUTCHours()),u(n.getUTCMinutes()),u(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[u(n.getUTCFullYear()%100),u(n.getUTCMonth()+1),u(n.getUTCDate()),u(n.getUTCHours()),u(n.getUTCMinutes()),u(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!s.isBuffer(t)){const i=t.toArray();!t.sign&&128&i[0]&&i.unshift(0),t=s.from(i)}if(s.isBuffer(t)){let e=t.length;0===t.length&&e++;const n=s.alloc(e);return t.copy(n),0===t.length&&(n[0]=0),this._createEncoderBuffer(n)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let r=1;for(let e=t;256<=e;e>>=8)r++;const n=new Array(r);for(let e=n.length-1;0<=e;e--)n[e]=255&t,t>>=8;return 128&n[0]&&n.unshift(0),this._createEncoderBuffer(s.from(n))},c.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},c.prototype._use=function(e,t){return(e="function"==typeof e?e(t):e)._getEncoder("der").tree},c.prototype._skipDefault=function(e,t,r){const n=this._baseState;let i;if(null===n.default)return!1;var o=e.join();if(void 0===n.defaultBuffer&&(n.defaultBuffer=this._encodeValue(n.default,t,r).join()),o.length!==n.defaultBuffer.length)return!1;for(i=0;i<o.length;i++)if(o[i]!==n.defaultBuffer[i])return!1;return!0}},{"../base/node":164,"../constants/der":166,inherits:362,"safer-buffer":488}],172:[function(e,t,r){"use strict";const n=r;n.der=e("./der"),n.pem=e("./pem")},{"./der":171,"./pem":173}],173:[function(e,t,r){"use strict";const n=e("inherits"),o=e("./der");function i(e){o.call(this,e),this.enc="pem"}n(i,o),(t.exports=i).prototype.encode=function(e,t){const r=o.prototype.encode.call(this,e),n=r.toString("base64"),i=["-----BEGIN "+t.label+"-----"];for(let e=0;e<n.length;e+=64)i.push(n.slice(e,e+64));return i.push("-----END "+t.label+"-----"),i.join("\n")}},{"./der":171,inherits:362}],174:[function(e,t,r){!function(e){!function(){"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],n="undefined"==typeof globalThis?e:globalThis;t.exports=function(){for(var e=[],t=0;t<r.length;t++)"function"==typeof n[r[t]]&&(e[e.length]=r[t]);return e}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],175:[function(e,t,r){const n=e("./lib/ascii"),i=e("./lib/base64"),o=e("./lib/hex"),s=e("./lib/utf8"),a=e("./lib/utf16le"),c=255===new Uint8Array(Uint16Array.of(255).buffer)[0];function u(e){switch(e){case"ascii":return n;case"base64":return i;case"hex":return o;case"utf8":case"utf-8":case void 0:return s;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a;default:throw new Error("Unknown encoding: "+e)}}function h(e){return e instanceof Uint8Array}function l(e,t,r){if("string"==typeof e){var n=e;const o=u(t),s=new Uint8Array(o.byteLength(n));return o.write(s,n,0,s.byteLength),s}if(Array.isArray(e)){n=e;const a=new Uint8Array(n.length);return a.set(n),a}if(ArrayBuffer.isView(e)){var i=e;const c=new Uint8Array(i.byteLength);return c.set(i),c}return new Uint8Array(e,t,r)}function f(n,i,o,e,t){if(0!==n.byteLength){if("string"==typeof o?(e=o,o=0):void 0===o?o=t?0:n.length-1:o<0&&(o+=n.byteLength),o>=n.byteLength){if(t)return-1;o=n.byteLength-1}else if(o<0){if(!t)return-1;o=0}if("string"==typeof i)i=l(i,e);else if("number"==typeof i)return i&=255,t?n.indexOf(i,o):n.lastIndexOf(i,o);if(0!==i.byteLength)if(t){let t=-1;for(let e=o;e<n.byteLength;e++)if(n[e]===i[-1===t?0:e-t]){if(-1===t&&(t=e),e-t+1===i.byteLength)return t}else-1!==t&&(e-=e-t),t=-1}else for(let r=o=o+i.byteLength>n.byteLength?n.byteLength-i.byteLength:o;0<=r;r--){let t=!0;for(let e=0;e<i.byteLength;e++)if(n[r+e]!==i[e]){t=!1;break}if(t)return r}}return-1}function d(e,t,r,n){return f(e,t,r,n,!0)}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}t.exports={isBuffer:h,isEncoding:function(e){try{return u(e),!0}catch{return!1}},alloc:function(e,t,r){return e=new Uint8Array(e),void 0!==t&&t(e,t,0,e.byteLength,r),e},allocUnsafe:function(e){return new Uint8Array(e)},allocUnsafeSlow:function(e){return new Uint8Array(e)},byteLength:function(e,t){return u(t).byteLength(e)},compare:function(e,t){if(e===t)return 0;var r=Math.min(e.byteLength,t.byteLength);e=new DataView(e.buffer,e.byteOffset,e.byteLength),t=new DataView(t.buffer,t.byteOffset,t.byteLength);let n=0;for(var i=r-r%4;n<i;n+=4)if(e.getUint32(n,c)!==t.getUint32(n,c))break;for(;n<r;n++){var o=e.getUint8(n),s=t.getUint8(n);if(o<s)return-1;if(s<o)return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0},concat:function(e,t){void 0===t&&(t=e.reduce((e,t)=>e+t.byteLength,0));const r=new Uint8Array(t);return e.reduce((e,t)=>(r.set(t,e),e+t.byteLength),0),r},copy:function(e,t,r=0,n=0,i=e.byteLength){if(0<i&&i<n)return 0;if(i===n)return 0;if(0===e.byteLength||0===t.byteLength)return 0;if(r<0)throw new RangeError("targetStart is out of range");if(n<0||n>=e.byteLength)throw new RangeError("sourceStart is out of range");if(i<0)throw new RangeError("sourceEnd is out of range");r>=t.byteLength&&(r=t.byteLength),i>e.byteLength&&(i=e.byteLength);var o=(i=t.byteLength-r<i-n?t.length-r+n:i)-n;return e===t?t.copyWithin(r,n,i):t.set(e.subarray(n,i),r),o},equals:function(t,r){if(t!==r){if(t.byteLength!==r.byteLength)return!1;var n=t.byteLength;t=new DataView(t.buffer,t.byteOffset,t.byteLength),r=new DataView(r.buffer,r.byteOffset,r.byteLength);let e=0;for(var i=n-n%4;e<i;e+=4)if(t.getUint32(e,c)!==r.getUint32(e,c))return!1;for(;e<n;e++)if(t.getUint8(e)!==r.getUint8(e))return!1}return!0},fill:function(t,r,n,i,e){if("string"==typeof r?"string"==typeof n?(e=n,n=0,i=t.byteLength):"string"==typeof i&&(e=i,i=t.byteLength):"number"==typeof val?r&=255:"boolean"==typeof val&&(r=+r),n<0||t.byteLength<n||t.byteLength<i)throw new RangeError("Out of range index");if(!((i=void 0===i?t.byteLength:i)<=(n=void 0===n?0:n)))if("number"==typeof(r=r||0))for(let e=n;e<i;++e)t[e]=r;else{var o=(r=h(r)?r:l(r,e)).byteLength;for(let e=0;e<i-n;++e)t[e+n]=r[e%o]}return t},from:l,includes:function(e,t,r,n){return-1!==d(e,t,r,n)},indexOf:d,lastIndexOf:function(e,t,r,n){return f(e,t,r,n,!1)},swap16:function(t){var r=t.byteLength;if(r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<r;e+=2)p(t,e,e+1);return t},swap32:function(t){var r=t.byteLength;if(r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<r;e+=4)p(t,e,e+3),p(t,e+1,e+2);return t},swap64:function(t){var r=t.byteLength;if(r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<r;e+=8)p(t,e,e+7),p(t,e+1,e+6),p(t,e+2,e+5),p(t,e+3,e+4);return t},toBuffer:function(e){return e},toString:function(e,t,r=0,n=e.byteLength){var i=e.byteLength;return i<=r||n<=r?"":(i<n&&(n=i),(0!==(r=r<0?0:r)||n<i)&&(e=e.subarray(r,n)),u(t).toString(e))},write:function(e,t,r,n,i){return void 0===r?i="utf8":void 0===n&&"string"==typeof r?(i=r,r=void 0):void 0===i&&"string"==typeof n&&(i=n,n=void 0),u(i).write(e,t,r,n)},writeDoubleLE:function(e,t,r){void 0===r&&(r=0);const n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),r+8},writeFloatLE:function(e,t,r){void 0===r&&(r=0);const n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),r+4},writeUInt32LE:function(e,t,r){void 0===r&&(r=0);const n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setUint32(r,t,!0),r+4},writeInt32LE:function(e,t,r){void 0===r&&(r=0);const n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setInt32(r,t,!0),r+4},readDoubleLE:function(e,t){void 0===t&&(t=0);const r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t,!0)},readFloatLE:function(e,t){void 0===t&&(t=0);const r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t,!0)},readUInt32LE:function(e,t){void 0===t&&(t=0);const r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getUint32(t,!0)},readInt32LE:function(e,t){void 0===t&&(t=0);const r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getInt32(t,!0)}}},{"./lib/ascii":176,"./lib/base64":177,"./lib/hex":178,"./lib/utf16le":179,"./lib/utf8":180}],176:[function(e,t,r){function o(e){return e.length}t.exports={byteLength:o,toString:function(t){var r=t.byteLength;let n="";for(let e=0;e<r;e++)n+=String.fromCharCode(t[e]);return n},write:function(t,r,n=0,e=o(r)){var i=Math.min(e,t.byteLength-n);for(let e=0;e<i;e++)t[n+e]=r.charCodeAt(e);return i}}},{}],177:[function(e,t,r){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=new Uint8Array(256);for(let e=0;e<i.length;e++)u[i.charCodeAt(e)]=e;function h(e){let t=e.length;return 61===e.charCodeAt(t-1)&&t--,1<t&&61===e.charCodeAt(t-1)&&t--,3*t>>>2}u[45]=62,u[95]=63,t.exports={byteLength:h,toString:function(t){var r=t.byteLength;let n="";for(let e=0;e<r;e+=3)n+=i[t[e]>>2]+i[(3&t[e])<<4|t[e+1]>>4]+i[(15&t[e+1])<<2|t[e+2]>>6]+i[63&t[e+2]];return r%3==2?n=n.substring(0,n.length-1)+"=":r%3==1&&(n=n.substring(0,n.length-2)+"=="),n},write:function(r,n,e=0,t=h(n)){var i=Math.min(t,r.byteLength-e);for(let e=0,t=0;e<i;e+=4){var o=u[n.charCodeAt(e)],s=u[n.charCodeAt(e+1)],a=u[n.charCodeAt(e+2)],c=u[n.charCodeAt(e+3)];r[t++]=o<<2|s>>4,r[t++]=(15&s)<<4|a>>2,r[t++]=(3&a)<<6|63&c}return i}}},{}],178:[function(e,t,r){function a(e){return e.length>>>1}function c(e){return 48<=e&&e<=57?e-48:65<=e&&e<=70?e-65+10:97<=e&&e<=102?e-97+10:void 0}t.exports={byteLength:a,toString:function(e){var t=e.byteLength;e=new DataView(e.buffer,e.byteOffset,t);let r="",n=0;for(var i=t-t%4;n<i;n+=4)r+=e.getUint32(n).toString(16).padStart(8,"0");for(;n<t;n++)r+=e.getUint8(n).toString(16).padStart(2,"0");return r},write:function(t,r,n=0,e=a(r)){var i=Math.min(e,t.byteLength-n);for(let e=0;e<i;e++){var o=c(r.charCodeAt(2*e)),s=c(r.charCodeAt(2*e+1));if(void 0===o||void 0===s)return t.subarray(0,e);t[n+e]=o<<4|s}return i}}},{}],179:[function(e,t,r){function a(e){return 2*e.length}t.exports={byteLength:a,toString:function(t){var r=t.byteLength;let n="";for(let e=0;e<r-1;e+=2)n+=String.fromCharCode(t[e]+256*t[e+1]);return n},write:function(t,r,n=0,e=a(r)){let i=e=Math.min(e,t.byteLength-n);for(let e=0;e<r.length&&!((i-=2)<0);++e){var o=r.charCodeAt(e),s=o>>8;t[n+2*e]=o%256,t[n+2*e+1]=s}return e}}},{}],180:[function(e,t,r){function a(r){let n=0;for(let e=0,t=r.length;e<t;e++){var i=r.charCodeAt(e);if(55296<=i&&i<=56319&&e+1<t){var o=r.charCodeAt(e+1);if(56320<=o&&o<=57343){n+=4,e++;continue}}n+=i<=127?1:i<=2047?2:3}return n}let n;if("undefined"!=typeof TextDecoder){const o=new TextDecoder;n=function(e){return o.decode(e)}}else n=function(i){var e=i.byteLength;let o="",s=0;for(;s<e;){let n=i[s];if(n<=127)o+=String.fromCharCode(n),s++;else{let t=0,r=0;if(n<=223?(t=1,r=31&n):n<=239?(t=2,r=15&n):n<=244&&(t=3,r=7&n),0<e-s-t){let e=0;for(;e<t;)n=i[s+e+1],r=r<<6|63&n,e+=1}else r=65533,t=e-s;o+=String.fromCodePoint(r),s+=t+1}}return o};let i;if("undefined"!=typeof TextEncoder){const s=new TextEncoder;i=function(e,t,r=0,n=a(t)){n=Math.min(n,e.byteLength-r);return s.encodeInto(t,e.subarray(r,r+n)),n}}else i=function(r,e,t=0,n=a(e)){n=Math.min(n,r.byteLength-t);r=r.subarray(t,t+n);let i=0,o=0;for(;i<e.length;){var s=e.codePointAt(i);if(s<=127)r[o++]=s,i++;else{let e=0,t=0;for(s<=2047?(e=6,t=192):s<=65535?(e=12,t=224):s<=2097151&&(e=18,t=240),r[o++]=t|s>>e,e-=6;0<=e;)r[o++]=128|s>>e&63,e-=6;i+=65536<=s?2:1}}return n};t.exports={byteLength:a,toString:n,write:i}},{}],181:[function(e,t,r){"use strict";r.byteLength=function(e){var e=h(e),t=e[0],e=e[1];return 3*(t+e)/4-e},r.toByteArray=function(e){var t,r,n=h(e),i=n[0],n=n[1],o=new u(function(e,t){return 3*(e+t)/4-t}(i,n)),s=0,a=0<n?i-4:i;for(r=0;r<a;r+=4)t=c[e.charCodeAt(r)]<<18|c[e.charCodeAt(r+1)]<<12|c[e.charCodeAt(r+2)]<<6|c[e.charCodeAt(r+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=255&t;2===n&&(t=c[e.charCodeAt(r)]<<2|c[e.charCodeAt(r+1)]>>4,o[s++]=255&t);1===n&&(t=c[e.charCodeAt(r)]<<10|c[e.charCodeAt(r+1)]<<4|c[e.charCodeAt(r+2)]>>2,o[s++]=t>>8&255,o[s++]=255&t);return o},r.fromByteArray=function(e){for(var t,r=e.length,n=r%3,i=[],o=0,s=r-n;o<s;o+=16383)i.push(function(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(function(e){return a[e>>18&63]+a[e>>12&63]+a[e>>6&63]+a[63&e]}(n));return i.join("")}(e,o,s<o+16383?s:o+16383));1==n?(t=e[r-1],i.push(a[t>>2]+a[t<<4&63]+"==")):2==n&&(t=(e[r-2]<<8)+e[r-1],i.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"="));return i.join("")};for(var a=[],c=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=n.length;i<o;++i)a[i]=n[i],c[n.charCodeAt(i)]=i;function h(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("="),t=(e=-1===e?t:e)===t?0:4-e%4;return[e,t]}c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},{}],182:[function(e,t,r){"use strict";for(var a="qpzry9x8gf2tvdw0s3jn54khce6mua7l",u={},n=0;n<a.length;n++){var i=a.charAt(n);if(void 0!==u[i])throw new TypeError(i+" is ambiguous");u[i]=n}function h(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function l(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||126<n)return"Invalid prefix ("+e+")";t=h(t)^n>>5}for(t=h(t),r=0;r<e.length;++r)var i=e.charCodeAt(r),t=h(t)^31&i;return t}function o(e,t){if(e.length<8)return e+" too short";if(e.length>(t=t||90))return"Exceeds length limit";var t=e.toLowerCase(),r=e.toUpperCase();if(e!==t&&e!==r)return"Mixed-case string "+e;r=(e=t).lastIndexOf("1");if(-1===r)return"No separator character for "+e;if(0===r)return"Missing prefix for "+e;var t=e.slice(0,r),n=e.slice(r+1);if(n.length<6)return"Data too short";var i=l(t);if("string"==typeof i)return i;for(var o=[],s=0;s<n.length;++s){var a=n.charAt(s),c=u[a];if(void 0===c)return"Unknown character "+a;i=h(i)^c,s+6>=n.length||o.push(c)}return 1!==i?"Invalid checksum for "+e:{prefix:t,words:o}}function s(e,t,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],c=0;c<e.length;++c)for(i=i<<t|e[c],o+=t;r<=o;)a.push(i>>(o-=r)&s);if(n)0<o&&a.push(i<<r-o&s);else{if(t<=o)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}t.exports={decodeUnsafe:function(){var e=o.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=o.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)},encode:function(e,t,r){if(e.length+7+t.length>(r=r||90))throw new TypeError("Exceeds length limit");var n=l(e=e.toLowerCase());if("string"==typeof n)throw new Error(n);for(var i=e+"1",o=0;o<t.length;++o){var s=t[o];if(s>>5!=0)throw new Error("Non 5-bit word");n=h(n)^s,i+=a.charAt(s)}for(o=0;o<6;++o)n=h(n);for(n^=1,o=0;o<6;++o)i+=a.charAt(n>>5*(5-o)&31);return i},toWordsUnsafe:function(e){if(e=s(e,8,5,!0),Array.isArray(e))return e},toWords:function(e){if(e=s(e,8,5,!0),Array.isArray(e))return e;throw new Error(e)},fromWordsUnsafe:function(e){if(e=s(e,5,8,!1),Array.isArray(e))return e},fromWords:function(e){if(e=s(e,5,8,!1),Array.isArray(e))return e;throw new Error(e)}}},{}],183:[function(e,t,r){const n=new Uint16Array(8);function a(e,t){for(;0<t;){var r=4095&e;e=(e-(n[--t]=r))/4096}return n}t.exports=class{constructor(){this.tiny=new c,this.maxLength=4096,this.factor=1}set(e,t){if(void 0!==t)for(;e>=this.maxLength;)if(this.maxLength*=4096,this.factor++,!this.tiny.isEmptyish()){const s=new c;s.set(0,this.tiny),this.tiny=s}var r=a(e,this.factor),n=this.factor-1;let i=this.tiny;for(let e=0;e<n;e++){var o=i.get(r[e]);if(void 0===o){if(void 0===t)return;i=i.set(r[e],new c)}else i=o}return i.set(r[n],t)}get(e){var t=a(e,this.factor),r=this.factor-1;let n=this.tiny;for(let e=0;e<r;e++)if(void 0===(n=n.get(t[e])))return;return n.get(t[r])}};class c{constructor(){this.s=0,this.b=new Array(1),this.f=new Uint16Array(1)}isEmptyish(){return 1===this.b.length&&void 0===this.b[0]}get(e){var t;return 12===this.s||(t=e>>>this.s,e=e&this.b.length-1,this.f[e]===t)?this.b[e]:void 0}set(e,t){for(;12!==this.s;){var r=e>>>this.s,n=e&this.b.length-1;if(void 0===this.b[n]||r===this.f[n])return this.b[n]=t,this.f[n]=r,t;this.grow()}return this.b[e]=t}grow(){var t,r,n=this.s,i=this.b,o=this.f,s=(this.s+=4,this.b=new Array(this.b.length<<4),this.f=12===this.s?null:new Uint8Array(this.b.length),this.b.length-1);for(let e=0;e<i.length;e++)void 0!==i[e]&&(t=(r=o[e]<<n|e)>>>this.s,this.b[r=r&s]=i[e],12!==this.s&&(this.f[r]=t))}}},{}],184:[function(e,t,r){const n=e("b4a");function i(e){return Math.ceil(e/8)}function o(e,t){var r=8*e.BYTES_PER_ELEMENT,n=t&r-1;return 0!=(e[(t-n)/r]&1<<n)}function s(e,t,r=!0){var n=8*e.BYTES_PER_ELEMENT,i=t&n-1,t=(t-i)/n,n=1<<i;if(r){if(0!=(e[t]&n))return!1}else if(0==(e[t]&n))return!1;return e[t]^=n,!0}function a(e,t,r,n=!0){var i=8*e.BYTES_PER_ELEMENT;let o=r-t,s=t&i-1,a=(t-s)/i,c=!1;for(;0<o;){var u=2**Math.min(o,i-s)-1<<s;n?(e[a]&u)!=u&&(e[a]|=u,c=!0):0!=(e[a]&u)&&(e[a]&=~u,c=!0),o-=i-s,s=0,a++}return c}function c(t){var r=n.alloc(i(t.length));for(let e=0;e<t.length;e++)s(r,e,t[e]);return r}t.exports={byteLength:i,get:o,set:s,setRange:a,fill:function(e,t,r=0,n=8*e.byteLength){var i=8*e.BYTES_PER_ELEMENT;let o,s;var a=r&i-1,a=(o=(r-a)/i,0!=a&&(r=2**Math.min(i-a,n-r)-1<<a,t?e[o]|=r:e[o]&=~r,o++),n&i-1);return s=(n-a)/i,0!=a&&s>=o&&(r=2**a-1,t?e[s]|=r:e[s]&=~r),e.fill(t?2**i-1:0,o,s)},toggle:function(e,t){var r=8*e.BYTES_PER_ELEMENT,n=t&r-1,t=(t-n)/r,r=1<<n;return e[t]^=r,0!=(e[t]&r)},remove:function(e,t){return s(e,t,!1)},removeRange:function(e,t,r){return a(e,t,r,!1)},indexOf:function(r,n,i=0){for(let e=i,t=8*r.byteLength;e<t;e++)if(o(r,e)===n)return e;return-1},lastIndexOf:function(t,r,n=8*t.byteLength-1){for(let e=n;0<=e;e--)if(o(t,e)===r)return e;return-1},of:function(...e){return c(e)},from:c,iterator:function*(r){for(let e=0,t=8*r.byteLength;e<t;e++)yield o(r,e)}}},{b4a:175}],185:[function(e,t,r){var n=(()=>{for(var u=new Uint8Array(128),e=0;e<64;e++)u[e<26?e+65:e<52?e+71:e<62?e-4:4*e-205]=e;return e=>{for(var t=e.length,r=new Uint8Array(3*(t-("="==e[t-1])-("="==e[t-2]))/4|0),n=0,i=0;n<t;){var o=u[e.charCodeAt(n++)],s=u[e.charCodeAt(n++)],a=u[e.charCodeAt(n++)],c=u[e.charCodeAt(n++)];r[i++]=o<<2|s>>4,r[i++]=s<<4|a>>2,r[i++]=a<<6|c}return r}})();i={"wasm-binary:./blake2b.wat"(e,t){t.exports=n("AGFzbQEAAAABEANgAn9/AGADf39/AGABfwADBQQAAQICBQUBAQroBwdNBQZtZW1vcnkCAAxibGFrZTJiX2luaXQAAA5ibGFrZTJiX3VwZGF0ZQABDWJsYWtlMmJfZmluYWwAAhBibGFrZTJiX2NvbXByZXNzAAMKvz8EwAIAIABCADcDACAAQgA3AwggAEIANwMQIABCADcDGCAAQgA3AyAgAEIANwMoIABCADcDMCAAQgA3AzggAEIANwNAIABCADcDSCAAQgA3A1AgAEIANwNYIABCADcDYCAAQgA3A2ggAEIANwNwIABCADcDeCAAQoiS853/zPmE6gBBACkDAIU3A4ABIABCu86qptjQ67O7f0EIKQMAhTcDiAEgAEKr8NP0r+68tzxBECkDAIU3A5ABIABC8e30+KWn/aelf0EYKQMAhTcDmAEgAELRhZrv+s+Uh9EAQSApAwCFNwOgASAAQp/Y+dnCkdqCm39BKCkDAIU3A6gBIABC6/qG2r+19sEfQTApAwCFNwOwASAAQvnC+JuRo7Pw2wBBOCkDAIU3A7gBIABCADcDwAEgAEIANwPIASAAQgA3A9ABC20BA38gAEHAAWohAyAAQcgBaiEEIAQpAwCnIQUCQANAIAEgAkYNASAFQYABRgRAIAMgAykDACAFrXw3AwBBACEFIAAQAwsgACAFaiABLQAAOgAAIAVBAWohBSABQQFqIQEMAAsLIAQgBa03AwALYQEDfyAAQcABaiEBIABByAFqIQIgASABKQMAIAIpAwB8NwMAIABCfzcD0AEgAikDAKchAwJAA0AgA0GAAUYNASAAIANqQQA6AAAgA0EBaiEDDAALCyACIAOtNwMAIAAQAwuqOwIgfgl/IABBgAFqISEgAEGIAWohIiAAQZABaiEjIABBmAFqISQgAEGgAWohJSAAQagBaiEmIABBsAFqIScgAEG4AWohKCAhKQMAIQEgIikDACECICMpAwAhAyAkKQMAIQQgJSkDACEFICYpAwAhBiAnKQMAIQcgKCkDACEIQoiS853/zPmE6gAhCUK7zqqm2NDrs7t/IQpCq/DT9K/uvLc8IQtC8e30+KWn/aelfyEMQtGFmu/6z5SH0QAhDUKf2PnZwpHagpt/IQ5C6/qG2r+19sEfIQ9C+cL4m5Gjs/DbACEQIAApAwAhESAAKQMIIRIgACkDECETIAApAxghFCAAKQMgIRUgACkDKCEWIAApAzAhFyAAKQM4IRggACkDQCEZIAApA0ghGiAAKQNQIRsgACkDWCEcIAApA2AhHSAAKQNoIR4gACkDcCEfIAApA3ghICANIAApA8ABhSENIA8gACkD0AGFIQ8gASAFIBF8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSASfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgE3x8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBR8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAVfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgFnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBd8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAYfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgGXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBp8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAbfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgHHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIB18fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAefHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgH3x8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFICB8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAffHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgG3x8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBV8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAZfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgGnx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHICB8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAefHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggF3x8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBJ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAdfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgEXx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBN8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAcfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGHx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBZ8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAUfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgHHx8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBl8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAdfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgEXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBZ8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByATfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggIHx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIB58fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAbfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgH3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBR8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAXfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggGHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBJ8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAafHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFXx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBh8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAafHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgFHx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBJ8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAefHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHXx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBx8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAffHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgE3x8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBd8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAWfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgG3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBV8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCARfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgIHx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBl8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAafHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEXx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBZ8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAYfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgE3x8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBV8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAbfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggIHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIB98fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiASfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgHHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIB18fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAXfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggGXx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBR8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAefHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgE3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIB18fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAXfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgG3x8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBF8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAcfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggGXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBR8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAVfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHnx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBh8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAWfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggIHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIB98fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSASfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgGnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIB18fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSAWfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgEnx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGICB8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAffHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgHnx8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBV8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAbfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgEXx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBh8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAXfHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgFHx8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBp8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCATfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgGXx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBx8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSAefHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgHHx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBh8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAffHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgHXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBJ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAUfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGnx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBZ8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiARfHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgIHx8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBV8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAZfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggF3x8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIBN8fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAbfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgF3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFICB8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAffHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGnx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBx8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAUfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggEXx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBl8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiAdfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgE3x8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIB58fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByAYfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggEnx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBV8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAbfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFnx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgASAFIBt8fCEBIA0gAYVCIIohDSAJIA18IQkgBSAJhUIYiiEFIAEgBSATfHwhASANIAGFQhCKIQ0gCSANfCEJIAUgCYVCP4ohBSACIAYgGXx8IQIgDiAChUIgiiEOIAogDnwhCiAGIAqFQhiKIQYgAiAGIBV8fCECIA4gAoVCEIohDiAKIA58IQogBiAKhUI/iiEGIAMgByAYfHwhAyAPIAOFQiCKIQ8gCyAPfCELIAcgC4VCGIohByADIAcgF3x8IQMgDyADhUIQiiEPIAsgD3whCyAHIAuFQj+KIQcgBCAIIBJ8fCEEIBAgBIVCIIohECAMIBB8IQwgCCAMhUIYiiEIIAQgCCAWfHwhBCAQIASFQhCKIRAgDCAQfCEMIAggDIVCP4ohCCABIAYgIHx8IQEgECABhUIgiiEQIAsgEHwhCyAGIAuFQhiKIQYgASAGIBx8fCEBIBAgAYVCEIohECALIBB8IQsgBiALhUI/iiEGIAIgByAafHwhAiANIAKFQiCKIQ0gDCANfCEMIAcgDIVCGIohByACIAcgH3x8IQIgDSAChUIQiiENIAwgDXwhDCAHIAyFQj+KIQcgAyAIIBR8fCEDIA4gA4VCIIohDiAJIA58IQkgCCAJhUIYiiEIIAMgCCAdfHwhAyAOIAOFQhCKIQ4gCSAOfCEJIAggCYVCP4ohCCAEIAUgHnx8IQQgDyAEhUIgiiEPIAogD3whCiAFIAqFQhiKIQUgBCAFIBF8fCEEIA8gBIVCEIohDyAKIA98IQogBSAKhUI/iiEFIAEgBSARfHwhASANIAGFQiCKIQ0gCSANfCEJIAUgCYVCGIohBSABIAUgEnx8IQEgDSABhUIQiiENIAkgDXwhCSAFIAmFQj+KIQUgAiAGIBN8fCECIA4gAoVCIIohDiAKIA58IQogBiAKhUIYiiEGIAIgBiAUfHwhAiAOIAKFQhCKIQ4gCiAOfCEKIAYgCoVCP4ohBiADIAcgFXx8IQMgDyADhUIgiiEPIAsgD3whCyAHIAuFQhiKIQcgAyAHIBZ8fCEDIA8gA4VCEIohDyALIA98IQsgByALhUI/iiEHIAQgCCAXfHwhBCAQIASFQiCKIRAgDCAQfCEMIAggDIVCGIohCCAEIAggGHx8IQQgECAEhUIQiiEQIAwgEHwhDCAIIAyFQj+KIQggASAGIBl8fCEBIBAgAYVCIIohECALIBB8IQsgBiALhUIYiiEGIAEgBiAafHwhASAQIAGFQhCKIRAgCyAQfCELIAYgC4VCP4ohBiACIAcgG3x8IQIgDSAChUIgiiENIAwgDXwhDCAHIAyFQhiKIQcgAiAHIBx8fCECIA0gAoVCEIohDSAMIA18IQwgByAMhUI/iiEHIAMgCCAdfHwhAyAOIAOFQiCKIQ4gCSAOfCEJIAggCYVCGIohCCADIAggHnx8IQMgDiADhUIQiiEOIAkgDnwhCSAIIAmFQj+KIQggBCAFIB98fCEEIA8gBIVCIIohDyAKIA98IQogBSAKhUIYiiEFIAQgBSAgfHwhBCAPIASFQhCKIQ8gCiAPfCEKIAUgCoVCP4ohBSABIAUgH3x8IQEgDSABhUIgiiENIAkgDXwhCSAFIAmFQhiKIQUgASAFIBt8fCEBIA0gAYVCEIohDSAJIA18IQkgBSAJhUI/iiEFIAIgBiAVfHwhAiAOIAKFQiCKIQ4gCiAOfCEKIAYgCoVCGIohBiACIAYgGXx8IQIgDiAChUIQiiEOIAogDnwhCiAGIAqFQj+KIQYgAyAHIBp8fCEDIA8gA4VCIIohDyALIA98IQsgByALhUIYiiEHIAMgByAgfHwhAyAPIAOFQhCKIQ8gCyAPfCELIAcgC4VCP4ohByAEIAggHnx8IQQgECAEhUIgiiEQIAwgEHwhDCAIIAyFQhiKIQggBCAIIBd8fCEEIBAgBIVCEIohECAMIBB8IQwgCCAMhUI/iiEIIAEgBiASfHwhASAQIAGFQiCKIRAgCyAQfCELIAYgC4VCGIohBiABIAYgHXx8IQEgECABhUIQiiEQIAsgEHwhCyAGIAuFQj+KIQYgAiAHIBF8fCECIA0gAoVCIIohDSAMIA18IQwgByAMhUIYiiEHIAIgByATfHwhAiANIAKFQhCKIQ0gDCANfCEMIAcgDIVCP4ohByADIAggHHx8IQMgDiADhUIgiiEOIAkgDnwhCSAIIAmFQhiKIQggAyAIIBh8fCEDIA4gA4VCEIohDiAJIA58IQkgCCAJhUI/iiEIIAQgBSAWfHwhBCAPIASFQiCKIQ8gCiAPfCEKIAUgCoVCGIohBSAEIAUgFHx8IQQgDyAEhUIQiiEPIAogD3whCiAFIAqFQj+KIQUgISAhKQMAIAEgCYWFNwMAICIgIikDACACIAqFhTcDACAjICMpAwAgAyALhYU3AwAgJCAkKQMAIAQgDIWFNwMAICUgJSkDACAFIA2FhTcDACAmICYpAwAgBiAOhYU3AwAgJyAnKQMAIAcgD4WFNwMAICggKCkDACAIIBCFhTcDAAs=")}};var i,o,s=function(){return o||(0,i[Object.keys(i)[0]])((o={exports:{}}).exports,o),o.exports}(),a=WebAssembly.compile(s);t.exports=async e=>{return(await WebAssembly.instantiate(await a,e)).exports}},{}],186:[function(e,t,r){var o=e("nanoassert"),n=e("b4a"),s=null,i="undefined"!=typeof WebAssembly&&e("./blake2b")().then(e=>{s=e}),a=64,c=[],u=(t.exports=g,t.exports.BYTES_MIN=16),h=t.exports.BYTES_MAX=64,l=(t.exports.BYTES=32,t.exports.KEYBYTES_MIN=16),f=t.exports.KEYBYTES_MAX=64,d=(t.exports.KEYBYTES=32,t.exports.SALTBYTES=16),p=t.exports.PERSONALBYTES=16;function g(e,t,r,n,i){if(!(this instanceof g))return new g(e,t,r,n,i);if(!s)throw new Error("WASM not loaded. Wait for Blake2b.ready(cb)");e=e||32,!0!==i&&(o(u<=e,"digestLength must be at least "+u+", was given "+e),o(e<=h,"digestLength must be at most "+h+", was given "+e),null!=t&&(o(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),o(t.length>=l,"key must be at least "+l+", was given "+t.length),o(t.length<=f,"key must be at least "+f+", was given "+t.length)),null!=r&&(o(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),o(r.length===d,"salt must be exactly "+d+", was given "+r.length)),null!=n&&(o(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),o(n.length===p,"personal must be exactly "+p+", was given "+n.length))),c.length||(c.push(a),a+=216),this.digestLength=e,this.finalized=!1,this.pointer=c.pop(),this._memory=new Uint8Array(s.memory.buffer),this._memory.fill(0,0,64),this._memory[0]=this.digestLength,this._memory[1]=t?t.length:0,this._memory[2]=1,this._memory[3]=1,r&&this._memory.set(r,32),n&&this._memory.set(n,48),this.pointer+216>this._memory.length&&this._realloc(this.pointer+216),s.blake2b_init(this.pointer,this.digestLength),t&&(this.update(t),this._memory.fill(0,a,a+t.length),this._memory[this.pointer+200]=128)}function y(){}g.prototype._realloc=function(e){s.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(s.memory.buffer)},g.prototype.update=function(e){return o(!1===this.finalized,"Hash instance finalized"),o(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),a+e.length>this._memory.length&&this._realloc(a+e.length),this._memory.set(e,a),s.blake2b_update(this.pointer,a,a+e.length),this},g.prototype.final=g.prototype.digest=function(e){if(o(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,c.push(this.pointer),s.blake2b_final(this.pointer),!e||"binary"===e)return this._memory.slice(this.pointer+128,this.pointer+128+this.digestLength);if("string"==typeof e)return n.toString(this._memory,e,this.pointer+128,this.pointer+128+this.digestLength);o(e instanceof Uint8Array&&e.length>=this.digestLength,"input must be Uint8Array or Buffer");for(var t=0;t<this.digestLength;t++)e[t]=this._memory[this.pointer+128+t];return e},g.WASM=s,g.SUPPORTED="undefined"!=typeof WebAssembly,g.prototype.ready=g.ready=function(e){return e=e||y,i?i.then(()=>e(),e):e(new Error("WebAssembly not supported"))},g.prototype.getPartialHash=function(){return this._memory.slice(this.pointer,this.pointer+216)},g.prototype.setPartialHash=function(e){this._memory.set(e,this.pointer)}},{"./blake2b":185,b4a:175,nanoassert:394}],187:[function(e,t,r){var c=e("nanoassert"),n=e("blake2b-wasm");function u(e,t,r){var n=e[t]+e[r],r=e[t+1]+e[r+1];4294967296<=n&&r++,e[t]=n,e[t+1]=r}function h(e,t,r,n){var i=e[t]+r,r=(r<0&&(i+=4294967296),e[t+1]+n);4294967296<=i&&r++,e[t]=i,e[t+1]=r}function o(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function i(e,t,r,n,i,o){var s=f[i],i=f[i+1],a=f[o],o=f[o+1],s=(u(l,e,t),h(l,e,s,i),l[n]^l[e]),i=l[n+1]^l[e+1];l[n]=i,l[n+1]=s,u(l,r,n),s=l[t]^l[r],i=l[t+1]^l[r+1],l[t]=s>>>24^i<<8,l[t+1]=i>>>24^s<<8,u(l,e,t),h(l,e,a,o),s=l[n]^l[e],i=l[n+1]^l[e+1],l[n]=s>>>16^i<<16,l[n+1]=i>>>16^s<<16,u(l,r,n),s=l[t]^l[r],i=l[t+1]^l[r+1],l[t]=i>>>31^s<<1,l[t+1]=s>>>31^i<<1}var s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),a=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(e){return 2*e})),l=new Uint32Array(32),f=new Uint32Array(32);function d(e,t){for(var r=0,r=0;r<16;r++)l[r]=e.h[r],l[r+16]=s[r];for(l[24]=l[24]^e.t,l[25]=l[25]^e.t/4294967296,t&&(l[28]=~l[28],l[29]=~l[29]),r=0;r<32;r++)f[r]=o(e.b,4*r);for(r=0;r<12;r++)i(0,8,16,24,a[16*r+0],a[16*r+1]),i(2,10,18,26,a[16*r+2],a[16*r+3]),i(4,12,20,28,a[16*r+4],a[16*r+5]),i(6,14,22,30,a[16*r+6],a[16*r+7]),i(0,10,20,30,a[16*r+8],a[16*r+9]),i(2,12,22,24,a[16*r+10],a[16*r+11]),i(4,14,16,26,a[16*r+12],a[16*r+13]),i(6,8,18,28,a[16*r+14],a[16*r+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^l[r]^l[r+16]}var p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function g(e,t,r,n){p.fill(0),this.b=new Uint8Array(128),this.h=new Uint32Array(16),this.t=0,this.c=0,this.outlen=e,p[0]=e,t&&(p[1]=t.length),p[2]=1,p[3]=1,r&&p.set(r,32),n&&p.set(n,48);for(var i=0;i<16;i++)this.h[i]=s[i]^o(p,4*i);t&&(y(this,t),this.c=128)}function y(e,t){for(var r=0;r<t.length;r++)128===e.c&&(e.t+=e.c,d(e,!1),e.c=0),e.b[e.c++]=t[r]}g.prototype.update=function(e){return c(e instanceof Uint8Array,"input must be Uint8Array or Buffer"),y(this,e),this},g.prototype.final=g.prototype.digest=function(e){var t=e&&"binary"!==e&&"hex"!==e?e:new Uint8Array(this.outlen),r=(c(t instanceof Uint8Array,'out must be "binary", "hex", Uint8Array, or Buffer'),c(t.length>=this.outlen,"out must have at least outlen bytes of space"),this),n=t;for(r.t+=r.c;r.c<128;)r.b[r.c++]=0;d(r,!0);for(var i=0;i<r.outlen;i++)n[i]=r.h[i>>2]>>8*(3&i);if("hex"!==e)return t;for(var o=t,s="",a=0;a<o.length;a++)s+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(o[a]);return s},g.ready=function(e){n.ready(function(){e()})};var b=g,m=(t.exports=function(e,t,r,n,i){return!0!==i&&(c(m<=e,"outlen must be at least "+m+", was given "+e),c(e<=v,"outlen must be at most "+v+", was given "+e),null!=t&&(c(t instanceof Uint8Array,"key must be Uint8Array or Buffer"),c(t.length>=A,"key must be at least "+A+", was given "+t.length),c(t.length<=_,"key must be at most "+_+", was given "+t.length)),null!=r&&(c(r instanceof Uint8Array,"salt must be Uint8Array or Buffer"),c(r.length===w,"salt must be exactly "+w+", was given "+r.length)),null!=n&&(c(n instanceof Uint8Array,"personal must be Uint8Array or Buffer"),c(n.length===E,"personal must be exactly "+E+", was given "+n.length))),new b(e,t,r,n)},t.exports.ready=function(e){n.ready(function(){e()})},t.exports.WASM_SUPPORTED=n.SUPPORTED,t.exports.WASM_LOADED=!1,t.exports.BYTES_MIN=16),v=t.exports.BYTES_MAX=64,A=(t.exports.BYTES=32,t.exports.KEYBYTES_MIN=16),_=t.exports.KEYBYTES_MAX=64,w=(t.exports.KEYBYTES=32,t.exports.SALTBYTES=16),E=t.exports.PERSONALBYTES=16;n.ready(function(e){e||(t.exports.WASM_LOADED=!0,t.exports=n)})},{"blake2b-wasm":186,nanoassert:394}],188:[function(S,e,t){!function(e,t){"use strict";function g(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;function r(){}r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function y(e,t,r){if(y.isBN(e))return e;this.negative=0,this.words=null,this.length=0,(this.red=null)!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var n;"object"==typeof e?e.exports=y:t.BN=y,(y.BN=y).wordSize=26;try{n=("undefined"!=typeof window&&void 0!==window.Buffer?window:S("buffer")).Buffer}catch(e){}function i(e,t){e=e.charCodeAt(t);return 65<=e&&e<=70?e-55:97<=e&&e<=102?e-87:e-48&15}function a(e,t,r){var n=i(e,r);return t<=r-1&&(n|=i(e,r-1)<<4),n}function l(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++)var a=e.charCodeAt(s)-48,i=i*n+(49<=a?a-49+10:17<=a?a-17+10:a);return i}y.isBN=function(e){return e instanceof y||null!==e&&"object"==typeof e&&e.constructor.wordSize===y.wordSize&&Array.isArray(e.words)},y.max=function(e,t){return 0<e.cmp(t)?e:t},y.min=function(e,t){return e.cmp(t)<0?e:t},y.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);g((t="hex"===t?16:t)===(0|t)&&2<=t&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},y.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(g(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},y.prototype._initArray=function(e,t,r){if(g("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n,i,o=0;o<this.length;o++)this.words[o]=0;var s=0;if("be"===r)for(o=e.length-1,n=0;0<=o;o-=3)i=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[n]|=i<<s&67108863,this.words[n+1]=i>>>26-s&67108863,26<=(s+=24)&&(s-=26,n++);else if("le"===r)for(n=o=0;o<e.length;o+=3)i=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[n]|=i<<s&67108863,this.words[n+1]=i>>>26-s&67108863,26<=(s+=24)&&(s-=26,n++);return this.strip()},y.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;t<=n;n-=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,18<=o?(o-=18,this.words[s+=1]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,18<=o?(o-=18,this.words[s+=1]|=i>>>26):o+=8;this.strip()},y.prototype._parseBase=function(e,t,r){this.words=[0];for(var n=0,i=this.length=1;i<=67108863;i*=t)n++;for(var i=i/t|0,o=e.length-r,s=o%--n,a=Math.min(o,o-s)+r,c=0,u=r;u<a;u+=n)c=l(e,u,u+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!=s){for(var h=1,c=l(e,u,e.length,t),u=0;u<s;u++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},y.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},y.prototype.clone=function(){var e=new y(null);return this.copy(e),e},y.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},y.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},y.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},y.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function o(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0,n=(r.length=n)-1|0,i=(s=(0|e.words[0])*(0|t.words[0]))/67108864|0;r.words[0]=67108863&s;for(var o=1;o<n;o++){for(var s,a=i>>>26,c=67108863&i,u=Math.min(o,t.length-1),h=Math.max(0,o-e.length+1);h<=u;h++)a+=(s=(0|e.words[o-h|0])*(0|t.words[h])+c)/67108864|0,c=67108863&s;r.words[o]=0|c,i=0|a}return 0!==i?r.words[o]=0|i:r.length--,r.strip()}y.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){a="";for(var r=0,n=0,i=0;i<this.length;i++){var o=this.words[i],s=(16777215&(o<<r|n)).toString(16),a=0!==(n=o>>>24-r&16777215)||i!==this.length-1?f[6-s.length]+s+a:s+a;26<=(r+=2)&&(r-=26,i--)}for(0!==n&&(a=n.toString(16)+a);a.length%t!=0;)a="0"+a;return a=0!==this.negative?"-"+a:a}if(e===(0|e)&&2<=e&&e<=36){var c=d[e],u=p[e];for(a="",(h=this.clone()).negative=0;!h.isZero();){var h,l=h.modn(u).toString(e);a=(h=h.idivn(u)).isZero()?l+a:f[c-l.length]+l+a}for(this.isZero()&&(a="0"+a);a.length%t!=0;)a="0"+a;return a=0!==this.negative?"-"+a:a}g(!1,"Base should be between 2 and 36")},y.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:2<this.length&&g(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},y.prototype.toJSON=function(){return this.toString(16)},y.prototype.toBuffer=function(e,t){return g(void 0!==n),this.toArrayLike(n,e,t)},y.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},y.prototype.toArrayLike=function(e,t,r){var n,i,o=this.byteLength(),s=r||Math.max(1,o),r=(g(o<=s,"byte array longer than desired length"),g(0<s,"Requested array length <= 0"),this.strip(),"le"===t),a=new e(s),c=this.clone();if(r){for(i=0;!c.isZero();i++)n=c.andln(255),c.iushrn(8),a[i]=n;for(;i<s;i++)a[i]=0}else{for(i=0;i<s-o;i++)a[i]=0;for(i=0;!c.isZero();i++)n=c.andln(255),c.iushrn(8),a[s-i-1]=n}return a},Math.clz32?y.prototype._countBits=function(e){return 32-Math.clz32(e)}:y.prototype._countBits=function(e){var t=0;return 4096<=e&&(t+=13,e>>>=13),64<=e&&(t+=7,e>>>=7),8<=e&&(t+=4,e>>>=4),2<=e&&(t+=2,e>>>=2),t+e},y.prototype._zeroBits=function(e){var t;return 0===e?26:((t=0)==(8191&(e=e))&&(t+=13,e>>>=13),0==(127&e)&&(t+=7,e>>>=7),0==(15&e)&&(t+=4,e>>>=4),0==(3&e)&&(t+=2,e>>>=2),0==(1&e)&&t++,t)},y.prototype.bitLength=function(){var e=this.words[this.length-1],e=this._countBits(e);return 26*(this.length-1)+e},y.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},y.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},y.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},y.prototype.isNeg=function(){return 0!==this.negative},y.prototype.neg=function(){return this.clone().ineg()},y.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},y.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},y.prototype.ior=function(e){return g(0==(this.negative|e.negative)),this.iuor(e)},y.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},y.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},y.prototype.iuand=function(e){for(var t=this.length>e.length?e:this,r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},y.prototype.iand=function(e){return g(0==(this.negative|e.negative)),this.iuand(e)},y.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},y.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},y.prototype.iuxor=function(e){for(var t,r=this.length>e.length?(t=this,e):(t=e,this),n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},y.prototype.ixor=function(e){return g(0==(this.negative|e.negative)),this.iuxor(e)},y.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},y.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},y.prototype.inotn=function(e){g("number"==typeof e&&0<=e);var t=0|Math.ceil(e/26),e=e%26;this._expand(t),0<e&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return 0<e&&(this.words[r]=~this.words[r]&67108863>>26-e),this.strip()},y.prototype.notn=function(e){return this.clone().inotn(e)},y.prototype.setn=function(e,t){g("number"==typeof e&&0<=e);var r=e/26|0,e=e%26;return this._expand(1+r),this.words[r]=t?this.words[r]|1<<e:this.words[r]&~(1<<e),this.strip()},y.prototype.iadd=function(e){var t,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();for(var n=this.length>e.length?(r=this,e):(r=e,this),i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},y.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},y.prototype.isub=function(e){var t;if(0!==e.negative)return e.negative=0,t=this.iadd(e),e.negative=1,t._normSign();if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;for(var i=0<n?(r=this,e):(r=e,this),o=0,s=0;s<i.length;s++)o=(t=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},y.prototype.sub=function(e){return this.clone().isub(e)};var s=function(e,D,N){var t,r=e.words,n=D.words,i=N.words,o=0|r[0],s=8191&o,o=o>>>13,a=0|r[1],c=8191&a,a=a>>>13,u=0|r[2],h=8191&u,u=u>>>13,l=0|r[3],f=8191&l,l=l>>>13,d=0|r[4],p=8191&d,d=d>>>13,g=0|r[5],y=8191&g,g=g>>>13,b=0|r[6],m=8191&b,b=b>>>13,v=0|r[7],A=8191&v,v=v>>>13,_=0|r[8],F=8191&_,_=_>>>13,r=0|r[9],j=8191&r,r=r>>>13,w=0|n[0],E=8191&w,w=w>>>13,S=0|n[1],k=8191&S,S=S>>>13,I=0|n[2],C=8191&I,I=I>>>13,B=0|n[3],U=8191&B,B=B>>>13,x=0|n[4],J=8191&x,x=x>>>13,T=0|n[5],Q=8191&T,T=T>>>13,M=0|n[6],H=8191&M,M=M>>>13,P=0|n[7],K=8191&P,P=P>>>13,O=0|n[8],G=8191&O,O=O>>>13,n=0|n[9],z=8191&n,n=n>>>13,D=(N.negative=e.negative^D.negative,N.length=19,(0+Math.imul(s,E)|0)+((8191&(e=Math.imul(s,w)+Math.imul(o,E)|0))<<13)|0),L=(Math.imul(o,w)+(e>>>13)|0)+(D>>>26)|0;D&=67108863,t=Math.imul(c,E),e=Math.imul(c,w)+Math.imul(a,E)|0,R=Math.imul(a,w);var R,X=(L+(t+Math.imul(s,k)|0)|0)+((8191&(e=(e+Math.imul(s,S)|0)+Math.imul(o,k)|0))<<13)|0,q=(L=((R+Math.imul(o,S)|0)+(e>>>13)|0)+(X>>>26)|0,X&=67108863,t=Math.imul(h,E),e=Math.imul(h,w)+Math.imul(u,E)|0,R=Math.imul(u,w),t=t+Math.imul(c,k)|0,e=(e+Math.imul(c,S)|0)+Math.imul(a,k)|0,R=R+Math.imul(a,S)|0,(L+(t+Math.imul(s,C)|0)|0)+((8191&(e=(e+Math.imul(s,I)|0)+Math.imul(o,C)|0))<<13)|0),V=(L=((R+Math.imul(o,I)|0)+(e>>>13)|0)+(q>>>26)|0,q&=67108863,t=Math.imul(f,E),e=Math.imul(f,w)+Math.imul(l,E)|0,R=Math.imul(l,w),t=t+Math.imul(h,k)|0,e=(e+Math.imul(h,S)|0)+Math.imul(u,k)|0,R=R+Math.imul(u,S)|0,t=t+Math.imul(c,C)|0,e=(e+Math.imul(c,I)|0)+Math.imul(a,C)|0,R=R+Math.imul(a,I)|0,(L+(t+Math.imul(s,U)|0)|0)+((8191&(e=(e+Math.imul(s,B)|0)+Math.imul(o,U)|0))<<13)|0),Y=(L=((R+Math.imul(o,B)|0)+(e>>>13)|0)+(V>>>26)|0,V&=67108863,t=Math.imul(p,E),e=Math.imul(p,w)+Math.imul(d,E)|0,R=Math.imul(d,w),t=t+Math.imul(f,k)|0,e=(e+Math.imul(f,S)|0)+Math.imul(l,k)|0,R=R+Math.imul(l,S)|0,t=t+Math.imul(h,C)|0,e=(e+Math.imul(h,I)|0)+Math.imul(u,C)|0,R=R+Math.imul(u,I)|0,t=t+Math.imul(c,U)|0,e=(e+Math.imul(c,B)|0)+Math.imul(a,U)|0,R=R+Math.imul(a,B)|0,(L+(t+Math.imul(s,J)|0)|0)+((8191&(e=(e+Math.imul(s,x)|0)+Math.imul(o,J)|0))<<13)|0),Z=(L=((R+Math.imul(o,x)|0)+(e>>>13)|0)+(Y>>>26)|0,Y&=67108863,t=Math.imul(y,E),e=Math.imul(y,w)+Math.imul(g,E)|0,R=Math.imul(g,w),t=t+Math.imul(p,k)|0,e=(e+Math.imul(p,S)|0)+Math.imul(d,k)|0,R=R+Math.imul(d,S)|0,t=t+Math.imul(f,C)|0,e=(e+Math.imul(f,I)|0)+Math.imul(l,C)|0,R=R+Math.imul(l,I)|0,t=t+Math.imul(h,U)|0,e=(e+Math.imul(h,B)|0)+Math.imul(u,U)|0,R=R+Math.imul(u,B)|0,t=t+Math.imul(c,J)|0,e=(e+Math.imul(c,x)|0)+Math.imul(a,J)|0,R=R+Math.imul(a,x)|0,(L+(t+Math.imul(s,Q)|0)|0)+((8191&(e=(e+Math.imul(s,T)|0)+Math.imul(o,Q)|0))<<13)|0),W=(L=((R+Math.imul(o,T)|0)+(e>>>13)|0)+(Z>>>26)|0,Z&=67108863,t=Math.imul(m,E),e=Math.imul(m,w)+Math.imul(b,E)|0,R=Math.imul(b,w),t=t+Math.imul(y,k)|0,e=(e+Math.imul(y,S)|0)+Math.imul(g,k)|0,R=R+Math.imul(g,S)|0,t=t+Math.imul(p,C)|0,e=(e+Math.imul(p,I)|0)+Math.imul(d,C)|0,R=R+Math.imul(d,I)|0,t=t+Math.imul(f,U)|0,e=(e+Math.imul(f,B)|0)+Math.imul(l,U)|0,R=R+Math.imul(l,B)|0,t=t+Math.imul(h,J)|0,e=(e+Math.imul(h,x)|0)+Math.imul(u,J)|0,R=R+Math.imul(u,x)|0,t=t+Math.imul(c,Q)|0,e=(e+Math.imul(c,T)|0)+Math.imul(a,Q)|0,R=R+Math.imul(a,T)|0,(L+(t+Math.imul(s,H)|0)|0)+((8191&(e=(e+Math.imul(s,M)|0)+Math.imul(o,H)|0))<<13)|0),$=(L=((R+Math.imul(o,M)|0)+(e>>>13)|0)+(W>>>26)|0,W&=67108863,t=Math.imul(A,E),e=Math.imul(A,w)+Math.imul(v,E)|0,R=Math.imul(v,w),t=t+Math.imul(m,k)|0,e=(e+Math.imul(m,S)|0)+Math.imul(b,k)|0,R=R+Math.imul(b,S)|0,t=t+Math.imul(y,C)|0,e=(e+Math.imul(y,I)|0)+Math.imul(g,C)|0,R=R+Math.imul(g,I)|0,t=t+Math.imul(p,U)|0,e=(e+Math.imul(p,B)|0)+Math.imul(d,U)|0,R=R+Math.imul(d,B)|0,t=t+Math.imul(f,J)|0,e=(e+Math.imul(f,x)|0)+Math.imul(l,J)|0,R=R+Math.imul(l,x)|0,t=t+Math.imul(h,Q)|0,e=(e+Math.imul(h,T)|0)+Math.imul(u,Q)|0,R=R+Math.imul(u,T)|0,t=t+Math.imul(c,H)|0,e=(e+Math.imul(c,M)|0)+Math.imul(a,H)|0,R=R+Math.imul(a,M)|0,(L+(t+Math.imul(s,K)|0)|0)+((8191&(e=(e+Math.imul(s,P)|0)+Math.imul(o,K)|0))<<13)|0),ee=(L=((R+Math.imul(o,P)|0)+(e>>>13)|0)+($>>>26)|0,$&=67108863,t=Math.imul(F,E),e=Math.imul(F,w)+Math.imul(_,E)|0,R=Math.imul(_,w),t=t+Math.imul(A,k)|0,e=(e+Math.imul(A,S)|0)+Math.imul(v,k)|0,R=R+Math.imul(v,S)|0,t=t+Math.imul(m,C)|0,e=(e+Math.imul(m,I)|0)+Math.imul(b,C)|0,R=R+Math.imul(b,I)|0,t=t+Math.imul(y,U)|0,e=(e+Math.imul(y,B)|0)+Math.imul(g,U)|0,R=R+Math.imul(g,B)|0,t=t+Math.imul(p,J)|0,e=(e+Math.imul(p,x)|0)+Math.imul(d,J)|0,R=R+Math.imul(d,x)|0,t=t+Math.imul(f,Q)|0,e=(e+Math.imul(f,T)|0)+Math.imul(l,Q)|0,R=R+Math.imul(l,T)|0,t=t+Math.imul(h,H)|0,e=(e+Math.imul(h,M)|0)+Math.imul(u,H)|0,R=R+Math.imul(u,M)|0,t=t+Math.imul(c,K)|0,e=(e+Math.imul(c,P)|0)+Math.imul(a,K)|0,R=R+Math.imul(a,P)|0,(L+(t+Math.imul(s,G)|0)|0)+((8191&(e=(e+Math.imul(s,O)|0)+Math.imul(o,G)|0))<<13)|0),E=(L=((R+Math.imul(o,O)|0)+(e>>>13)|0)+(ee>>>26)|0,ee&=67108863,t=Math.imul(j,E),e=Math.imul(j,w)+Math.imul(r,E)|0,R=Math.imul(r,w),t=t+Math.imul(F,k)|0,e=(e+Math.imul(F,S)|0)+Math.imul(_,k)|0,R=R+Math.imul(_,S)|0,t=t+Math.imul(A,C)|0,e=(e+Math.imul(A,I)|0)+Math.imul(v,C)|0,R=R+Math.imul(v,I)|0,t=t+Math.imul(m,U)|0,e=(e+Math.imul(m,B)|0)+Math.imul(b,U)|0,R=R+Math.imul(b,B)|0,t=t+Math.imul(y,J)|0,e=(e+Math.imul(y,x)|0)+Math.imul(g,J)|0,R=R+Math.imul(g,x)|0,t=t+Math.imul(p,Q)|0,e=(e+Math.imul(p,T)|0)+Math.imul(d,Q)|0,R=R+Math.imul(d,T)|0,t=t+Math.imul(f,H)|0,e=(e+Math.imul(f,M)|0)+Math.imul(l,H)|0,R=R+Math.imul(l,M)|0,t=t+Math.imul(h,K)|0,e=(e+Math.imul(h,P)|0)+Math.imul(u,K)|0,R=R+Math.imul(u,P)|0,t=t+Math.imul(c,G)|0,e=(e+Math.imul(c,O)|0)+Math.imul(a,G)|0,R=R+Math.imul(a,O)|0,(L+(t+Math.imul(s,z)|0)|0)+((8191&(e=(e+Math.imul(s,n)|0)+Math.imul(o,z)|0))<<13)|0),w=(L=((R+Math.imul(o,n)|0)+(e>>>13)|0)+(E>>>26)|0,E&=67108863,t=Math.imul(j,k),e=Math.imul(j,S)+Math.imul(r,k)|0,R=Math.imul(r,S),t=t+Math.imul(F,C)|0,e=(e+Math.imul(F,I)|0)+Math.imul(_,C)|0,R=R+Math.imul(_,I)|0,t=t+Math.imul(A,U)|0,e=(e+Math.imul(A,B)|0)+Math.imul(v,U)|0,R=R+Math.imul(v,B)|0,t=t+Math.imul(m,J)|0,e=(e+Math.imul(m,x)|0)+Math.imul(b,J)|0,R=R+Math.imul(b,x)|0,t=t+Math.imul(y,Q)|0,e=(e+Math.imul(y,T)|0)+Math.imul(g,Q)|0,R=R+Math.imul(g,T)|0,t=t+Math.imul(p,H)|0,e=(e+Math.imul(p,M)|0)+Math.imul(d,H)|0,R=R+Math.imul(d,M)|0,t=t+Math.imul(f,K)|0,e=(e+Math.imul(f,P)|0)+Math.imul(l,K)|0,R=R+Math.imul(l,P)|0,t=t+Math.imul(h,G)|0,e=(e+Math.imul(h,O)|0)+Math.imul(u,G)|0,R=R+Math.imul(u,O)|0,(L+(t+Math.imul(c,z)|0)|0)+((8191&(e=(e+Math.imul(c,n)|0)+Math.imul(a,z)|0))<<13)|0),s=(L=((R+Math.imul(a,n)|0)+(e>>>13)|0)+(w>>>26)|0,w&=67108863,t=Math.imul(j,C),e=Math.imul(j,I)+Math.imul(r,C)|0,R=Math.imul(r,I),t=t+Math.imul(F,U)|0,e=(e+Math.imul(F,B)|0)+Math.imul(_,U)|0,R=R+Math.imul(_,B)|0,t=t+Math.imul(A,J)|0,e=(e+Math.imul(A,x)|0)+Math.imul(v,J)|0,R=R+Math.imul(v,x)|0,t=t+Math.imul(m,Q)|0,e=(e+Math.imul(m,T)|0)+Math.imul(b,Q)|0,R=R+Math.imul(b,T)|0,t=t+Math.imul(y,H)|0,e=(e+Math.imul(y,M)|0)+Math.imul(g,H)|0,R=R+Math.imul(g,M)|0,t=t+Math.imul(p,K)|0,e=(e+Math.imul(p,P)|0)+Math.imul(d,K)|0,R=R+Math.imul(d,P)|0,t=t+Math.imul(f,G)|0,e=(e+Math.imul(f,O)|0)+Math.imul(l,G)|0,R=R+Math.imul(l,O)|0,(L+(t+Math.imul(h,z)|0)|0)+((8191&(e=(e+Math.imul(h,n)|0)+Math.imul(u,z)|0))<<13)|0),o=(L=((R+Math.imul(u,n)|0)+(e>>>13)|0)+(s>>>26)|0,s&=67108863,t=Math.imul(j,U),e=Math.imul(j,B)+Math.imul(r,U)|0,R=Math.imul(r,B),t=t+Math.imul(F,J)|0,e=(e+Math.imul(F,x)|0)+Math.imul(_,J)|0,R=R+Math.imul(_,x)|0,t=t+Math.imul(A,Q)|0,e=(e+Math.imul(A,T)|0)+Math.imul(v,Q)|0,R=R+Math.imul(v,T)|0,t=t+Math.imul(m,H)|0,e=(e+Math.imul(m,M)|0)+Math.imul(b,H)|0,R=R+Math.imul(b,M)|0,t=t+Math.imul(y,K)|0,e=(e+Math.imul(y,P)|0)+Math.imul(g,K)|0,R=R+Math.imul(g,P)|0,t=t+Math.imul(p,G)|0,e=(e+Math.imul(p,O)|0)+Math.imul(d,G)|0,R=R+Math.imul(d,O)|0,(L+(t+Math.imul(f,z)|0)|0)+((8191&(e=(e+Math.imul(f,n)|0)+Math.imul(l,z)|0))<<13)|0),k=(L=((R+Math.imul(l,n)|0)+(e>>>13)|0)+(o>>>26)|0,o&=67108863,t=Math.imul(j,J),e=Math.imul(j,x)+Math.imul(r,J)|0,R=Math.imul(r,x),t=t+Math.imul(F,Q)|0,e=(e+Math.imul(F,T)|0)+Math.imul(_,Q)|0,R=R+Math.imul(_,T)|0,t=t+Math.imul(A,H)|0,e=(e+Math.imul(A,M)|0)+Math.imul(v,H)|0,R=R+Math.imul(v,M)|0,t=t+Math.imul(m,K)|0,e=(e+Math.imul(m,P)|0)+Math.imul(b,K)|0,R=R+Math.imul(b,P)|0,t=t+Math.imul(y,G)|0,e=(e+Math.imul(y,O)|0)+Math.imul(g,G)|0,R=R+Math.imul(g,O)|0,(L+(t+Math.imul(p,z)|0)|0)+((8191&(e=(e+Math.imul(p,n)|0)+Math.imul(d,z)|0))<<13)|0),S=(L=((R+Math.imul(d,n)|0)+(e>>>13)|0)+(k>>>26)|0,k&=67108863,t=Math.imul(j,Q),e=Math.imul(j,T)+Math.imul(r,Q)|0,R=Math.imul(r,T),t=t+Math.imul(F,H)|0,e=(e+Math.imul(F,M)|0)+Math.imul(_,H)|0,R=R+Math.imul(_,M)|0,t=t+Math.imul(A,K)|0,e=(e+Math.imul(A,P)|0)+Math.imul(v,K)|0,R=R+Math.imul(v,P)|0,t=t+Math.imul(m,G)|0,e=(e+Math.imul(m,O)|0)+Math.imul(b,G)|0,R=R+Math.imul(b,O)|0,(L+(t+Math.imul(y,z)|0)|0)+((8191&(e=(e+Math.imul(y,n)|0)+Math.imul(g,z)|0))<<13)|0),c=(L=((R+Math.imul(g,n)|0)+(e>>>13)|0)+(S>>>26)|0,S&=67108863,t=Math.imul(j,H),e=Math.imul(j,M)+Math.imul(r,H)|0,R=Math.imul(r,M),t=t+Math.imul(F,K)|0,e=(e+Math.imul(F,P)|0)+Math.imul(_,K)|0,R=R+Math.imul(_,P)|0,t=t+Math.imul(A,G)|0,e=(e+Math.imul(A,O)|0)+Math.imul(v,G)|0,R=R+Math.imul(v,O)|0,(L+(t+Math.imul(m,z)|0)|0)+((8191&(e=(e+Math.imul(m,n)|0)+Math.imul(b,z)|0))<<13)|0),a=(L=((R+Math.imul(b,n)|0)+(e>>>13)|0)+(c>>>26)|0,c&=67108863,t=Math.imul(j,K),e=Math.imul(j,P)+Math.imul(r,K)|0,R=Math.imul(r,P),t=t+Math.imul(F,G)|0,e=(e+Math.imul(F,O)|0)+Math.imul(_,G)|0,R=R+Math.imul(_,O)|0,(L+(t+Math.imul(A,z)|0)|0)+((8191&(e=(e+Math.imul(A,n)|0)+Math.imul(v,z)|0))<<13)|0),C=(L=((R+Math.imul(v,n)|0)+(e>>>13)|0)+(a>>>26)|0,a&=67108863,t=Math.imul(j,G),e=Math.imul(j,O)+Math.imul(r,G)|0,R=Math.imul(r,O),(L+(t+Math.imul(F,z)|0)|0)+((8191&(e=(e+Math.imul(F,n)|0)+Math.imul(_,z)|0))<<13)|0),I=(L=((R+Math.imul(_,n)|0)+(e>>>13)|0)+(C>>>26)|0,C&=67108863,(L+Math.imul(j,z)|0)+((8191&(e=Math.imul(j,n)+Math.imul(r,z)|0))<<13)|0);return L=(Math.imul(r,n)+(e>>>13)|0)+(I>>>26)|0,I&=67108863,i[0]=D,i[1]=X,i[2]=q,i[3]=V,i[4]=Y,i[5]=Z,i[6]=W,i[7]=$,i[8]=ee,i[9]=E,i[10]=w,i[11]=s,i[12]=o,i[13]=k,i[14]=S,i[15]=c,i[16]=a,i[17]=C,i[18]=I,0!=L&&(i[19]=L,N.length++),N};function c(e,t,r){return(new u).mulp(e,t,r)}function u(e,t){this.x=e,this.y=t}Math.imul||(s=o),y.prototype.mulTo=function(e,t){var r=this.length+e.length,r=(10===this.length&&10===e.length?s:r<63?o:r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){for(var s=i,i=0,a=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var h,l=(0|e.words[o-u])*(0|t.words[u]),a=67108863&(h=(67108863&l)+a|0);i+=(s=(s=s+(l/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}:c)(this,e,t);return r},u.prototype.makeRBT=function(e){for(var t=new Array(e),r=y.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},u.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},u.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},u.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,c=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var l=c,f=u,d=0;d<s;d++){var p=r[h+d],g=n[h+d],y=r[h+d+s],b=l*y-f*(m=n[h+d+s]),m=l*m+f*y;r[h+d]=p+(y=b),n[h+d]=g+m,r[h+d+s]=p-y,n[h+d+s]=g-m,d!==a&&(b=c*l-u*f,f=c*f+u*l,l=b)}},u.prototype.guessLen13b=function(e,t){for(var t=1&(n=1|Math.max(t,e)),r=0,n=n/2|0;n;n>>>=1)r++;return 1<<r+1+t},u.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},u.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},u.prototype.convert13b=function(e,t,r,n){for(var i=0,o=0;o<t;o++)i+=0|e[o],r[2*o]=8191&i,r[2*o+1]=8191&(i>>>=13),i>>>=13;for(o=2*t;o<n;++o)r[o]=0;g(0===i),g(0==(-8192&i))},u.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},u.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),c=new Array(n),u=new Array(n),h=new Array(n),l=new Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,o,a,c,n,i),this.transform(u,o,h,l,n,i);for(var d=0;d<n;d++){var p=a[d]*h[d]-c[d]*l[d];c[d]=a[d]*l[d]+c[d]*h[d],a[d]=p}return this.conjugate(a,c,n),this.transform(a,c,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},y.prototype.mul=function(e){var t=new y(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},y.prototype.mulf=function(e){var t=new y(null);return t.words=new Array(this.length+e.length),c(this,e,t)},y.prototype.imul=function(e){return this.clone().mulTo(e,this)},y.prototype.imuln=function(e){g("number"==typeof e),g(e<67108864);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,i=(67108863&n)+(67108863&t),t=(t>>=26)+(n/67108864|0)+(i>>>26);this.words[r]=67108863&i}return 0!==t&&(this.words[r]=t,this.length++),this},y.prototype.muln=function(e){return this.clone().imuln(e)},y.prototype.sqr=function(){return this.mul(this)},y.prototype.isqr=function(){return this.imul(this.clone())},y.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r%26;t[r]=(e.words[r/26|0]&1<<n)>>>n}return t}(e);if(0===t.length)return new y(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},y.prototype.iushln=function(e){g("number"==typeof e&&0<=e);var t=e%26,r=(e-t)/26,n=67108863>>>26-t<<26-t;if(0!=t){for(var i=0,o=0;o<this.length;o++){var s=this.words[o]&n,a=(0|this.words[o])-s<<t;this.words[o]=a|i,i=s>>>26-t}i&&(this.words[o]=i,this.length++)}if(0!=r){for(o=this.length-1;0<=o;o--)this.words[o+r]=this.words[o];for(o=0;o<r;o++)this.words[o]=0;this.length+=r}return this.strip()},y.prototype.ishln=function(e){return g(0===this.negative),this.iushln(e)},y.prototype.iushrn=function(e,t,r){g("number"==typeof e&&0<=e),n=t?(t-t%26)/26:0;var n,i=e%26,o=Math.min((e-i)/26,this.length),s=67108863^67108863>>>i<<i,a=r;if(n-=o,n=Math.max(0,n),a){for(var c=0;c<o;c++)a.words[c]=this.words[c];a.length=o}if(0!==o)if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;for(var u=0,c=this.length-1;0<=c&&(0!==u||n<=c);c--){var h=0|this.words[c];this.words[c]=u<<26-i|h>>>i,u=h&s}return a&&0!==u&&(a.words[a.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},y.prototype.ishrn=function(e,t,r){return g(0===this.negative),this.iushrn(e,t,r)},y.prototype.shln=function(e){return this.clone().ishln(e)},y.prototype.ushln=function(e){return this.clone().iushln(e)},y.prototype.shrn=function(e){return this.clone().ishrn(e)},y.prototype.ushrn=function(e){return this.clone().iushrn(e)},y.prototype.testn=function(e){g("number"==typeof e&&0<=e);var t=e%26,e=(e-t)/26;return!(this.length<=e)&&!!(this.words[e]&1<<t)},y.prototype.imaskn=function(e){g("number"==typeof e&&0<=e);var t=e%26,e=(e-t)/26;return g(0===this.negative,"imaskn works only with positive numbers"),this.length<=e?this:(0!=t&&e++,this.length=Math.min(e,this.length),0!=t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this.strip())},y.prototype.maskn=function(e){return this.clone().imaskn(e)},y.prototype.iaddn=function(e){return g("number"==typeof e),g(e<67108864),e<0?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},y.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&67108864<=this.words[t];t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},y.prototype.isubn=function(e){if(g("number"==typeof e),g(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,--this.words[t+1];return this.strip()},y.prototype.addn=function(e){return this.clone().iaddn(e)},y.prototype.subn=function(e){return this.clone().isubn(e)},y.prototype.iabs=function(){return this.negative=0,this},y.prototype.abs=function(){return this.clone().iabs()},y.prototype._ishlnsubmul=function(e,t,r){for(var n=e.length+r,i=(this._expand(n),0),o=0;o<e.length;o++){var s=(0|this.words[o+r])+i,a=(0|e.words[o])*t,i=((s-=67108863&a)>>26)-(a/67108864|0);this.words[o+r]=67108863&s}for(;o<this.length-r;o++)i=(s=(0|this.words[o+r])+i)>>26,this.words[o+r]=67108863&s;if(0!==i){for(g(-1===i),o=i=0;o<this.length;o++)i=(s=-(0|this.words[o])+i)>>26,this.words[o]=67108863&s;this.negative=1}return this.strip()},y.prototype._wordDiv=function(e,t){this.length,e.length;var r,n=this.clone(),i=e,o=0|i.words[i.length-1],s=(0!=(e=26-this._countBits(o))&&(i=i.ushln(e),n.iushln(e),o=0|i.words[i.length-1]),n.length-i.length);if("mod"!==t){(r=new y(null)).length=1+s,r.words=new Array(r.length);for(var a=0;a<r.length;a++)r.words[a]=0}var c=n.clone()._ishlnsubmul(i,1,s);0===c.negative&&(n=c,r&&(r.words[s]=1));for(var u=s-1;0<=u;u--){var h=67108864*(0|n.words[i.length+u])+(0|n.words[i.length+u-1]),h=Math.min(h/o|0,67108863);for(n._ishlnsubmul(i,h,u);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,u),n.isZero()||(n.negative^=1);r&&(r.words[u]=h)}return r&&r.strip(),n.strip(),"div"!==t&&0!=e&&n.iushrn(e),{div:r||null,mod:n}},y.prototype.divmod=function(e,t,r){var n,i,o;return g(!e.isZero()),this.isZero()?{div:new y(0),mod:new y(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(n=o.div.neg()),"div"!==t&&(i=o.mod.neg(),r&&0!==i.negative&&i.iadd(e)),{div:n,mod:i}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),{div:n="mod"!==t?o.div.neg():n,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(i=o.mod.neg(),r&&0!==i.negative&&i.isub(e)),{div:o.div,mod:i}):e.length>this.length||this.cmp(e)<0?{div:new y(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new y(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new y(this.modn(e.words[0]))}:this._wordDiv(e,t)},y.prototype.div=function(e){return this.divmod(e,"div",!1).div},y.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},y.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},y.prototype.divRound=function(e){var t,r,n=this.divmod(e);return n.mod.isZero()||(r=0!==n.div.negative?n.mod.isub(e):n.mod,t=e.ushrn(1),e=e.andln(1),(r=r.cmp(t))<0||1===e&&0===r)?n.div:0!==n.div.negative?n.div.isubn(1):n.div.iaddn(1)},y.prototype.modn=function(e){g(e<=67108863);for(var t=(1<<26)%e,r=0,n=this.length-1;0<=n;n--)r=(t*r+(0|this.words[n]))%e;return r},y.prototype.idivn=function(e){g(e<=67108863);for(var t=0,r=this.length-1;0<=r;r--){var n=(0|this.words[r])+67108864*t;this.words[r]=n/e|0,t=n%e}return this.strip()},y.prototype.divn=function(e){return this.clone().idivn(e)},y.prototype.egcd=function(e){g(0===e.negative),g(!e.isZero());for(var t=this,r=e.clone(),t=0!==t.negative?t.umod(e):t.clone(),n=new y(1),i=new y(0),o=new y(0),s=new y(1),a=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++a;for(var c=r.clone(),u=t.clone();!t.isZero();){for(var h=0,l=1;0==(t.words[0]&l)&&h<26;++h,l<<=1);if(0<h)for(t.iushrn(h);0<h--;)(n.isOdd()||i.isOdd())&&(n.iadd(c),i.isub(u)),n.iushrn(1),i.iushrn(1);for(var f=0,d=1;0==(r.words[0]&d)&&f<26;++f,d<<=1);if(0<f)for(r.iushrn(f);0<f--;)(o.isOdd()||s.isOdd())&&(o.iadd(c),s.isub(u)),o.iushrn(1),s.iushrn(1);0<=t.cmp(r)?(t.isub(r),n.isub(o),i.isub(s)):(r.isub(t),o.isub(n),s.isub(i))}return{a:o,b:s,gcd:r.iushln(a)}},y.prototype._invmp=function(e){g(0===e.negative),g(!e.isZero());for(var t,r=this,n=e.clone(),r=0!==r.negative?r.umod(e):r.clone(),i=new y(1),o=new y(0),s=n.clone();0<r.cmpn(1)&&0<n.cmpn(1);){for(var a=0,c=1;0==(r.words[0]&c)&&a<26;++a,c<<=1);if(0<a)for(r.iushrn(a);0<a--;)i.isOdd()&&i.iadd(s),i.iushrn(1);for(var u=0,h=1;0==(n.words[0]&h)&&u<26;++u,h<<=1);if(0<u)for(n.iushrn(u);0<u--;)o.isOdd()&&o.iadd(s),o.iushrn(1);0<=r.cmp(n)?(r.isub(n),i.isub(o)):(n.isub(r),o.isub(i))}return(t=0===r.cmpn(1)?i:o).cmpn(0)<0&&t.iadd(e),t},y.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0;for(var n=r.negative=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0)var o=t,t=r,r=o;else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},y.prototype.invm=function(e){return this.egcd(e).a.umod(e)},y.prototype.isEven=function(){return 0==(1&this.words[0])},y.prototype.isOdd=function(){return 1==(1&this.words[0])},y.prototype.andln=function(e){return this.words[0]&e},y.prototype.bincn=function(e){g("number"==typeof e);var t=e%26,e=(e-t)/26,t=1<<t;if(this.length<=e)this._expand(1+e),this.words[e]|=t;else{for(var r=t,n=e;0!==r&&n<this.length;n++){var i=0|this.words[n],r=(i+=r)>>>26;i&=67108863,this.words[n]=i}0!==r&&(this.words[n]=r,this.length++)}return this},y.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},y.prototype.cmpn=function(e){var t=e<0;return 0===this.negative||t?0===this.negative&&t?1:(this.strip(),t=1<this.length?1:(g((e=t?-e:e)<=67108863,"Number is too big"),(t=0|this.words[0])===e?0:t<e?-1:1),0!==this.negative?0|-t:t):-1},y.prototype.cmp=function(e){return 0!==this.negative&&0===e.negative?-1:0===this.negative&&0!==e.negative?1:(e=this.ucmp(e),0!==this.negative?0|-e:e)},y.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;0<=r;r--){var n=0|this.words[r],i=0|e.words[r];if(n!=i){n<i?t=-1:i<n&&(t=1);break}}return t},y.prototype.gtn=function(e){return 1===this.cmpn(e)},y.prototype.gt=function(e){return 1===this.cmp(e)},y.prototype.gten=function(e){return 0<=this.cmpn(e)},y.prototype.gte=function(e){return 0<=this.cmp(e)},y.prototype.ltn=function(e){return-1===this.cmpn(e)},y.prototype.lt=function(e){return-1===this.cmp(e)},y.prototype.lten=function(e){return this.cmpn(e)<=0},y.prototype.lte=function(e){return this.cmp(e)<=0},y.prototype.eqn=function(e){return 0===this.cmpn(e)},y.prototype.eq=function(e){return 0===this.cmp(e)},y.red=function(e){return new w(e)},y.prototype.toRed=function(e){return g(!this.red,"Already a number in reduction context"),g(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},y.prototype.fromRed=function(){return g(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},y.prototype._forceRed=function(e){return this.red=e,this},y.prototype.forceRed=function(e){return g(!this.red,"Already a number in reduction context"),this._forceRed(e)},y.prototype.redAdd=function(e){return g(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},y.prototype.redIAdd=function(e){return g(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},y.prototype.redSub=function(e){return g(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},y.prototype.redISub=function(e){return g(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},y.prototype.redShl=function(e){return g(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},y.prototype.redMul=function(e){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},y.prototype.redIMul=function(e){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},y.prototype.redSqr=function(){return g(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},y.prototype.redISqr=function(){return g(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},y.prototype.redSqrt=function(){return g(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},y.prototype.redInvm=function(){return g(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},y.prototype.redNeg=function(){return g(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},y.prototype.redPow=function(e){return g(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var h={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new y(t,16),this.n=this.p.bitLength(),this.k=new y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function m(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(e){var t;"string"==typeof e?(t=y._prime(e),this.m=t.p,this.prime=t):(g(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null)}function E(e){w.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new y(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){for(var t,r=e;this.split(r,this.tmp),(t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength())>this.n;);e=t<this.n?-1:r.ucmp(this.p);return 0===e?(r.words[0]=0,r.length=1):0<e?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},r(m,b),m.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)e.words[0]=0,e.length=1;else{var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}0===(e.words[n-10]=i>>>=22)&&10<e.length?e.length-=10:e.length-=9}},m.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(v,b),r(A,b),r(_,b),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},y._prime=function(e){if(h[e])return h[e];var t;if("k256"===e)t=new m;else if("p224"===e)t=new v;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return h[e]=t},w.prototype._verify1=function(e){g(0===e.negative,"red works only with positives"),g(e.red,"red works only with red numbers")},w.prototype._verify2=function(e,t){g(0==(e.negative|t.negative),"red works only with positives"),g(e.red&&e.red===t.red,"red works only with red numbers")},w.prototype.imod=function(e){return(this.prime?this.prime.ireduce(e):e.umod(this.m))._forceRed(this)},w.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},w.prototype.add=function(e,t){this._verify2(e,t);e=e.add(t);return 0<=e.cmp(this.m)&&e.isub(this.m),e._forceRed(this)},w.prototype.iadd=function(e,t){this._verify2(e,t);e=e.iadd(t);return 0<=e.cmp(this.m)&&e.isub(this.m),e},w.prototype.sub=function(e,t){this._verify2(e,t);e=e.sub(t);return e.cmpn(0)<0&&e.iadd(this.m),e._forceRed(this)},w.prototype.isub=function(e,t){this._verify2(e,t);e=e.isub(t);return e.cmpn(0)<0&&e.iadd(this.m),e},w.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},w.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},w.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},w.prototype.isqr=function(e){return this.imul(e,e.clone())},w.prototype.sqr=function(e){return this.mul(e,e)},w.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(g(t%2==1),3===t)return t=this.m.add(new y(1)).iushrn(2),this.pow(e,t);for(var r=this.m.subn(1),n=0;!r.isZero()&&0===r.andln(1);)n++,r.iushrn(1);g(!r.isZero());for(var i=new y(1).toRed(this),o=i.redNeg(),s=this.m.subn(1).iushrn(1),a=new y(2*(a=this.m.bitLength())*a).toRed(this);0!==this.pow(a,s).cmp(o);)a.redIAdd(o);for(var c=this.pow(a,r),u=this.pow(e,r.addn(1).iushrn(1)),h=this.pow(e,r),l=n;0!==h.cmp(i);){for(var f=h,d=0;0!==f.cmp(i);d++)f=f.redSqr();g(d<l);var p=this.pow(c,new y(1).iushln(l-d-1)),u=u.redMul(p),c=p.redSqr(),h=h.redMul(c),l=d}return u},w.prototype.invm=function(e){e=e._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},w.prototype.pow=function(e,t){if(t.isZero())return new y(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new y(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,s=0,a=t.bitLength()%26;for(0===a&&(a=26),n=t.length-1;0<=n;n--){for(var c=t.words[n],u=a-1;0<=u;u--){var h=c>>u&1;i!==r[0]&&(i=this.sqr(i)),0==h&&0===o?s=0:(o=o<<1|h,(4===++s||0===n&&0===u)&&(i=this.mul(i,r[o]),o=s=0))}a=26}return i},w.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},w.prototype.convertFrom=function(e){e=e.clone();return e.red=null,e},y.mont=function(e){return new E(e)},r(E,w),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){e=this.imod(e.mul(this.rinv));return e.red=null,e},E.prototype.imul=function(e,t){return e.isZero()||t.isZero()?(e.words[0]=0,e.length=1,e):(t=(e=e.imul(t)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(t=e=e.isub(t).iushrn(this.shift)).cmp(this.m)?t=e.isub(this.m):e.cmpn(0)<0&&(t=e.iadd(this.m)),t._forceRed(this))},E.prototype.mul=function(e,t){return(e.isZero()||t.isZero()?new y(0):(t=(e=e.mul(t)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(t=e=e.isub(t).iushrn(this.shift)).cmp(this.m)?t=e.isub(this.m):e.cmpn(0)<0&&(t=e.iadd(this.m)),t))._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)},{buffer:191}],189:[function(I,e,t){!function(e,t){"use strict";function g(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;function r(){}r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function y(e,t,r){if(y.isBN(e))return e;this.negative=0,this.words=null,this.length=0,(this.red=null)!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var n;"object"==typeof e?e.exports=y:t.BN=y,(y.BN=y).wordSize=26;try{n=("undefined"!=typeof window&&void 0!==window.Buffer?window:I("buffer")).Buffer}catch(e){}function i(e,t){t=e.charCodeAt(t);return 48<=t&&t<=57?t-48:65<=t&&t<=70?t-55:97<=t&&t<=102?t-87:void g(!1,"Invalid character in "+e)}function a(e,t,r){var n=i(e,r);return t<=r-1&&(n|=i(e,r-1)<<4),n}function l(e,t,r,n){for(var i=0,o=0,s=Math.min(e.length,r),a=t;a<s;a++){var c=e.charCodeAt(a)-48;i*=n,o=49<=c?c-49+10:17<=c?c-17+10:c,g(0<=c&&o<n,"Invalid character"),i+=o}return i}function o(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(y.isBN=function(e){return e instanceof y||null!==e&&"object"==typeof e&&e.constructor.wordSize===y.wordSize&&Array.isArray(e.words)},y.max=function(e,t){return 0<e.cmp(t)?e:t},y.min=function(e,t){return e.cmp(t)<0?e:t},y.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);g((t="hex"===t?16:t)===(0|t)&&2<=t&&t<=36);var n=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(n++,this.negative=1),n<e.length&&(16===t?this._parseHex(e,n,r):(this._parseBase(e,t,n),"le"===r&&this._initArray(this.toArray(),t,r)))},y.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(g(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},y.prototype._initArray=function(e,t,r){if(g("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var n,i,o=0;o<this.length;o++)this.words[o]=0;var s=0;if("be"===r)for(o=e.length-1,n=0;0<=o;o-=3)i=e[o]|e[o-1]<<8|e[o-2]<<16,this.words[n]|=i<<s&67108863,this.words[n+1]=i>>>26-s&67108863,26<=(s+=24)&&(s-=26,n++);else if("le"===r)for(n=o=0;o<e.length;o+=3)i=e[o]|e[o+1]<<8|e[o+2]<<16,this.words[n]|=i<<s&67108863,this.words[n+1]=i>>>26-s&67108863,26<=(s+=24)&&(s-=26,n++);return this._strip()},y.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;t<=n;n-=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,18<=o?(o-=18,this.words[s+=1]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=a(e,t,n)<<o,this.words[s]|=67108863&i,18<=o?(o-=18,this.words[s+=1]|=i>>>26):o+=8;this._strip()},y.prototype._parseBase=function(e,t,r){this.words=[0];for(var n=0,i=this.length=1;i<=67108863;i*=t)n++;for(var i=i/t|0,o=e.length-r,s=o%--n,a=Math.min(o,o-s)+r,c=0,u=r;u<a;u+=n)c=l(e,u,u+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!=s){for(var h=1,c=l(e,u,e.length,t),u=0;u<s;u++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},y.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},y.prototype._move=function(e){o(e,this)},y.prototype.clone=function(){var e=new y(null);return this.copy(e),e},y.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},y.prototype._strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},y.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{y.prototype[Symbol.for("nodejs.util.inspect.custom")]=s}catch(e){y.prototype.inspect=s}else y.prototype.inspect=s;function s(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];y.prototype.toString=function(e,t){if(t=0|t||1,16===(e=e||10)||"hex"===e){for(var r="",n=0,i=0,o=0;o<this.length;o++){var s=this.words[o],a=(16777215&(s<<n|i)).toString(16),i=s>>>24-n&16777215;26<=(n+=2)&&(n-=26,o--),r=0!==i||o!==this.length-1?f[6-a.length]+a+r:a+r}for(0!==i&&(r=i.toString(16)+r);r.length%t!=0;)r="0"+r;return r=0!==this.negative?"-"+r:r}if(e===(0|e)&&2<=e&&e<=36){var c=d[e],u=p[e];for(r="",(h=this.clone()).negative=0;!h.isZero();){var h,l=h.modrn(u).toString(e);r=(h=h.idivn(u)).isZero()?l+r:f[c-l.length]+l+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return r=0!==this.negative?"-"+r:r}g(!1,"Base should be between 2 and 36")},y.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:2<this.length&&g(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},y.prototype.toJSON=function(){return this.toString(16,2)},n&&(y.prototype.toBuffer=function(e,t){return this.toArrayLike(n,e,t)}),y.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function c(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0,n=(r.length=n)-1|0,i=(s=(0|e.words[0])*(0|t.words[0]))/67108864|0;r.words[0]=67108863&s;for(var o=1;o<n;o++){for(var s,a=i>>>26,c=67108863&i,u=Math.min(o,t.length-1),h=Math.max(0,o-e.length+1);h<=u;h++)a+=(s=(0|e.words[o-h|0])*(0|t.words[h])+c)/67108864|0,c=67108863&s;r.words[o]=0|c,i=0|a}return 0!==i?r.words[o]=0|i:r.length--,r._strip()}y.prototype.toArrayLike=function(e,t,r){this._strip();var n=this.byteLength(),r=r||Math.max(1,n),e=(g(n<=r,"byte array longer than desired length"),g(0<r,"Requested array length <= 0"),r=r,(e=e).allocUnsafe?e.allocUnsafe(r):new e(r));return this["_toArrayLike"+("le"===t?"LE":"BE")](e,n),e},y.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),o=n=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},y.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,0<=r&&(e[r--]=s>>8&255),0<=r&&(e[r--]=s>>16&255),6===o?(0<=r&&(e[r--]=s>>24&255),o=n=0):(n=s>>>24,o+=2)}if(0<=r)for(e[r--]=n;0<=r;)e[r--]=0},Math.clz32?y.prototype._countBits=function(e){return 32-Math.clz32(e)}:y.prototype._countBits=function(e){var t=0;return 4096<=e&&(t+=13,e>>>=13),64<=e&&(t+=7,e>>>=7),8<=e&&(t+=4,e>>>=4),2<=e&&(t+=2,e>>>=2),t+e},y.prototype._zeroBits=function(e){var t;return 0===e?26:((t=0)==(8191&(e=e))&&(t+=13,e>>>=13),0==(127&e)&&(t+=7,e>>>=7),0==(15&e)&&(t+=4,e>>>=4),0==(3&e)&&(t+=2,e>>>=2),0==(1&e)&&t++,t)},y.prototype.bitLength=function(){var e=this.words[this.length-1],e=this._countBits(e);return 26*(this.length-1)+e},y.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},y.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},y.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},y.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},y.prototype.isNeg=function(){return 0!==this.negative},y.prototype.neg=function(){return this.clone().ineg()},y.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},y.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},y.prototype.ior=function(e){return g(0==(this.negative|e.negative)),this.iuor(e)},y.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},y.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},y.prototype.iuand=function(e){for(var t=this.length>e.length?e:this,r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},y.prototype.iand=function(e){return g(0==(this.negative|e.negative)),this.iuand(e)},y.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},y.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},y.prototype.iuxor=function(e){for(var t,r=this.length>e.length?(t=this,e):(t=e,this),n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},y.prototype.ixor=function(e){return g(0==(this.negative|e.negative)),this.iuxor(e)},y.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},y.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},y.prototype.inotn=function(e){g("number"==typeof e&&0<=e);var t=0|Math.ceil(e/26),e=e%26;this._expand(t),0<e&&t--;for(var r=0;r<t;r++)this.words[r]=67108863&~this.words[r];return 0<e&&(this.words[r]=~this.words[r]&67108863>>26-e),this._strip()},y.prototype.notn=function(e){return this.clone().inotn(e)},y.prototype.setn=function(e,t){g("number"==typeof e&&0<=e);var r=e/26|0,e=e%26;return this._expand(1+r),this.words[r]=t?this.words[r]|1<<e:this.words[r]&~(1<<e),this._strip()},y.prototype.iadd=function(e){var t,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();for(var n=this.length>e.length?(r=this,e):(r=e,this),i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},y.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},y.prototype.isub=function(e){var t;if(0!==e.negative)return e.negative=0,t=this.iadd(e),e.negative=1,t._normSign();if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n=this.cmp(e);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;for(var i=0<n?(r=this,e):(r=e,this),o=0,s=0;s<i.length;s++)o=(t=(0|r.words[s])-(0|i.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},y.prototype.sub=function(e){return this.clone().isub(e)};var u=function(e,D,N){var t,r=e.words,n=D.words,i=N.words,o=0|r[0],s=8191&o,o=o>>>13,a=0|r[1],c=8191&a,a=a>>>13,u=0|r[2],h=8191&u,u=u>>>13,l=0|r[3],f=8191&l,l=l>>>13,d=0|r[4],p=8191&d,d=d>>>13,g=0|r[5],y=8191&g,g=g>>>13,b=0|r[6],m=8191&b,b=b>>>13,v=0|r[7],A=8191&v,v=v>>>13,_=0|r[8],F=8191&_,_=_>>>13,r=0|r[9],j=8191&r,r=r>>>13,w=0|n[0],E=8191&w,w=w>>>13,S=0|n[1],k=8191&S,S=S>>>13,I=0|n[2],C=8191&I,I=I>>>13,B=0|n[3],U=8191&B,B=B>>>13,x=0|n[4],J=8191&x,x=x>>>13,T=0|n[5],Q=8191&T,T=T>>>13,M=0|n[6],H=8191&M,M=M>>>13,P=0|n[7],K=8191&P,P=P>>>13,O=0|n[8],G=8191&O,O=O>>>13,n=0|n[9],z=8191&n,n=n>>>13,D=(N.negative=e.negative^D.negative,N.length=19,(0+Math.imul(s,E)|0)+((8191&(e=Math.imul(s,w)+Math.imul(o,E)|0))<<13)|0),L=(Math.imul(o,w)+(e>>>13)|0)+(D>>>26)|0;D&=67108863,t=Math.imul(c,E),e=Math.imul(c,w)+Math.imul(a,E)|0,R=Math.imul(a,w);var R,X=(L+(t+Math.imul(s,k)|0)|0)+((8191&(e=(e+Math.imul(s,S)|0)+Math.imul(o,k)|0))<<13)|0,q=(L=((R+Math.imul(o,S)|0)+(e>>>13)|0)+(X>>>26)|0,X&=67108863,t=Math.imul(h,E),e=Math.imul(h,w)+Math.imul(u,E)|0,R=Math.imul(u,w),t=t+Math.imul(c,k)|0,e=(e+Math.imul(c,S)|0)+Math.imul(a,k)|0,R=R+Math.imul(a,S)|0,(L+(t+Math.imul(s,C)|0)|0)+((8191&(e=(e+Math.imul(s,I)|0)+Math.imul(o,C)|0))<<13)|0),V=(L=((R+Math.imul(o,I)|0)+(e>>>13)|0)+(q>>>26)|0,q&=67108863,t=Math.imul(f,E),e=Math.imul(f,w)+Math.imul(l,E)|0,R=Math.imul(l,w),t=t+Math.imul(h,k)|0,e=(e+Math.imul(h,S)|0)+Math.imul(u,k)|0,R=R+Math.imul(u,S)|0,t=t+Math.imul(c,C)|0,e=(e+Math.imul(c,I)|0)+Math.imul(a,C)|0,R=R+Math.imul(a,I)|0,(L+(t+Math.imul(s,U)|0)|0)+((8191&(e=(e+Math.imul(s,B)|0)+Math.imul(o,U)|0))<<13)|0),Y=(L=((R+Math.imul(o,B)|0)+(e>>>13)|0)+(V>>>26)|0,V&=67108863,t=Math.imul(p,E),e=Math.imul(p,w)+Math.imul(d,E)|0,R=Math.imul(d,w),t=t+Math.imul(f,k)|0,e=(e+Math.imul(f,S)|0)+Math.imul(l,k)|0,R=R+Math.imul(l,S)|0,t=t+Math.imul(h,C)|0,e=(e+Math.imul(h,I)|0)+Math.imul(u,C)|0,R=R+Math.imul(u,I)|0,t=t+Math.imul(c,U)|0,e=(e+Math.imul(c,B)|0)+Math.imul(a,U)|0,R=R+Math.imul(a,B)|0,(L+(t+Math.imul(s,J)|0)|0)+((8191&(e=(e+Math.imul(s,x)|0)+Math.imul(o,J)|0))<<13)|0),Z=(L=((R+Math.imul(o,x)|0)+(e>>>13)|0)+(Y>>>26)|0,Y&=67108863,t=Math.imul(y,E),e=Math.imul(y,w)+Math.imul(g,E)|0,R=Math.imul(g,w),t=t+Math.imul(p,k)|0,e=(e+Math.imul(p,S)|0)+Math.imul(d,k)|0,R=R+Math.imul(d,S)|0,t=t+Math.imul(f,C)|0,e=(e+Math.imul(f,I)|0)+Math.imul(l,C)|0,R=R+Math.imul(l,I)|0,t=t+Math.imul(h,U)|0,e=(e+Math.imul(h,B)|0)+Math.imul(u,U)|0,R=R+Math.imul(u,B)|0,t=t+Math.imul(c,J)|0,e=(e+Math.imul(c,x)|0)+Math.imul(a,J)|0,R=R+Math.imul(a,x)|0,(L+(t+Math.imul(s,Q)|0)|0)+((8191&(e=(e+Math.imul(s,T)|0)+Math.imul(o,Q)|0))<<13)|0),W=(L=((R+Math.imul(o,T)|0)+(e>>>13)|0)+(Z>>>26)|0,Z&=67108863,t=Math.imul(m,E),e=Math.imul(m,w)+Math.imul(b,E)|0,R=Math.imul(b,w),t=t+Math.imul(y,k)|0,e=(e+Math.imul(y,S)|0)+Math.imul(g,k)|0,R=R+Math.imul(g,S)|0,t=t+Math.imul(p,C)|0,e=(e+Math.imul(p,I)|0)+Math.imul(d,C)|0,R=R+Math.imul(d,I)|0,t=t+Math.imul(f,U)|0,e=(e+Math.imul(f,B)|0)+Math.imul(l,U)|0,R=R+Math.imul(l,B)|0,t=t+Math.imul(h,J)|0,e=(e+Math.imul(h,x)|0)+Math.imul(u,J)|0,R=R+Math.imul(u,x)|0,t=t+Math.imul(c,Q)|0,e=(e+Math.imul(c,T)|0)+Math.imul(a,Q)|0,R=R+Math.imul(a,T)|0,(L+(t+Math.imul(s,H)|0)|0)+((8191&(e=(e+Math.imul(s,M)|0)+Math.imul(o,H)|0))<<13)|0),$=(L=((R+Math.imul(o,M)|0)+(e>>>13)|0)+(W>>>26)|0,W&=67108863,t=Math.imul(A,E),e=Math.imul(A,w)+Math.imul(v,E)|0,R=Math.imul(v,w),t=t+Math.imul(m,k)|0,e=(e+Math.imul(m,S)|0)+Math.imul(b,k)|0,R=R+Math.imul(b,S)|0,t=t+Math.imul(y,C)|0,e=(e+Math.imul(y,I)|0)+Math.imul(g,C)|0,R=R+Math.imul(g,I)|0,t=t+Math.imul(p,U)|0,e=(e+Math.imul(p,B)|0)+Math.imul(d,U)|0,R=R+Math.imul(d,B)|0,t=t+Math.imul(f,J)|0,e=(e+Math.imul(f,x)|0)+Math.imul(l,J)|0,R=R+Math.imul(l,x)|0,t=t+Math.imul(h,Q)|0,e=(e+Math.imul(h,T)|0)+Math.imul(u,Q)|0,R=R+Math.imul(u,T)|0,t=t+Math.imul(c,H)|0,e=(e+Math.imul(c,M)|0)+Math.imul(a,H)|0,R=R+Math.imul(a,M)|0,(L+(t+Math.imul(s,K)|0)|0)+((8191&(e=(e+Math.imul(s,P)|0)+Math.imul(o,K)|0))<<13)|0),ee=(L=((R+Math.imul(o,P)|0)+(e>>>13)|0)+($>>>26)|0,$&=67108863,t=Math.imul(F,E),e=Math.imul(F,w)+Math.imul(_,E)|0,R=Math.imul(_,w),t=t+Math.imul(A,k)|0,e=(e+Math.imul(A,S)|0)+Math.imul(v,k)|0,R=R+Math.imul(v,S)|0,t=t+Math.imul(m,C)|0,e=(e+Math.imul(m,I)|0)+Math.imul(b,C)|0,R=R+Math.imul(b,I)|0,t=t+Math.imul(y,U)|0,e=(e+Math.imul(y,B)|0)+Math.imul(g,U)|0,R=R+Math.imul(g,B)|0,t=t+Math.imul(p,J)|0,e=(e+Math.imul(p,x)|0)+Math.imul(d,J)|0,R=R+Math.imul(d,x)|0,t=t+Math.imul(f,Q)|0,e=(e+Math.imul(f,T)|0)+Math.imul(l,Q)|0,R=R+Math.imul(l,T)|0,t=t+Math.imul(h,H)|0,e=(e+Math.imul(h,M)|0)+Math.imul(u,H)|0,R=R+Math.imul(u,M)|0,t=t+Math.imul(c,K)|0,e=(e+Math.imul(c,P)|0)+Math.imul(a,K)|0,R=R+Math.imul(a,P)|0,(L+(t+Math.imul(s,G)|0)|0)+((8191&(e=(e+Math.imul(s,O)|0)+Math.imul(o,G)|0))<<13)|0),E=(L=((R+Math.imul(o,O)|0)+(e>>>13)|0)+(ee>>>26)|0,ee&=67108863,t=Math.imul(j,E),e=Math.imul(j,w)+Math.imul(r,E)|0,R=Math.imul(r,w),t=t+Math.imul(F,k)|0,e=(e+Math.imul(F,S)|0)+Math.imul(_,k)|0,R=R+Math.imul(_,S)|0,t=t+Math.imul(A,C)|0,e=(e+Math.imul(A,I)|0)+Math.imul(v,C)|0,R=R+Math.imul(v,I)|0,t=t+Math.imul(m,U)|0,e=(e+Math.imul(m,B)|0)+Math.imul(b,U)|0,R=R+Math.imul(b,B)|0,t=t+Math.imul(y,J)|0,e=(e+Math.imul(y,x)|0)+Math.imul(g,J)|0,R=R+Math.imul(g,x)|0,t=t+Math.imul(p,Q)|0,e=(e+Math.imul(p,T)|0)+Math.imul(d,Q)|0,R=R+Math.imul(d,T)|0,t=t+Math.imul(f,H)|0,e=(e+Math.imul(f,M)|0)+Math.imul(l,H)|0,R=R+Math.imul(l,M)|0,t=t+Math.imul(h,K)|0,e=(e+Math.imul(h,P)|0)+Math.imul(u,K)|0,R=R+Math.imul(u,P)|0,t=t+Math.imul(c,G)|0,e=(e+Math.imul(c,O)|0)+Math.imul(a,G)|0,R=R+Math.imul(a,O)|0,(L+(t+Math.imul(s,z)|0)|0)+((8191&(e=(e+Math.imul(s,n)|0)+Math.imul(o,z)|0))<<13)|0),w=(L=((R+Math.imul(o,n)|0)+(e>>>13)|0)+(E>>>26)|0,E&=67108863,t=Math.imul(j,k),e=Math.imul(j,S)+Math.imul(r,k)|0,R=Math.imul(r,S),t=t+Math.imul(F,C)|0,e=(e+Math.imul(F,I)|0)+Math.imul(_,C)|0,R=R+Math.imul(_,I)|0,t=t+Math.imul(A,U)|0,e=(e+Math.imul(A,B)|0)+Math.imul(v,U)|0,R=R+Math.imul(v,B)|0,t=t+Math.imul(m,J)|0,e=(e+Math.imul(m,x)|0)+Math.imul(b,J)|0,R=R+Math.imul(b,x)|0,t=t+Math.imul(y,Q)|0,e=(e+Math.imul(y,T)|0)+Math.imul(g,Q)|0,R=R+Math.imul(g,T)|0,t=t+Math.imul(p,H)|0,e=(e+Math.imul(p,M)|0)+Math.imul(d,H)|0,R=R+Math.imul(d,M)|0,t=t+Math.imul(f,K)|0,e=(e+Math.imul(f,P)|0)+Math.imul(l,K)|0,R=R+Math.imul(l,P)|0,t=t+Math.imul(h,G)|0,e=(e+Math.imul(h,O)|0)+Math.imul(u,G)|0,R=R+Math.imul(u,O)|0,(L+(t+Math.imul(c,z)|0)|0)+((8191&(e=(e+Math.imul(c,n)|0)+Math.imul(a,z)|0))<<13)|0),s=(L=((R+Math.imul(a,n)|0)+(e>>>13)|0)+(w>>>26)|0,w&=67108863,t=Math.imul(j,C),e=Math.imul(j,I)+Math.imul(r,C)|0,R=Math.imul(r,I),t=t+Math.imul(F,U)|0,e=(e+Math.imul(F,B)|0)+Math.imul(_,U)|0,R=R+Math.imul(_,B)|0,t=t+Math.imul(A,J)|0,e=(e+Math.imul(A,x)|0)+Math.imul(v,J)|0,R=R+Math.imul(v,x)|0,t=t+Math.imul(m,Q)|0,e=(e+Math.imul(m,T)|0)+Math.imul(b,Q)|0,R=R+Math.imul(b,T)|0,t=t+Math.imul(y,H)|0,e=(e+Math.imul(y,M)|0)+Math.imul(g,H)|0,R=R+Math.imul(g,M)|0,t=t+Math.imul(p,K)|0,e=(e+Math.imul(p,P)|0)+Math.imul(d,K)|0,R=R+Math.imul(d,P)|0,t=t+Math.imul(f,G)|0,e=(e+Math.imul(f,O)|0)+Math.imul(l,G)|0,R=R+Math.imul(l,O)|0,(L+(t+Math.imul(h,z)|0)|0)+((8191&(e=(e+Math.imul(h,n)|0)+Math.imul(u,z)|0))<<13)|0),o=(L=((R+Math.imul(u,n)|0)+(e>>>13)|0)+(s>>>26)|0,s&=67108863,t=Math.imul(j,U),e=Math.imul(j,B)+Math.imul(r,U)|0,R=Math.imul(r,B),t=t+Math.imul(F,J)|0,e=(e+Math.imul(F,x)|0)+Math.imul(_,J)|0,R=R+Math.imul(_,x)|0,t=t+Math.imul(A,Q)|0,e=(e+Math.imul(A,T)|0)+Math.imul(v,Q)|0,R=R+Math.imul(v,T)|0,t=t+Math.imul(m,H)|0,e=(e+Math.imul(m,M)|0)+Math.imul(b,H)|0,R=R+Math.imul(b,M)|0,t=t+Math.imul(y,K)|0,e=(e+Math.imul(y,P)|0)+Math.imul(g,K)|0,R=R+Math.imul(g,P)|0,t=t+Math.imul(p,G)|0,e=(e+Math.imul(p,O)|0)+Math.imul(d,G)|0,R=R+Math.imul(d,O)|0,(L+(t+Math.imul(f,z)|0)|0)+((8191&(e=(e+Math.imul(f,n)|0)+Math.imul(l,z)|0))<<13)|0),k=(L=((R+Math.imul(l,n)|0)+(e>>>13)|0)+(o>>>26)|0,o&=67108863,t=Math.imul(j,J),e=Math.imul(j,x)+Math.imul(r,J)|0,R=Math.imul(r,x),t=t+Math.imul(F,Q)|0,e=(e+Math.imul(F,T)|0)+Math.imul(_,Q)|0,R=R+Math.imul(_,T)|0,t=t+Math.imul(A,H)|0,e=(e+Math.imul(A,M)|0)+Math.imul(v,H)|0,R=R+Math.imul(v,M)|0,t=t+Math.imul(m,K)|0,e=(e+Math.imul(m,P)|0)+Math.imul(b,K)|0,R=R+Math.imul(b,P)|0,t=t+Math.imul(y,G)|0,e=(e+Math.imul(y,O)|0)+Math.imul(g,G)|0,R=R+Math.imul(g,O)|0,(L+(t+Math.imul(p,z)|0)|0)+((8191&(e=(e+Math.imul(p,n)|0)+Math.imul(d,z)|0))<<13)|0),S=(L=((R+Math.imul(d,n)|0)+(e>>>13)|0)+(k>>>26)|0,k&=67108863,t=Math.imul(j,Q),e=Math.imul(j,T)+Math.imul(r,Q)|0,R=Math.imul(r,T),t=t+Math.imul(F,H)|0,e=(e+Math.imul(F,M)|0)+Math.imul(_,H)|0,R=R+Math.imul(_,M)|0,t=t+Math.imul(A,K)|0,e=(e+Math.imul(A,P)|0)+Math.imul(v,K)|0,R=R+Math.imul(v,P)|0,t=t+Math.imul(m,G)|0,e=(e+Math.imul(m,O)|0)+Math.imul(b,G)|0,R=R+Math.imul(b,O)|0,(L+(t+Math.imul(y,z)|0)|0)+((8191&(e=(e+Math.imul(y,n)|0)+Math.imul(g,z)|0))<<13)|0),c=(L=((R+Math.imul(g,n)|0)+(e>>>13)|0)+(S>>>26)|0,S&=67108863,t=Math.imul(j,H),e=Math.imul(j,M)+Math.imul(r,H)|0,R=Math.imul(r,M),t=t+Math.imul(F,K)|0,e=(e+Math.imul(F,P)|0)+Math.imul(_,K)|0,R=R+Math.imul(_,P)|0,t=t+Math.imul(A,G)|0,e=(e+Math.imul(A,O)|0)+Math.imul(v,G)|0,R=R+Math.imul(v,O)|0,(L+(t+Math.imul(m,z)|0)|0)+((8191&(e=(e+Math.imul(m,n)|0)+Math.imul(b,z)|0))<<13)|0),a=(L=((R+Math.imul(b,n)|0)+(e>>>13)|0)+(c>>>26)|0,c&=67108863,t=Math.imul(j,K),e=Math.imul(j,P)+Math.imul(r,K)|0,R=Math.imul(r,P),t=t+Math.imul(F,G)|0,e=(e+Math.imul(F,O)|0)+Math.imul(_,G)|0,R=R+Math.imul(_,O)|0,(L+(t+Math.imul(A,z)|0)|0)+((8191&(e=(e+Math.imul(A,n)|0)+Math.imul(v,z)|0))<<13)|0),C=(L=((R+Math.imul(v,n)|0)+(e>>>13)|0)+(a>>>26)|0,a&=67108863,t=Math.imul(j,G),e=Math.imul(j,O)+Math.imul(r,G)|0,R=Math.imul(r,O),(L+(t+Math.imul(F,z)|0)|0)+((8191&(e=(e+Math.imul(F,n)|0)+Math.imul(_,z)|0))<<13)|0),I=(L=((R+Math.imul(_,n)|0)+(e>>>13)|0)+(C>>>26)|0,C&=67108863,(L+Math.imul(j,z)|0)+((8191&(e=Math.imul(j,n)+Math.imul(r,z)|0))<<13)|0);return L=(Math.imul(r,n)+(e>>>13)|0)+(I>>>26)|0,I&=67108863,i[0]=D,i[1]=X,i[2]=q,i[3]=V,i[4]=Y,i[5]=Z,i[6]=W,i[7]=$,i[8]=ee,i[9]=E,i[10]=w,i[11]=s,i[12]=o,i[13]=k,i[14]=S,i[15]=c,i[16]=a,i[17]=C,i[18]=I,0!=L&&(i[19]=L,N.length++),N};function h(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){for(var s=i,i=0,a=67108863&n,c=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=c;u++){var h,l=(0|e.words[o-u])*(0|t.words[u]),a=67108863&(h=(67108863&l)+a|0);i+=(s=(s=s+(l/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function b(e,t,r){return h(e,t,r)}Math.imul||(u=c),y.prototype.mulTo=function(e,t){var r=this.length+e.length,r=(10===this.length&&10===e.length?u:r<63?c:r<1024?h:b)(this,e,t);return r},y.prototype.mul=function(e){var t=new y(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},y.prototype.mulf=function(e){var t=new y(null);return t.words=new Array(this.length+e.length),b(this,e,t)},y.prototype.imul=function(e){return this.clone().mulTo(e,this)},y.prototype.imuln=function(e){for(var t=e<0,r=(g("number"==typeof(e=t?-e:e)),g(e<67108864),0),n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&r),r=(r>>=26)+(i/67108864|0)+(o>>>26);this.words[n]=67108863&o}return 0!==r&&(this.words[n]=r,this.length++),t?this.ineg():this},y.prototype.muln=function(e){return this.clone().imuln(e)},y.prototype.sqr=function(){return this.mul(this)},y.prototype.isqr=function(){return this.imul(this.clone())},y.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++)t[r]=e.words[r/26|0]>>>r%26&1;return t}(e);if(0===t.length)return new y(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},y.prototype.iushln=function(e){g("number"==typeof e&&0<=e);var t=e%26,r=(e-t)/26,n=67108863>>>26-t<<26-t;if(0!=t){for(var i=0,o=0;o<this.length;o++){var s=this.words[o]&n,a=(0|this.words[o])-s<<t;this.words[o]=a|i,i=s>>>26-t}i&&(this.words[o]=i,this.length++)}if(0!=r){for(o=this.length-1;0<=o;o--)this.words[o+r]=this.words[o];for(o=0;o<r;o++)this.words[o]=0;this.length+=r}return this._strip()},y.prototype.ishln=function(e){return g(0===this.negative),this.iushln(e)},y.prototype.iushrn=function(e,t,r){g("number"==typeof e&&0<=e),n=t?(t-t%26)/26:0;var n,i=e%26,o=Math.min((e-i)/26,this.length),s=67108863^67108863>>>i<<i,a=r;if(n-=o,n=Math.max(0,n),a){for(var c=0;c<o;c++)a.words[c]=this.words[c];a.length=o}if(0!==o)if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;for(var u=0,c=this.length-1;0<=c&&(0!==u||n<=c);c--){var h=0|this.words[c];this.words[c]=u<<26-i|h>>>i,u=h&s}return a&&0!==u&&(a.words[a.length++]=u),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},y.prototype.ishrn=function(e,t,r){return g(0===this.negative),this.iushrn(e,t,r)},y.prototype.shln=function(e){return this.clone().ishln(e)},y.prototype.ushln=function(e){return this.clone().iushln(e)},y.prototype.shrn=function(e){return this.clone().ishrn(e)},y.prototype.ushrn=function(e){return this.clone().iushrn(e)},y.prototype.testn=function(e){g("number"==typeof e&&0<=e);var t=e%26,e=(e-t)/26;return!(this.length<=e)&&!!(this.words[e]&1<<t)},y.prototype.imaskn=function(e){g("number"==typeof e&&0<=e);var t=e%26,e=(e-t)/26;return g(0===this.negative,"imaskn works only with positive numbers"),this.length<=e?this:(0!=t&&e++,this.length=Math.min(e,this.length),0!=t&&(this.words[this.length-1]&=67108863^67108863>>>t<<t),this._strip())},y.prototype.maskn=function(e){return this.clone().imaskn(e)},y.prototype.iaddn=function(e){return g("number"==typeof e),g(e<67108864),e<0?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},y.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&67108864<=this.words[t];t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},y.prototype.isubn=function(e){if(g("number"==typeof e),g(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,--this.words[t+1];return this._strip()},y.prototype.addn=function(e){return this.clone().iaddn(e)},y.prototype.subn=function(e){return this.clone().isubn(e)},y.prototype.iabs=function(){return this.negative=0,this},y.prototype.abs=function(){return this.clone().iabs()},y.prototype._ishlnsubmul=function(e,t,r){for(var n=e.length+r,i=(this._expand(n),0),o=0;o<e.length;o++){var s=(0|this.words[o+r])+i,a=(0|e.words[o])*t,i=((s-=67108863&a)>>26)-(a/67108864|0);this.words[o+r]=67108863&s}for(;o<this.length-r;o++)i=(s=(0|this.words[o+r])+i)>>26,this.words[o+r]=67108863&s;if(0!==i){for(g(-1===i),o=i=0;o<this.length;o++)i=(s=-(0|this.words[o])+i)>>26,this.words[o]=67108863&s;this.negative=1}return this._strip()},y.prototype._wordDiv=function(e,t){this.length,e.length;var r,n=this.clone(),i=e,o=0|i.words[i.length-1],s=(0!=(e=26-this._countBits(o))&&(i=i.ushln(e),n.iushln(e),o=0|i.words[i.length-1]),n.length-i.length);if("mod"!==t){(r=new y(null)).length=1+s,r.words=new Array(r.length);for(var a=0;a<r.length;a++)r.words[a]=0}var c=n.clone()._ishlnsubmul(i,1,s);0===c.negative&&(n=c,r&&(r.words[s]=1));for(var u=s-1;0<=u;u--){var h=67108864*(0|n.words[i.length+u])+(0|n.words[i.length+u-1]),h=Math.min(h/o|0,67108863);for(n._ishlnsubmul(i,h,u);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,u),n.isZero()||(n.negative^=1);r&&(r.words[u]=h)}return r&&r._strip(),n._strip(),"div"!==t&&0!=e&&n.iushrn(e),{div:r||null,mod:n}},y.prototype.divmod=function(e,t,r){var n,i,o;return g(!e.isZero()),this.isZero()?{div:new y(0),mod:new y(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(n=o.div.neg()),"div"!==t&&(i=o.mod.neg(),r&&0!==i.negative&&i.iadd(e)),{div:n,mod:i}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),{div:n="mod"!==t?o.div.neg():n,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(i=o.mod.neg(),r&&0!==i.negative&&i.isub(e)),{div:o.div,mod:i}):e.length>this.length||this.cmp(e)<0?{div:new y(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new y(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new y(this.modrn(e.words[0]))}:this._wordDiv(e,t)},y.prototype.div=function(e){return this.divmod(e,"div",!1).div},y.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},y.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},y.prototype.divRound=function(e){var t,r,n=this.divmod(e);return n.mod.isZero()||(r=0!==n.div.negative?n.mod.isub(e):n.mod,t=e.ushrn(1),e=e.andln(1),(r=r.cmp(t))<0||1===e&&0===r)?n.div:0!==n.div.negative?n.div.isubn(1):n.div.iaddn(1)},y.prototype.modrn=function(e){for(var t=e<0,r=(g((e=t?-e:e)<=67108863),(1<<26)%e),n=0,i=this.length-1;0<=i;i--)n=(r*n+(0|this.words[i]))%e;return t?-n:n},y.prototype.modn=function(e){return this.modrn(e)},y.prototype.idivn=function(e){for(var t=e<0,r=(g((e=t?-e:e)<=67108863),0),n=this.length-1;0<=n;n--){var i=(0|this.words[n])+67108864*r;this.words[n]=i/e|0,r=i%e}return this._strip(),t?this.ineg():this},y.prototype.divn=function(e){return this.clone().idivn(e)},y.prototype.egcd=function(e){g(0===e.negative),g(!e.isZero());for(var t=this,r=e.clone(),t=0!==t.negative?t.umod(e):t.clone(),n=new y(1),i=new y(0),o=new y(0),s=new y(1),a=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++a;for(var c=r.clone(),u=t.clone();!t.isZero();){for(var h=0,l=1;0==(t.words[0]&l)&&h<26;++h,l<<=1);if(0<h)for(t.iushrn(h);0<h--;)(n.isOdd()||i.isOdd())&&(n.iadd(c),i.isub(u)),n.iushrn(1),i.iushrn(1);for(var f=0,d=1;0==(r.words[0]&d)&&f<26;++f,d<<=1);if(0<f)for(r.iushrn(f);0<f--;)(o.isOdd()||s.isOdd())&&(o.iadd(c),s.isub(u)),o.iushrn(1),s.iushrn(1);0<=t.cmp(r)?(t.isub(r),n.isub(o),i.isub(s)):(r.isub(t),o.isub(n),s.isub(i))}return{a:o,b:s,gcd:r.iushln(a)}},y.prototype._invmp=function(e){g(0===e.negative),g(!e.isZero());for(var t,r=this,n=e.clone(),r=0!==r.negative?r.umod(e):r.clone(),i=new y(1),o=new y(0),s=n.clone();0<r.cmpn(1)&&0<n.cmpn(1);){for(var a=0,c=1;0==(r.words[0]&c)&&a<26;++a,c<<=1);if(0<a)for(r.iushrn(a);0<a--;)i.isOdd()&&i.iadd(s),i.iushrn(1);for(var u=0,h=1;0==(n.words[0]&h)&&u<26;++u,h<<=1);if(0<u)for(n.iushrn(u);0<u--;)o.isOdd()&&o.iadd(s),o.iushrn(1);0<=r.cmp(n)?(r.isub(n),i.isub(o)):(n.isub(r),o.isub(i))}return(t=0===r.cmpn(1)?i:o).cmpn(0)<0&&t.iadd(e),t},y.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0;for(var n=r.negative=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0)var o=t,t=r,r=o;else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},y.prototype.invm=function(e){return this.egcd(e).a.umod(e)},y.prototype.isEven=function(){return 0==(1&this.words[0])},y.prototype.isOdd=function(){return 1==(1&this.words[0])},y.prototype.andln=function(e){return this.words[0]&e},y.prototype.bincn=function(e){g("number"==typeof e);var t=e%26,e=(e-t)/26,t=1<<t;if(this.length<=e)this._expand(1+e),this.words[e]|=t;else{for(var r=t,n=e;0!==r&&n<this.length;n++){var i=0|this.words[n],r=(i+=r)>>>26;i&=67108863,this.words[n]=i}0!==r&&(this.words[n]=r,this.length++)}return this},y.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},y.prototype.cmpn=function(e){var t=e<0;return 0===this.negative||t?0===this.negative&&t?1:(this._strip(),t=1<this.length?1:(g((e=t?-e:e)<=67108863,"Number is too big"),(t=0|this.words[0])===e?0:t<e?-1:1),0!==this.negative?0|-t:t):-1},y.prototype.cmp=function(e){return 0!==this.negative&&0===e.negative?-1:0===this.negative&&0!==e.negative?1:(e=this.ucmp(e),0!==this.negative?0|-e:e)},y.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;0<=r;r--){var n=0|this.words[r],i=0|e.words[r];if(n!=i){n<i?t=-1:i<n&&(t=1);break}}return t},y.prototype.gtn=function(e){return 1===this.cmpn(e)},y.prototype.gt=function(e){return 1===this.cmp(e)},y.prototype.gten=function(e){return 0<=this.cmpn(e)},y.prototype.gte=function(e){return 0<=this.cmp(e)},y.prototype.ltn=function(e){return-1===this.cmpn(e)},y.prototype.lt=function(e){return-1===this.cmp(e)},y.prototype.lten=function(e){return this.cmpn(e)<=0},y.prototype.lte=function(e){return this.cmp(e)<=0},y.prototype.eqn=function(e){return 0===this.cmpn(e)},y.prototype.eq=function(e){return 0===this.cmp(e)},y.red=function(e){return new S(e)},y.prototype.toRed=function(e){return g(!this.red,"Already a number in reduction context"),g(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},y.prototype.fromRed=function(){return g(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},y.prototype._forceRed=function(e){return this.red=e,this},y.prototype.forceRed=function(e){return g(!this.red,"Already a number in reduction context"),this._forceRed(e)},y.prototype.redAdd=function(e){return g(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},y.prototype.redIAdd=function(e){return g(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},y.prototype.redSub=function(e){return g(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},y.prototype.redISub=function(e){return g(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},y.prototype.redShl=function(e){return g(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},y.prototype.redMul=function(e){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},y.prototype.redIMul=function(e){return g(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},y.prototype.redSqr=function(){return g(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},y.prototype.redISqr=function(){return g(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},y.prototype.redSqrt=function(){return g(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},y.prototype.redInvm=function(){return g(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},y.prototype.redNeg=function(){return g(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},y.prototype.redPow=function(e){return g(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new y(t,16),this.n=this.p.bitLength(),this.k=new y(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function A(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(e){var t;"string"==typeof e?(t=y._prime(e),this.m=t.p,this.prime=t):(g(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null)}function k(e){S.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new y(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new y(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){for(var t,r=e;this.split(r,this.tmp),(t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength())>this.n;);e=t<this.n?-1:r.ucmp(this.p);return 0===e?(r.words[0]=0,r.length=1):0<e?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},r(A,v),A.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)e.words[0]=0,e.length=1;else{var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}0===(e.words[n-10]=i>>>=22)&&10<e.length?e.length-=10:e.length-=9}},A.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(_,v),r(w,v),r(E,v),E.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},y._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new A;else if("p224"===e)t=new _;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return m[e]=t},S.prototype._verify1=function(e){g(0===e.negative,"red works only with positives"),g(e.red,"red works only with red numbers")},S.prototype._verify2=function(e,t){g(0==(e.negative|t.negative),"red works only with positives"),g(e.red&&e.red===t.red,"red works only with red numbers")},S.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(o(e,e.umod(this.m)._forceRed(this)),e)},S.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},S.prototype.add=function(e,t){this._verify2(e,t);e=e.add(t);return 0<=e.cmp(this.m)&&e.isub(this.m),e._forceRed(this)},S.prototype.iadd=function(e,t){this._verify2(e,t);e=e.iadd(t);return 0<=e.cmp(this.m)&&e.isub(this.m),e},S.prototype.sub=function(e,t){this._verify2(e,t);e=e.sub(t);return e.cmpn(0)<0&&e.iadd(this.m),e._forceRed(this)},S.prototype.isub=function(e,t){this._verify2(e,t);e=e.isub(t);return e.cmpn(0)<0&&e.iadd(this.m),e},S.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},S.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},S.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},S.prototype.isqr=function(e){return this.imul(e,e.clone())},S.prototype.sqr=function(e){return this.mul(e,e)},S.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(g(t%2==1),3===t)return t=this.m.add(new y(1)).iushrn(2),this.pow(e,t);for(var r=this.m.subn(1),n=0;!r.isZero()&&0===r.andln(1);)n++,r.iushrn(1);g(!r.isZero());for(var i=new y(1).toRed(this),o=i.redNeg(),s=this.m.subn(1).iushrn(1),a=new y(2*(a=this.m.bitLength())*a).toRed(this);0!==this.pow(a,s).cmp(o);)a.redIAdd(o);for(var c=this.pow(a,r),u=this.pow(e,r.addn(1).iushrn(1)),h=this.pow(e,r),l=n;0!==h.cmp(i);){for(var f=h,d=0;0!==f.cmp(i);d++)f=f.redSqr();g(d<l);var p=this.pow(c,new y(1).iushln(l-d-1)),u=u.redMul(p),c=p.redSqr(),h=h.redMul(c),l=d}return u},S.prototype.invm=function(e){e=e._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(e,t){if(t.isZero())return new y(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new y(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,s=0,a=t.bitLength()%26;for(0===a&&(a=26),n=t.length-1;0<=n;n--){for(var c=t.words[n],u=a-1;0<=u;u--){var h=c>>u&1;i!==r[0]&&(i=this.sqr(i)),0==h&&0===o?s=0:(o=o<<1|h,(4===++s||0===n&&0===u)&&(i=this.mul(i,r[o]),o=s=0))}a=26}return i},S.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},S.prototype.convertFrom=function(e){e=e.clone();return e.red=null,e},y.mont=function(e){return new k(e)},r(k,S),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){e=this.imod(e.mul(this.rinv));return e.red=null,e},k.prototype.imul=function(e,t){return e.isZero()||t.isZero()?(e.words[0]=0,e.length=1,e):(t=(e=e.imul(t)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(t=e=e.isub(t).iushrn(this.shift)).cmp(this.m)?t=e.isub(this.m):e.cmpn(0)<0&&(t=e.iadd(this.m)),t._forceRed(this))},k.prototype.mul=function(e,t){return(e.isZero()||t.isZero()?new y(0):(t=(e=e.mul(t)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(t=e=e.isub(t).iushrn(this.shift)).cmp(this.m)?t=e.isub(this.m):e.cmpn(0)<0&&(t=e.iadd(this.m)),t))._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(void 0===e||e,this)},{buffer:191}],190:[function(e,t,r){var n;function i(e){this.rand=e}if(t.exports=function(e){return(n=n||new i(null)).generate(e)},(t.exports.Rand=i).prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){e=new Uint8Array(e);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){e=new Uint8Array(e);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=e("crypto");if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},{crypto:191}],191:[function(e,t,r){},{}],192:[function(e,t,r){var i=e("safe-buffer").Buffer;function n(e){for(var t=(e=i.isBuffer(e)?e:i.from(e)).length/4|0,r=new Array(t),n=0;n<t;n++)r[n]=e.readUInt32BE(4*n);return r}function o(e){for(;0<e.length;e++)e[0]=0}function s(e,t,r,n,i){for(var o,s,a,c,u=r[0],h=r[1],l=r[2],f=r[3],d=e[0]^t[0],p=e[1]^t[1],g=e[2]^t[2],y=e[3]^t[3],b=4,m=1;m<i;m++)o=u[d>>>24]^h[p>>>16&255]^l[g>>>8&255]^f[255&y]^t[b++],s=u[p>>>24]^h[g>>>16&255]^l[y>>>8&255]^f[255&d]^t[b++],a=u[g>>>24]^h[y>>>16&255]^l[d>>>8&255]^f[255&p]^t[b++],c=u[y>>>24]^h[d>>>16&255]^l[p>>>8&255]^f[255&g]^t[b++],d=o,p=s,g=a,y=c;return o=(n[d>>>24]<<24|n[p>>>16&255]<<16|n[g>>>8&255]<<8|n[255&y])^t[b++],s=(n[p>>>24]<<24|n[g>>>16&255]<<16|n[y>>>8&255]<<8|n[255&d])^t[b++],a=(n[g>>>24]<<24|n[y>>>16&255]<<16|n[d>>>8&255]<<8|n[255&p])^t[b++],c=(n[y>>>24]<<24|n[d>>>16&255]<<16|n[p>>>8&255]<<8|n[255&g])^t[b++],[o>>>=0,s>>>=0,a>>>=0,c>>>=0]}var l=[0,1,2,4,8,16,32,64,128,27,54],f=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,c=0;c<256;++c){var u=a^a<<1^a<<2^a<<3^a<<4,h=(r[s]=u=u>>>8^255&u^99,e[n[u]=s]),l=e[h],f=e[l],d=257*e[u]^16843008*u;i[0][s]=d<<24|d>>>8,i[1][s]=d<<16|d>>>16,i[2][s]=d<<8|d>>>24,i[3][s]=d,o[0][u]=(d=16843009*f^65537*l^257*h^16843008*s)<<24|d>>>8,o[1][u]=d<<16|d>>>16,o[2][u]=d<<8|d>>>24,o[3][u]=d,0===s?s=a=1:(s=h^e[e[e[f^h]]],a^=e[e[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function a(e){this._key=n(e),this._reset()}a.blockSize=16,a.keySize=32,a.prototype.blockSize=a.blockSize,a.prototype.keySize=a.keySize,a.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=4*(r+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<n;o++){var s=i[o-1];o%t==0?(s=f.SBOX[(s=s<<8|s>>>24)>>>24]<<24|f.SBOX[s>>>16&255]<<16|f.SBOX[s>>>8&255]<<8|f.SBOX[255&s],s^=l[o/t|0]<<24):6<t&&o%t==4&&(s=f.SBOX[s>>>24]<<24|f.SBOX[s>>>16&255]<<16|f.SBOX[s>>>8&255]<<8|f.SBOX[255&s]),i[o]=i[o-t]^s}for(var a=[],c=0;c<n;c++){var u=n-c,h=i[u-(c%4?0:4)];a[c]=c<4||u<=4?h:f.INV_SUB_MIX[0][f.SBOX[h>>>24]]^f.INV_SUB_MIX[1][f.SBOX[h>>>16&255]]^f.INV_SUB_MIX[2][f.SBOX[h>>>8&255]]^f.INV_SUB_MIX[3][f.SBOX[255&h]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=a},a.prototype.encryptBlockRaw=function(e){return s(e=n(e),this._keySchedule,f.SUB_MIX,f.SBOX,this._nRounds)},a.prototype.encryptBlock=function(e){var e=this.encryptBlockRaw(e),t=i.allocUnsafe(16);return t.writeUInt32BE(e[0],0),t.writeUInt32BE(e[1],4),t.writeUInt32BE(e[2],8),t.writeUInt32BE(e[3],12),t},a.prototype.decryptBlock=function(e){var t=(e=n(e))[1],t=(e[1]=e[3],e[3]=t,s(e,this._invKeySchedule,f.INV_SUB_MIX,f.INV_SBOX,this._nRounds)),e=i.allocUnsafe(16);return e.writeUInt32BE(t[0],0),e.writeUInt32BE(t[3],4),e.writeUInt32BE(t[2],8),e.writeUInt32BE(t[1],12),e},a.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=a},{"safe-buffer":487}],193:[function(e,t,r){var c=e("./aes"),u=e("safe-buffer").Buffer,h=e("cipher-base"),n=e("inherits"),l=e("./ghash"),i=e("buffer-xor"),f=e("./incr32");function o(e,t,r,n){h.call(this);var i,o,s,a=u.alloc(4,0),t=(this._cipher=new c.AES(t),this._cipher.encryptBlock(a));this._ghash=new l(t),a=this,t=t,r=12===(i=r).length?(a._finID=u.concat([i,u.from([0,0,0,1])]),u.concat([i,u.from([0,0,0,2])])):(t=new l(t),o=(s=i.length)%16,t.update(i),o&&t.update(u.alloc(o=16-o,0)),t.update(u.alloc(8,0)),i=8*s,(o=u.alloc(8)).writeUIntBE(i,0,8),t.update(o),a._finID=t.state,s=u.from(a._finID),f(s),s),this._prev=u.from(r),this._cache=u.allocUnsafe(0),this._secCache=u.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}n(o,h),o.prototype._update=function(e){!this._called&&this._alen&&(t=16-this._alen%16)<16&&(t=u.alloc(t,0),this._ghash.update(t)),this._called=!0;var t=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(t),this._len+=e.length,t},o.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=i(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){for(var r=0,n=(e.length!==t.length&&r++,Math.min(e.length,t.length)),i=0;i<n;++i)r+=e[i]^t[i];return r}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},o.prototype.getAuthTag=function(){if(this._decrypt||!u.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},o.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},o.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},t.exports=o},{"./aes":192,"./ghash":197,"./incr32":198,"buffer-xor":220,"cipher-base":225,inherits:362,"safe-buffer":487}],194:[function(e,t,r){var n=e("./encrypter"),i=e("./decrypter"),o=e("./modes/list.json");r.createCipher=r.Cipher=n.createCipher,r.createCipheriv=r.Cipheriv=n.createCipheriv,r.createDecipher=r.Decipher=i.createDecipher,r.createDecipheriv=r.Decipheriv=i.createDecipheriv,r.listCiphers=r.getCiphers=function(){return Object.keys(o)}},{"./decrypter":195,"./encrypter":196,"./modes/list.json":206}],195:[function(e,t,r){var n=e("./authCipher"),i=e("safe-buffer").Buffer,o=e("./modes"),s=e("./streamCipher"),a=e("cipher-base"),c=e("./aes"),u=e("evp_bytestokey");function h(e,t,r){a.call(this),this._cache=new l,this._last=void 0,this._cipher=new c.AES(t),this._prev=i.from(r),this._mode=e,this._autopadding=!0}function l(){this.cache=i.allocUnsafe(0)}function f(e,t,r){e=o[e.toLowerCase()];if(!e)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=i.from(r)),"GCM"!==e.mode&&r.length!==e.iv)throw new TypeError("invalid iv length "+r.length);if((t="string"==typeof t?i.from(t):t).length!==e.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===e.type?new s(e.module,t,r,!0):"auth"===e.type?new n(e.module,t,r,!0):new h(e.module,t,r)}e("inherits")(h,a),h.prototype._update=function(e){this._cache.add(e);for(var t,r=[];t=this._cache.get(this._autopadding);)t=this._mode.decrypt(this,t),r.push(t);return i.concat(r)},h.prototype._final=function(){var e=this._cache.flush();if(this._autopadding){var t=this._mode.decrypt(this,e),r=t[15];if(r<1||16<r)throw new Error("unable to decrypt data");for(var n=-1;++n<r;)if(t[n+(16-r)]!==r)throw new Error("unable to decrypt data");if(16!==r)return t.slice(0,16-r)}else if(e)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},l.prototype.add=function(e){this.cache=i.concat([this.cache,e])},l.prototype.get=function(e){var t;if(e){if(16<this.cache.length)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(16<=this.cache.length)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},l.prototype.flush=function(){if(this.cache.length)return this.cache},r.createDecipher=function(e,t){var r=o[e.toLowerCase()];if(r)return f(e,(e=u(t,!1,r.key,r.iv)).key,e.iv);throw new TypeError("invalid suite type")},r.createDecipheriv=f},{"./aes":192,"./authCipher":193,"./modes":205,"./streamCipher":208,"cipher-base":225,evp_bytestokey:285,inherits:362,"safe-buffer":487}],196:[function(e,t,r){var n=e("./modes"),i=e("./authCipher"),o=e("safe-buffer").Buffer,s=e("./streamCipher"),a=e("cipher-base"),c=e("./aes"),u=e("evp_bytestokey");function h(e,t,r){a.call(this),this._cache=new f,this._cipher=new c.AES(t),this._prev=o.from(r),this._mode=e,this._autopadding=!0}e("inherits")(h,a),h.prototype._update=function(e){this._cache.add(e);for(var t,r=[];t=this._cache.get();)t=this._mode.encrypt(this,t),r.push(t);return o.concat(r)};var l=o.alloc(16,16);function f(){this.cache=o.allocUnsafe(0)}function d(e,t,r){e=n[e.toLowerCase()];if(!e)throw new TypeError("invalid suite type");if((t="string"==typeof t?o.from(t):t).length!==e.key/8)throw new TypeError("invalid key length "+t.length);if("string"==typeof r&&(r=o.from(r)),"GCM"!==e.mode&&r.length!==e.iv)throw new TypeError("invalid iv length "+r.length);return new("stream"===e.type?s:"auth"===e.type?i:h)(e.module,t,r)}h.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(l))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=o.concat([this.cache,e])},f.prototype.get=function(){var e;return 15<this.cache.length?(e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e):null},f.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return o.concat([this.cache,t])},r.createCipheriv=d,r.createCipher=function(e,t){var r=n[e.toLowerCase()];if(r)return d(e,(e=u(t,!1,r.key,r.iv)).key,e.iv);throw new TypeError("invalid suite type")}},{"./aes":192,"./authCipher":193,"./modes":205,"./streamCipher":208,"cipher-base":225,evp_bytestokey:285,inherits:362,"safe-buffer":487}],197:[function(e,t,r){var n=e("safe-buffer").Buffer,i=n.alloc(16,0);function s(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function o(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}o.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},o.prototype._multiply=function(){for(var e,t,r,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],o=-1;++o<128;){for(0!=(this.state[~~(o/8)]&1<<7-o%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=0!=(1&n[3]),t=3;0<t;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=s(i)},o.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);16<=this.cache.length;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},o.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(s([0,e,0,t])),this.state},t.exports=o},{"safe-buffer":487}],198:[function(e,t,r){t.exports=function(e){for(var t,r=e.length;r--;){if(255!==(t=e.readUInt8(r))){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}},{}],199:[function(e,t,r){var n=e("buffer-xor");r.encrypt=function(e,t){t=n(t,e._prev);return e._prev=e._cipher.encryptBlock(t),e._prev},r.decrypt=function(e,t){var r=e._prev,e=(e._prev=t,e._cipher.decryptBlock(t));return n(e,r)}},{"buffer-xor":220}],200:[function(e,t,r){var o=e("safe-buffer").Buffer,s=e("buffer-xor");function a(e,t,r){var n=t.length,i=s(t,e._cache);return e._cache=e._cache.slice(n),e._prev=o.concat([e._prev,r?t:i]),i}r.encrypt=function(e,t,r){for(var n,i=o.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=o.allocUnsafe(0)),!(e._cache.length<=t.length)){i=o.concat([i,a(e,t,r)]);break}n=e._cache.length,i=o.concat([i,a(e,t.slice(0,n),r)]),t=t.slice(n)}return i}},{"buffer-xor":220,"safe-buffer":487}],201:[function(e,t,r){var a=e("safe-buffer").Buffer;function s(e,t,r){for(var n,i,o=-1,s=0;++o<8;)s+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^(n=t&1<<7-o?128:0)))>>o%8,e._prev=function(e,t){var r=e.length,n=-1,i=a.allocUnsafe(e.length);e=a.concat([e,a.from([t])]);for(;++n<r;)i[n]=e[n]<<1|e[n+1]>>7;return i}(e._prev,r?n:i);return s}r.encrypt=function(e,t,r){for(var n=t.length,i=a.allocUnsafe(n),o=-1;++o<n;)i[o]=s(e,t[o],r);return i}},{"safe-buffer":487}],202:[function(e,t,r){var h=e("safe-buffer").Buffer;r.encrypt=function(e,t,r){for(var n,i,o,s,a=t.length,c=h.allocUnsafe(a),u=-1;++u<a;)c[u]=(n=e,i=t[u],o=r,s=void 0,s=n._cipher.encryptBlock(n._prev)[0]^i,n._prev=h.concat([n._prev.slice(1),h.from([o?i:s])]),s);return c}},{"safe-buffer":487}],203:[function(e,t,r){var c=e("buffer-xor"),u=e("safe-buffer").Buffer,h=e("../incr32");r.encrypt=function(e,t){var r=Math.ceil(t.length/16),n=e._cache.length;e._cache=u.concat([e._cache,u.allocUnsafe(16*r)]);for(var i=0;i<r;i++){s=void 0,s=(o=e)._cipher.encryptBlockRaw(o._prev),h(o._prev);var o=s,s=n+16*i;e._cache.writeUInt32BE(o[0],s+0),e._cache.writeUInt32BE(o[1],s+4),e._cache.writeUInt32BE(o[2],s+8),e._cache.writeUInt32BE(o[3],s+12)}var a=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),c(t,a)}},{"../incr32":198,"buffer-xor":220,"safe-buffer":487}],204:[function(e,t,r){r.encrypt=function(e,t){return e._cipher.encryptBlock(t)},r.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},{}],205:[function(e,t,r){var n,i={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},o=e("./list.json");for(n in o)o[n].module=i[o[n].mode];t.exports=o},{"./cbc":199,"./cfb":200,"./cfb1":201,"./cfb8":202,"./ctr":203,"./ecb":204,"./list.json":206,"./ofb":207}],206:[function(e,t,r){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],207:[function(e,t,r){!function(o){!function(){var i=e("buffer-xor");r.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=o.concat([e._cache,((r=e)._prev=r._cipher.encryptBlock(r._prev),r._prev)]);var r,n=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,n)}}.call(this)}.call(this,e("buffer").Buffer)},{buffer:221,"buffer-xor":220}],208:[function(e,t,r){var i=e("./aes"),o=e("safe-buffer").Buffer,s=e("cipher-base");function n(e,t,r,n){s.call(this),this._cipher=new i.AES(t),this._prev=o.from(r),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=n,this._mode=e}e("inherits")(n,s),n.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},n.prototype._final=function(){this._cipher.scrub()},t.exports=n},{"./aes":192,"cipher-base":225,inherits:362,"safe-buffer":487}],209:[function(e,t,r){var n=e("browserify-des"),i=e("browserify-aes/browser"),o=e("browserify-aes/modes"),s=e("browserify-des/modes"),a=e("evp_bytestokey");function c(e,t,r){if(e=e.toLowerCase(),o[e])return i.createCipheriv(e,t,r);if(s[e])return new n({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function u(e,t,r){if(e=e.toLowerCase(),o[e])return i.createDecipheriv(e,t,r);if(s[e])return new n({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}r.createCipher=r.Cipher=function(e,t){var r,n;if(e=e.toLowerCase(),o[e])r=o[e].key,n=o[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");r=8*s[e].key,n=s[e].iv}return t=a(t,!1,r,n),c(e,t.key,t.iv)},r.createCipheriv=r.Cipheriv=c,r.createDecipher=r.Decipher=function(e,t){var r,n;if(e=e.toLowerCase(),o[e])r=o[e].key,n=o[e].iv;else{if(!s[e])throw new TypeError("invalid suite type");r=8*s[e].key,n=s[e].iv}return t=a(t,!1,r,n),u(e,t.key,t.iv)},r.createDecipheriv=r.Decipheriv=u,r.listCiphers=r.getCiphers=function(){return Object.keys(s).concat(i.getCiphers())}},{"browserify-aes/browser":194,"browserify-aes/modes":205,"browserify-des":210,"browserify-des/modes":211,evp_bytestokey:285}],210:[function(e,t,r){var o=e("cipher-base"),n=e("des.js"),i=e("inherits"),s=e("safe-buffer").Buffer,a={"des-ede3-cbc":n.CBC.instantiate(n.EDE),"des-ede3":n.EDE,"des-ede-cbc":n.CBC.instantiate(n.EDE),"des-ede":n.EDE,"des-cbc":n.CBC.instantiate(n.DES),"des-ecb":n.DES};function c(e){o.call(this);var t=e.mode.toLowerCase(),r=a[t],n=e.decrypt?"decrypt":"encrypt",i=e.key,t=(s.isBuffer(i)||(i=s.from(i)),"des-ede"!==t&&"des-ede-cbc"!==t||(i=s.concat([i,i.slice(0,8)])),e.iv);s.isBuffer(t)||(t=s.from(t)),this._des=r.create({key:i,iv:t,type:n})}a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],i(t.exports=c,o),c.prototype._update=function(e){return s.from(this._des.update(e))},c.prototype._final=function(){return s.from(this._des.final())}},{"cipher-base":225,"des.js":245,inherits:362,"safe-buffer":487}],211:[function(e,t,r){r["des-ecb"]={key:8,iv:0},r["des-cbc"]=r.des={key:8,iv:8},r["des-ede3-cbc"]=r.des3={key:24,iv:8},r["des-ede3"]={key:24,iv:0},r["des-ede-cbc"]={key:16,iv:8},r["des-ede"]={key:16,iv:0}},{}],212:[function(t,r,e){!function(h){!function(){var c=t("bn.js"),n=t("randombytes");function u(e){for(var t,r=e.modulus.byteLength();0<=(t=new c(n(r))).cmp(e.modulus)||!t.umod(e.prime1)||!t.umod(e.prime2););return t}function e(e,t){var r={blinder:(r=u(n=t)).toRed(c.mont(n.modulus)).redPow(new c(n.publicExponent)).fromRed(),unblinder:r.invm(n.modulus)},n=t.modulus.byteLength(),e=new c(e).mul(r.blinder).umod(t.modulus),i=e.toRed(c.mont(t.prime1)),e=e.toRed(c.mont(t.prime2)),o=t.coefficient,s=t.prime1,a=t.prime2,i=i.redPow(t.exponent1).fromRed(),e=e.redPow(t.exponent2).fromRed(),i=i.isub(e).imul(o).umod(s).imul(a);return e.iadd(i).imul(r.unblinder).umod(t.modulus).toArrayLike(h,"be",n)}e.getr=u,r.exports=e}.call(this)}.call(this,t("buffer").Buffer)},{"bn.js":189,buffer:221,randombytes:456}],213:[function(e,t,r){t.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":214}],214:[function(e,t,r){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],215:[function(e,t,r){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],216:[function(e,t,r){var n=e("safe-buffer").Buffer,i=e("create-hash"),o=e("readable-stream"),s=e("inherits"),a=e("./sign"),c=e("./verify"),u=e("./algorithms.json");function h(e){o.Writable.call(this);e=u[e];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function l(e){o.Writable.call(this);e=u[e];if(!e)throw new Error("Unknown message digest");this._hash=i(e.hash),this._tag=e.id,this._signType=e.sign}function f(e){return new h(e)}function d(e){return new l(e)}Object.keys(u).forEach(function(e){u[e].id=n.from(u[e].id,"hex"),u[e.toLowerCase()]=u[e]}),s(h,o.Writable),h.prototype._write=function(e,t,r){this._hash.update(e),r()},h.prototype.update=function(e,t){return"string"==typeof e&&(e=n.from(e,t)),this._hash.update(e),this},h.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),r=a(r,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},s(l,o.Writable),l.prototype._write=function(e,t,r){this._hash.update(e),r()},l.prototype.update=function(e,t){return"string"==typeof e&&(e=n.from(e,t)),this._hash.update(e),this},l.prototype.verify=function(e,t,r){"string"==typeof t&&(t=n.from(t,r)),this.end();r=this._hash.digest();return c(t,r,e,this._signType,this._tag)},t.exports={Sign:f,Verify:d,createSign:f,createVerify:d}},{"./algorithms.json":214,"./sign":217,"./verify":218,"create-hash":235,inherits:362,"readable-stream":482,"safe-buffer":487}],217:[function(e,t,r){var w=e("safe-buffer").Buffer,o=e("create-hmac"),E=e("browserify-rsa"),S=e("elliptic").ec,k=e("bn.js"),I=e("parse-asn1"),C=e("./curves.json");function B(e,t,r,n){(e=w.from(e.toArray())).length<t.byteLength()&&(i=w.alloc(t.byteLength()-e.length),e=w.concat([i,e]));var i=r.length,r=function(e,t){e=(e=x(e,t)).mod(t);e=w.from(e.toArray());e.length<t.byteLength()&&(t=w.alloc(t.byteLength()-e.length),e=w.concat([t,e]));return e}(r,t),i=((t=w.alloc(i)).fill(1),w.alloc(i)),i=o(n,i).update(t).update(w.from([0])).update(e).update(r).digest(),t=o(n,i).update(t).digest();return{k:i=o(n,i).update(t).update(w.from([1])).update(e).update(r).digest(),v:t=o(n,i).update(t).digest()}}function x(e,t){var r=new k(e),e=(e.length<<3)-t.bitLength();return 0<e&&r.ishrn(e),r}function T(e,t,r){var n,i;do{for(n=w.alloc(0);8*n.length<e.bitLength();)t.v=o(r,t.k).update(t.v).digest(),n=w.concat([n,t.v])}while(i=x(n,e),t.k=o(r,t.k).update(t.v).update(w.from([0])).digest(),t.v=o(r,t.k).update(t.v).digest(),-1!==i.cmp(e));return i}t.exports=function(e,t,r,n,i){if((t=I(t)).curve){if("ecdsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong private key type");var o=e,s=t,a=C[s.curve.join(".")];if(a)return a=new S(a).keyFromPrivate(s.privateKey).sign(o),w.from(a.toDER());throw new Error("unknown curve "+s.curve.join("."))}if("dsa"===t.type){if("dsa"!==n)throw new Error("wrong private key type");for(var c,o=e,a=t,u=r,h=a.params.priv_key,l=a.params.p,f=a.params.q,d=a.params.g,p=new k(0),g=x(o,f).mod(f),y=!1,b=B(h,f,o,u);!1===y;)c=T(f,b,u),p=function(e,t,r,n){return e.toRed(k.mont(r)).redPow(t).fromRed().mod(n)}(d,c,l,f),0===(y=c.invm(f).imul(g.add(h.mul(p))).mod(f)).cmpn(0)&&(y=!1,p=new k(0));var s=p,r=y,m=(s=s.toArray(),r=r.toArray(),128&s[0]&&(s=[0].concat(s)),128&r[0]&&(r=[0].concat(r)),[48,s.length+r.length+4,2,s.length]);return m=m.concat(s,[2,r.length],r),w.from(m)}if("rsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong private key type");e=w.concat([i,e]);for(var v=t.modulus.byteLength(),A=[0,1];e.length+A.length+1<v;)A.push(255);A.push(0);for(var _=-1;++_<e.length;)A.push(e[_]);return E(A,t)},t.exports.getKey=B,t.exports.makeKey=T},{"./curves.json":215,"bn.js":189,"browserify-rsa":212,"create-hmac":237,elliptic:257,"parse-asn1":427,"safe-buffer":487}],218:[function(e,t,r){var m=e("safe-buffer").Buffer,v=e("bn.js"),A=e("elliptic").ec,_=e("parse-asn1"),w=e("./curves.json");function E(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}t.exports=function(e,t,r,n,i){var o,s;if("ec"===(r=_(r)).type){if("ecdsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong public key type");var a,c=e,u=t,h=r,l=w[h.data.algorithm.curve.join(".")];if(l)return l=new A(l),a=h.data.subjectPrivateKey.data,l.verify(u,c,a);throw new Error("unknown curve "+h.data.algorithm.curve.join("."))}if("dsa"===r.type){if("dsa"!==n)throw new Error("wrong public key type");return l=e,u=t,a=(c=r).data.p,h=r.data.q,y=r.data.g,c=r.data.pub_key,l=_.signature.decode(l,"der"),o=l.s,l=l.r,E(o,h),E(l,h),s=v.mont(a),o=o.invm(h),0===y.toRed(s).redPow(new v(u).mul(o).mod(h)).fromRed().mul(c.toRed(s).redPow(l.mul(o).mod(h)).fromRed()).mod(a).mod(h).cmp(l)}if("rsa"!==n&&"ecdsa/rsa"!==n)throw new Error("wrong public key type");t=m.concat([i,t]);for(var f=r.modulus.byteLength(),d=[1],p=0;t.length+d.length+2<f;)d.push(255),p++;d.push(0);for(var g=-1;++g<t.length;)d.push(t[g]);var d=m.from(d),y=v.mont(r.modulus),b=(e=(e=new v(e).toRed(y)).redPow(new v(r.publicExponent)),e=m.from(e.fromRed().toArray()),p<8?1:0),f=Math.min(e.length,d.length);for(e.length!==d.length&&(b=1),g=-1;++g<f;)b|=e[g]^d[g];return 0===b}},{"./curves.json":215,"bn.js":189,elliptic:257,"parse-asn1":427,"safe-buffer":487}],219:[function(e,t,r){arguments[4][191][0].apply(r,arguments)},{dup:191}],220:[function(e,t,r){!function(o){!function(){t.exports=function(e,t){for(var r=Math.min(e.length,t.length),n=new o(r),i=0;i<r;++i)n[i]=e[i]^t[i];return n}}.call(this)}.call(this,e("buffer").Buffer)},{buffer:221}],221:[function(M,e,P){!function(e){!function(){"use strict";var S=M("base64-js"),o=M("ieee754"),t=(P.Buffer=l,P.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},P.INSPECT_MAX_BYTES=50,2147483647);function c(e){if(t<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');e=new Uint8Array(e);return e.__proto__=l.prototype,e}function l(e,t,r){if("number"!=typeof e)return n(e,t,r);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return s(e)}function n(e,t,r){if("string"==typeof e){var n=e,i=t;if(l.isEncoding(i="string"==typeof i&&""!==i?i:"utf8"))return o=0|f(n,i),s=c(o),s=(n=s.write(n,i))!==o?s.slice(0,n):s;throw new TypeError("Unknown encoding: "+i)}if(ArrayBuffer.isView(e))return u(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(x(e,ArrayBuffer)||e&&x(e.buffer,ArrayBuffer)){var o=e,n=t,s=r;if(n<0||o.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(o.byteLength<n+(s||0))throw new RangeError('"length" is outside of buffer bounds');return(o=void 0===n&&void 0===s?new Uint8Array(o):void 0===s?new Uint8Array(o,n):new Uint8Array(o,n,s)).__proto__=l.prototype,o}if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return l.from(i,t,r);var a=function(e){{var t,r;if(l.isBuffer(e))return t=0|h(e.length),0!==(r=c(t)).length&&e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||T(e.length)?c(0):u(e);if("Buffer"===e.type&&Array.isArray(e.data))return u(e.data)}(e);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function i(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function s(e){return i(e),c(e<0?0:0|h(e))}function u(e){for(var t=e.length<0?0:0|h(e.length),r=c(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e){if(t<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+t.toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||x(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=2<arguments.length&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return I(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return C(e).length;default:if(i)return n?-1:I(e).length;t=(""+t).toLowerCase(),i=!0}}function r(e,t,r){var n,i=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((r=void 0===r||r>this.length?this.length:r)<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":var o=this,s=t,a=r,c=o.length;(!a||a<0||c<a)&&(a=c);for(var u="",h=s=!s||s<0?0:s;h<a;++h)u+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(o[h]);return u;case"utf8":case"utf-8":return k(this,t,r);case"ascii":var l=this,c=t,f=r,d="";f=Math.min(l.length,f);for(var p=c;p<f;++p)d+=String.fromCharCode(127&l[p]);return d;case"latin1":case"binary":var g=this,s=t,y=r,b="";y=Math.min(g.length,y);for(var m=s;m<y;++m)b+=String.fromCharCode(g[m]);return b;case"base64":return v=this,n=r,0===(A=t)&&n===v.length?S.fromByteArray(v):S.fromByteArray(v.slice(A,n));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var v=t,A=r,_=this.slice(v,A),w="",E=0;E<_.length;E+=2)w+=String.fromCharCode(_[E]+256*_[E+1]);return w;default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function a(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function d(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),(r=(r=T(r=+r)?i?0:e.length-1:r)<0?e.length+r:r)>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:p(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?(i?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,r):p(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function p(e,t,r,n,i){var o=1,s=e.length,a=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s/=o=2,a/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i)for(var u=-1,h=r;h<s;h++)if(c(e,h)===c(t,-1===u?0:h-u)){if(h-(u=-1===u?h:u)+1===a)return u*o}else-1!==u&&(h-=h-u),u=-1;else for(h=r=s<r+a?s-a:r;0<=h;h--){for(var l=!0,f=0;f<a;f++)if(c(e,h+f)!==c(t,f)){l=!1;break}if(l)return h}return-1}function y(e,t,r,n){return B(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function b(e,t,r,n){return B(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,n=n%256,i.push(n),i.push(r);return i}(t,e.length-r),e,r,n)}function k(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,c,u=e[i],h=null,l=239<u?4:223<u?3:191<u?2:1;if(i+l<=r)switch(l){case 1:u<128&&(h=u);break;case 2:128==(192&(o=e[i+1]))&&127<(c=(31&u)<<6|63&o)&&(h=c);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&2047<(c=(15&u)<<12|(63&o)<<6|63&s)&&(c<55296||57343<c)&&(h=c);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&65535<(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)&&c<1114112&&(h=c)}null===h?(h=65533,l=1):65535<h&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=l}var f=n,d=f.length;if(d<=m)return String.fromCharCode.apply(String,f);for(var p="",g=0;g<d;)p+=String.fromCharCode.apply(String,f.slice(g,g+=m));return p}P.kMaxLength=t,(l.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=n,l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(e,t,r){return t=t,r=r,i(e=e),!(e<=0)&&void 0!==t?"string"==typeof r?c(e).fill(t,r):c(e).fill(t):c(e)},l.allocUnsafe=s,l.allocUnsafeSlow=s,l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(x(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),x(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);if(void 0===t)for(i=t=0;i<e.length;++i)t+=e[i].length;for(var r=l.allocUnsafe(t),n=0,i=0;i<e.length;++i){var o=e[i];if(x(o,Uint8Array)&&(o=l.from(o)),!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,n),n+=o.length}return r},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)a(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)a(this,t,t+3),a(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)a(this,t,t+7),a(this,t+1,t+6),a(this,t+2,t+5),a(this,t+3,t+4);return this},l.prototype.toLocaleString=l.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):r.apply(this,arguments)},l.prototype.equals=function(e){if(l.isBuffer(e))return this===e||0===l.compare(this,e);throw new TypeError("Argument must be a Buffer")},l.prototype.inspect=function(){var e="",t=P.INSPECT_MAX_BYTES,e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim();return this.length>t&&(e+=" ... "),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,n,i){if(x(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),(t=void 0===t?0:t)<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(i<=n&&r<=t)return 0;if(i<=n)return-1;if(r<=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(n,i),u=e.slice(t,r),h=0;h<a;++h)if(c[h]!==u[h]){o=c[h],s=u[h];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return d(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return d(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||i<r)&&(r=i),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var o,s,a,c=!1;;)switch(n){case"hex":var u=this,h=e,l=t,f=r,d=(l=Number(l)||0,u.length-l);(!f||d<(f=Number(f)))&&(f=d),(d=h.length)/2<f&&(f=d/2);for(var p=0;p<f;++p){var g=parseInt(h.substr(2*p,2),16);if(T(g))return p;u[l+p]=g}return p;case"utf8":case"utf-8":return d=t,a=r,B(I(e,(s=this).length-d),s,d,a);case"ascii":return y(this,e,t,r);case"latin1":case"binary":return y(this,e,t,r);case"base64":return s=this,a=t,o=r,B(C(e),s,a,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,e,t,r);default:if(c)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),c=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var m=4096;function g(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function v(e,t,r,n,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<t||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function A(e,t,r,n){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function _(e,t,r,n,i){return t=+t,r>>>=0,i||A(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function w(e,t,r,n,i){return t=+t,r>>>=0,i||A(e,0,r,8),o.write(e,t,r,n,52,8),r+8}l.prototype.slice=function(e,t){var r=this.length,r=((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),this.subarray(e,t));return r.__proto__=l.prototype,r},l.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||g(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},l.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||g(e,t,this.length);for(var n=this[e+--t],i=1;0<t&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return e>>>=0,t||g(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||g(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||g(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||g(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||g(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||g(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return(i*=128)<=n&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||g(e,t,this.length);for(var n=t,i=1,o=this[e+--n];0<n&&(i*=256);)o+=this[e+--n]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||g(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||g(e,2,this.length);t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},l.prototype.readInt16BE=function(e,t){e>>>=0,t||g(e,2,this.length);t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||g(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||g(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||g(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||g(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||g(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||g(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||v(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||v(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,r,n){e=+e,t>>>=0,n||v(this,e,t,r,(n=Math.pow(2,8*r-1))-1,-n);var i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){e=+e,t>>>=0,n||v(this,e,t,r,(n=Math.pow(2,8*r-1))-1,-n);var i=r-1,o=1,s=0;for(this[t+i]=255&e;0<=--i&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,1,127,-128),this[t]=255&(e=e<0?255+e+1:e),t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||v(this,e,t,4,2147483647,-2147483648),this[t]=(e=e<0?4294967295+e+1:e)>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,r){return _(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return _(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return w(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return w(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r=r||0,n||0===n||(n=this.length),t>=e.length&&(t=e.length),(n=0<n&&n<r?r:n)===r)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length);var i=(n=e.length-t<n-r?e.length-t+r:n)-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;0<=o;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var i;1===e.length&&(i=e.charCodeAt(0),("utf8"===n&&i<128||"latin1"===n)&&(e=i))}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");var o;if(!(r<=t))if(t>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(e=e||0))for(o=t;o<r;++o)this[o]=e;else{var s=l.isBuffer(e)?e:l.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var E=/[^+/0-9A-Za-z-_]/g;function I(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],s=0;s<n;++s){if(55295<(r=e.charCodeAt(s))&&r<57344){if(!i){if(56319<r){-1<(t-=3)&&o.push(239,191,189);continue}if(s+1===n){-1<(t-=3)&&o.push(239,191,189);continue}i=r;continue}if(r<56320){-1<(t-=3)&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,r<128){if(--t<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function C(e){return S.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(E,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function x(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function T(e){return e!=e}}.call(this)}.call(this,M("buffer").Buffer)},{"base64-js":181,buffer:221,ieee754:361}],222:[function(e,t,r){"use strict";var n=e("get-intrinsic"),i=e("./"),o=i(n("String.prototype.indexOf"));t.exports=function(e,t){t=n(e,!!t);return"function"==typeof t&&-1<o(e,".prototype.")?i(t):t}},{"./":223,"get-intrinsic":294}],223:[function(e,t,r){"use strict";var n=e("function-bind"),e=e("get-intrinsic"),i=e("%Function.prototype.apply%"),o=e("%Function.prototype.call%"),s=e("%Reflect.apply%",!0)||n.call(o,i),a=e("%Object.getOwnPropertyDescriptor%",!0),c=e("%Object.defineProperty%",!0),u=e("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}t.exports=function(e){var t=s(n,o,arguments);return a&&c&&a(t,"length").configurable&&c(t,"length",{value:1+u(0,e.length-(arguments.length-1))}),t};function h(){return s(n,i,arguments)}c?c(t.exports,"apply",{value:h}):t.exports.apply=h},{"function-bind":292,"get-intrinsic":294}],224:[function(e,t,r){const a=e("nanoassert"),i=(t.exports=n,[1634760805,857760878,2036477234,1797285236]);function n(e,t,r){a(32===t.byteLength),a(8===e.byteLength||12===e.byteLength);var e=new Uint32Array(e.buffer,e.byteOffset,e.byteLength/4),n=new Uint32Array(t.buffer,t.byteOffset,t.byteLength/4);r=r||0,a(r<Number.MAX_SAFE_INTEGER),this.finalized=!1,this.pos=0,this.state=new Uint32Array(16);for(let e=0;e<4;e++)this.state[e]=i[e];for(let e=0;e<8;e++)this.state[4+e]=n[e];return this.state[12]=4294967295&r,8===e.byteLength?(this.state[13]=(r&&0xffffffff00000000)>>32,this.state[14]=e[0],this.state[15]=e[1]):(this.state[13]=e[0],this.state[14]=e[1],this.state[15]=e[2]),this}function c(t){const r=new Uint32Array(16);for(let e=16;e--;)r[e]=t[e];for(let e=0;e<20;e+=2)s(r,0,4,8,12),s(r,1,5,9,13),s(r,2,6,10,14),s(r,3,7,11,15),s(r,0,5,10,15),s(r,1,6,11,12),s(r,2,7,8,13),s(r,3,4,9,14);for(let e=0;e<16;e++)r[e]+=t[e];return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}function o(e,t){return e<<t|e>>>32-t}function s(e,t,r,n,i){e[t]+=e[r],e[i]^=e[t],e[i]=o(e[i],16),e[n]+=e[i],e[r]^=e[n],e[r]=o(e[r],12),e[t]+=e[r],e[i]^=e[t],e[i]=o(e[i],8),e[n]+=e[i],e[r]^=e[n],e[r]=o(e[r],7)}n.prototype.update=function(t,r){a(!this.finalized,"cipher finalized."),a(t.byteLength>=r.byteLength,"output cannot be shorter than input.");let n=r.length,i=this.pos%64,o=(this.pos+=n,0),s=c(this.state);for(;0<i&&0<n;)t[o]=r[o++]^s[i],(i=i+1&63)||this.state[12]++,n--;for(;0<n;){if(s=c(this.state),n<64){for(let e=0;e<n;e++)t[o]=r[o++]^s[i++],i&=63;return}for(;i<64;)t[o]=r[o++]^s[i++];this.state[12]++,i=0,n-=64}},n.prototype.final=function(){this.state.fill(0),this.pos=0,this.finalized=!0}},{nanoassert:394}],225:[function(e,t,r){var n=e("safe-buffer").Buffer,i=e("stream").Transform,o=e("string_decoder").StringDecoder;function s(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(s,i),s.prototype.update=function(e,t,r){"string"==typeof e&&(e=n.from(e,t));t=this._update(e);return this.hashMode?this:r?this._toString(t,r):t},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){n=e}finally{r(n)}},s.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},s.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return t=e?this._toString(t,e,!0):t},s.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");t=this._decoder.write(e);return r&&(t+=this._decoder.end()),t},t.exports=s},{inherits:362,"safe-buffer":487,stream:571,string_decoder:575}],226:[function(e,t,r){const n=e("b4a");function i(e,t){if("object"==typeof e&&e&&e.encode&&e.decode)return e;switch(e){case"ndjson":return i.ndjson;case"json":return i.json;case"ascii":return i.ascii;case"utf-8":case"utf8":return i.utf8;case"hex":return i.hex;case"base64":return i.base64;case"ucs-2":case"ucs2":return i.ucs2;case"utf16-le":case"utf16le":return i.utf16le}return void 0!==t?t:i.binary}function o(e){return{name:e?"ndjson":"json",encode:e?function(e){return n.from(JSON.stringify(e)+"\n")}:function(e){return n.from(JSON.stringify(e))},decode:function(e){return JSON.parse(n.toString(e))}}}function s(t){return{name:t,encode:function(e){return"string"!=typeof e&&(e=e.toString()),n.from(e,t)},decode:function(e){return n.toString(e,t)}}}(t.exports=i).ascii=s("ascii"),i.utf8=s("utf-8"),i.hex=s("hex"),i.base64=s("base64"),i.ucs2=s("ucs2"),i.utf16le=s("utf16le"),i.ndjson=o(!0),i.json=o(!1),i.binary={name:"binary",encode:function(e){return"string"==typeof e?n.from(e,"utf-8"):n.toBuffer(e)},decode:function(e){return n.toBuffer(e)}}},{b4a:175}],227:[function(e,t,r){var n,i;n=this,i=function(e){"use strict";const t=Symbol("Comlink.proxy"),h=Symbol("Comlink.endpoint"),i=Symbol("Comlink.releaseProxy"),p=Symbol("Comlink.thrown"),r=e=>"object"==typeof e&&null!==e||"function"==typeof e;const o=new Map([["proxy",{canHandle:e=>r(e)&&e[t],serialize(e){var{port1:t,port2:r}=new MessageChannel;return g(e,t),[r,[r]]},deserialize(e){return e.start(),n(e)}}],["throw",{canHandle:e=>r(e)&&p in e,serialize({value:e}){let t;return[t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function g(f,d=self){d.addEventListener("message",function r(e){if(e&&e.data){const{id:a,type:c,path:u}=Object.assign({path:[]},e.data);var n=(e.data.argumentList||[]).map(A);let t;try{const h=u.slice(0,-1).reduce((e,t)=>e[t],f),l=u.reduce((e,t)=>e[t],f);switch(c){case"GET":t=l;break;case"SET":h[u.slice(-1)[0]]=A(e.data.value),t=!0;break;case"APPLY":t=l.apply(h,n);break;case"CONSTRUCT":var i=new l(...n);t=m(i);break;case"ENDPOINT":var{port1:o,port2:s}=new MessageChannel;g(f,s),t=b(o,[o]);break;case"RELEASE":t=void 0;break;default:return}}catch(e){t={value:e,[p]:0}}Promise.resolve(t).catch(e=>({value:e,[p]:0})).then(e=>{var[e,t]=v(e);d.postMessage(Object.assign(Object.assign({},e),{id:a}),t),"RELEASE"===c&&(d.removeEventListener("message",r),y(d))})}}),d.start&&d.start()}function y(e){"MessagePort"===e.constructor.name&&e.close()}function n(e,t){return function s(a,c=[],e=function(){}){let u=!1;const n=new Proxy(e,{get(e,t){if(l(u),t===i)return()=>d(a,{type:"RELEASE",path:c.map(e=>e.toString())}).then(()=>{y(a),u=!0});if("then"!==t)return s(a,[...c,t]);{if(0===c.length)return{then:()=>n};const r=d(a,{type:"GET",path:c.map(e=>e.toString())}).then(A);return r.then.bind(r)}},set(e,t,r){l(u);const[n,i]=v(r);return d(a,{type:"SET",path:[...c,t].map(e=>e.toString()),value:n},i).then(A)},apply(e,t,r){l(u);const n=c[c.length-1];if(n===h)return d(a,{type:"ENDPOINT"}).then(A);if("bind"===n)return s(a,c.slice(0,-1));const[i,o]=f(r);return d(a,{type:"APPLY",path:c.map(e=>e.toString()),argumentList:i},o).then(A)},construct(e,t){l(u);const[r,n]=f(t);return d(a,{type:"CONSTRUCT",path:c.map(e=>e.toString()),argumentList:r},n).then(A)}});return n}(e,[],t)}function l(e){if(e)throw new Error("Proxy has been released and is not useable")}function f(e){const t=e.map(v);return[t.map(e=>e[0]),(e=t.map(e=>e[1]),Array.prototype.concat.apply([],e))]}const s=new WeakMap;function b(e,t){return s.set(e,t),e}function m(e){return Object.assign(e,{[t]:!0})}function v(e){for(var[t,r]of o){var n;if(r.canHandle(e))return[r,n]=r.serialize(e),[{type:"HANDLER",name:t,value:r},n]}return[{type:"RAW",value:e},s.get(e)||[]]}function A(e){switch(e.type){case"HANDLER":return o.get(e.name).deserialize(e.value);case"RAW":return e.value}}function d(i,e,t){return new Promise(r=>{const n=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");i.addEventListener("message",function e(t){t.data&&t.data.id&&t.data.id===n&&(i.removeEventListener("message",e),r(t.data))}),i.start&&i.start(),i.postMessage(Object.assign({id:n},e),t)})}e.createEndpoint=h,e.expose=g,e.proxy=m,e.proxyMarker=t,e.releaseProxy=i,e.transfer=b,e.transferHandlers=o,e.windowEndpoint=function(r,e=self,n="*"){return{postMessage:(e,t)=>r.postMessage(e,n,t),addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}},e.wrap=n,Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof r&&void 0!==t?i(r):"function"==typeof define&&define.amd?define(["exports"],i):i((n=n||self).Comlink={})},{}],228:[function(e,t,r){var n=r.LE=255===new Uint8Array(new Uint16Array([255]).buffer)[0];r.BE=!n},{}],229:[function(e,t,n){const i=e("b4a"),s=e("./endian")["BE"],o=(n.state=function(e=0,t=0,r=null){return{start:e,end:t,buffer:r,cache:null}},n.raw=e("./raw")),a=n.uint={preencode(e,t){e.end+=t<=252?1:t<=65535?3:t<=4294967295?5:9},encode(e,t){(t<=252?c:t<=65535?(e.buffer[e.start++]=253,u):t<=4294967295?(e.buffer[e.start++]=254,l):(e.buffer[e.start++]=255,p)).encode(e,t)},decode(e){var t=c.decode(e);return t<=252?t:(253===t?u:254===t?l:p).decode(e)}},c=n.uint8={preencode(e,t){e.end+=1},encode(e,t){e.buffer[e.start++]=t},decode(e){if(e.start>=e.end)throw new Error("Out of bounds");return e.buffer[e.start++]}},u=n.uint16={preencode(e,t){e.end+=2},encode(e,t){e.buffer[e.start++]=t,e.buffer[e.start++]=t>>>8},decode(e){if(e.end-e.start<2)throw new Error("Out of bounds");return e.buffer[e.start++]+256*e.buffer[e.start++]}},h=n.uint24={preencode(e,t){e.end+=3},encode(e,t){e.buffer[e.start++]=t,e.buffer[e.start++]=t>>>8,e.buffer[e.start++]=t>>>16},decode(e){if(e.end-e.start<3)throw new Error("Out of bounds");return e.buffer[e.start++]+256*e.buffer[e.start++]+65536*e.buffer[e.start++]}},l=n.uint32={preencode(e,t){e.end+=4},encode(e,t){e.buffer[e.start++]=t,e.buffer[e.start++]=t>>>8,e.buffer[e.start++]=t>>>16,e.buffer[e.start++]=t>>>24},decode(e){if(e.end-e.start<4)throw new Error("Out of bounds");return e.buffer[e.start++]+256*e.buffer[e.start++]+65536*e.buffer[e.start++]+16777216*e.buffer[e.start++]}};var r=n.uint40={preencode(e,t){e.end+=5},encode(e,t){var r=Math.floor(t/256);c.encode(e,t),l.encode(e,r)},decode(e){if(e.end-e.start<5)throw new Error("Out of bounds");return c.decode(e)+256*l.decode(e)}},f=n.uint48={preencode(e,t){e.end+=6},encode(e,t){var r=Math.floor(t/65536);u.encode(e,t),l.encode(e,r)},decode(e){if(e.end-e.start<6)throw new Error("Out of bounds");return u.decode(e)+65536*l.decode(e)}},d=n.uint56={preencode(e,t){e.end+=7},encode(e,t){var r=Math.floor(t/16777216);h.encode(e,t),l.encode(e,r)},decode(e){if(e.end-e.start<7)throw new Error("Out of bounds");return h.decode(e)+16777216*l.decode(e)}};const p=n.uint64={preencode(e,t){e.end+=8},encode(e,t){var r=Math.floor(t/4294967296);l.encode(e,t),l.encode(e,r)},decode(e){if(e.end-e.start<8)throw new Error("Out of bounds");return l.decode(e)+4294967296*l.decode(e)}},g=(n.int=A(a),n.int8=A(c),n.int16=A(u),n.int24=A(h),n.int32=A(l),n.int40=A(r),n.int48=A(f),n.int56=A(d),n.int64=A(p),n.lexint=e("./lexint"),n.float32={preencode(e,t){e.end+=4},encode(e,t){const r=new DataView(e.buffer.buffer,e.start+e.buffer.byteOffset,4);r.setFloat32(0,t,!0),e.start+=4},decode(e){if(e.end-e.start<4)throw new Error("Out of bounds");const t=new DataView(e.buffer.buffer,e.start+e.buffer.byteOffset,4);var r=t.getFloat32(0,!0);return e.start+=4,r}},n.float64={preencode(e,t){e.end+=8},encode(e,t){const r=new DataView(e.buffer.buffer,e.start+e.buffer.byteOffset,8);r.setFloat64(0,t,!0),e.start+=8},decode(e){if(e.end-e.start<8)throw new Error("Out of bounds");const t=new DataView(e.buffer.buffer,e.start+e.buffer.byteOffset,8);var r=t.getFloat64(0,!0);return e.start+=8,r}},n.buffer={preencode(e,t){t?b.preencode(e,t):e.end++},encode(e,t){t?b.encode(e,t):e.buffer[e.start++]=0},decode(e){var t=a.decode(e);if(0===t)return null;if(e.end-e.start<t)throw new Error("Out of bounds");return e.buffer.subarray(e.start,e.start+=t)}});function y(n,i){const o=n.BYTES_PER_ELEMENT;return{preencode(e,t){a.preencode(e,t.length),e.end+=t.byteLength},encode(e,t){a.encode(e,t.length);var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);s&&i&&i(r),e.buffer.set(r,e.start),e.start+=t.byteLength},decode(e){var t=a.decode(e);let r=e.buffer.subarray(e.start,e.start+=t*o);if(r.byteLength!==t*o)throw new Error("Out of bounds");return r.byteOffset%o!=0&&(r=new Uint8Array(r)),s&&i&&i(r),new n(r.buffer,r.byteOffset,r.byteLength/o)}}}n.binary={...g,preencode(e,t){("string"==typeof t?v:g).preencode(e,t)},encode(e,t){("string"==typeof t?v:g).encode(e,t)}};const b=n.uint8array=y(Uint8Array);function m(n){return{preencode(e,t){t=i.byteLength(t,n);a.preencode(e,t),e.end+=t},encode(e,t){var r=i.byteLength(t,n);a.encode(e,r),i.write(e.buffer,t,e.start,n),e.start+=r},decode(e){var t=a.decode(e);if(e.end-e.start<t)throw new Error("Out of bounds");return i.toString(e.buffer,n,e.start,e.start+=t)},fixed(r){return{preencode(e){e.end+=r},encode(e,t){i.write(e.buffer,t,e.start,r,n),e.start+=r},decode(e){if(e.end-e.start<r)throw new Error("Out of bounds");return i.toString(e.buffer,n,e.start,e.start+=r)}}}}}n.uint16array=y(Uint16Array,i.swap16),n.uint32array=y(Uint32Array,i.swap32),n.int8array=y(Int8Array),n.int16array=y(Int16Array,i.swap16),n.int32array=y(Int32Array,i.swap32),n.float32array=y(Float32Array,i.swap32),n.float64array=y(Float64Array,i.swap64);const v=n.string=n.utf8=m("utf-8");n.ascii=m("ascii"),n.hex=m("hex"),n.base64=m("base64"),n.ucs2=n.utf16le=m("utf16le"),n.bool={preencode(e,t){e.end++},encode(e,t){e.buffer[e.start++]=t?1:0},decode(e){if(e.start>=e.end)throw Error("Out of bounds");return 1===e.buffer[e.start++]}};r=n.fixed=function(r){return{preencode(e,t){e.end+=r},encode(e,t){e.buffer.set(t,e.start),e.start+=r},decode(e){if(e.end-e.start<r)throw new Error("Out of bounds");return e.buffer.subarray(e.start,e.start+=r)}}};function A(r){return{preencode(e,t){r.preencode(e,_(t))},encode(e,t){r.encode(e,_(t))},decode(e){return 0===(e=r.decode(e))?e:0==(1&e)?e/2:-(e+1)/2}}}function _(e){return e<0?2*-e-1:0===e?0:2*e}n.fixed32=r(32),n.fixed64=r(64),n.none={preencode(e,t){},encode(e,t){},decode(e){return null}},n.array=function(i){return{preencode(t,r){a.preencode(t,r.length);for(let e=0;e<r.length;e++)i.preencode(t,r[e])},encode(t,r){a.encode(t,r.length);for(let e=0;e<r.length;e++)i.encode(t,r[e])},decode(t){var r=a.decode(t);if(1048576<r)throw new Error("Array is too big");const n=new Array(r);for(let e=0;e<r;e++)n[e]=i.decode(t);return n}}},n.json={preencode(e,t){v.preencode(e,JSON.stringify(t))},encode(e,t){v.encode(e,JSON.stringify(t))},decode(e){return JSON.parse(v.decode(e))}},n.ndjson={preencode(e,t){v.preencode(e,JSON.stringify(t)+"\n")},encode(e,t){v.encode(e,JSON.stringify(t)+"\n")},decode(e){return JSON.parse(v.decode(e))}},n.from=function(e){if("string"!=typeof e){if(e.preencode)return e;if(e.encodingLength)return r=e,{preencode(e,t){e.end+=r.encodingLength(t)},encode(e,t){r.encode(t,e.buffer,e.start),e.start+=r.encode.bytes},decode(e){var t=r.decode(e.buffer,e.start,e.end);return e.start+=r.decode.bytes,t}};var r;{var i=e;let r=null,n=null;return{preencode(e,t){r=t,n=i.encode(t),e.end+=n.byteLength},encode(e,t){o.encode(e,t===r?n:i.encode(t)),r=n=null},decode(e){return i.decode(o.decode(e))}}}}switch(e){case"ascii":return o.ascii;case"utf-8":case"utf8":return o.utf8;case"hex":return o.hex;case"base64":return o.base64;case"utf16-le":case"utf16le":case"ucs-2":case"ucs2":return o.ucs2;case"ndjson":return o.ndjson;case"json":return o.json;default:return o.binary}},n.encode=function(e,t){const r=n.state();return e.preencode(r,t),r.buffer=i.allocUnsafe(r.end),e.encode(r,t),r.buffer},n.decode=function(e,t){return e.decode(n.state(0,t.byteLength,t))}},{"./endian":228,"./lexint":230,"./raw":231,b4a:175}],230:[function(e,t,r){t.exports={preencode:function e(t,r){if(r<251)t.end++;else if(r<256)t.end+=2;else if(r<65536)t.end+=3;else if(r<16777216)t.end+=4;else if(r<4294967296)t.end+=5;else{t.end++;const n=Math.floor(Math.log(r)/Math.log(2))-32;e(t,n),t.end+=6}},encode:function e(t,r){const n=251;const i=r-251;if(r<251)t.buffer[t.start++]=r;else if(r<256)t.buffer[t.start++]=251,t.buffer[t.start++]=i;else if(r<65536)t.buffer[t.start++]=252,t.buffer[t.start++]=i>>8&255,t.buffer[t.start++]=255&i;else if(r<16777216)t.buffer[t.start++]=253,t.buffer[t.start++]=i>>16,t.buffer[t.start++]=i>>8&255,t.buffer[t.start++]=255&i;else if(r<4294967296)t.buffer[t.start++]=254,t.buffer[t.start++]=i>>24,t.buffer[t.start++]=i>>16&255,t.buffer[t.start++]=i>>8&255,t.buffer[t.start++]=255&i;else{const o=Math.floor(Math.log(i)/Math.log(2))-32,s=(t.buffer[t.start++]=255,e(t,o),i/Math.pow(2,o-11));for(let e=5;0<=e;e--)t.buffer[t.start++]=s/Math.pow(2,8*e)&255}},decode:function e(t){const r=251;if(t.end-t.start<1)throw new Error("Out of bounds");const n=t.buffer[t.start++];if(n<251)return n;if(t.end-t.start<n-251+1)throw new Error("Out of bounds.");if(n<252)return t.buffer[t.start++]+251;if(n<253)return(t.buffer[t.start++]<<8)+t.buffer[t.start++]+251;if(n<254)return(t.buffer[t.start++]<<16)+(t.buffer[t.start++]<<8)+t.buffer[t.start++]+251;if(n<255)return 16777216*t.buffer[t.start++]+(t.buffer[t.start++]<<16)+(t.buffer[t.start++]<<8)+t.buffer[t.start++]+251;const i=e(t);if(t.end-t.start<6)throw new Error("Out of bounds");let o=0;for(let e=5;0<=e;e--)o+=t.buffer[t.start++]*Math.pow(2,8*e);return o*Math.pow(2,i-11)+251}}},{}],231:[function(e,t,r){const n=e("b4a"),o=e("./endian")["BE"],i=(r=t.exports={preencode(e,t){e.end+=t.byteLength},encode(e,t){e.buffer.set(t,e.start),e.start+=t.byteLength},decode(e){var t=e.buffer.subarray(e.start,e.end);return e.start=e.end,t}}).buffer={preencode(e,t){t?a.preencode(e,t):e.end++},encode(e,t){t?a.encode(e,t):e.buffer[e.start++]=0},decode(e){var t=e.buffer.subarray(e.start);return 0===t.byteLength?null:(e.start=e.end,t)}};function s(r,n){const i=r.BYTES_PER_ELEMENT;return{preencode(e,t){e.end+=t.byteLength},encode(e,t){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);o&&n&&n(r),e.buffer.set(r,e.start),e.start+=t.byteLength},decode(e){let t=e.buffer.subarray(e.start);return t.byteOffset%i!=0&&(t=new Uint8Array(t)),o&&n&&n(t),e.start=e.end,new r(t.buffer,t.byteOffset,t.byteLength/i)}}}r.binary={...i,preencode(e,t){("string"==typeof t?u:i).preencode(e,t)},encode(e,t){("string"==typeof t?u:i).encode(e,t)}};const a=r.uint8array=s(Uint8Array);function c(r){return{preencode(e,t){e.end+=n.byteLength(t,r)},encode(e,t){e.start+=n.write(e.buffer,t,e.start,r)},decode(e){var t=n.toString(e.buffer,r,e.start);return e.start=e.end,t}}}r.uint16array=s(Uint16Array,n.swap16),r.uint32array=s(Uint32Array,n.swap32),r.int8array=s(Int8Array),r.int16array=s(Int16Array,n.swap16),r.int32array=s(Int32Array,n.swap32),r.float32array=s(Float32Array,n.swap32),r.float64array=s(Float64Array,n.swap64);const u=r.string=r.utf8=c("utf-8");r.ascii=c("ascii"),r.hex=c("hex"),r.base64=c("base64"),r.ucs2=r.utf16le=c("utf16le"),r.array=function(n){return{preencode(e,t){for(const r of t)n.preencode(e,r)},encode(e,t){for(const r of t)n.encode(e,r)},decode(e){const t=[];for(;e.start<e.end;)t.push(n.decode(e));return t}}},r.json={preencode(e,t){u.preencode(e,JSON.stringify(t))},encode(e,t){u.encode(e,JSON.stringify(t))},decode(e){return JSON.parse(u.decode(e))}},r.ndjson={preencode(e,t){u.preencode(e,JSON.stringify(t)+"\n")},encode(e,t){u.encode(e,JSON.stringify(t)+"\n")},decode(e){return JSON.parse(u.decode(e))}}},{"./endian":228,b4a:175}],232:[function(e,t,r){function n(e){return Object.prototype.toString.call(e)}r.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},r.isBoolean=function(e){return"boolean"==typeof e},r.isNull=function(e){return null===e},r.isNullOrUndefined=function(e){return null==e},r.isNumber=function(e){return"number"==typeof e},r.isString=function(e){return"string"==typeof e},r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=function(e){return void 0===e},r.isRegExp=function(e){return"[object RegExp]"===n(e)},r.isObject=function(e){return"object"==typeof e&&null!==e},r.isDate=function(e){return"[object Date]"===n(e)},r.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},r.isFunction=function(e){return"function"==typeof e},r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e("buffer").Buffer.isBuffer},{buffer:221}],233:[function(e,t,r){t.exports=function(e){let t=-1,r=0;var n=e.length-16;for(;r<n;)t=A[e[r++]^255&t]^v[e[r++]^t>>8&255]^m[e[r++]^t>>16&255]^b[e[r++]^t>>>24]^y[e[r++]]^g[e[r++]]^p[e[r++]]^d[e[r++]]^f[e[r++]]^l[e[r++]]^h[e[r++]]^u[e[r++]]^c[e[r++]]^a[e[r++]]^s[e[r++]]^o[e[r++]];for(;r<e.length;++r)t=o[255&t^e[r]]^t>>>8;return~t>>>0};const n=new Int32Array(4096);for(let r=0;r<256;++r){let e=r,t=9;for(;--t;)e=(1&e&&-306674912)^e>>>1;n[r]=e}for(let r=0;r<256;++r){let t=n[r];for(let e=256;e<4096;e+=256)t=n[r|e]=t>>>8^n[255&t]}const i=[];for(let e=0;e<16;)i[e]=n.subarray(e<<8,++e<<8);const[o,s,a,c,u,h,l,f,d,p,g,y,b,m,v,A]=i},{}],234:[function(e,a,t){!function(s){!function(){var t=e("elliptic"),r=e("bn.js"),n=(a.exports=function(e){return new i(e)},{secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}});function i(e){this.curveType=n[e],this.curveType||(this.curveType={name:e}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}function o(e,t,r){Array.isArray(e)||(e=e.toArray());e=new s(e);return r&&e.length<r&&((r=new s(r-e.length)).fill(0),e=s.concat([r,e])),t?e.toString(t):e}n.p224=n.secp224r1,n.p256=n.secp256r1=n.prime256v1,n.p192=n.secp192r1=n.prime192v1,n.p384=n.secp384r1,n.p521=n.secp521r1,i.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},i.prototype.computeSecret=function(e,t,r){return t=t||"utf8",s.isBuffer(e)||(e=new s(e,t)),o(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},i.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),o(r,e)},i.prototype.getPrivateKey=function(e){return o(this.keys.getPrivate(),e)},i.prototype.setPublicKey=function(e,t){return t=t||"utf8",s.isBuffer(e)||(e=new s(e,t)),this.keys._importPublic(e),this},i.prototype.setPrivateKey=function(e,t){t=t||"utf8",s.isBuffer(e)||(e=new s(e,t));t=(t=new r(e)).toString(16);return this.keys=this.curve.genKeyPair(),this.keys._importPrivate(t),this}}.call(this)}.call(this,e("buffer").Buffer)},{"bn.js":188,buffer:221,elliptic:257}],235:[function(e,t,r){"use strict";var n=e("inherits"),i=e("md5.js"),o=e("ripemd160"),s=e("sha.js"),a=e("cipher-base");function c(e){a.call(this,"digest"),this._hash=e}n(c,a),c.prototype._update=function(e){this._hash.update(e)},c.prototype._final=function(){return this._hash.digest()},t.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new c(s(e))}},{"cipher-base":225,inherits:362,"md5.js":376,ripemd160:485,"sha.js":513}],236:[function(e,t,r){var n=e("md5.js");t.exports=function(e){return(new n).update(e).digest()}},{"md5.js":376}],237:[function(e,t,r){"use strict";var n=e("inherits"),i=e("./legacy"),s=e("cipher-base"),a=e("safe-buffer").Buffer,o=e("create-hash/md5"),c=e("ripemd160"),u=e("sha.js"),h=a.alloc(128);function l(e,t){s.call(this,"digest"),"string"==typeof t&&(t=a.from(t));for(var r="sha512"===e||"sha384"===e?128:64,n=(this._alg=e,(this._key=t).length>r?t=("rmd160"===e?new c:u(e)).update(t).digest():t.length<r&&(t=a.concat([t,h],r)),this._ipad=a.allocUnsafe(r)),i=this._opad=a.allocUnsafe(r),o=0;o<r;o++)n[o]=54^t[o],i[o]=92^t[o];this._hash="rmd160"===e?new c:u(e),this._hash.update(n)}n(l,s),l.prototype._update=function(e){this._hash.update(e)},l.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new c:u(this._alg)).update(this._opad).update(e).digest()},t.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new l("rmd160",t):"md5"===e?new i(o,t):new l(e,t)}},{"./legacy":238,"cipher-base":225,"create-hash/md5":236,inherits:362,ripemd160:485,"safe-buffer":487,"sha.js":513}],238:[function(e,t,r){"use strict";var n=e("inherits"),o=e("safe-buffer").Buffer,s=e("cipher-base"),a=o.alloc(128);function i(e,t){s.call(this,"digest"),"string"==typeof t&&(t=o.from(t)),this._alg=e,64<(this._key=t).length?t=e(t):t.length<64&&(t=o.concat([t,a],64));for(var r=this._ipad=o.allocUnsafe(64),n=this._opad=o.allocUnsafe(64),i=0;i<64;i++)r[i]=54^t[i],n[i]=92^t[i];this._hash=[r]}n(i,s),i.prototype._update=function(e){this._hash.push(e)},i.prototype._final=function(){var e=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,e]))},t.exports=i},{"cipher-base":225,inherits:362,"safe-buffer":487}],239:[function(e,t,r){"use strict";r.randomBytes=r.rng=r.pseudoRandomBytes=r.prng=e("randombytes"),r.createHash=r.Hash=e("create-hash"),r.createHmac=r.Hmac=e("create-hmac");var n=e("browserify-sign/algos"),n=Object.keys(n),i=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(n),n=(r.getHashes=function(){return i},e("pbkdf2")),n=(r.pbkdf2=n.pbkdf2,r.pbkdf2Sync=n.pbkdf2Sync,e("browserify-cipher")),n=(r.Cipher=n.Cipher,r.createCipher=n.createCipher,r.Cipheriv=n.Cipheriv,r.createCipheriv=n.createCipheriv,r.Decipher=n.Decipher,r.createDecipher=n.createDecipher,r.Decipheriv=n.Decipheriv,r.createDecipheriv=n.createDecipheriv,r.getCiphers=n.getCiphers,r.listCiphers=n.listCiphers,e("diffie-hellman")),n=(r.DiffieHellmanGroup=n.DiffieHellmanGroup,r.createDiffieHellmanGroup=n.createDiffieHellmanGroup,r.getDiffieHellman=n.getDiffieHellman,r.createDiffieHellman=n.createDiffieHellman,r.DiffieHellman=n.DiffieHellman,e("browserify-sign")),n=(r.createSign=n.createSign,r.Sign=n.Sign,r.createVerify=n.createVerify,r.Verify=n.Verify,r.createECDH=e("create-ecdh"),e("public-encrypt")),n=(r.publicEncrypt=n.publicEncrypt,r.privateEncrypt=n.privateEncrypt,r.publicDecrypt=n.publicDecrypt,r.privateDecrypt=n.privateDecrypt,e("randomfill"));r.randomFill=n.randomFill,r.randomFillSync=n.randomFillSync,r.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},r.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":209,"browserify-sign":216,"browserify-sign/algos":213,"create-ecdh":234,"create-hash":235,"create-hmac":237,"diffie-hellman":251,pbkdf2:429,"public-encrypt":440,randombytes:456,randomfill:457}],240:[function(e,t,r){t.exports=function(e,t=null){let r=null;return async function(){if(null!==r)try{await r}catch(e){}if(null!==r)return r;r=e.call(t);try{return await r}finally{r=null}}}},{}],241:[function(r,i,n){!function(t){!function(){n.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+i.exports.humanize(this.diff),this.useColors){var n="color: "+this.color;e.splice(1,0,n,"color: inherit");let t=0,r=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(r=t))}),e.splice(r,0,n)}},n.save=function(e){try{e?n.storage.setItem("debug",e):n.storage.removeItem("debug")}catch(e){}},n.load=function(){let e;try{e=n.storage.getItem("debug")}catch(e){}!e&&void 0!==t&&"env"in t&&(e=t.env.DEBUG);return e},n.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},n.storage=function(){try{return localStorage}catch(e){}}(),n.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.log=console.debug||console.log||(()=>{}),i.exports=r("./common")(n);const e=i.exports["formatters"];e.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}.call(this)}.call(this,r("_process"))},{"./common":242,_process:437}],242:[function(e,t,r){t.exports=function(t){function c(e){let s,t=null,r,n;function a(...i){if(a.enabled){const o=a;var e=Number(new Date),t=e-(s||e);o.diff=t,o.prev=s,o.curr=e,s=e,i[0]=c.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");let n=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(e,t)=>{if("%%"===e)return"%";n++;const r=c.formatters[t];return"function"==typeof r&&(t=i[n],e=r.call(o,t),i.splice(n,1),n--),e}),c.formatArgs.call(o,i);const r=o.log||c.log;r.apply(o,i)}}return a.namespace=e,a.useColors=c.useColors(),a.color=c.selectColor(e),a.extend=i,a.destroy=c.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==t?t:(r!==c.namespaces&&(r=c.namespaces,n=c.enabled(e)),n),set:e=>{t=e}}),"function"==typeof c.init&&c.init(a),a}function i(e,t){const r=c(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return((c.debug=c).default=c).coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},c.disable=function(){var e=[...c.names.map(r),...c.skips.map(r).map(e=>"-"+e)].join(",");return c.enable(""),e},c.enable=function(e){c.save(e),c.namespaces=e,c.names=[],c.skips=[];let t;const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(t=0;t<n;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?c.skips.push(new RegExp("^"+e.slice(1)+"$")):c.names.push(new RegExp("^"+e+"$")))},c.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=c.skips.length;t<r;t++)if(c.skips[t].test(e))return!1;for(t=0,r=c.names.length;t<r;t++)if(c.names[t].test(e))return!0;return!1},c.humanize=e("ms"),c.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(e=>{c[e]=t[e]}),c.names=[],c.skips=[],c.formatters={},c.selectColor=function(t){let r=0;for(let e=0;e<t.length;e++)r=(r<<5)-r+t.charCodeAt(e),r|=0;return c.colors[Math.abs(r)%c.colors.length]},c.enable(c.load()),c}},{ms:388}],243:[function(e,t,r){"use strict";const f=()=>{const e=new Error("Delay aborted");return e.name="AbortError",e},n=({clearTimeout:u,setTimeout:h,willResolve:l})=>(r,{value:n,signal:i}={})=>{if(i&&i.aborted)return Promise.reject(f());let o,s,a;const e=u||clearTimeout,c=()=>{e(o),a(f())},t=new Promise((e,t)=>{s=()=>{i&&i.removeEventListener("abort",c),(l?e:t)(n)},a=t,o=(h||setTimeout)(s,r)});return i&&i.addEventListener("abort",c,{once:!0}),t.clear=()=>{e(o),o=null,s()},t},i=n({willResolve:!0});i.reject=n({willResolve:!1}),i.range=(e,t,r)=>i(((e,t)=>Math.floor(Math.random()*(t-e+1)+e))(e,t),r),i.createWithTimers=({clearTimeout:e,setTimeout:t})=>{const r=n({clearTimeout:e,setTimeout:t,willResolve:!0});return r.reject=n({clearTimeout:e,setTimeout:t,willResolve:!1}),r},t.exports=i,t.exports.default=i},{}],244:[function(e,t,r){"use strict";const f=()=>{const e=new Error("Delay aborted");return e.name="AbortError",e},i=({clearTimeout:u,setTimeout:h,willResolve:l})=>(r,{value:n,signal:i}={})=>{if(i&&i.aborted)return Promise.reject(f());let o,s,a;const e=u||clearTimeout,c=()=>{e(o),a(f())},t=new Promise((e,t)=>{s=()=>{i&&i.removeEventListener("abort",c),(l?e:t)(n)},a=t,o=(h||setTimeout)(s,r)});return i&&i.addEventListener("abort",c,{once:!0}),t.clear=()=>{e(o),o=null,s()},t};var n=e=>{const n=i({...e,willResolve:!0});return n.reject=i({...e,willResolve:!1}),n.range=(e,t,r)=>n(((e,t)=>Math.floor(Math.random()*(t-e+1)+e))(e,t),r),n};const o=n();o.createWithTimers=n,t.exports=o,t.exports.default=o},{}],245:[function(e,t,r){"use strict";r.utils=e("./des/utils"),r.Cipher=e("./des/cipher"),r.DES=e("./des/des"),r.CBC=e("./des/cbc"),r.EDE=e("./des/ede")},{"./des/cbc":246,"./des/cipher":247,"./des/des":248,"./des/ede":249,"./des/utils":250}],246:[function(e,t,r){"use strict";var n=e("minimalistic-assert"),o=e("inherits"),s={};function i(e){n.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}r.instantiate=function(t){function r(e){t.call(this,e),this._cbcInit()}o(r,t);for(var e=Object.keys(s),n=0;n<e.length;n++){var i=e[n];r.prototype[i]=s[i]}return r.create=function(e){return new r(e)},r},s._cbcInit=function(){var e=new i(this.options.iv);this._cbcState=e},s._update=function(e,t,r,n){var i=this._cbcState,o=this.constructor.super_.prototype,s=i.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=e[t+a];o._update.call(this,s,0,r,n);for(a=0;a<this.blockSize;a++)s[a]=r[n+a]}else{o._update.call(this,e,t,r,n);for(a=0;a<this.blockSize;a++)r[n+a]^=s[a];for(a=0;a<this.blockSize;a++)s[a]=e[t+a]}}},{inherits:362,"minimalistic-assert":378}],247:[function(e,t,r){"use strict";var n=e("minimalistic-assert");function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}(t.exports=i).prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){for(var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize),o=(0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r))),e.length-(e.length-t)%this.blockSize);t<o;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);0<n;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t;return e&&(t=this.update(e)),e="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(e):e},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){var e;return this._pad(this.buffer,this.bufferOff)?(e=new Array(this.blockSize),this._update(this.buffer,0,e,0),e):[]},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},{"minimalistic-assert":378}],248:[function(e,t,r){"use strict";var s=e("minimalistic-assert"),n=e("inherits"),h=e("./utils"),i=e("./cipher");function o(){this.tmp=new Array(2),this.keys=null}function a(e){i.call(this,e);var t=new o;this._desState=t,this.deriveKeys(t,e.key)}n(a,i),(t.exports=a).create=function(e){return new a(e)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];a.prototype.deriveKeys=function(e,t){e.keys=new Array(32),s.equal(t.length,this.blockSize,"Invalid key length");var r=h.readUInt32BE(t,0),n=h.readUInt32BE(t,4);h.pc1(r,n,e.tmp,0),r=e.tmp[0],n=e.tmp[1];for(var i=0;i<e.keys.length;i+=2){var o=c[i>>>1],r=h.r28shl(r,o),n=h.r28shl(n,o);h.pc2(r,n,e.keys,i)}},a.prototype._update=function(e,t,r,n){var i=this._desState,o=h.readUInt32BE(e,t),e=h.readUInt32BE(e,t+4);h.ip(o,e,i.tmp,0),o=i.tmp[0],e=i.tmp[1],"encrypt"===this.type?this._encrypt(i,o,e,i.tmp,0):this._decrypt(i,o,e,i.tmp,0),o=i.tmp[0],e=i.tmp[1],h.writeUInt32BE(r,o,n),h.writeUInt32BE(r,e,n+4)},a.prototype._pad=function(e,t){for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0},a.prototype._unpad=function(e){for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)s.equal(e[r],t);return e.slice(0,e.length-t)},a.prototype._encrypt=function(e,t,r,n,i){for(var o=t,s=r,a=0;a<e.keys.length;a+=2)var c=e.keys[a],u=e.keys[a+1],c=(h.expand(s,e.tmp,0),c^=e.tmp[0],u^=e.tmp[1],h.substitute(c,u)),u=s,s=(o^h.permute(c))>>>0,o=u;h.rip(s,o,n,i)},a.prototype._decrypt=function(e,t,r,n,i){for(var o=r,s=t,a=e.keys.length-2;0<=a;a-=2)var c=e.keys[a],u=e.keys[a+1],c=(h.expand(o,e.tmp,0),c^=e.tmp[0],u^=e.tmp[1],h.substitute(c,u)),u=o,o=(s^h.permute(c))>>>0,s=u;h.rip(o,s,n,i)}},{"./cipher":247,"./utils":250,inherits:362,"minimalistic-assert":378}],249:[function(e,t,r){"use strict";var i=e("minimalistic-assert"),n=e("inherits"),o=e("./cipher"),s=e("./des");function a(e,t){i.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),n=t.slice(8,16),t=t.slice(16,24);this.ciphers="encrypt"===e?[s.create({type:"encrypt",key:r}),s.create({type:"decrypt",key:n}),s.create({type:"encrypt",key:t})]:[s.create({type:"decrypt",key:t}),s.create({type:"encrypt",key:n}),s.create({type:"decrypt",key:r})]}function c(e){o.call(this,e);e=new a(this.type,this.options.key);this._edeState=e}n(c,o),(t.exports=c).create=function(e){return new c(e)},c.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},c.prototype._pad=s.prototype._pad,c.prototype._unpad=s.prototype._unpad},{"./cipher":247,"./des":248,inherits:362,"minimalistic-assert":378}],250:[function(e,t,r){"use strict";r.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},r.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=255&t},r.ip=function(e,t,r,n){for(var i=0,o=0,s=6;0<=s;s-=2){for(var a=0;a<=24;a+=8)i=i<<1|t>>>a+s&1;for(a=0;a<=24;a+=8)i=i<<1|e>>>a+s&1}for(s=6;0<=s;s-=2){for(a=1;a<=25;a+=8)o=o<<1|t>>>a+s&1;for(a=1;a<=25;a+=8)o=o<<1|e>>>a+s&1}r[n+0]=i>>>0,r[n+1]=o>>>0},r.rip=function(e,t,r,n){for(var i=0,o=0,s=0;s<4;s++)for(var a=24;0<=a;a-=8)i=(i=i<<1|t>>>a+s&1)<<1|e>>>a+s&1;for(s=4;s<8;s++)for(a=24;0<=a;a-=8)o=(o=o<<1|t>>>a+s&1)<<1|e>>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},r.pc1=function(e,t,r,n){for(var i=0,o=0,s=7;5<=s;s--){for(var a=0;a<=24;a+=8)i=i<<1|t>>a+s&1;for(a=0;a<=24;a+=8)i=i<<1|e>>a+s&1}for(a=0;a<=24;a+=8)i=i<<1|t>>a+s&1;for(s=1;s<=3;s++){for(a=0;a<=24;a+=8)o=o<<1|t>>a+s&1;for(a=0;a<=24;a+=8)o=o<<1|e>>a+s&1}for(a=0;a<=24;a+=8)o=o<<1|e>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0},r.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var c=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24],i=(r.pc2=function(e,t,r,n){for(var i=0,o=0,s=c.length>>>1,a=0;a<s;a++)i=i<<1|e>>>c[a]&1;for(a=s;a<c.length;a++)o=o<<1|t>>>c[a]&1;r[n+0]=i>>>0,r[n+1]=o>>>0},r.expand=function(e,t,r){for(var n=0,i=0,n=(1&e)<<5|e>>>27,o=23;15<=o;o-=4)n=n<<6|e>>>o&63;for(o=11;3<=o;o-=4)i=(i|e>>>o&63)<<6;i|=(31&e)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0},[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11]),n=(r.substitute=function(e,t){for(var r=0,n=0;n<4;n++)r=r<<4|i[64*n+(e>>>18-6*n&63)];for(n=0;n<4;n++)r=r<<4|i[256+64*n+(t>>>18-6*n&63)];return r>>>0},[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7]);r.permute=function(e){for(var t=0,r=0;r<n.length;r++)t=t<<1|e>>>n[r]&1;return t>>>0},r.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],o=0;o<t;o+=r)i.push(n.slice(o,o+r));return i.join(" ")}},{}],251:[function(e,t,n){!function(c){!function(){var o=e("./lib/generatePrime"),r=e("./lib/primes.json"),s=e("./lib/dh");var a={binary:!0,hex:!0,base64:!0};n.DiffieHellmanGroup=n.createDiffieHellmanGroup=n.getDiffieHellman=function(e){var t=new c(r[e].prime,"hex"),e=new c(r[e].gen,"hex");return new s(t,e)},n.createDiffieHellman=n.DiffieHellman=function e(t,r,n,i){return c.isBuffer(r)||void 0===a[r]?e(t,"binary",r,n):(r=r||"binary",i=i||"binary",n=n||new c([2]),c.isBuffer(n)||(n=new c(n,i)),"number"==typeof t?new s(o(t,n),n,!0):(c.isBuffer(t)||(t=new c(t,r)),new s(t,n,!0)))}}.call(this)}.call(this,e("buffer").Buffer)},{"./lib/dh":252,"./lib/generatePrime":253,"./lib/primes.json":254,buffer:221}],252:[function(g,y,e){!function(p){!function(){var n=g("bn.js"),o=new(g("miller-rabin")),s=new n(24),a=new n(11),c=new n(10),u=new n(3),h=new n(7),l=g("./generatePrime"),e=g("randombytes");function i(e,t){return t=t||"utf8",p.isBuffer(e)||(e=new p(e,t)),this._pub=new n(e),this}function f(e,t){return t=t||"utf8",p.isBuffer(e)||(e=new p(e,t)),this._priv=new n(e),this}y.exports=t;var d={};function t(e,t,r){this.setGenerator(t),this.__prime=new n(e),this._prime=n.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=i,this.setPrivateKey=f):this._primeCode=8}function r(e,t){e=new p(e.toArray());return t?e.toString(t):e}Object.defineProperty(t.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=[t=t.toString("hex"),e.toString(16)].join("_");if(r in d)return d[r];var n,i=0;if(e.isEven()||!l.simpleSieve||!l.fermatTest(e)||!o.test(e))return d[r]=i=i+1+("02"===t||"05"===t?8:4);switch(o.test(e.shrn(1))||(i+=2),t){case"02":e.mod(s).cmp(a)&&(i+=8);break;case"05":(n=e.mod(c)).cmp(u)&&n.cmp(h)&&(i+=8);break;default:i+=4}return d[r]=i}(this.__prime,this.__gen)),this._primeCode}}),t.prototype.generateKeys=function(){return this._priv||(this._priv=new n(e(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},t.prototype.computeSecret=function(e){var e=(e=(e=new n(e)).toRed(this._prime)).redPow(this._priv).fromRed(),e=new p(e.toArray()),t=this.getPrime();return e.length<t.length&&((t=new p(t.length-e.length)).fill(0),e=p.concat([t,e])),e},t.prototype.getPublicKey=function(e){return r(this._pub,e)},t.prototype.getPrivateKey=function(e){return r(this._priv,e)},t.prototype.getPrime=function(e){return r(this.__prime,e)},t.prototype.getGenerator=function(e){return r(this._gen,e)},t.prototype.setGenerator=function(e,t){return t=t||"utf8",p.isBuffer(e)||(e=new p(e,t)),this.__gen=e,this._gen=new n(e),this}}.call(this)}.call(this,g("buffer").Buffer)},{"./generatePrime":253,"bn.js":188,buffer:221,"miller-rabin":377,randombytes:456}],253:[function(e,t,r){var i=e("randombytes"),o=((t.exports=n).simpleSieve=y,n.fermatTest=b,e("bn.js")),s=new o(24),a=new(e("miller-rabin")),c=new o(1),u=new o(2),h=new o(5),l=(new o(16),new o(8),new o(10)),f=new o(3),d=(new o(7),new o(11)),p=new o(4),g=(new o(12),null);function y(e){for(var t=function(){if(null!==g)return g;var e=[];e[0]=2;for(var t=1,r=3;r<1048576;r+=2){for(var n=Math.ceil(Math.sqrt(r)),i=0;i<t&&e[i]<=n&&r%e[i]!=0;i++);t!==i&&e[i]<=n||(e[t++]=r)}return g=e}(),r=0;r<t.length;r++)if(0===e.modn(t[r]))return 0===e.cmpn(t[r]);return!0}function b(e){var t=o.mont(e);return 0===u.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function n(e,t){if(e<16)return new o(2===t||5===t?[140,123]:[140,39]);var r,n;for(t=new o(t);;){for(r=new o(i(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(c),r.testn(1)||r.iadd(u),t.cmp(u)){if(!t.cmp(h))for(;r.mod(l).cmp(f);)r.iadd(p)}else for(;r.mod(s).cmp(d);)r.iadd(p);if(y(n=r.shrn(1))&&y(r)&&b(n)&&b(r)&&a.test(n)&&a.test(r))return r}}},{"bn.js":188,"miller-rabin":377,randombytes:456}],254:[function(e,t,r){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],255:[function(h,l,e){!function(u,r){!function(){function i(e,t){e._corked?e.once("uncork",t):t()}function o(r,n){return function(e){var t;e?(t=r,e="premature close"===e.message?null:e,t._autoDestroy&&t.destroy(e)):n&&!r._ended&&r.end()}}function n(e,t,r){if(!(this instanceof n))return new n(e,t,r);s.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)}var s=h("readable-stream"),a=h("end-of-stream"),e=h("inherits"),t=h("stream-shift"),c=r.from&&r.from!==Uint8Array.from?r.from([0]):new r([0]);e(n,s.Duplex),n.obj=function(e,t,r){return(r=r||{}).objectMode=!0,r.highWaterMark=16,new n(e,t,r)},n.prototype.cork=function(){1==++this._corked&&this.emit("cork")},n.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},n.prototype.setWritable=function(e){var t,r,n;this._unwrite&&this._unwrite(),this.destroyed?e&&e.destroy&&e.destroy():null===e||!1===e?this.end():(r=a(e,{writable:!0,readable:!1},o(t=this,this._forwardEnd)),n=function(){var e=t._ondrain;t._ondrain=null,e&&e()},this._unwrite&&u.nextTick(n),this._writable=e,this._writable.on("drain",n),this._unwrite=function(){t._writable.removeListener("drain",n),r()},this.uncork())},n.prototype.setReadable=function(e){var t,r,n,i;this._unread&&this._unread(),this.destroyed?e&&e.destroy&&e.destroy():null===e||!1===e?(this.push(null),this.resume()):(r=a(e,{writable:!1,readable:!0},o(t=this)),n=function(){t._forward()},i=function(){t.push(null)},this._drained=!0,this._readable=e,this._readable2=e._readableState?e:(e=e,new s.Readable({objectMode:!0,highWaterMark:16}).wrap(e)),this._readable2.on("readable",n),this._readable2.on("end",i),this._unread=function(){t._readable2.removeListener("readable",n),t._readable2.removeListener("end",i),r()},this._forward())},n.prototype._read=function(){this._drained=!0,this._forward()},n.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var e;for(this._forwarding=!0;this._drained&&null!==(e=t(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},n.prototype.destroy=function(e){var t;this.destroyed||(this.destroyed=!0,t=this,u.nextTick(function(){t._destroy(e)}))},n.prototype._destroy=function(e){var t;e&&(t=this._ondrain,this._ondrain=null,t?t(e):this.emit("error",e)),this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},n.prototype._write=function(e,t,r){return this.destroyed?r():this._corked?i(this,this._write.bind(this,e,t,r)):e===c?this._finish(r):this._writable?void(!1===this._writable.write(e)?this._ondrain=r:r()):r()},n.prototype._finish=function(r){var n=this;this.emit("preend"),i(this,function(){var e,t;e=n._forwardEnd&&n._writable,t=function(){!1===n._writableState.prefinished&&(n._writableState.prefinished=!0),n.emit("prefinish"),i(n,r)},!e||e._writableState&&e._writableState.finished?t():e._writableState?e.end(t):(e.end(),t())})},n.prototype.end=function(e,t,r){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(c),s.Writable.prototype.end.call(this,r))},l.exports=n}.call(this)}.call(this,h("_process"),h("buffer").Buffer)},{_process:437,buffer:221,"end-of-stream":275,inherits:362,"readable-stream":467,"stream-shift":572}],256:[function(e,t,r){"use strict";e=e("readable-stream").Duplex;const n=Symbol("Callback"),i=Symbol("Other");class o extends e{constructor(e){super(e),this[n]=null,this[i]=null}_read(){const e=this[n];e&&(this[n]=null,e())}_write(e,t,r){this[i][n]=r,this[i].push(e)}_final(e){this[i].on("end",e),this[i].push(null)}}t.exports=class{constructor(e){this.socket1=new o(e),this.socket2=new o(e),this.socket1[i]=this.socket2,this.socket2[i]=this.socket1}}},{"readable-stream":467}],257:[function(e,t,r){"use strict";r.version=e("../package.json").version,r.utils=e("./elliptic/utils"),r.rand=e("brorand"),r.curve=e("./elliptic/curve"),r.curves=e("./elliptic/curves"),r.ec=e("./elliptic/ec"),r.eddsa=e("./elliptic/eddsa")},{"../package.json":272,"./elliptic/curve":260,"./elliptic/curves":263,"./elliptic/ec":264,"./elliptic/eddsa":267,"./elliptic/utils":271,brorand:190}],258:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../utils"),k=i.getNAF,I=i.getJSF,l=i.assert;function o(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;e=this.n&&this.p.div(this.n);!e||0<e.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function s(e,t){this.curve=e,this.type=t,this.precomputed=null}(t.exports=o).prototype.point=function(){throw new Error("Not implemented")},o.prototype.validate=function(){throw new Error("Not implemented")},o.prototype._fixedNafMul=function(e,t){l(e.precomputed);for(var r=e._getDoubles(),n=k(t,1,this._bitLength),e=(1<<r.step+1)-(r.step%2==0?2:1),i=(e/=3,[]),o=0;o<n.length;o+=r.step){for(var s=0,a=o+r.step-1;o<=a;a--)s=(s<<1)+n[a];i.push(s)}for(var c=this.jpoint(null,null,null),u=this.jpoint(null,null,null),h=e;0<h;h--){for(o=0;o<i.length;o++)(s=i[o])===h?u=u.mixedAdd(r.points[o]):s===-h&&(u=u.mixedAdd(r.points[o].neg()));c=c.add(u)}return c.toP()},o.prototype._wnafMul=function(e,t){for(var r=e._getNAFPoints(4),n=r.wnd,i=r.points,o=k(t,n,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;0<=a;a--){for(var c=0;0<=a&&0===o[a];a--)c++;if(0<=a&&c++,s=s.dblp(c),a<0)break;var u=o[a];l(0!==u),s="affine"===e.type?0<u?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):0<u?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},o.prototype._wnafMulAdd=function(e,t,r,n,i){for(var o=this._wnafT1,s=this._wnafT2,a=this._wnafT3,c=0,u=0;u<n;u++){var h,l=(h=t[u])._getNAFPoints(e);o[u]=l.wnd,s[u]=l.points}for(u=n-1;1<=u;u-=2){var f=u-1,d=u;if(1!==o[f]||1!==o[d])a[f]=k(r[f],o[f],this._bitLength),a[d]=k(r[d],o[d],this._bitLength),c=Math.max(a[f].length,c),c=Math.max(a[d].length,c);else{var p=[t[f],null,null,t[d]],g=(0===t[f].y.cmp(t[d].y)?(p[1]=t[f].add(t[d]),p[2]=t[f].toJ().mixedAdd(t[d].neg())):0===t[f].y.cmp(t[d].y.redNeg())?(p[1]=t[f].toJ().mixedAdd(t[d]),p[2]=t[f].add(t[d].neg())):(p[1]=t[f].toJ().mixedAdd(t[d]),p[2]=t[f].toJ().mixedAdd(t[d].neg())),[-3,-1,-5,-7,0,7,5,1,3]),y=I(r[f],r[d]),c=Math.max(y[0].length,c);for(a[f]=new Array(c),a[d]=new Array(c),E=0;E<c;E++){var b=0|y[0][E],m=0|y[1][E];a[f][E]=g[3*(1+b)+(1+m)],a[d][E]=0,s[f]=p}}}var v=this.jpoint(null,null,null),A=this._wnafT4;for(u=c;0<=u;u--){for(var _=0;0<=u;){for(var w=!0,E=0;E<n;E++)A[E]=0|a[E][u],0!==A[E]&&(w=!1);if(!w)break;_++,u--}if(0<=u&&_++,v=v.dblp(_),u<0)break;for(E=0;E<n;E++){var S=A[E];0!==S&&(0<S?h=s[E][S-1>>1]:S<0&&(h=s[E][-S-1>>1].neg()),v="affine"===h.type?v.mixedAdd(h):v.add(h))}}for(u=0;u<n;u++)s[u]=null;return i?v:v.toP()},(o.BasePoint=s).prototype.eq=function(){throw new Error("Not implemented")},s.prototype.validate=function(){return this.curve.validate(this)},o.prototype.decodePoint=function(e,t){e=i.toArray(e,t);t=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*t)return 6===e[0]?l(e[e.length-1]%2==0):7===e[0]&&l(e[e.length-1]%2==1),this.point(e.slice(1,1+t),e.slice(1+t,1+2*t));if(2!==e[0]&&3!==e[0]||e.length-1!==t)throw new Error("Unknown point format");return this.pointFromX(e.slice(1,1+t),3===e[0])},s.prototype.encodeCompressed=function(e){return this.encode(e,!0)},s.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},s.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},s.prototype.precompute=function(e){var t;return this.precomputed||((t={doubles:null,naf:null,beta:null}).naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t),this},s.prototype._hasDoubles=function(e){var t;return!!this.precomputed&&(!!(t=this.precomputed.doubles)&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step))},s.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},s.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1==r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},s.prototype._getBeta=function(){return null},s.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},{"../utils":271,"bn.js":188}],259:[function(e,t,r){"use strict";var n=e("../utils"),o=e("bn.js"),i=e("inherits"),s=e("./base"),a=n.assert;function c(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new o(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}function u(e,t,r,n,i){s.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(t,16),this.y=new o(r,16),this.z=n?new o(n,16):this.curve.one,this.t=i&&new o(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}i(c,s),(t.exports=c).prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},c.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},c.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},c.prototype.pointFromX=function(e,t){var r=(e=(e=new o(e,16)).red?e:e.toRed(this.red)).redSqr(),n=this.c2.redSub(this.a.redMul(r)),r=this.one.redSub(this.c2.redMul(this.d).redMul(r)),n=n.redMul(r.redInvm()),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");n=r.fromRed().isOdd();return(t&&!n||!t&&n)&&(r=r.redNeg()),this.point(e,r)},c.prototype.pointFromY=function(e,t){var r=(e=(e=new o(e,16)).red?e:e.toRed(this.red)).redSqr(),n=r.redSub(this.c2),r=r.redMul(this.d).redMul(this.c2).redSub(this.a),n=n.redMul(r.redInvm());if(0===n.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");return r.fromRed().isOdd()!==t&&(r=r.redNeg()),this.point(r,e)},c.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),e=e.y.redSqr(),r=t.redMul(this.a).redAdd(e),t=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(e)));return 0===r.cmp(t)},i(u,s.BasePoint),c.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},c.prototype.point=function(e,t,r,n){return new u(this,e,t,r,n)},u.fromJSON=function(e,t){return new u(e,t[0],t[1],t[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=(r=this.z.redSqr()).redIAdd(r),n=this.curve._mulA(e),e=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),i=n.redAdd(t),r=i.redSub(r),n=n.redSub(t),t=e.redMul(r),o=i.redMul(n),e=e.redMul(n),n=r.redMul(i);return this.curve.point(t,o,n,e)},u.prototype._projDbl=function(){var e,t,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),c=this.y.redSqr();return o=this.curve.twisted?(o=(i=this.curve._mulA(a)).redAdd(c),this.zOne?(e=s.redSub(a).redSub(c).redMul(o.redSub(this.curve.two)),t=o.redMul(i.redSub(c)),o.redSqr().redSub(o).redSub(o)):(r=this.z.redSqr(),n=o.redSub(r).redISub(r),e=s.redSub(a).redISub(c).redMul(n),t=o.redMul(i.redSub(c)),o.redMul(n))):(i=a.redAdd(c),r=this.curve._mulC(this.z).redSqr(),n=i.redSub(r).redSub(r),e=this.curve._mulC(s.redISub(i)).redMul(n),t=this.curve._mulC(i).redMul(a.redISub(c)),i.redMul(n)),this.curve.point(e,t,o)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),e=this.z.redMul(e.z.redAdd(e.z)),i=r.redSub(t),o=e.redSub(n),e=e.redAdd(n),n=r.redAdd(t),r=i.redMul(o),t=e.redMul(n),i=i.redMul(n),n=o.redMul(e);return this.curve.point(r,t,n,i)},u.prototype._projAdd=function(e){var t,r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),o=this.y.redMul(e.y),s=this.curve.d.redMul(i).redMul(o),a=n.redSub(s),n=n.redAdd(s),s=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(o),e=r.redMul(a).redMul(s),s=(this.curve.twisted?(t=r.redMul(n).redMul(o.redSub(this.curve._mulA(i))),a):(t=r.redMul(n).redMul(o.redSub(i)),this.curve._mulC(a))).redMul(n);return this.curve.point(e,t,s)},u.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},u.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},u.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},u.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},u.prototype.normalize=function(){var e;return this.zOne||(e=this.z.redInvm(),this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0),this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},u.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),0<=r.cmp(this.curve.p))return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},{"../utils":271,"./base":258,"bn.js":188,inherits:362}],260:[function(e,t,r){"use strict";r.base=e("./base"),r.short=e("./short"),r.mont=e("./mont"),r.edwards=e("./edwards")},{"./base":258,"./edwards":259,"./mont":261,"./short":262}],261:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("inherits"),o=e("./base"),s=e("../utils");function a(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),(t.exports=a).prototype.validate=function(e){var e=e.normalize().x,t=e.redSqr(),t=t.redMul(e).redAdd(t.redMul(this.a)).redAdd(e);return 0===t.redSqrt().redSqr().cmp(t)},i(c,o.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},a.prototype.point=function(e,t){return new c(this,e,t)},a.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(e,t){return new c(e,t[0],t[1]||e.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),e=e.redMul(t),t=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(e,t)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),e=e.x.redSub(e.z).redMul(r),r=i.redMul(n),i=t.z.redMul(e.redAdd(r).redSqr()),n=t.x.redMul(e.redISub(r).redSqr());return this.curve.point(i,n)},c.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;0<=o;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":271,"./base":258,"bn.js":188,inherits:362}],262:[function(e,t,r){"use strict";var n=e("../utils"),v=e("bn.js"),i=e("inherits"),o=e("./base"),s=n.assert;function a(e){o.call(this,"short",e),this.a=new v(e.a,16).toRed(this.red),this.b=new v(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,r,n){o.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new v(t,16),this.y=new v(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(e,t,r,n){o.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new v(0)):(this.x=new v(t,16),this.y=new v(r,16),this.z=new v(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}i(a,o),(t.exports=a).prototype._getEndomorphism=function(e){var t,r,n;if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3))return r=(e.beta?new v(e.beta,16):r=(r=this._getEndoRoots(this.p))[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red),e.lambda?t=new v(e.lambda,16):(n=this._getEndoRoots(this.n),0===this.g.mul(n[0]).x.cmp(this.g.x.redMul(r))?t=n[0]:(t=n[1],s(0===this.g.mul(t).x.cmp(this.g.x.redMul(r))))),{beta:r,lambda:t,basis:e.basis?e.basis.map(function(e){return{a:new v(e.a,16),b:new v(e.b,16)}}):this._getEndoBasis(t)}},a.prototype._getEndoRoots=function(e){var e=e===this.p?this.red:v.mont(e),t=new v(2).toRed(e).redInvm(),r=t.redNeg(),e=new v(3).toRed(e).redNeg().redSqrt().redMul(t);return[r.redAdd(e).fromRed(),r.redSub(e).fromRed()]},a.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,s=this.n.ushrn(Math.floor(this.n.bitLength()/2)),a=e,c=this.n.clone(),u=new v(1),h=new v(0),l=new v(0),f=new v(1),d=0;0!==a.cmpn(0);){var p=c.div(a),g=c.sub(p.mul(a)),y=l.sub(p.mul(u)),p=f.sub(p.mul(h));if(!n&&g.cmp(s)<0)t=o.neg(),r=u,n=g.neg(),i=y;else if(n&&2==++d)break;c=a,a=o=g,l=u,u=y,f=h,h=p}var e=g.neg(),b=y,m=n.sqr().add(i.sqr());return 0<=e.sqr().add(b.sqr()).cmp(m)&&(e=t,b=r),n.negative&&(n=n.neg(),i=i.neg()),e.negative&&(e=e.neg(),b=b.neg()),[{a:n,b:i},{a:e,b:b}]},a.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],t=t[1],n=t.b.mul(e).divRound(this.n),i=r.b.neg().mul(e).divRound(this.n),o=n.mul(r.a),s=i.mul(t.a),n=n.mul(r.b),r=i.mul(t.b);return{k1:e.sub(o).sub(s),k2:n.add(r).neg()}},a.prototype.pointFromX=function(e,t){var r=(e=(e=new v(e,16)).red?e:e.toRed(this.red)).redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");r=n.fromRed().isOdd();return(t&&!r||!t&&r)&&(n=n.redNeg()),this.point(e,n)},a.prototype.validate=function(e){var t,r;return!!e.inf||(r=e.x,e=e.y,t=this.a.redMul(r),r=r.redSqr().redMul(r).redIAdd(t).redIAdd(this.b),0===e.redSqr().redISub(r).cmpn(0))},a.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],c=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*o]=a,n[2*o+1]=c,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var r=this._wnafMulAdd(1,n,i,2*o,r),u=0;u<2*o;u++)n[u]=null,i[u]=null;return r},i(c,o.BasePoint),a.prototype.point=function(e,t,r){return new c(this,e,t,r)},a.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){var e,t,r,n;if(this.curve.endo)return(e=this.precomputed)&&e.beta?e.beta:(t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y),e&&(r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)},(e.beta=t).precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}),t)},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);return e[2]&&(e=e[2],n.precomputed={beta:null,doubles:e.doubles&&{step:e.doubles.step,points:[n].concat(e.doubles.points.map(i))},naf:e.naf&&{wnd:e.naf.wnd,points:[n].concat(e.naf.points.map(i))}}),n;function i(e){return t.point(e[0],e[1],r)}},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){var t;return this.inf?e:e.inf?this:this.eq(e)?this.dbl():this.neg().eq(e)||0===this.x.cmp(e.x)?this.curve.point(null,null):(e=(t=0!==(t=this.y.redSub(e.y)).cmpn(0)?t.redMul(this.x.redSub(e.x).redInvm()):t).redSqr().redISub(this.x).redISub(e.x),t=t.redMul(this.x.redSub(e)).redISub(this.y),this.curve.point(e,t))},c.prototype.dbl=function(){var e,t,r;return this.inf?this:0===(r=this.y.redAdd(this.y)).cmpn(0)?this.curve.point(null,null):(t=this.curve.a,e=this.x.redSqr(),r=r.redInvm(),t=(e=e.redAdd(e).redIAdd(e).redIAdd(t).redMul(r)).redSqr().redISub(this.x.redAdd(this.x)),r=e.redMul(this.x.redSub(t)).redISub(this.y),this.curve.point(t,r))},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new v(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){t=[this,t],e=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(t,e):this.curve._wnafMulAdd(1,t,e,2)},c.prototype.jmulAdd=function(e,t,r){t=[this,t],e=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(t,e,!0):this.curve._wnafMulAdd(1,t,e,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){var t,r;return this.inf?this:(t=this.curve.point(this.x,this.y.redNeg()),e&&this.precomputed&&(e=this.precomputed,r=function(e){return e.neg()},t.precomputed={naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}),t)},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},i(u,o.BasePoint),a.prototype.jpoint=function(e,t,r){return new u(this,e,t,r)},u.prototype.toP=function(){var e,t,r;return this.isInfinity()?this.curve.point(null,null):(r=(e=this.z.redInvm()).redSqr(),t=this.x.redMul(r),r=this.y.redMul(r).redMul(e),this.curve.point(t,r))},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(e){var t,r,n,i,o,s;return this.isInfinity()?e:e.isInfinity()?this:(t=e.z.redSqr(),o=this.z.redSqr(),s=this.x.redMul(t),r=e.x.redMul(o),t=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(o.redMul(this.z)),r=s.redSub(r),o=t.redSub(o),0===r.cmpn(0)?0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl():(n=(i=r.redSqr()).redMul(r),s=s.redMul(i),i=o.redSqr().redIAdd(n).redISub(s).redISub(s),o=o.redMul(s.redISub(i)).redISub(t.redMul(n)),s=this.z.redMul(e.z).redMul(r),this.curve.jpoint(i,o,s)))},u.prototype.mixedAdd=function(e){var t,r,n,i,o;return this.isInfinity()?e.toJ():e.isInfinity()?this:(r=this.z.redSqr(),o=this.x,i=e.x.redMul(r),t=this.y,e=e.y.redMul(r).redMul(this.z),r=o.redSub(i),i=t.redSub(e),0===r.cmpn(0)?0!==i.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl():(n=(e=r.redSqr()).redMul(r),o=o.redMul(e),e=i.redSqr().redIAdd(n).redISub(o).redISub(o),i=i.redMul(o.redISub(e)).redISub(t.redMul(n)),o=this.z.redMul(r),this.curve.jpoint(e,i,o)))},u.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,c=a.redSqr().redSqr(),u=s.redAdd(s);for(r=0;r<e;r++){var h=o.redSqr(),l=u.redSqr(),f=l.redSqr(),h=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(c)),l=o.redMul(l),d=h.redSqr().redISub(l.redAdd(l)),l=l.redISub(d),h=(h=h.redMul(l)).redIAdd(h).redISub(f),l=u.redMul(a);r+1<e&&(c=c.redMul(f)),o=d,a=l,u=h}return this.curve.jpoint(o,u.redMul(i),a)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var e,t,r,n,i,o=this.zOne?(t=this.x.redSqr(),r=(e=this.y.redSqr()).redSqr(),e=(e=this.x.redAdd(e).redSqr().redISub(t).redISub(r)).redIAdd(e),n=(t=t.redAdd(t).redIAdd(t)).redSqr().redISub(e).redISub(e),r=(r=(r=r.redIAdd(r)).redIAdd(r)).redIAdd(r),e=t.redMul(e.redISub(t=n)).redISub(r),this.y.redAdd(this.y)):(n=this.x.redSqr(),i=(r=this.y.redSqr()).redSqr(),r=(r=this.x.redAdd(r).redSqr().redISub(n).redISub(i)).redIAdd(r),o=(n=n.redAdd(n).redIAdd(n)).redSqr(),i=(i=(i=i.redIAdd(i)).redIAdd(i)).redIAdd(i),t=o.redISub(r).redISub(r),e=n.redMul(r.redISub(t)).redISub(i),(o=this.y.redMul(this.z)).redIAdd(o));return this.curve.jpoint(t,e,o)},u.prototype._threeDbl=function(){var e,t,r,n,i,o,s,a;return this.zOne?(t=this.x.redSqr(),i=(e=this.y.redSqr()).redSqr(),e=(e=this.x.redAdd(e).redSqr().redISub(t).redISub(i)).redIAdd(e),r=n=(t=t.redAdd(t).redIAdd(t).redIAdd(this.curve.a)).redSqr().redISub(e).redISub(e),i=(i=(i=i.redIAdd(i)).redIAdd(i)).redIAdd(i),t=t.redMul(e.redISub(n)).redISub(i),e=this.y.redAdd(this.y)):(n=this.z.redSqr(),i=this.y.redSqr(),s=this.x.redMul(i),o=(o=this.x.redSub(n).redMul(this.x.redAdd(n))).redAdd(o).redIAdd(o),a=(s=(s=s.redIAdd(s)).redIAdd(s)).redAdd(s),r=o.redSqr().redISub(a),e=this.y.redAdd(this.z).redSqr().redISub(i).redISub(n),a=(a=(a=(a=i.redSqr()).redIAdd(a)).redIAdd(a)).redIAdd(a),t=o.redMul(s.redISub(r)).redISub(a)),this.curve.jpoint(r,t,e)},u.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),o=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),e=t.redAdd(t),i=(e=e.redIAdd(e)).redMul(s),t=o.redSqr().redISub(i.redAdd(i)),e=i.redISub(t),i=s.redSqr(),s=(i=(i=(i=i.redIAdd(i)).redIAdd(i)).redIAdd(i),o.redMul(e).redISub(i)),o=r.redAdd(r).redMul(n);return this.curve.jpoint(t,s,o)},u.prototype.trpl=function(){var e,t,r,n,i,o,s;return this.curve.zeroA?(t=this.x.redSqr(),i=this.y.redSqr(),e=this.z.redSqr(),s=i.redSqr(),o=(n=t.redAdd(t).redIAdd(t)).redSqr(),r=(t=(t=(t=(t=this.x.redAdd(i).redSqr().redISub(t).redISub(s)).redIAdd(t)).redAdd(t).redIAdd(t)).redISub(o)).redSqr(),s=(s=(s=(s=s.redIAdd(s)).redIAdd(s)).redIAdd(s)).redIAdd(s),n=n.redIAdd(t).redSqr().redISub(o).redISub(r).redISub(s),o=(o=(o=i.redMul(n)).redIAdd(o)).redIAdd(o),i=(i=(i=this.x.redMul(r).redISub(o)).redIAdd(i)).redIAdd(i),o=(o=(o=(o=this.y.redMul(n.redMul(s.redISub(n)).redISub(t.redMul(r)))).redIAdd(o)).redIAdd(o)).redIAdd(o),s=this.z.redAdd(t).redSqr().redISub(e).redISub(r),this.curve.jpoint(i,o,s)):this.dbl().add(this)},u.prototype.mul=function(e,t){return e=new v(e,t),this.curve._wnafMul(this,e)},u.prototype.eq=function(e){var t,r;return"affine"===e.type?this.eq(e.toJ()):this===e||(t=this.z.redSqr(),r=e.z.redSqr(),0===this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)&&(t=t.redMul(this.z),r=r.redMul(e.z),0===this.y.redMul(r).redISub(e.y.redMul(t)).cmpn(0)))},u.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),0<=n.cmp(this.curve.p))return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../utils":271,"./base":258,"bn.js":188,inherits:362}],263:[function(e,t,r){"use strict";var n,i=r,r=e("hash.js"),o=e("./curve"),s=e("./utils").assert;function a(e){"short"===e.type?this.curve=new o.short(e):"edwards"===e.type?this.curve=new o.edwards(e):this.curve=new o.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(t,r){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var e=new a(r);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:e}),e}})}i.PresetCurve=a,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=e("./precomputed/secp256k1")}catch(e){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},{"./curve":260,"./precomputed/secp256k1":270,"./utils":271,"hash.js":341}],264:[function(e,t,r){"use strict";var f=e("bn.js"),d=e("hmac-drbg"),n=e("../utils"),i=e("../curves"),o=e("brorand"),a=n.assert,s=e("./key"),p=e("./signature");function c(e){if(!(this instanceof c))return new c(e);"string"==typeof e&&(a(Object.prototype.hasOwnProperty.call(i,e),"Unknown curve "+e),e=i[e]),e instanceof i.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}(t.exports=c).prototype.keyPair=function(e){return new s(this,e)},c.prototype.keyFromPrivate=function(e,t){return s.fromPrivate(this,e,t)},c.prototype.keyFromPublic=function(e,t){return s.fromPublic(this,e,t)},c.prototype.genKeyPair=function(e){for(var t=new d({hash:this.hash,pers:(e=e||{}).pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||o(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new f(2));;){var i=new f(t.generate(r));if(!(0<i.cmp(n)))return i.iaddn(1),this.keyFromPrivate(i)}},c.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return 0<r&&(e=e.ushrn(r)),!t&&0<=e.cmp(this.n)?e.sub(this.n):e},c.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n=n||{},t=this.keyFromPrivate(t,r),e=this._truncateToN(new f(e,16));for(var r=this.n.byteLength(),i=t.getPrivate().toArray("be",r),r=e.toArray("be",r),o=new d({hash:this.hash,entropy:i,nonce:r,pers:n.pers,persEnc:n.persEnc||"utf8"}),s=this.n.sub(new f(1)),a=0;;a++){var c=n.k?n.k(a):new f(o.generate(this.n.byteLength())),c=this._truncateToN(c,!0);if(!(c.cmpn(1)<=0||0<=c.cmp(s))){var u=this.g.mul(c);if(!u.isInfinity()){var h=u.getX(),l=h.umod(this.n);if(0!==l.cmpn(0)){c=(c=c.invm(this.n).mul(l.mul(t.getPrivate()).iadd(e))).umod(this.n);if(0!==c.cmpn(0))return u=(u.getY().isOdd()?1:0)|(0!==h.cmp(l)?2:0),n.canonical&&0<c.cmp(this.nh)&&(c=this.n.sub(c),u^=1),new p({r:l,s:c,recoveryParam:u})}}}}},c.prototype.verify=function(e,t,r,n){e=this._truncateToN(new f(e,16)),r=this.keyFromPublic(r,n);var i,n=(t=new p(t,"hex")).r,t=t.s;return!(n.cmpn(1)<0||0<=n.cmp(this.n))&&(!(t.cmpn(1)<0||0<=t.cmp(this.n))&&(e=(t=t.invm(this.n)).mul(e).umod(this.n),t=t.mul(n).umod(this.n),this.curve._maxwellTrick?!(i=this.g.jmulAdd(e,r.getPublic(),t)).isInfinity()&&i.eqXToP(n):!(i=this.g.mulAdd(e,r.getPublic(),t)).isInfinity()&&0===i.getX().umod(this.n).cmp(n)))},c.prototype.recoverPubKey=function(e,t,r,n){a((3&r)===r,"The recovery param is more than two bits"),t=new p(t,n);var n=this.n,e=new f(e),i=t.r,o=t.s,s=1&r,r=r>>1;if(0<=i.cmp(this.curve.p.umod(this.curve.n))&&r)throw new Error("Unable to find sencond key candinate");i=r?this.curve.pointFromX(i.add(this.curve.n),s):this.curve.pointFromX(i,s),r=t.r.invm(n),s=n.sub(e).mul(r).umod(n),t=o.mul(r).umod(n);return this.g.mulAdd(s,i,t)},c.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new p(t,n)).recoveryParam)return t.recoveryParam;for(var i,o=0;o<4;o++){try{i=this.recoverPubKey(e,t,o)}catch(e){continue}if(i.eq(r))return o}throw new Error("Unable to find valid recovery factor")}},{"../curves":263,"../utils":271,"./key":265,"./signature":266,"bn.js":188,brorand:190,"hmac-drbg":354}],265:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../utils").assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}(t.exports=o).fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){e.x||e.y?("mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y)):this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":271,"bn.js":188}],266:[function(e,t,r){"use strict";var i=e("bn.js"),o=e("../utils"),n=o.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(n(e.r&&e.s,"Signature without r or s"),this.r=new i(e.r,16),this.s=new i(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function c(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0==n||4<n)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i=((i<<=8)|e[s])>>>0;return!(i<=127)&&(t.place=s,i)}function u(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function h(e,t){if(!(t<128)){var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255)}e.push(t)}(t.exports=s).prototype._importDER=function(e,t){e=o.toArray(e,t);t=new a;if(48!==e[t.place++])return!1;var r=c(e,t);if(!1===r)return!1;if(r+t.place!==e.length)return!1;if(2!==e[t.place++])return!1;r=c(e,t);if(!1===r)return!1;var n=e.slice(t.place,r+t.place);if(t.place+=r,2!==e[t.place++])return!1;r=c(e,t);if(!1===r)return!1;if(e.length!==r+t.place)return!1;e=e.slice(t.place,r+t.place);if(0===n[0]){if(!(128&n[1]))return!1;n=n.slice(1)}if(0===e[0]){if(!(128&e[1]))return!1;e=e.slice(1)}return this.r=new i(n),this.s=new i(e),!(this.recoveryParam=null)},s.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=u(t),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2],t=(h(n,t.length),(n=n.concat(t)).push(2),h(n,r.length),n.concat(r)),n=[48];return h(n,t.length),n=n.concat(t),o.encode(n,e)}},{"../utils":271,"bn.js":188}],267:[function(e,t,r){"use strict";var n=e("hash.js"),i=e("../curves"),o=e("../utils"),s=o.assert,a=o.parseBytes,c=e("./key"),u=e("./signature");function h(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof h))return new h(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}(t.exports=h).prototype.sign=function(e,t){e=a(e);var t=this.keyFromSecret(t),r=this.hashInt(t.messagePrefix(),e),n=this.g.mul(r),i=this.encodePoint(n),e=this.hashInt(i,t.pubBytes(),e).mul(t.priv()),t=r.add(e).umod(this.curve.n);return this.makeSignature({R:n,S:t,Rencoded:i})},h.prototype.verify=function(e,t,r){e=a(e),t=this.makeSignature(t);var r=this.keyFromPublic(r),e=this.hashInt(t.Rencoded(),r.pubBytes(),e),n=this.g.mul(t.S());return t.R().add(r.pub().mul(e)).eq(n)},h.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(e){return c.fromPublic(this,e)},h.prototype.keyFromSecret=function(e){return c.fromSecret(this,e)},h.prototype.makeSignature=function(e){return e instanceof u?e:new u(this,e)},h.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},h.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),e=0!=(128&e[t]),t=o.intFromLE(r);return this.curve.pointFromY(t,e)},h.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(e){return o.intFromLE(e)},h.prototype.isPoint=function(e){return e instanceof this.pointClass}},{"../curves":263,"../utils":271,"./key":268,"./signature":269,"hash.js":341}],268:[function(e,t,r){"use strict";var n=e("../utils"),i=n.assert,o=n.parseBytes,e=n.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},e(s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),e(s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),e(s,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,t=t.slice(0,e.encodingLength);return t[0]&=248,t[r]&=127,t[r]|=64,t}),e(s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),e(s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),e(s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},s.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},t.exports=s},{"../utils":271}],269:[function(e,t,r){"use strict";var n=e("bn.js"),i=e("../utils"),o=i.assert,e=i.cachedProperty,s=i.parseBytes;function a(e,t){this.eddsa=e,"object"!=typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}e(a,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),e(a,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),e(a,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),e(a,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),a.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},a.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=a},{"../utils":271,"bn.js":188}],270:[function(e,t,r){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],271:[function(e,t,r){"use strict";var n=r,i=e("bn.js"),r=e("minimalistic-assert"),e=e("minimalistic-crypto-utils");n.assert=r,n.toArray=e.toArray,n.zero2=e.zero2,n.toHex=e.toHex,n.encode=e.encode,n.getNAF=function(e,t,r){for(var n=new Array(Math.max(e.bitLength(),r)+1),i=(n.fill(0),1<<t+1),o=e.clone(),s=0;s<n.length;s++){var a,c=o.andln(i-1);o.isOdd()?o.isubn(a=(i>>1)-1<c?(i>>1)-c:c):a=0,n[s]=a,o.iushrn(1)}return n},n.getJSF=function(e,t){for(var r,n=[[],[]],i=(e=e.clone(),t=t.clone(),0),o=0;0<e.cmpn(-i)||0<t.cmpn(-o);){var s,a=e.andln(3)+i&3,c=t.andln(3)+o&3;3===c&&(c=-1),s=0==(1&(a=3===a?-1:a))?0:3!==(r=e.andln(7)+i&7)&&5!==r||2!==c?a:-a,n[0].push(s),a=0==(1&c)?0:3!==(r=t.andln(7)+o&7)&&5!==r||2!==a?c:-c,n[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return n},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"==typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},{"bn.js":188,"minimalistic-assert":378,"minimalistic-crypto-utils":379}],272:[function(e,t,r){t.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],273:[function(e,t,r){"use strict";const d=new WeakMap,s=new WeakMap,p=new WeakMap,g=Symbol("anyProducer"),y=Promise.resolve(),n=Symbol("listenerAdded"),i=Symbol("listenerRemoved");function b(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new TypeError("eventName must be a string or a symbol")}function o(e){if("function"!=typeof e)throw new TypeError("listener must be a function")}function m(e,t){const r=s.get(e);return r.has(t)||r.set(t,new Set),r.get(t)}function a(e,t){t="string"==typeof t?t:g;const r=p.get(e);return r.has(t)||r.set(t,new Set),r.get(t)}function c(t,r){let e=!1,n=()=>{},i=[];const o={enqueue(e){i.push(e),n()},finish(){e=!0,n()}};return a(t,r).add(o),{async next(){return i?0===i.length?(e?i=void 0:await new Promise(e=>{n=e}),this.next()):{done:!1,value:await i.shift()}:{done:!0}},async return(e){return i=void 0,a(t,r).delete(o),n(),0<arguments.length?{done:!0,value:await e}:{done:!0}},[Symbol.asyncIterator](){return this}}}function u(e){if(void 0===e)return l;if(!Array.isArray(e))throw new TypeError("`methodNames` must be an array of strings");for(const t of e)if(!l.includes(t)){if("string"!=typeof t)throw new TypeError("`methodNames` element must be a string");throw new Error(t+" is not Emittery method")}return e}const v=e=>e===n||e===i;class h{static mixin(n,i){return i=u(i),e=>{if("function"!=typeof e)throw new TypeError("`target` must be function");for(const t of i)if(void 0!==e.prototype[t])throw new Error(`The property \`${t}\` already exists on \`target\``);Object.defineProperty(e.prototype,n,{enumerable:!1,get:function(){return Object.defineProperty(this,n,{enumerable:!1,value:new h}),this[n]}});for(const r of i)Object.defineProperty(e.prototype,r,{enumerable:!1,value:(t=>function(...e){return this[n][t](...e)})(r)});return e}}constructor(){d.set(this,new Set),s.set(this,new Map),p.set(this,new Map)}on(e,t){return b(e),o(t),m(this,e).add(t),v(e)||this.emit(n,{eventName:e,listener:t}),this.off.bind(this,e,t)}off(e,t){b(e),o(t),v(e)||this.emit(i,{eventName:e,listener:t}),m(this,e).delete(t)}once(e){return new Promise(t=>{b(e);const r=this.on(e,e=>{r(),t(e)})})}events(e){return b(e),c(this,e)}async emit(t,r){b(t);{var e=this,n=t,i=r;const h=p.get(e);if(h.has(n))for(const l of h.get(n))l.enqueue(i);if(h.has(g)){var o=Promise.all([n,i]);for(const f of h.get(g))f.enqueue(o)}}const s=m(this,t),a=d.get(this),c=[...s],u=v(t)?[]:[...a];return await y,Promise.all([...c.map(async e=>{if(s.has(e))return e(r)}),...u.map(async e=>{if(a.has(e))return e(t,r)})])}async emitSerial(e,t){b(e);const r=m(this,e),n=d.get(this);var i=[...r],o=[...n];await y;for(const s of i)r.has(s)&&await s(t);for(const a of o)n.has(a)&&await a(e,t)}onAny(e){return o(e),d.get(this).add(e),this.emit(n,{listener:e}),this.offAny.bind(this,e)}anyEvent(){return c(this)}offAny(e){o(e),this.emit(i,{listener:e}),d.get(this).delete(e)}clearListeners(e){if("string"==typeof e){m(this,e).clear();const t=a(this,e);for(const r of t)r.finish();t.clear()}else{d.get(this).clear();for(const n of s.get(this).values())n.clear();for(const i of p.get(this).values()){for(const o of i)o.finish();i.clear()}}}listenerCount(e){if("string"==typeof e)return d.get(this).size+m(this,e).size+a(this,e).size+a(this).size;void 0!==e&&b(e);let t=d.get(this).size;for(const r of s.get(this).values())t+=r.size;for(const n of p.get(this).values())t+=n.size;return t}bindMethods(e,t){if("object"!=typeof e||null===e)throw new TypeError("`target` must be an object");for(const r of t=u(t)){if(void 0!==e[r])throw new Error(`The property \`${r}\` already exists on \`target\``);Object.defineProperty(e,r,{enumerable:!1,value:this[r].bind(this)})}}}const l=Object.getOwnPropertyNames(h.prototype).filter(e=>"constructor"!==e);h.Typed=class extends h{},Object.defineProperty(h.Typed,"Typed",{enumerable:!1,value:void 0}),Object.defineProperty(h,"listenerAdded",{value:n,writable:!1,enumerable:!0,configurable:!1}),Object.defineProperty(h,"listenerRemoved",{value:i,writable:!1,enumerable:!0,configurable:!1}),t.exports=h},{}],274:[function(e,t,r){var i=e("end-of-stream");t.exports=function(e,n={}){return new Promise((t,r)=>{i(e,n,function(e){e?r(e):t()})})}},{"end-of-stream":275}],275:[function(e,t,r){!function(A){!function(){function b(){}function m(t,e,r){if("function"==typeof e)return m(t,null,e);function n(){t.writable||i()}function i(){g=!1,p||r.call(t)}function o(){p=!1,g||r.call(t)}function s(e){r.call(t,e?new Error("exited with error code: "+e):null)}function a(e){r.call(t,e)}function c(){A.nextTick(u)}function u(){return y||(!p||d&&d.ended&&!d.destroyed)&&(!g||f&&f.ended&&!f.destroyed)?void 0:r.call(t,new Error("premature close"))}function h(){t.req.on("finish",i)}e=e||{},r=v(r||b);var l,f=t._writableState,d=t._readableState,p=e.readable||!1!==e.readable&&t.readable,g=e.writable||!1!==e.writable&&t.writable,y=!1;return(l=t).setHeader&&"function"==typeof l.abort?(t.on("complete",i),t.on("abort",c),t.req?h():t.on("request",h)):g&&!f&&(t.on("end",n),t.on("close",n)),(l=t).stdio&&Array.isArray(l.stdio)&&3===l.stdio.length&&t.on("exit",s),t.on("end",o),t.on("finish",i),!1!==e.error&&t.on("error",a),t.on("close",c),function(){y=!0,t.removeListener("complete",i),t.removeListener("abort",c),t.removeListener("request",h),t.req&&t.req.removeListener("finish",i),t.removeListener("end",n),t.removeListener("close",n),t.removeListener("finish",i),t.removeListener("exit",s),t.removeListener("end",o),t.removeListener("error",a),t.removeListener("close",c)}}var v=e("once");t.exports=m}.call(this)}.call(this,e("_process"))},{_process:437,once:414}],276:[function(e,t,r){"use strict";function i(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}t.exports=function(t,r,n){if(!t||"string"==typeof t)throw new TypeError("Please pass an Error to err-code");n=n||{},"object"==typeof r&&(n=r,r=""),r&&(n.code=r);try{return i(t,n)}catch(e){n.message=t.message,n.stack=t.stack;r=function(){},t=(r.prototype=Object.create(Object.getPrototypeOf(t)),i(new r,n));return t}}},{}],277:[function(t,e,r){"use strict";t=t("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch(e){t=null}e.exports=t},{"get-intrinsic":294}],278:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.version=void 0,r.version="ethers/5.7.0"},{}],279:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=(Object.defineProperty(r,"__esModule",{value:!0}),r.Wordlist=r.version=r.wordlists=r.utils=r.logger=r.errors=r.constants=r.FixedNumber=r.BigNumber=r.ContractFactory=r.Contract=r.BaseContract=r.providers=r.getDefaultProvider=r.VoidSigner=r.Wallet=r.Signer=void 0,e("@ethersproject/contracts")),a=(Object.defineProperty(r,"BaseContract",{enumerable:!0,get:function(){return s.BaseContract}}),Object.defineProperty(r,"Contract",{enumerable:!0,get:function(){return s.Contract}}),Object.defineProperty(r,"ContractFactory",{enumerable:!0,get:function(){return s.ContractFactory}}),e("@ethersproject/bignumber")),c=(Object.defineProperty(r,"BigNumber",{enumerable:!0,get:function(){return a.BigNumber}}),Object.defineProperty(r,"FixedNumber",{enumerable:!0,get:function(){return a.FixedNumber}}),e("@ethersproject/abstract-signer")),u=(Object.defineProperty(r,"Signer",{enumerable:!0,get:function(){return c.Signer}}),Object.defineProperty(r,"VoidSigner",{enumerable:!0,get:function(){return c.VoidSigner}}),e("@ethersproject/wallet")),h=(Object.defineProperty(r,"Wallet",{enumerable:!0,get:function(){return u.Wallet}}),o(e("@ethersproject/constants"))),h=(r.constants=h,o(e("@ethersproject/providers"))),l=(r.providers=h,e("@ethersproject/providers")),f=(Object.defineProperty(r,"getDefaultProvider",{enumerable:!0,get:function(){return l.getDefaultProvider}}),e("@ethersproject/wordlists")),h=(Object.defineProperty(r,"Wordlist",{enumerable:!0,get:function(){return f.Wordlist}}),Object.defineProperty(r,"wordlists",{enumerable:!0,get:function(){return f.wordlists}}),o(e("./utils"))),d=(r.utils=h,e("@ethersproject/logger")),p=(Object.defineProperty(r,"errors",{enumerable:!0,get:function(){return d.ErrorCode}}),e("./_version")),o=(Object.defineProperty(r,"version",{enumerable:!0,get:function(){return p.version}}),new d.Logger(p.version));r.logger=o},{"./_version":278,"./utils":281,"@ethersproject/abstract-signer":36,"@ethersproject/bignumber":45,"@ethersproject/constants":51,"@ethersproject/contracts":54,"@ethersproject/logger":74,"@ethersproject/providers":91,"@ethersproject/wallet":125,"@ethersproject/wordlists":130}],280:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=(Object.defineProperty(r,"__esModule",{value:!0}),r.Wordlist=r.version=r.wordlists=r.utils=r.logger=r.errors=r.constants=r.FixedNumber=r.BigNumber=r.ContractFactory=r.Contract=r.BaseContract=r.providers=r.getDefaultProvider=r.VoidSigner=r.Wallet=r.Signer=r.ethers=void 0,o(e("./ethers")));r.ethers=o;try{var s=window;null==s._ethers&&(s._ethers=o)}catch(e){}var a=e("./ethers");Object.defineProperty(r,"Signer",{enumerable:!0,get:function(){return a.Signer}}),Object.defineProperty(r,"Wallet",{enumerable:!0,get:function(){return a.Wallet}}),Object.defineProperty(r,"VoidSigner",{enumerable:!0,get:function(){return a.VoidSigner}}),Object.defineProperty(r,"getDefaultProvider",{enumerable:!0,get:function(){return a.getDefaultProvider}}),Object.defineProperty(r,"providers",{enumerable:!0,get:function(){return a.providers}}),Object.defineProperty(r,"BaseContract",{enumerable:!0,get:function(){return a.BaseContract}}),Object.defineProperty(r,"Contract",{enumerable:!0,get:function(){return a.Contract}}),Object.defineProperty(r,"ContractFactory",{enumerable:!0,get:function(){return a.ContractFactory}}),Object.defineProperty(r,"BigNumber",{enumerable:!0,get:function(){return a.BigNumber}}),Object.defineProperty(r,"FixedNumber",{enumerable:!0,get:function(){return a.FixedNumber}}),Object.defineProperty(r,"constants",{enumerable:!0,get:function(){return a.constants}}),Object.defineProperty(r,"errors",{enumerable:!0,get:function(){return a.errors}}),Object.defineProperty(r,"logger",{enumerable:!0,get:function(){return a.logger}}),Object.defineProperty(r,"utils",{enumerable:!0,get:function(){return a.utils}}),Object.defineProperty(r,"wordlists",{enumerable:!0,get:function(){return a.wordlists}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return a.version}}),Object.defineProperty(r,"Wordlist",{enumerable:!0,get:function(){return a.Wordlist}})},{"./ethers":279}],281:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=(Object.defineProperty(r,"__esModule",{value:!0}),r.formatBytes32String=r.Utf8ErrorFuncs=r.toUtf8String=r.toUtf8CodePoints=r.toUtf8Bytes=r._toEscapedUtf8String=r.nameprep=r.hexDataSlice=r.hexDataLength=r.hexZeroPad=r.hexValue=r.hexStripZeros=r.hexConcat=r.isHexString=r.hexlify=r.base64=r.base58=r.TransactionDescription=r.LogDescription=r.Interface=r.SigningKey=r.HDNode=r.defaultPath=r.isBytesLike=r.isBytes=r.zeroPad=r.stripZeros=r.concat=r.arrayify=r.shallowCopy=r.resolveProperties=r.getStatic=r.defineReadOnly=r.deepCopy=r.checkProperties=r.poll=r.fetchJson=r._fetchData=r.RLP=r.Logger=r.checkResultErrors=r.FormatTypes=r.ParamType=r.FunctionFragment=r.EventFragment=r.ErrorFragment=r.ConstructorFragment=r.Fragment=r.defaultAbiCoder=r.AbiCoder=void 0,r.Indexed=r.Utf8ErrorReason=r.UnicodeNormalizationForm=r.SupportedAlgorithm=r.mnemonicToSeed=r.isValidMnemonic=r.entropyToMnemonic=r.mnemonicToEntropy=r.getAccountPath=r.verifyTypedData=r.verifyMessage=r.recoverPublicKey=r.computePublicKey=r.recoverAddress=r.computeAddress=r.getJsonWalletAddress=r.TransactionTypes=r.serializeTransaction=r.parseTransaction=r.accessListify=r.joinSignature=r.splitSignature=r.soliditySha256=r.solidityKeccak256=r.solidityPack=r.shuffled=r.randomBytes=r.sha512=r.sha256=r.ripemd160=r.keccak256=r.computeHmac=r.commify=r.parseUnits=r.formatUnits=r.parseEther=r.formatEther=r.isAddress=r.getCreate2Address=r.getContractAddress=r.getIcapAddress=r.getAddress=r._TypedDataEncoder=r.id=r.isValidName=r.namehash=r.hashMessage=r.dnsEncode=r.parseBytes32String=void 0,e("@ethersproject/abi")),a=(Object.defineProperty(r,"AbiCoder",{enumerable:!0,get:function(){return s.AbiCoder}}),Object.defineProperty(r,"checkResultErrors",{enumerable:!0,get:function(){return s.checkResultErrors}}),Object.defineProperty(r,"ConstructorFragment",{enumerable:!0,get:function(){return s.ConstructorFragment}}),Object.defineProperty(r,"defaultAbiCoder",{enumerable:!0,get:function(){return s.defaultAbiCoder}}),Object.defineProperty(r,"ErrorFragment",{enumerable:!0,get:function(){return s.ErrorFragment}}),Object.defineProperty(r,"EventFragment",{enumerable:!0,get:function(){return s.EventFragment}}),Object.defineProperty(r,"FormatTypes",{enumerable:!0,get:function(){return s.FormatTypes}}),Object.defineProperty(r,"Fragment",{enumerable:!0,get:function(){return s.Fragment}}),Object.defineProperty(r,"FunctionFragment",{enumerable:!0,get:function(){return s.FunctionFragment}}),Object.defineProperty(r,"Indexed",{enumerable:!0,get:function(){return s.Indexed}}),Object.defineProperty(r,"Interface",{enumerable:!0,get:function(){return s.Interface}}),Object.defineProperty(r,"LogDescription",{enumerable:!0,get:function(){return s.LogDescription}}),Object.defineProperty(r,"ParamType",{enumerable:!0,get:function(){return s.ParamType}}),Object.defineProperty(r,"TransactionDescription",{enumerable:!0,get:function(){return s.TransactionDescription}}),e("@ethersproject/address")),c=(Object.defineProperty(r,"getAddress",{enumerable:!0,get:function(){return a.getAddress}}),Object.defineProperty(r,"getCreate2Address",{enumerable:!0,get:function(){return a.getCreate2Address}}),Object.defineProperty(r,"getContractAddress",{enumerable:!0,get:function(){return a.getContractAddress}}),Object.defineProperty(r,"getIcapAddress",{enumerable:!0,get:function(){return a.getIcapAddress}}),Object.defineProperty(r,"isAddress",{enumerable:!0,get:function(){return a.isAddress}}),o(e("@ethersproject/base64"))),u=(r.base64=c,e("@ethersproject/basex")),h=(Object.defineProperty(r,"base58",{enumerable:!0,get:function(){return u.Base58}}),e("@ethersproject/bytes")),l=(Object.defineProperty(r,"arrayify",{enumerable:!0,get:function(){return h.arrayify}}),Object.defineProperty(r,"concat",{enumerable:!0,get:function(){return h.concat}}),Object.defineProperty(r,"hexConcat",{enumerable:!0,get:function(){return h.hexConcat}}),Object.defineProperty(r,"hexDataSlice",{enumerable:!0,get:function(){return h.hexDataSlice}}),Object.defineProperty(r,"hexDataLength",{enumerable:!0,get:function(){return h.hexDataLength}}),Object.defineProperty(r,"hexlify",{enumerable:!0,get:function(){return h.hexlify}}),Object.defineProperty(r,"hexStripZeros",{enumerable:!0,get:function(){return h.hexStripZeros}}),Object.defineProperty(r,"hexValue",{enumerable:!0,get:function(){return h.hexValue}}),Object.defineProperty(r,"hexZeroPad",{enumerable:!0,get:function(){return h.hexZeroPad}}),Object.defineProperty(r,"isBytes",{enumerable:!0,get:function(){return h.isBytes}}),Object.defineProperty(r,"isBytesLike",{enumerable:!0,get:function(){return h.isBytesLike}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return h.isHexString}}),Object.defineProperty(r,"joinSignature",{enumerable:!0,get:function(){return h.joinSignature}}),Object.defineProperty(r,"zeroPad",{enumerable:!0,get:function(){return h.zeroPad}}),Object.defineProperty(r,"splitSignature",{enumerable:!0,get:function(){return h.splitSignature}}),Object.defineProperty(r,"stripZeros",{enumerable:!0,get:function(){return h.stripZeros}}),e("@ethersproject/hash")),f=(Object.defineProperty(r,"_TypedDataEncoder",{enumerable:!0,get:function(){return l._TypedDataEncoder}}),Object.defineProperty(r,"dnsEncode",{enumerable:!0,get:function(){return l.dnsEncode}}),Object.defineProperty(r,"hashMessage",{enumerable:!0,get:function(){return l.hashMessage}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return l.id}}),Object.defineProperty(r,"isValidName",{enumerable:!0,get:function(){return l.isValidName}}),Object.defineProperty(r,"namehash",{enumerable:!0,get:function(){return l.namehash}}),e("@ethersproject/hdnode")),d=(Object.defineProperty(r,"defaultPath",{enumerable:!0,get:function(){return f.defaultPath}}),Object.defineProperty(r,"entropyToMnemonic",{enumerable:!0,get:function(){return f.entropyToMnemonic}}),Object.defineProperty(r,"getAccountPath",{enumerable:!0,get:function(){return f.getAccountPath}}),Object.defineProperty(r,"HDNode",{enumerable:!0,get:function(){return f.HDNode}}),Object.defineProperty(r,"isValidMnemonic",{enumerable:!0,get:function(){return f.isValidMnemonic}}),Object.defineProperty(r,"mnemonicToEntropy",{enumerable:!0,get:function(){return f.mnemonicToEntropy}}),Object.defineProperty(r,"mnemonicToSeed",{enumerable:!0,get:function(){return f.mnemonicToSeed}}),e("@ethersproject/json-wallets")),p=(Object.defineProperty(r,"getJsonWalletAddress",{enumerable:!0,get:function(){return d.getJsonWalletAddress}}),e("@ethersproject/keccak256")),g=(Object.defineProperty(r,"keccak256",{enumerable:!0,get:function(){return p.keccak256}}),e("@ethersproject/logger")),y=(Object.defineProperty(r,"Logger",{enumerable:!0,get:function(){return g.Logger}}),e("@ethersproject/sha2")),b=(Object.defineProperty(r,"computeHmac",{enumerable:!0,get:function(){return y.computeHmac}}),Object.defineProperty(r,"ripemd160",{enumerable:!0,get:function(){return y.ripemd160}}),Object.defineProperty(r,"sha256",{enumerable:!0,get:function(){return y.sha256}}),Object.defineProperty(r,"sha512",{enumerable:!0,get:function(){return y.sha512}}),e("@ethersproject/solidity")),m=(Object.defineProperty(r,"solidityKeccak256",{enumerable:!0,get:function(){return b.keccak256}}),Object.defineProperty(r,"solidityPack",{enumerable:!0,get:function(){return b.pack}}),Object.defineProperty(r,"soliditySha256",{enumerable:!0,get:function(){return b.sha256}}),e("@ethersproject/random")),v=(Object.defineProperty(r,"randomBytes",{enumerable:!0,get:function(){return m.randomBytes}}),Object.defineProperty(r,"shuffled",{enumerable:!0,get:function(){return m.shuffled}}),e("@ethersproject/properties")),c=(Object.defineProperty(r,"checkProperties",{enumerable:!0,get:function(){return v.checkProperties}}),Object.defineProperty(r,"deepCopy",{enumerable:!0,get:function(){return v.deepCopy}}),Object.defineProperty(r,"defineReadOnly",{enumerable:!0,get:function(){return v.defineReadOnly}}),Object.defineProperty(r,"getStatic",{enumerable:!0,get:function(){return v.getStatic}}),Object.defineProperty(r,"resolveProperties",{enumerable:!0,get:function(){return v.resolveProperties}}),Object.defineProperty(r,"shallowCopy",{enumerable:!0,get:function(){return v.shallowCopy}}),o(e("@ethersproject/rlp"))),A=(r.RLP=c,e("@ethersproject/signing-key")),_=(Object.defineProperty(r,"computePublicKey",{enumerable:!0,get:function(){return A.computePublicKey}}),Object.defineProperty(r,"recoverPublicKey",{enumerable:!0,get:function(){return A.recoverPublicKey}}),Object.defineProperty(r,"SigningKey",{enumerable:!0,get:function(){return A.SigningKey}}),e("@ethersproject/strings")),w=(Object.defineProperty(r,"formatBytes32String",{enumerable:!0,get:function(){return _.formatBytes32String}}),Object.defineProperty(r,"nameprep",{enumerable:!0,get:function(){return _.nameprep}}),Object.defineProperty(r,"parseBytes32String",{enumerable:!0,get:function(){return _.parseBytes32String}}),Object.defineProperty(r,"_toEscapedUtf8String",{enumerable:!0,get:function(){return _._toEscapedUtf8String}}),Object.defineProperty(r,"toUtf8Bytes",{enumerable:!0,get:function(){return _.toUtf8Bytes}}),Object.defineProperty(r,"toUtf8CodePoints",{enumerable:!0,get:function(){return _.toUtf8CodePoints}}),Object.defineProperty(r,"toUtf8String",{enumerable:!0,get:function(){return _.toUtf8String}}),Object.defineProperty(r,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return _.Utf8ErrorFuncs}}),e("@ethersproject/transactions")),E=(Object.defineProperty(r,"accessListify",{enumerable:!0,get:function(){return w.accessListify}}),Object.defineProperty(r,"computeAddress",{enumerable:!0,get:function(){return w.computeAddress}}),Object.defineProperty(r,"parseTransaction",{enumerable:!0,get:function(){return w.parse}}),Object.defineProperty(r,"recoverAddress",{enumerable:!0,get:function(){return w.recoverAddress}}),Object.defineProperty(r,"serializeTransaction",{enumerable:!0,get:function(){return w.serialize}}),Object.defineProperty(r,"TransactionTypes",{enumerable:!0,get:function(){return w.TransactionTypes}}),e("@ethersproject/units")),S=(Object.defineProperty(r,"commify",{enumerable:!0,get:function(){return E.commify}}),Object.defineProperty(r,"formatEther",{enumerable:!0,get:function(){return E.formatEther}}),Object.defineProperty(r,"parseEther",{enumerable:!0,get:function(){return E.parseEther}}),Object.defineProperty(r,"formatUnits",{enumerable:!0,get:function(){return E.formatUnits}}),Object.defineProperty(r,"parseUnits",{enumerable:!0,get:function(){return E.parseUnits}}),e("@ethersproject/wallet")),k=(Object.defineProperty(r,"verifyMessage",{enumerable:!0,get:function(){return S.verifyMessage}}),Object.defineProperty(r,"verifyTypedData",{enumerable:!0,get:function(){return S.verifyTypedData}}),e("@ethersproject/web")),I=(Object.defineProperty(r,"_fetchData",{enumerable:!0,get:function(){return k._fetchData}}),Object.defineProperty(r,"fetchJson",{enumerable:!0,get:function(){return k.fetchJson}}),Object.defineProperty(r,"poll",{enumerable:!0,get:function(){return k.poll}}),e("@ethersproject/sha2")),C=(Object.defineProperty(r,"SupportedAlgorithm",{enumerable:!0,get:function(){return I.SupportedAlgorithm}}),e("@ethersproject/strings"));Object.defineProperty(r,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return C.UnicodeNormalizationForm}}),Object.defineProperty(r,"Utf8ErrorReason",{enumerable:!0,get:function(){return C.Utf8ErrorReason}})},{"@ethersproject/abi":31,"@ethersproject/address":38,"@ethersproject/base64":40,"@ethersproject/basex":41,"@ethersproject/bytes":47,"@ethersproject/hash":60,"@ethersproject/hdnode":65,"@ethersproject/json-wallets":68,"@ethersproject/keccak256":72,"@ethersproject/logger":74,"@ethersproject/properties":80,"@ethersproject/random":102,"@ethersproject/rlp":105,"@ethersproject/sha2":108,"@ethersproject/signing-key":112,"@ethersproject/solidity":114,"@ethersproject/strings":118,"@ethersproject/transactions":121,"@ethersproject/units":123,"@ethersproject/wallet":125,"@ethersproject/web":128}],282:[function(e,x,T){!function(C,B){!function(){function l(){this._events={},this._conf&&t.call(this,this._conf)}function t(e){e&&((this._conf=e).delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==m&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function f(e,t){var r="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";this.verboseMemoryLeak&&(r+=" Event name: "+t+"."),void 0!==C&&C.emitWarning?((t=new Error(r)).name="MaxListenersExceededWarning",t.emitter=this,t.count=e,C.emitWarning(t)):(console.error(r),console.trace&&console.trace())}function u(e,t,r){var n=arguments.length;switch(n){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,r];default:for(var i=new Array(n);n--;)i[n]=arguments[n];return i}}function r(e,t){for(var r={},n=e.length,i=t?t.length:0,o=0;o<n;o++)r[e[o]]=o<i?t[o]:m;return r}function d(e,t,r){var n,i;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(r.on||r.off)&&(n=r.on,i=r.off),t.addEventListener?(n=t.addEventListener,i=t.removeEventListener):t.addListener?(n=t.addListener,i=t.removeListener):t.on&&(n=t.on,i=t.off),!n&&!i)throw Error("target does not implement any known event API");if("function"!=typeof n)throw TypeError("on method must be a function");if("function"!=typeof i)throw TypeError("off method must be a function");this._on=n,this._off=i;r=e._observers;r?r.push(this):e._observers=[this]}function p(e,t,r,n){var i=Object.assign({},t);if(e){if("object"!=typeof e)throw TypeError("options must be an object");for(var o,s,a,c=Object.keys(e),u=c.length,h=0;h<u;h++){if(o=c[h],!n&&!v.call(t,o))throw Error('Unknown "'+o+'" option');(s=e[o])!==m&&(a=r[o],i[o]=a?a(s,l):s)}}return i;function l(e){throw Error('Invalid "'+o+'" option value'+(e?". Reason: "+e:""))}}function n(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function e(i){var o="value must be type of "+i.join("|"),s=i.length,n=i[0],a=i[1];return 1===s?function(e,t){if(typeof e===n)return e;t(o)}:2===s?function(e,t){var r=typeof e;if(r===n||r===a)return e;t(o)}:function(e,t){for(var r=typeof e,n=s;0<n--;)if(r===i[n])return e;t(o)}}function c(s,a,c){var u,h,l,f=0,d=new s(function(t,r,e){function n(){h=h&&null,f&&(clearTimeout(f),f=0)}c=p(c,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}}),u=!c.overload&&"function"==typeof s.prototype.cancel&&"function"==typeof e;function i(e){n(),t(e)}function o(e){n(),r(e)}u?a(i,o,e):(h=[function(e){o(e||Error("canceled"))}],a(i,o,function(e){if(l)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");h.push(e)}),l=!0),0<c.timeout&&(f=setTimeout(function(){var e=Error("timeout");e.code="ETIMEDOUT",f=0,d.cancel(e),r(e)},c.timeout))});return u||(d.cancel=function(e){if(h){for(var t=h.length,r=1;r<t;r++)h[r](e);h[0](e),h=null}}),d}function g(e){var t=this._observers;if(t)for(var r=t.length,n=0;n<r;n++)if(t[n]._target===e)return n;return-1}function _(e,t,r,n,i){if(!r)return null;if(0===n){var o=typeof t;if("string"==o){var s,a,c=0,u=0,h=this.delimiter,l=h.length;if(-1!==(a=t.indexOf(h))){for(s=new Array(5);s[c++]=t.slice(u,a),-1!==(a=t.indexOf(h,u=a+l)););s[c++]=t.slice(u),t=s,i=c}else t=[t],i=1}else i="object"==o?t.length:(t=[t],1)}var f,d,p,g,y,b,m=null,v=t[n],A=t[n+1];if(n===i)r._listeners&&(m=("function"==typeof r._listeners?e&&e.push(r._listeners):e&&e.push.apply(e,r._listeners),[r]));else{if("*"===v){for(a=(y=k(r)).length;0<a--;)"_listeners"!==(f=y[a])&&(b=_(e,t,r[f],n+1,i))&&(m?m.push.apply(m,b):m=b);return m}if("**"===v){for((g=n+1===i||n+2===i&&"*"===A)&&r._listeners&&(m=_(e,t,r,i,i)),a=(y=k(r)).length;0<a--;)"_listeners"!==(f=y[a])&&(b="*"===f||"**"===f?(r[f]._listeners&&!g&&(b=_(e,t,r[f],i,i))&&(m?m.push.apply(m,b):m=b),_(e,t,r[f],n,i)):_(e,t,r[f],f===A?n+2:n,i))&&(m?m.push.apply(m,b):m=b);return m}r[v]&&(m=_(e,t,r[v],n+1,i))}if((o=r["*"])&&_(e,t,o,n+1,i),d=r["**"])if(n<i)for(d._listeners&&_(e,t,d,i,i),a=(y=k(d)).length;0<a--;)"_listeners"!==(f=y[a])&&(f===A?_(e,t,d[f],n+2,i):f===v?_(e,t,d[f],n+1,i):((p={})[f]=d[f],_(e,t,{"**":p},n+1,i)));else d._listeners?_(e,t,d,i,i):d["*"]&&d["*"]._listeners&&_(e,t,d["*"],i,i);return m}function h(e,t,r,n){for(var i,o,s,a=k(e),c=a.length,u=e._listeners;0<c--;)i=e[s=a[c]],o="_listeners"===s?r:r?r.concat(s):[s],s=n||"symbol"==typeof s,u&&t.push(s?o:o.join(this.delimiter)),"object"==typeof i&&h.call(this,i,t,o,s);return t}function y(e){for(var t,r,n,i=k(e),o=i.length;0<o--;)(t=e[r=i[o]])&&(n=!0,"_listeners"===r||y(t)||delete e[r]);return n}function b(e,t,r){this.emitter=e,this.event=t,this.listener=r}function i(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,t.call(this,e)}var m,v,A,w,E,o,S,k,a,s,I;v=Object.hasOwnProperty,A=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},w="object"==typeof C&&"function"==typeof C.nextTick,E="function"==typeof Symbol,o="object"==typeof Reflect,S="function"==typeof B?B:setTimeout,k=E?o&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys,Object.assign(d.prototype,{subscribe:function(r,n,i){function t(){var e=u.apply(null,arguments),t={data:e,name:n,original:r};i?!1!==i.call(s,t)&&a.emit.apply(a,[t.name].concat(e)):a.emit.apply(a,[n].concat(e))}var o=this,s=this._target,a=this._emitter,c=this._listeners;if(c[r])throw Error("Event '"+r+"' is already listening");this._listenersCount++,a._newListener&&a._removeListener&&!o._onNewListener?(this._onNewListener=function(e){e===n&&null===c[r]&&(c[r]=t,o._on.call(s,r,t))},a.on("newListener",this._onNewListener),this._onRemoveListener=function(e){e===n&&!a.hasListeners(e)&&c[r]&&(c[r]=null,o._off.call(s,r,t))},c[r]=null,a.on("removeListener",this._onRemoveListener)):(c[r]=t,o._on.call(s,r,t))},unsubscribe:function(e){var t,r,n,i=this,o=this._listeners,s=this._emitter,a=this._off,c=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function u(){i._onNewListener&&(s.off("newListener",i._onNewListener),s.off("removeListener",i._onRemoveListener),i._onNewListener=null,i._onRemoveListener=null);var e=g.call(s,i);s._observers.splice(e,1)}if(e)(t=o[e])&&(a.call(c,e,t),delete o[e],--this._listenersCount||u());else{for(n=(r=k(o)).length;0<n--;)e=r[n],a.call(c,e,o[e]);this._listeners={},this._listenersCount=0,u()}}}),a=e(["function"]),s=e(["object","function"]),b.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},(i.EventEmitter2=i).prototype.listenTo=function(u,e,h){if("object"!=typeof u)throw TypeError("target musts be an object");var l=this;function t(e){if("object"!=typeof e)throw TypeError("events must be an object");for(var t,r=h.reducers,n=g.call(l,u),i=-1===n?new d(l,u,h):l._observers[n],o=k(e),s=o.length,a="function"==typeof r,c=0;c<s;c++)t=o[c],i.subscribe(t,e[t]||t,a?r:r&&r[t])}return h=p(h,{on:m,off:m,reducers:m},{on:a,off:a,reducers:s}),A(e)?t(r(e)):t("string"==typeof e?r(e.split(/\s+/)):e),this},i.prototype.stopListeningTo=function(e,t){var r=this._observers;if(!r)return!1;var n,i=r.length,o=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;0<i--;)n=r[i],e&&n._target!==e||(n.unsubscribe(t),o=!0);return o},i.prototype.delimiter=".",i.prototype.setMaxListeners=function(e){e!==m&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},i.prototype.getMaxListeners=function(){return this._maxListeners},i.prototype.event="",i.prototype.once=function(e,t,r){return this._once(e,t,!1,r)},i.prototype.prependOnceListener=function(e,t,r){return this._once(e,t,!0,r)},i.prototype._once=function(e,t,r,n){return this._many(e,1,t,r,n)},i.prototype.many=function(e,t,r,n){return this._many(e,t,r,!1,n)},i.prototype.prependMany=function(e,t,r,n){return this._many(e,t,r,!0,n)},i.prototype._many=function(e,t,r,n,i){var o=this;if("function"!=typeof r)throw new Error("many only accepts instances of Function");function s(){return 0==--t&&o.off(e,s),r.apply(this,arguments)}return s._origin=r,this._on(e,s,n,i)},i.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||l.call(this);var e,t,r,n,i,o,s=arguments[0],a=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return!1;if(a&&"newListener"!==(e=s)&&"removeListener"!==s&&"object"==typeof s){if(r=s.length,E)for(n=0;n<r;n++)if("symbol"==typeof s[n]){o=!0;break}o||(s=s.join(this.delimiter))}var c,u=arguments.length;if(this._all&&this._all.length)for(n=0,r=(c=this._all.slice()).length;n<r;n++)switch(this.event=s,u){case 1:c[n].call(this,s);break;case 2:c[n].call(this,s,arguments[1]);break;case 3:c[n].call(this,s,arguments[1],arguments[2]);break;default:c[n].apply(this,arguments)}if(a)_.call(this,c=[],e,this.listenerTree,0,r);else{if("function"==typeof(c=this._events[s])){switch(this.event=s,u){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(u-1),i=1;i<u;i++)t[i-1]=arguments[i];c.apply(this,t)}return!0}c=c&&c.slice()}if(c&&c.length){if(3<u)for(t=new Array(u-1),i=1;i<u;i++)t[i-1]=arguments[i];for(n=0,r=c.length;n<r;n++)switch(this.event=s,u){case 1:c[n].call(this);break;case 2:c[n].call(this,arguments[1]);break;case 3:c[n].call(this,arguments[1],arguments[2]);break;default:c[n].apply(this,t)}return!0}if(this.ignoreErrors||this._all||"error"!==s)return!!this._all;throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.")},i.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||l.call(this);var e,t,r,n,i,o,s=arguments[0],a=this.wildcard;if("newListener"===s&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(a&&"newListener"!==(e=s)&&"removeListener"!==s&&"object"==typeof s){if(n=s.length,E)for(i=0;i<n;i++)if("symbol"==typeof s[i]){t=!0;break}t||(s=s.join(this.delimiter))}var c,u=[],h=arguments.length;if(this._all)for(i=0,n=this._all.length;i<n;i++)switch(this.event=s,h){case 1:u.push(this._all[i].call(this,s));break;case 2:u.push(this._all[i].call(this,s,arguments[1]));break;case 3:u.push(this._all[i].call(this,s,arguments[1],arguments[2]));break;default:u.push(this._all[i].apply(this,arguments))}if(a?_.call(this,c=[],e,this.listenerTree,0):c=this._events[s],"function"==typeof c)switch(this.event=s,h){case 1:u.push(c.call(this));break;case 2:u.push(c.call(this,arguments[1]));break;case 3:u.push(c.call(this,arguments[1],arguments[2]));break;default:for(r=new Array(h-1),o=1;o<h;o++)r[o-1]=arguments[o];u.push(c.apply(this,r))}else if(c&&c.length){if(c=c.slice(),3<h)for(r=new Array(h-1),o=1;o<h;o++)r[o-1]=arguments[o];for(i=0,n=c.length;i<n;i++)switch(this.event=s,h){case 1:u.push(c[i].call(this));break;case 2:u.push(c[i].call(this,arguments[1]));break;case 3:u.push(c[i].call(this,arguments[1],arguments[2]));break;default:u.push(c[i].apply(this,r))}}else if(!this.ignoreErrors&&!this._all&&"error"===s)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(u)},i.prototype.on=function(e,t,r){return this._on(e,t,!1,r)},i.prototype.prependListener=function(e,t,r){return this._on(e,t,!0,r)},i.prototype.onAny=function(e){return this._onAny(e,!1)},i.prototype.prependAny=function(e){return this._onAny(e,!0)},i.prototype.addListener=i.prototype.on,i.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},i.prototype._on=function(e,t,r,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");this._events||l.call(this);var i=this;return n!==m&&(t=(n=function(e,t,r){if(!0===r)i=!0;else if(!1===r)n=!0;else{if(!r||"object"!=typeof r)throw TypeError("options should be an object or true");var n=r.async,i=r.promisify,o=r.nextTick,s=r.objectify}if(n||o||i){var a=t,r=t._origin||t;if(o&&!w)throw Error("process.nextTick is not supported");i===m&&(i="AsyncFunction"===t.constructor.name),(t=function(){var e=arguments,t=this,r=this.event;return i?o?Promise.resolve():new Promise(function(e){S(e)}).then(function(){return t.event=r,a.apply(t,e)}):(o?C.nextTick:S)(function(){t.event=r,a.apply(t,e)})})._async=!0,t._origin=r}return[t,s?new b(this,e,t):this]}.call(this,e,t,n))[0],i=n[1]),this._newListener&&this.emit("newListener",e,t),this.wildcard?function(e,t,r){var n,i=0,o=0,s=this.delimiter,a=s.length;if("string"==typeof e)if(-1!==(h=e.indexOf(s))){for(n=new Array(5);n[i++]=e.slice(o,h),-1!==(h=e.indexOf(s,o=h+a)););n[i++]=e.slice(o)}else n=[e],i=1;else i=(n=e).length;if(1<i)for(h=0;h+1<i;h++)if("**"===n[h]&&"**"===n[h+1])return;for(var c,u=this.listenerTree,h=0;h<i;h++)if(u=u[c=n[h]]||(u[c]={}),h===i-1)return u._listeners?("function"==typeof u._listeners&&(u._listeners=[u._listeners]),r?u._listeners.unshift(t):u._listeners.push(t),!u._listeners.warned&&0<this._maxListeners&&u._listeners.length>this._maxListeners&&(u._listeners.warned=!0,f.call(this,u._listeners.length,c))):u._listeners=t,!0;return!0}.call(this,e,t,r):this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&0<this._maxListeners&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,f.call(this,this._events[e].length,e))):this._events[e]=t,i},i.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var r=[];if(this.wildcard){var n="string"==typeof e?e.split(this.delimiter):e.slice();if(!(r=_.call(this,null,n,this.listenerTree,0)))return this}else{if(!this._events[e])return this;s=this._events[e],r.push({_listeners:s})}for(var i=0;i<r.length;i++){var o=r[i],s=o._listeners;if(A(s)){for(var a=-1,c=0,u=s.length;c<u;c++)if(s[c]===t||s[c].listener&&s[c].listener===t||s[c]._origin&&s[c]._origin===t){a=c;break}if(!(a<0))return(this.wildcard?o._listeners:this._events[e]).splice(a,1),0===s.length&&(this.wildcard?delete o._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}else(s===t||s.listener&&s.listener===t||s._origin&&s._origin===t)&&(this.wildcard?delete o._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&y(this.listenerTree),this},i.prototype.offAny=function(e){var t,r=0,n=0;if(e&&this._all&&0<this._all.length){for(r=0,n=(t=this._all).length;r<n;r++)if(e===t[r])return t.splice(r,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(r=0,n=t.length;r<n;r++)this.emit("removeListenerAny",t[r]);this._all=[]}return this},i.prototype.removeListener=i.prototype.off,i.prototype.removeAllListeners=function(e){if(e===m)this._events&&l.call(this);else if(this.wildcard){var t,r=_.call(this,null,e,this.listenerTree,0);if(!r)return this;for(t=0;t<r.length;t++)r[t]._listeners=null;this.listenerTree&&y(this.listenerTree)}else this._events&&(this._events[e]=null);return this},i.prototype.listeners=function(e){var t,r,n,i,o,s,a,c=this._events;if(e!==m)return this.wildcard?(o=this.listenerTree)?(s=[],a="string"==typeof e?e.split(this.delimiter):e.slice(),_.call(this,s,a,o,0),s):[]:c&&(r=c[e])?"function"==typeof r?[r]:r:[];if(this.wildcard)throw Error("event name required for wildcard emitter");if(!c)return[];for(i=(t=k(c)).length,n=[];0<i--;)"function"==typeof(r=c[t[i]])?n.push(r):n.push.apply(n,r);return n},i.prototype.eventNames=function(e){var t=this._events;return this.wildcard?h.call(this,this.listenerTree,[],null,e):t?k(t):[]},i.prototype.listenerCount=function(e){return this.listeners(e).length},i.prototype.hasListeners=function(e){var t,r;return this.wildcard?(r=[],t="string"==typeof e?e.split(this.delimiter):e.slice(),_.call(this,r,t,this.listenerTree,0),0<r.length):(t=this._events,!!((r=this._all)&&r.length||t&&(e===m?k(t).length:t[e])))},i.prototype.listenersAny=function(){return this._all||[]},i.prototype.waitFor=function(i,o){var s=this,e=typeof o;return"number"==e?o={timeout:o}:"function"==e&&(o={filter:o}),c((o=p(o,{timeout:0,filter:m,handleError:!1,Promise:Promise,overload:!1},{filter:a,Promise:n})).Promise,function(t,r,e){function n(){var e=o.filter;e&&!e.apply(s,arguments)||(s.off(i,n),o.handleError?(e=arguments[0])?r(e):t(u.apply(null,arguments).slice(1)):t(u.apply(null,arguments)))}e(function(){s.off(i,n)}),s._on(i,n,!1)},{timeout:o.timeout,overload:o.overload})},I=i.prototype,Object.defineProperties(i,{defaultMaxListeners:{get:function(){return I._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");I._maxListeners=e},enumerable:!0},once:{value:function(s,a,e){return c((e=p(e,{Promise:Promise,timeout:0,overload:!1},{Promise:n})).Promise,function(e,t,r){var n,i,o;"function"==typeof s.addEventListener?(n=function(){e(u.apply(null,arguments))},r(function(){s.removeEventListener(a,n)}),s.addEventListener(a,n,{once:!0})):(i=function(){o&&s.removeListener("error",o),e(u.apply(null,arguments))},"error"!==a&&(o=function(e){s.removeListener(a,i),t(e)},s.once("error",o)),r(function(){o&&s.removeListener("error",o),s.removeListener(a,i)}),s.once(a,i))},{timeout:e.timeout,overload:e.overload})},writable:!0,configurable:!0}}),Object.defineProperties(I,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),"function"==typeof define&&define.amd?define(function(){return i}):"object"==typeof T?x.exports=i:new Function("","return this")().EventEmitter2=i}.call(this)}.call(this,e("_process"),e("timers").setImmediate)},{_process:437,timers:577}],283:[function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,d="~";function i(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,r,n,i){if("function"!=typeof r)throw new TypeError("The listener must be a function");r=new o(r,n||e,i),n=d?d+t:t;return e._events[n]?e._events[n].fn?e._events[n]=[e._events[n],r]:e._events[n].push(r):(e._events[n]=r,e._eventsCount++),e}function c(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(d=!1)),a.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(d?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},a.prototype.listeners=function(e){var e=d?d+e:e,t=this._events[e];if(!t)return[];if(t.fn)return[t.fn];for(var r=0,n=t.length,i=new Array(n);r<n;r++)i[r]=t[r].fn;return i},a.prototype.listenerCount=function(e){e=d?d+e:e,e=this._events[e];return e?e.fn?1:e.length:0},a.prototype.emit=function(e,t,r,n,i,o){var s=d?d+e:e;if(!this._events[s])return!1;var a,c=this._events[s],u=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,n),!0;case 5:return c.fn.call(c.context,t,r,n,i),!0;case 6:return c.fn.call(c.context,t,r,n,i,o),!0}for(f=1,a=new Array(u-1);f<u;f++)a[f-1]=arguments[f];c.fn.apply(c.context,a)}else for(var h,l=c.length,f=0;f<l;f++)switch(c[f].once&&this.removeListener(e,c[f].fn,void 0,!0),u){case 1:c[f].fn.call(c[f].context);break;case 2:c[f].fn.call(c[f].context,t);break;case 3:c[f].fn.call(c[f].context,t,r);break;case 4:c[f].fn.call(c[f].context,t,r,n);break;default:if(!a)for(h=1,a=new Array(u-1);h<u;h++)a[h-1]=arguments[h];c[f].fn.apply(c[f].context,a)}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,r,n){e=d?d+e:e;if(this._events[e])if(t){var i=this._events[e];if(i.fn)i.fn!==t||n&&!i.once||r&&i.context!==r||c(this,e);else{for(var o=0,s=[],a=i.length;o<a;o++)(i[o].fn!==t||n&&!i[o].once||r&&i[o].context!==r)&&s.push(i[o]);s.length?this._events[e]=1===s.length?s[0]:s:c(this,e)}}else c(this,e);return this},a.prototype.removeAllListeners=function(e){return e?(e=d?d+e:e,this._events[e]&&c(this,e)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=d,a.EventEmitter=a,void 0!==t&&(t.exports=a)},{}],284:[function(e,t,r){"use strict";var n="object"==typeof Reflect?Reflect:null,c=n&&"function"==typeof n.apply?n.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};var i=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(a,c){return new Promise(function(e,t){function r(e){a.removeListener(c,n),t(e)}function n(){"function"==typeof a.removeListener&&a.removeListener("error",r),e([].slice.call(arguments))}var i,o,s;y(a,c,n,{once:!0}),"error"!==c&&(o=r,s={once:!0},"function"==typeof(i=a).on&&y(i,"error",o,s))})},(s.EventEmitter=s).prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function u(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function h(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var i,o;return u(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener||r),i=e._events),o=i[t]),void 0===o?(o=i[t]=r,++e._eventsCount):("function"==typeof o?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),0<(i=h(e))&&o.length>i&&!o.warned&&(o.warned=!0,(n=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=o.length,r=n,console&&console.warn&&console.warn(r))),e}function f(e,t,r){e={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},t=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(e);return t.listener=r,e.wrapFn=t}function d(e,t,r){e=e._events;if(void 0===e)return[];e=e[t];if(void 0===e)return[];if("function"==typeof e)return r?[e.listener||e]:[e];if(r){for(var n=e,i=new Array(n.length),o=0;o<i.length;++o)i[o]=n[o].listener||n[o];return i}return g(e,e.length)}function p(e){var t=this._events;if(void 0!==t){t=t[e];if("function"==typeof t)return 1;if(void 0!==t)return t.length}return 0}function g(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(r,n,i,o){if("function"==typeof r.on)o.once?r.once(n,i):r.on(n,i);else{if("function"!=typeof r.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r);r.addEventListener(n,function e(t){o.once&&r.removeEventListener(n,e),i(t)})}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return h(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){if((o=0<t.length?t[0]:o)instanceof Error)throw o;n=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw n.context=o,n}var o=i[e];if(void 0===o)return!1;if("function"==typeof o)c(o,this,t);else for(var s=o.length,a=g(o,s),r=0;r<s;++r)c(a[r],this,t);return!0},s.prototype.on=s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return u(t),this.on(e,f(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return u(t),this.prependListener(e,f(this,e,t)),this},s.prototype.off=s.prototype.removeListener=function(e,t){var r,n,i,o,s;if(u(t),void 0!==(n=this._events)&&void 0!==(r=n[e]))if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;0<=o;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;if(0===i)r.shift();else{for(var a=r,c=i;c+1<a.length;c++)a[c]=a[c+1];a.pop()}1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},s.prototype.removeAllListeners=function(e){var t,r=this._events;if(void 0!==r)if(void 0===r.removeListener)0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]);else if(0===arguments.length){for(var n,i=Object.keys(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0}else if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;0<=o;o--)this.removeListener(e,t[o]);return this},s.prototype.listeners=function(e){return d(this,e,!0)},s.prototype.rawListeners=function(e){return d(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return 0<this._eventsCount?i(this._events):[]}},{}],285:[function(e,t,r){var l=e("safe-buffer").Buffer,f=e("md5.js");t.exports=function(e,t,r,n){if(l.isBuffer(e)||(e=l.from(e,"binary")),t&&8!==(t=l.isBuffer(t)?t:l.from(t,"binary")).length)throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,o=l.alloc(i),s=l.alloc(n||0),a=l.alloc(0);0<i||0<n;){var c,u,h=new f,h=(h.update(a),h.update(e),t&&h.update(t),a=h.digest(),0);0<i&&(c=o.length-i,h=Math.min(i,a.length),a.copy(o,c,0,h),i-=h),h<a.length&&0<n&&(c=s.length-n,u=Math.min(n,a.length-h),a.copy(s,c,h,h+u),n-=u)}return a.fill(0),{key:o,iv:s}}},{"md5.js":376,"safe-buffer":487}],286:[function(e,t,r){t.exports=class{constructor(e){if(!(0<e)||0!=(e-1&e))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){var e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}}},{}],287:[function(e,t,r){const n=e("./fixed-size");t.exports=class{constructor(e){this.hwm=e||16,this.head=new n(this.hwm),this.tail=this.head}push(e){if(!this.head.push(e)){const t=this.head;this.head=t.next=new n(2*this.head.buffer.length),this.head.push(e)}}shift(){var e,t=this.tail.shift();return void 0===t&&this.tail.next?(e=this.tail.next,this.tail.next=null,this.tail=e,this.tail.shift()):t}peek(){return this.tail.peek()}isEmpty(){return this.head.isEmpty()}}},{"./fixed-size":286}],288:[function(e,t,r){"use strict";var f=e("reusify");function s(n,i,e){if("function"==typeof n&&(e=i,i=n,n=null),e<1)throw new Error("fastqueue concurrency must be greater than 1");var o=f(p),s=null,a=null,c=0,u=null,h={push:function(e,t){var r=o.get();r.context=n,r.release=l,r.value=e,r.callback=t||d,r.errorHandler=u,c===h.concurrency||h.paused?a?(a.next=r,a=r):(a=s=r,h.saturated()):(c++,i.call(n,r.value,r.worked))},drain:d,saturated:d,pause:function(){h.paused=!0},paused:!1,concurrency:e,running:function(){return c},resume:function(){if(h.paused){h.paused=!1;for(var e=0;e<h.concurrency;e++)c++,l()}},idle:function(){return 0===c&&0===h.length()},length:function(){var e=s,t=0;for(;e;)e=e.next,t++;return t},getQueue:function(){var e=s,t=[];for(;e;)t.push(e.value),e=e.next;return t},unshift:function(e,t){var r=o.get();r.context=n,r.release=l,r.value=e,r.callback=t||d,c===h.concurrency||h.paused?s?(r.next=s,s=r):(a=s=r,h.saturated()):(c++,i.call(n,r.value,r.worked))},empty:d,kill:function(){a=s=null,h.drain=d},killAndDrain:function(){a=s=null,h.drain(),h.drain=d},error:function(e){u=e}};return h;function l(e){e&&o.release(e);e=s;e?h.paused?c--:(a===s&&(a=null),s=e.next,e.next=null,i.call(n,e.value,e.worked),null===a&&h.empty()):0==--c&&h.drain()}}function d(){}function p(){this.value=null,this.callback=d,this.next=null,this.release=d,this.context=null,this.errorHandler=null;var o=this;this.worked=function(e,t){var r=o.callback,n=o.errorHandler,i=o.value;o.value=null,o.callback=d,o.errorHandler&&n(e,i),r.call(o.context,e,t),o.release(o)}}t.exports=s,t.exports.promise=function(e,r,t){"function"==typeof e&&(t=r,r=e,e=null);var n=s(e,function(e,t){r.call(this,e).then(function(e){t(null,e)},t)},t),i=n.push,o=n.unshift;return n.push=function(e){var t=new Promise(function(r,n){i(e,function(e,t){e?n(e):r(t)})});return t.catch(d),t},n.unshift=function(e){var t=new Promise(function(r,n){o(e,function(e,t){e?n(e):r(t)})});return t.catch(d),t},n.drained=function(){var t=n.drain;return new Promise(function(e){n.drain=function(){t(),e()}})},n}},{reusify:484}],289:[function(e,t,r){function n(e){return e<31?1<<e:(1<<30)*(1<<e-30)}function i(e){return(e-(1&e))/2}function o(){this.index=0,this.offset=0,this.factor=0}r.fullRoots=function(e,t){if(1&e)throw new Error("You can only look up roots for depth(0) blocks");t=t||[],e/=2;for(var r=0,n=1;;){if(!e)return t;for(;2*n<=e;)n*=2;t.push(r+n-1),r+=2*n,e-=n,n=1}},r.depth=function(e){var t=0;for(e+=1;!(1&e);)t++,e=i(e);return t},r.sibling=function(e,t){t=t||r.depth(e);e=r.offset(e,t);return r.index(t,1&e?e-1:e+1)},r.parent=function(e,t){t=t||r.depth(e);e=r.offset(e,t);return r.index(t+1,i(e))},r.leftChild=function(e,t){return 1&e?(t=t||r.depth(e),r.index(t-1,2*r.offset(e,t))):-1},r.rightChild=function(e,t){return 1&e?(t=t||r.depth(e),r.index(t-1,1+2*r.offset(e,t))):-1},r.children=function(e,t){if(!(1&e))return null;t=t||r.depth(e);e=2*r.offset(e,t);return[r.index(t-1,e),r.index(t-1,1+e)]},r.leftSpan=function(e,t){return 1&e?(t=t||r.depth(e),r.offset(e,t)*n(t+1)):e},r.rightSpan=function(e,t){return 1&e?(t=t||r.depth(e),(r.offset(e,t)+1)*n(t+1)-2):e},r.count=function(e,t){return 1&e?n((t=t||r.depth(e))+1)-1:1},r.countLeaves=function(e){return(r.count(e)+1)/2},r.spans=function(e,t){if(!(1&e))return[e,e];t=t||r.depth(e);e=r.offset(e,t),t=n(t+1);return[e*t,(e+1)*t-2]},r.index=function(e,t){return(1+2*t)*n(e)-1},r.offset=function(e,t){return 1&e?((e+1)/n(t=t||r.depth(e))-1)/2:e/2},r.iterator=function(e){var t=new o;return t.seek(e||0),t},o.prototype.seek=function(e){this.index=e,1&this.index?(this.offset=r.offset(e),this.factor=n(r.depth(e)+1)):(this.offset=e/2,this.factor=2)},o.prototype.isLeft=function(){return 0==(1&this.offset)},o.prototype.isRight=function(){return 1==(1&this.offset)},o.prototype.contains=function(e){return e>this.index?e<this.index+this.factor/2:!(e<this.index)||e>this.index-this.factor/2},o.prototype.prev=function(){return this.offset&&(this.offset--,this.index-=this.factor),this.index},o.prototype.next=function(){return this.offset++,this.index+=this.factor,this.index},o.prototype.count=function(){return 1&this.index?this.factor-1:1},o.prototype.countLeaves=function(){return(this.count()+1)/2},o.prototype.sibling=function(){return this.isLeft()?this.next():this.prev()},o.prototype.parent=function(){return 1&this.offset?(this.index-=this.factor/2,this.offset=(this.offset-1)/2):(this.index+=this.factor/2,this.offset/=2),this.factor*=2,this.index},o.prototype.leftSpan=function(){return this.index=this.index-this.factor/2+1,this.offset=this.index/2,this.factor=2,this.index},o.prototype.rightSpan=function(){return this.index=this.index+this.factor/2-1,this.offset=this.index/2,this.factor=2,this.index},o.prototype.leftChild=function(){return 2!==this.factor&&(this.factor/=2,this.index-=this.factor/2,this.offset*=2),this.index},o.prototype.rightChild=function(){return 2!==this.factor&&(this.factor/=2,this.index+=this.factor/2,this.offset=2*this.offset+1),this.index},o.prototype.nextTree=function(){return this.index=this.index+this.factor/2+1,this.offset=this.index/2,this.factor=2,this.index},o.prototype.prevTree=function(){return this.offset?(this.index=this.index-this.factor/2-1,this.offset=this.index/2):this.index=0,this.factor=2,this.index},o.prototype.fullRoot=function(e){if(e<=this.index||0<(1&this.index))return!1;for(;e>this.index+this.factor+this.factor/2;)this.index+=this.factor/2,this.factor*=2,this.offset/=2;return!0}},{}],290:[function(e,t,r){"use strict";var m=e("is-callable"),v=Object.prototype.toString,A=Object.prototype.hasOwnProperty;t.exports=function(e,t,r){if(!m(t))throw new TypeError("iterator must be a function");var n;if(3<=arguments.length&&(n=r),"[object Array]"===v.call(e))for(var i=e,o=t,s=n,a=0,c=i.length;a<c;a++)A.call(i,a)&&(null==s?o(i[a],a,i):o.call(s,i[a],a,i));else if("string"==typeof e)for(var u=e,h=t,l=n,f=0,d=u.length;f<d;f++)null==l?h(u.charAt(f),f,u):h.call(l,u.charAt(f),f,u);else{var p,g=e,y=t,b=n;for(p in g)A.call(g,p)&&(null==b?y(g[p],p,g):y.call(b,g[p],p,g))}}},{"is-callable":365}],291:[function(e,t,r){"use strict";var c=Array.prototype.slice,u=Object.prototype.toString;t.exports=function(t){var r=this;if("function"!=typeof r||"[object Function]"!==u.call(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var n,e,i=c.call(arguments,1),o=Math.max(0,r.length-i.length),s=[],a=0;a<o;a++)s.push("$"+a);return n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(function(){var e;return this instanceof n?(e=r.apply(this,i.concat(c.call(arguments))),Object(e)===e?e:this):r.apply(t,i.concat(c.call(arguments)))}),r.prototype&&((e=function(){}).prototype=r.prototype,n.prototype=new e,e.prototype=null),n}},{}],292:[function(e,t,r){"use strict";e=e("./implementation");t.exports=Function.prototype.bind||e},{"./implementation":291}],293:[function(e,t,r){t.exports=function(){var e;return"undefined"!=typeof globalThis&&(e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate}).RTCPeerConnection?e:null}},{}],294:[function(e,t,r){"use strict";var n,f=SyntaxError,i=Function,d=TypeError,o=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(e){p=null}function s(){throw new d}function g(e){var t,r;return"%AsyncFunction%"===e?t=o("async function () {}"):"%GeneratorFunction%"===e?t=o("function* () {}"):"%AsyncGeneratorFunction%"===e?t=o("async function* () {}"):"%AsyncGenerator%"===e?(r=g("%AsyncGeneratorFunction%"))&&(t=r.prototype):"%AsyncIteratorPrototype%"===e&&(r=g("%AsyncGenerator%"))&&(t=u(r.prototype)),b[e]=t}var a=p?function(){try{return s}catch(e){try{return p(arguments,"callee").get}catch(e){return s}}}():s,c=e("has-symbols")(),u=Object.getPrototypeOf||function(e){return e.__proto__},y={},h="undefined"==typeof Uint8Array?n:u(Uint8Array),b={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":c?u([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":y,"%AsyncGenerator%":y,"%AsyncGeneratorFunction%":y,"%AsyncIteratorPrototype%":y,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":y,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c?u(u([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&c?u((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&c?u((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c?u(""[Symbol.iterator]()):n,"%Symbol%":c?Symbol:n,"%SyntaxError%":f,"%ThrowTypeError%":a,"%TypedArray%":h,"%TypeError%":d,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},c=e("function-bind"),v=e("has"),A=c.call(Function.call,Array.prototype.concat),_=c.call(Function.apply,Array.prototype.splice),w=c.call(Function.call,String.prototype.replace),E=c.call(Function.call,String.prototype.slice),S=c.call(Function.call,RegExp.prototype.exec),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g;t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new d("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof t)throw new d('"allowMissing" argument must be a boolean');if(null===S(/^%?[^%]*%?$/g,e))throw new f("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=E(e,0,1),r=E(e,-1);if("%"===t&&"%"!==r)throw new f("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new f("invalid intrinsic syntax, expected opening `%`");var i=[];return w(e,k,function(e,t,r,n){i[i.length]=r?w(n,I,"$1"):t||e}),i}(e),n=0<r.length?r[0]:"",i=function(e,t){var r,n=e;if(v(m,n)&&(n="%"+(r=m[n])[0]+"%"),v(b,n)){var i=b[n];if(void 0!==(i=i===y?g(n):i)||t)return{alias:r,name:n,value:i};throw new d("intrinsic "+e+" exists, but is not available. Please file an issue!")}throw new f("intrinsic "+e+" does not exist!")}("%"+n+"%",t),o=(i.name,i.value),s=!1,i=i.alias;i&&(n=i[0],_(r,A([0,1],i)));for(var a=1,c=!0;a<r.length;a+=1){var u=r[a],h=E(u,0,1),l=E(u,-1);if(('"'===h||"'"===h||"`"===h||'"'===l||"'"===l||"`"===l)&&h!==l)throw new f("property names with quotes must have matching quotes");if("constructor"!==u&&c||(s=!0),v(b,h="%"+(n+="."+u)+"%"))o=b[h];else if(null!=o){if(!(u in o)){if(t)return;throw new d("base intrinsic for "+e+" exists, but the property is not available.")}o=p&&a+1>=r.length?(c=!!(l=p(o,u)))&&"get"in l&&!("originalValue"in l.get)?l.get:o[u]:(c=v(o,u),o[u]),c&&!s&&(b[h]=o)}}return o}},{"function-bind":292,has:339,"has-symbols":336}],295:[function(e,t,o){const s=e("sodium-javascript"),a=e("compact-encoding"),c=e("b4a"),u=e("ethers")["ethers"],r=e("@noble/secp256k1"),{pack:i,unpack:n}=e("msgpackr"),h=e("@noble/hashes/blake3")["blake3"],l=e("@noble/hashes/scrypt")["scrypt"],f=((async()=>{"function"==typeof s.init&&await s.init()})(),c.from([0])),d=c.from([1]),p=c.from([2]);o.buf2hex=function(e,t){e=c.toString(e,"hex");return t?"0x"+e:e},o.hex2buf=function(e){return c.from(e.replace(/^0x/,""),"hex")},o.hmac=function(e,t){return o.hex2buf(u.utils.computeHmac("exports.createHash",t,e))},o.keyPair=function(e){e?e=c.from(e):(e=c.alloc(64),s.randombytes_buf(e));e=u.utils.HDNode.fromSeed(e);return{publicKey:o.hex2buf(e.publicKey),secretKey:o.hex2buf(e.privateKey)}},o.getPublicKeyFromSig=function({message:e,signature:t}={}){e=c.isBuffer(e)?c.from(e):e,t=c.isBuffer(t)?c.from(t,"hex"):t;return u.utils.computePublicKey(u.utils.recoverPublicKey(o.createHash(e),u.utils.splitSignature(t)),!0)},o.verifyAppSig=async function(e={code:{checksum:"",signature:""},address:""}){var{checksum:t,signature:r}=e.code,n=u.utils.splitSignature(r),n=u.utils.computePublicKey(u.utils.recoverPublicKey(o.createHash(t),n),!0);const i=u.utils.computeAddress(n);return i.replace("0x","").toLowerCase()===e.address.replace("0x","").toLowerCase()&&await o.verify(t,o.hex2buf(r),o.hex2buf(n))},o.securePassword=function(e={password:"",salt:""}){return l(e.password,e.salt,{N:65536,r:8,p:1,dkLen:32})},o.verifyPassword=function(e={hash:"",password:"",salt:""}){var t=o.securePassword(e);return c.equals(t,e.hash)},o.encrypt=function(e={key:"",data:{}}){var t=i(e.data),e=c.from(o.createHash(e.key),"hex").slice(0,32),r=c.alloc(s.crypto_secretbox_NONCEBYTES),n=(s.randombytes_buf(r),c.alloc(t.length+s.crypto_secretbox_MACBYTES));return s.crypto_secretbox_easy(n,t,r,e),{cipher:n,nonce:o.buf2hex(r)}},o.decrypt=function(e={key:"",cipher:c,nonce:""}){var t=c.alloc(e.cipher.length-s.crypto_secretbox_MACBYTES),r=c.from(o.createHash(e.key),"hex").slice(0,32);return s.crypto_secretbox_open_easy(t,e.cipher,c.from(e.nonce,"hex"),r),n(t)},o.createHash=function(e){return h(c.isBuffer(e)?e:c.from(e))},o.validateKeyPair=function(e){var t=r.getPublicKey(e.secretKey,!0),e=e.publicKey;return o.buf2hex(e)===o.buf2hex(t)},o.sign=function(e,t){e=c.isBuffer(e)?c.from(e):e;const r=new u.utils.SigningKey(t);t=u.utils.joinSignature(r.signDigest(o.createHash(e)));return o.hex2buf(t)},o.verify=function(e,t,r){e=c.isBuffer(e)?c.from(e):e,t=c.isBuffer(t)?t:o.hex2buf(t),r=c.isBuffer(r)?r:o.hex2buf(r);try{return u.utils.computePublicKey(u.utils.recoverPublicKey(o.createHash(e),u.utils.splitSignature(t)),!0)===o.buf2hex(r,!0)}catch(e){return!1}},o.data=function(e){var t=c.allocUnsafe(32);return s.crypto_generichash_batch(t,[f,a.encode(a.uint64,e.byteLength),e]),t},o.parent=function(e,t){e.index>t.index&&(r=e,e=t,t=r);var r=c.allocUnsafe(32);return s.crypto_generichash_batch(r,[d,a.encode(a.uint64,e.size+t.size),e.hash,t.hash]),r},o.tree=function(t,e){const r=new Array(3*t.length+1);let n=0;r[n++]=p;for(let e=0;e<t.length;e++){var i=t[e];r[n++]=i.hash,r[n++]=a.encode(a.uint64,i.index),r[n++]=a.encode(a.uint64,i.size)}return e=e||c.allocUnsafe(32),s.crypto_generichash_batch(e,r),e},o.randomBytes=function(e){e=c.allocUnsafe(e);return s.randombytes_buf(e),e},o.discoveryKey=o.getIdFromPublicKey=function(e){return o.hex2buf(u.utils.computeAddress(o.buf2hex(e,!0)))},s.sodium_free?o.free=function(e){e.secure&&s.sodium_free(e)}:o.free=function(){},o.namespace=function(e,t){const r=c.allocUnsafe(32*t),n=new Array(t),i=c.allocUnsafe(33);s.crypto_generichash(i.subarray(0,32),"string"==typeof e?c.from(e):e);for(let e=0;e<n.length;e++)n[e]=r.subarray(32*e,32*e+32),i[32]=e,s.crypto_generichash(n[e],i);return n}},{"@noble/hashes/blake3":151,"@noble/hashes/scrypt":155,"@noble/secp256k1":158,b4a:175,"compact-encoding":229,ethers:280,msgpackr:390,"sodium-javascript":561}],296:[function(P,O,e){!function(M){!function(){const i=P("codecs"),e=P("streamx")["Readable"],r=P("mutexify/promise"),g=P("b4a"),a=P("./iterators/range"),n=P("./iterators/history"),o=P("./iterators/diff"),c=P("./lib/extension"),{YoloIndex:t,Node:u,Header:s}=P("./lib/messages");const h=g.alloc(1),l=g.alloc(0);class y{constructor(e,t){this.seq=e,this.value=t}}class b{constructor(e,t,r){this.seq=e,this.offset=t,this.value=r}}class f{constructor(e){this.levels=t.decode(e).levels.map(t=>{const r=[],n=[];for(let e=0;e<t.keys.length;e++)n.push(new y(t.keys[e],null));for(let e=0;e<t.children.length;e+=2)r.push(new b(t.children[e],t.children[e+1],null));return{keys:n,children:r}})}get(e){return this.levels[e]}hasKey(e){for(const t of this.levels)for(const r of t.keys)if(r.seq===e)return!0;return!1}}function d(e){return new f(e)}function p(e){e=e.map(t=>{const r=[],n=[];for(let e=0;e<t.value.keys.length;e++)r.push(t.value.keys[e].seq);for(let e=0;e<t.value.children.length;e++)n.push(t.value.children[e].seq,t.value.children[e].offset);return{keys:r,children:n}});return t.encode({levels:e})}class m{constructor(e,t,r,n){this.block=e,this.offset=n,this.keys=t,this.children=r,this.changed=!1}async insertKey(e,t,r,n){let i=0,o=this.keys.length,s;for(;i<o;){var a=i+o>>1;if(0===(s=g.compare(e.value,await this.getKey(a))))return r&&!await r((await this.getKeyNode(a)).final(),n)||(this.changed=!0,this.keys[a]=e),!0;s<0?o=a:i=1+a}var c=s<0?o:i;return this.keys.splice(c,0,e),t&&this.children.splice(c+1,0,new b(0,0,t)),this.changed=!0,this.keys.length<9}removeKey(e){this.keys.splice(e,1),this.children.length&&(this.children[e+1].seq=0,this.children.splice(e+1,1)),this.changed=!0}async siblings(t){for(let e=0;e<t.children.length;e++){var r,n;if(t.children[e].value===this)return r=e?t.getChildNode(e-1):null,n=e<t.children.length-1?t.getChildNode(e+1):null,{left:await r,index:e,right:await n}}throw new Error("Bad parent")}merge(t,e){this.changed=!0,this.keys.push(e);for(let e=0;e<t.keys.length;e++)this.keys.push(t.keys[e]);for(let e=0;e<t.children.length;e++)this.children.push(t.children[e])}async split(){var e=this.keys.length>>1;const t=m.create(this.block);for(;t.keys.length<e;)t.keys.push(this.keys.pop());t.keys.reverse(),await this.getKey(this.keys.length-1);var r=this.keys.pop();if(this.children.length){for(;t.children.length<1+e;)t.children.push(this.children.pop());t.children.reverse()}return this.changed=!0,{left:this,median:r,right:t}}getKeyNode(e){return this.block.tree.getBlock(this.keys[e].seq)}async getChildNode(e){const t=this.children[e];if(t.value)return t.value;const r=t.seq===this.block.seq?this.block:await this.block.tree.getBlock(t.seq);return t.value=r.getTreeNode(t.offset)}setKey(e,t){this.keys[e]=t,this.changed=!0}async getKey(e){const t=this.keys[e];return t.value||(e=t.seq===this.block.seq?this.block.key:await this.block.tree.getKey(t.seq),t.value=e)}indexChanges(e,t){var r=e.push(null)-1;this.changed=!1;for(const n of this.children)n.value&&n.value.changed&&(n.seq=t,n.offset=n.value.indexChanges(e,t),e[n.offset]=n);return r}static create(e){const t=new m(e,[],[],0);return t.changed=!0,t}}class v{constructor(e,t,r){this.seq=e,this.tree=t,this.index=null,this.indexBuffer=r.index,this.key=r.key,this.value=r.value}isDeletion(){return null===this.value&&(null===this.index&&(this.index=d(this.indexBuffer),this.indexBuffer=null),!this.index.hasKey(this.seq))}final(){return{seq:this.seq,key:this.tree.keyEncoding?this.tree.keyEncoding.decode(this.key):this.key,value:this.value&&(this.tree.valueEncoding?this.tree.valueEncoding.decode(this.value):this.value)}}getTreeNode(e){null===this.index&&(this.index=d(this.indexBuffer),this.indexBuffer=null);var t=this.index.get(e);return new m(this,t.keys,t.children,e)}}class A extends v{constructor(e,t,r,n,i){super(e,t,{key:r,value:n,index:null}),this.pendingIndex=i}getTreeNode(e){return this.pendingIndex[e].value}}class _{constructor(e,t,r,n,i={}){this.tree=e,this.feed=t,this.keyEncoding=e.keyEncoding,this.valueEncoding=e.valueEncoding,this.blocks=n?new Map:null,this.autoFlush=!r,this.rootSeq=0,this.root=null,this.length=0,this.options=i,this.locked=null,this.batchLock=r,this.onseq=this.options.onseq||x,this.appending=null}ready(){return this.tree.ready()}async lock(){if(this.tree.readonly)throw new Error("Hyperbee is marked as read-only");null===this.locked&&(this.locked=await this.tree.lock())}get version(){return Math.max(1,this.tree._checkout||this.feed.length+this.length)}async getRoot(e,t){return t={...t,...this.options},await this.ready(),e&&0===this.feed.length&&this.feed.writable&&!this.tree.readonly&&await this.feed.append(s.encode({protocol:"hyperbee",metadata:this.tree.metadata})),0===this.tree._checkout&&!1!==(t&&t.update)&&await this.feed.update(),this.version<2?null:(await this.getBlock(this.version-1,t)).getTreeNode(0)}async getKey(e){return(await this.getBlock(e)).key}async getBlock(e,t){0===this.rootSeq&&(this.rootSeq=e);let r=this.blocks&&this.blocks.get(e);return r||(this.onseq(e),t=await this.feed.get(e,{...t,valueEncoding:u}),r=new v(e,this,t),this.blocks&&this.blocks.set(e,r)),r}_onwait(e){this.options.onwait=null,this.tree.extension.get(this.rootSeq,e)}async peek(e){const t=new a(this,e);return await t.open(),t.next()}async get(n){this.keyEncoding&&(n=C(this.keyEncoding,n)),null!==this.tree.extension&&!1!==this.options.extension&&(this.options.onwait=this._onwait.bind(this,n));let i=await this.getRoot(!1);if(!i)return null;for(;;){let e=0,t=i.keys.length,r;for(;e<t;){var o=e+t>>1;if(0===(r=g.compare(n,await i.getKey(o))))return(await this.getBlock(i.keys[o].seq)).final();r<0?t=o:e=1+o}if(!i.children.length)return null;var s=r<0?t:e;i=await i.getChildNode(s)}}async put(e,t,r){const n=this.batchLock?await this.batchLock():null;r=r&&r.cas||null;if(this.locked||await this.lock(),!n)return this._put(e,t,r);try{return await this._put(e,t,r)}finally{n()}}async _put(n,i,o){const s={seq:0,key:n,value:i},a=(n=C(this.keyEncoding,n),i=C(this.valueEncoding,i),[]);let c,u=c=await this.getRoot(!0);u=u||(c=m.create(null));for(var h=s.seq=this.feed.length+this.length,l=new y(h,n);u.children.length;){a.push(u),u.changed=!0;let e=0,t=u.keys.length,r;for(;e<t;){var f=e+t>>1;if(0===(r=g.compare(l.value,await u.getKey(f))))return o&&!await o((await u.getKeyNode(f)).final(),s)?this._unlockMaybe():(u.setKey(f,l),this._append(c,h,n,i));r<0?t=f:e=1+f}var d=r<0?t:e;u=await u.getChildNode(d)}let e=!await u.insertKey(l,null,o,s);if(!u.changed)return this._unlockMaybe();for(;e;){const p=a.pop();var{median:t,right:r}=await u.split();p?(e=!await p.insertKey(t,r,null,null),u=p):((c=m.create(u.block)).changed=!0,c.keys.push(t),c.children.push(new b(0,0,u),new b(0,0,r)),e=!1)}return this._append(c,h,n,i)}async del(e,t){const r=this.batchLock?await this.batchLock():null;t=t&&t.cas||null;if(this.locked||await this.lock(),!r)return this._del(e,t);try{return await this._del(e,t)}finally{r()}}async _del(n,i){const o={seq:0,key:n,value:null},s=(n=C(this.keyEncoding,n),[]);let a=await this.getRoot(!0);if(!a)return this._unlockMaybe();for(var c=o.seq=this.feed.length+this.length;;){s.push(a);let e=0,t=a.keys.length,r;for(;e<t;){var u=e+t>>1;if(0===(r=g.compare(n,await a.getKey(u)))){if(i&&!await i((await a.getKeyNode(u)).final(),o))return this._unlockMaybe();a.children.length?await E(a,u,s):a.removeKey(u);for(const a of s)a.changed=!0;return this._append(await S(s),c,n,null)}r<0?t=u:e=1+u}if(!a.children.length)return this._unlockMaybe();var h=r<0?t:e;a=await a.getChildNode(h)}}destroy(){this.root=null,this.blocks.clear(),this.length=0,this._unlock()}toBlocks(){if(this.appending)return this.appending;const t=new Array(this.length);for(let e=0;e<this.length;e++){var r=this.feed.length+e;const{pendingIndex:n,key:i,value:o}=this.blocks.get(r);if(e<this.length-1){n[0]=null;let e=0;for(;e<n.length;){const s=n[e];null!==s&&s.seq===r?s.offset=e++:e===n.length-1?n.pop():n[e]=n.pop()}}t[e]=u.encode({key:i,value:o,index:p(n)})}return this.appending=t}flush(){var e;return this.length?(e=this.toBlocks(),this.root=null,this.blocks.clear(),this.length=0,this._appendBatch(e)):(this.destroy(),Promise.resolve())}_unlockMaybe(){this.autoFlush&&this._unlock()}_unlock(){const e=this.locked;(this.locked=null)!==e&&e()}_append(e,t,r,n){const i=[];if(e.indexChanges(i,t),i[0]=new b(t,0,e),this.autoFlush)return this._appendBatch(u.encode({key:r,value:n,index:p(i)}));r=new A(t,this,r,n,i),e.block||(e.block=r),this.root=e,this.length++,this.blocks.set(t,r)}async _appendBatch(e){try{await this.feed.append(e)}finally{this._unlock()}}}async function w(e,t){for(;e.children.length;)e=await e.getChildNode(t?0:e.children.length-1);return e.keys.length}async function E(e,t,r){let[n,i]=await Promise.all([e.getChildNode(t),e.getChildNode(t+1)]);var[o,s]=await Promise.all([w(n,!1),w(i,!0)]);if(o<s){for(r.push(i);i.children.length;)r.push(i=i.children[0].value);e.keys[t]=i.keys.shift()}else{for(r.push(n);n.children.length;)r.push(n=n.children[n.children.length-1].value);e.keys[t]=n.keys.pop()}}async function S(n){const i=n[0];for(;1<n.length;){const o=n.pop(),s=n[n.length-1];if(4<=o.keys.length)return i;let{left:e,index:t,right:r}=await o.siblings(s);if(e&&4<e.keys.length)return e.changed=!0,o.keys.unshift(s.keys[t-1]),e.children.length&&o.children.unshift(e.children.pop()),s.keys[t-1]=e.keys.pop(),i;if(r&&4<r.keys.length)return r.changed=!0,o.keys.push(s.keys[t]),r.children.length&&o.children.push(r.children.shift()),s.keys[t]=r.keys.shift(),i;e?(t--,r=o):e=o,e.merge(r,s.keys[t]),s.removeKey(t)}return!i.keys.length&&i.children.length?i.getChildNode(0):i}function k(t){let r,n;const i=new e({open(e){r=e,t.open().then(o,o)},read(e){r=e,t.next().then(s,o)},predestroy(){(n=t.close()).catch(x)},destroy(e){r=e,(n=n||t.close()).then(o,o)}});return i;function o(e){M.nextTick(r,e)}function s(e){M.nextTick(a,e)}function a(e){i.push(e),r(null)}}function I(e,t){return e&&(void 0!==t.gt&&(t.gt=C(e,t.gt)),void 0!==t.gte&&(t.gte=C(e,t.gte)),void 0!==t.lt&&(t.lt=C(e,t.lt)),void 0!==t.lte&&(t.lte=C(e,t.lte)),!t.sub||t.gt||t.gte||(t.gt=C(e,h)),!t.sub||t.lt||t.lte||(t.lt=((e=C(e,l))[e.length-1]++,e))),t}function C(e,t){return null==t?null:null!==e?e.encode(t):"string"==typeof t?g.from(t):t}function B(t,r){return{encode(e){return g.concat([t,g.isBuffer(e)?e:C(r,e)])},decode(e){e=e.slice(t.length,e.length);return r?r.decode(e):e}}}function x(){}O.exports=class T{constructor(e,t={}){this.feed=e,this.keyEncoding=t.keyEncoding?i(t.keyEncoding):null,this.valueEncoding=t.valueEncoding?i(t.valueEncoding):null,this.extension=!1!==t.extension?t.extension||c.register(this):null,this.metadata=t.metadata||null,this.lock=t.lock||r(),this.sep=t.sep||h,this.readonly=!!t.readonly,this.prefix=t.prefix||null,this._unprefixedKeyEncoding=this.keyEncoding,this._sub=!!this.prefix,this._checkout=t.checkout||0,this._ready=t._ready||null,this.prefix&&t._sub&&(this.keyEncoding=B(this.prefix,this.keyEncoding))}ready(){return this.feed.ready()}get version(){return Math.max(1,this._checkout||this.feed.length)}update(){return this.feed.update({ifAvailable:!0,hash:!1}).then(()=>!0,()=>!1)}async getRoot(e,t,r=this){return await this.ready(),e&&0===this.feed.length&&this.feed.writable&&!this.readonly&&await this.feed.append(s.encode({protocol:"hyperbee",metadata:this.metadata})),0===this._checkout&&!1!==(t&&t.update)&&await this.update(),(e=this._checkout||this.feed.length)<2?null:(await r.getBlock(e-1,t)).getTreeNode(0)}async getKey(e){return(await this.getBlock(e)).key}async getBlock(e,t,r=this){const n=t.active;t=this.feed.get(e,{...t,valueEncoding:u}),n&&n.add(t);try{var i=await t;return new v(e,r,i)}finally{n&&n.remove(t)}}async peek(e){const t=this.createRangeIterator({...e,limit:1});return await t.open(),e=await t.next(),await t.close(),e}createRangeIterator(e={}){const n=!1===e.extension&&0!==e.limit?null:this.extension;if(n){const{onseq:o,onwait:s}=e;let t=0,r=0;e=I(this.keyEncoding,{...e,sub:this._sub,onseq(e){t=t||e+1,r&&r--,o&&o(e)},onwait(e){r||(r=c.BATCH_SIZE,n.iterator(i.snapshot(t))),s&&s(e)}})}else e=I(this.keyEncoding,{...e,sub:this._sub});const i=new a(new _(this,this.feed.snapshot(),null,!1,e),e);return i}createReadStream(e){return k(this.createRangeIterator(e))}createHistoryStream(e){var t=e&&e.live?this.feed.session():this.feed.snapshot();return k(new n(new _(this,t,null,!1,e),e))}createDiffStream(e,t){var r=((e="number"==typeof e?this.checkout(Math.max(1,e)):e).version>this.version?e:this).feed.snapshot();return this.keyEncoding&&(t=I(this.keyEncoding,{...t,sub:this._sub})),k(new o(new _(this,r,null,!1,t),new _(e,r,null,!1,t),t))}async get(e,t){const r=this.feed.snapshot(),n=new _(this,r,null,!0,t);return t=await n.get(e),await r.close(),t}put(e,t,r){const n=new _(this,this.feed,null,!0,r);return n.put(e,t,r)}batch(e){return new _(this,this.feed,r(),!0,e)}del(e,t){const r=new _(this,this.feed,null,!0,t);return r.del(e,t)}checkout(e){return new T(this.feed.snapshot(),{_ready:this.ready(),_sub:!1,sep:this.sep,prefix:this.prefix,checkout:e,keyEncoding:this.keyEncoding,valueEncoding:this.valueEncoding,extension:null!==this.extension&&this.extension})}snapshot(){return this.checkout(this.version)}sub(e,t={}){let r=t.sep||this.sep;g.isBuffer(r)||(r=g.from(r)),e=g.concat([this.prefix||l,g.from(e),r]);var n=i(t.valueEncoding||this.valueEncoding),t=i(t.keyEncoding||this._unprefixedKeyEncoding);return new T(this.feed,{_ready:this.ready(),_sub:!0,prefix:e,sep:this.sep,lock:this.lock,checkout:this._checkout,valueEncoding:n,keyEncoding:t,extension:null!==this.extension&&this.extension,metadata:this.metadata})}async getHeader(e){return(e=await this.feed.get(0,e))&&s.decode(e)}close(){return this.feed.close()}}}.call(this)}.call(this,P("_process"))},{"./iterators/diff":297,"./iterators/history":298,"./iterators/range":299,"./lib/extension":300,"./lib/messages":301,_process:437,b4a:175,codecs:226,"mutexify/promise":392,streamx:573}],297:[function(e,t,r){const n=e("b4a");class i{constructor(e,t){this.node=e,this.parent=t,this.isKey=0===e.children.length,this.i=this.isKey?1:0,this.n=0;t=this.isKey?null:this.node.children[0];this.seq=(null!==t?t:this.node.keys[0]).seq,this.offset=null!==t?t.offset:0}next(){return this.i++,this.isKey=1==(1&this.i),this.isKey||this.node.children.length||this.i++,this.update()}async bisect(e,t){let r=0,n=this.node.keys.length,i;for(;r<n;){var o=r+n>>1;if(0===(i=a(e,await this.node.getKey(o))))return this.i=t?2*o+1:2*o+(this.node.children.length?2:3),!0;i<0?n=o:r=1+o}var s=i<0?n:r;return this.i=2*s+(this.node.children.length?0:1),0===this.node.children.length}update(){var e;return this.isKey=1==(1&this.i),this.n=this.i>>1,!(this.n>=(this.isKey?this.node.keys:this.node.children).length)&&(e=this.isKey?null:this.node.children[this.n],this.seq=(null!==e?e:this.node.keys[this.n]).seq,this.offset=null!==e?e.offset:0,!0)}async key(){return this.n<this.node.keys.length?this.node.getKey(this.n):this.parent&&this.parent.key()}async compare(e){var[e,t]=await Promise.all([this.key(),e.key()]);return a(e,t)}}class o{constructor(e,t){this.batch=e,this.stack=[],this.lt=t.lt||t.lte||null,this.lte=!!t.lte,this.gt=t.gt||t.gte||null,this.gte=!!t.gte,this.seeking=!!this.gt}async open(){var e=await this.batch.getRoot(!1);e&&e.keys.length&&(e=new i(e,null),this.seeking&&!await this._seek(e)||this.stack.push(e))}async _seek(e){var t=await e.bisect(this.gt,this.gte),e=!e.update();return!t&&!e||(this.seeking=!1,!e)}peek(){return this.stack.length?this.stack[this.stack.length-1]:null}skip(){!this.stack.length||this.stack[this.stack.length-1].next()||this.stack.pop()}async nextKey(){let e=null;for(;this.stack.length&&null===e;)e=await this.next();var t;return!this.lt||(t=a(e.key,this.lt),this.lte?t<=0:t<0)?e.final():(this.stack=[],null)}async next(){if(!this.stack.length)return null;const e=this.stack[this.stack.length-1];var{isKey:t,n:r,seq:n}=e;return e.next()||this.stack.pop(),t?(this.seeking=!1,this.batch.getBlock(n)):(t=await e.node.getChildNode(r),e.node.children[r]=null,n=new i(t,e),!this.seeking||await this._seek(n)?(this.stack.push(n),null):void 0)}close(){return this.batch.feed.close()}}function a(e,t){return e?t?n.compare(e,t):e?-1:0:t?1:0}t.exports=class{constructor(e,t,r={}){this.left=new o(e,r),this.right=new o(t,r),this.limit="number"==typeof r.limit?r.limit:-1}async open(){await Promise.all([this.left.open(),this.right.open()])}async close(){await Promise.all([this.left.close(),this.right.close()])}async next(){var e;return 0===this.limit||!(e=await this._next())||null===e.left&&null===e.right?null:(this.limit--,e)}async _next(){const e=this.left,t=this.right;for(;;){const[n,i]=await Promise.all([e.peek(),t.peek()]);if(!n&&!i)return null;if(!n)return{left:null,right:await t.nextKey()};if(!i)return{left:await e.nextKey(),right:null};if(n.seq===i.seq&&n.isKey===i.isKey&&n.offset===i.offset)e.skip(),t.skip();else{var r=await n.compare(i);if(n.isKey&&!i.isKey)await t.next();else if(!n.isKey&&i.isKey)await e.next();else{if(n.isKey&&i.isKey)return 0===r?{left:await e.nextKey(),right:await t.nextKey()}:r<0?{left:await e.nextKey(),right:null}:{left:null,right:await t.nextKey()};0===r?await Promise.all([e.next(),t.next()]):r<0?await t.next():await e.next()}}}}async close(){await Promise.all([this.left.close(),this.right.close()])}}},{b4a:175}],298:[function(e,t,r){function n(e){return{type:e.isDeletion()?"del":"put",...e.final()}}function i(e,t){return e.gt?(e.gt<0?e.gt+t:e.gt)+1:(e=e.gte||e.since||1)<0?e+t:e}function o(e,t){return 0===e.lte||0===e.lt||0===e.end?0:e.lte?(e.lte<0?e.lte+t:e.lte)+1:(e=e.lt||e.end||t)<0?e+t:e}t.exports=class{constructor(e,t={}){if(this.batch=e,this.options=t,this.live=!!t.live,this.gte=0,this.lt=0,this.reverse=!!t.reverse,this.limit="number"==typeof t.limit?t.limit:-1,this.live&&this.reverse)throw new Error("Cannot have both live and reverse enabled")}async open(){await this.batch.getRoot(!1),this.gte=i(this.options,this.batch.version),this.lt=this.live?1/0:o(this.options,this.batch.version)}async next(){return 0===this.limit||(0<this.limit&&this.limit--,this.gte>=this.lt)?null:this.reverse?this.lt<=1?null:n(await this.batch.getBlock(--this.lt,this.options)):n(await this.batch.getBlock(this.gte++,this.options))}close(){return this.batch.feed.close()}}},{}],299:[function(e,t,r){const u=e("b4a");t.exports=class{constructor(e,t={}){this.batch=e,this.stack=[],this.opened=!1,this._limit="number"==typeof t.limit?t.limit:-1,this._gIncl=!t.gt,this._gKey=t.gt||t.gte||null,this._lIncl=!t.lt,this._lKey=t.lt||t.lte||null,this._reverse=!!t.reverse,this._version=0,this._checkpoint=t.checkpoint&&t.checkpoint.length?t.checkpoint:null,this._nexting=!1}snapshot(e=this.batch.version){const r=[];for(const n of this.stack){let{node:e,i:t}=n;this._nexting&&n===this.stack[this.stack.length-1]&&(t=this._reverse?t+1:t-1),!e.block||t<0||r.push(e.block.seq,e.offset,t)}return{version:e,gte:this._gIncl?this._gKey:null,gt:this._gIncl?null:this._gKey,lte:this._lIncl?this._lKey:null,lt:this._lIncl?null:this._lKey,limit:this._limit,reverse:this._reverse,ended:this.opened&&!r.length,checkpoint:this.opened?r:[]}}async open(){await this._open(),this.opened=!0}async _open(){if(this._checkpoint)for(let e=0;e<this._checkpoint.length;e+=3){var t=this._checkpoint[e],r=this._checkpoint[e+1],n=this._checkpoint[e+2];this.stack.push({node:(await this.batch.getBlock(t)).getTreeNode(r),i:n})}else{this._nexting=!0;let n=await this.batch.getRoot(!1);if(n){var i=this._reverse?this._lIncl:this._gIncl,o=this._reverse?this._lKey:this._gKey;if(o)for(;;){const c={node:n,i:this._reverse?n.keys.length<<1:0};let e=0,t=n.keys.length,r;for(;e<t;){var s=e+t>>1;if(0===(r=u.compare(o,await n.getKey(s))))return c.i=i?2*s+1:2*s+(this._reverse?0:2),this.stack.push(c),void(this._nexting=!1);r<0?t=s:e=1+s}var a=r<0?t:e;if(c.i=2*a+(this._reverse?-1:1),0<=c.i&&c.i<=n.keys.length<<1&&this.stack.push(c),!n.children.length)return void(this._nexting=!1);n=await n.getChildNode(a)}else this.stack.push({node:n,i:this._reverse?n.keys.length<<1:0}),this._nexting=!1}else this._nexting=!1}}async next(){this._nexting=!0;for(var e=this._reverse?this._gKey:this._lKey,t=this._reverse?this._gIncl:this._lIncl;this.stack.length&&(-1===this._limit||0<this._limit);){const i=this.stack[this.stack.length-1];var r=1==(1&i.i),n=this._reverse?i.i<0?i.node.keys.length:i.i-- >>1:i.i++>>1;if(r){if(!(n>=i.node.keys.length)){var r=i.node.keys[n];const o=await this.batch.getBlock(r.seq);if(e){r=u.compare(o.key,e);if(0===r?!t:this._reverse?r<0:0<r){this._limit=0;break}}return 0<this._limit&&this._limit--,this._nexting=!1,o.final()}this.stack.pop()}else i.node.children.length&&(r=await i.node.getChildNode(n),i.node.children[n]=null,this.stack.push({i:this._reverse?r.keys.length<<1:0,node:r}))}return this._nexting=!1,null}close(){return this.batch.feed.close()}}},{b4a:175}],300:[function(e,t,r){const n=e("./messages")["Extension"];class a{constructor(e,t){this.blocks=[],this.start=0,this.end=0,this.outgoing=e,this.from=t}push(e){var t=this.blocks.push(e);(1===t||e<this.start)&&(this.start=e),(1===t||e>=this.end)&&(this.end=e+1),128<=t&&(this.send(),this.clear())}send(){this.blocks.length&&this.outgoing.send(n.encode({cache:{blocks:this.blocks,start:this.start,end:this.end}}),this.from)}clear(){this.start=this.end=0,this.blocks=[]}}class i{constructor(e){this.encoding=null,this.outgoing=null,this.db=e,this.active=0}get(e,t){this.outgoing.broadcast(n.encode({get:{version:e,key:t}}))}iterator(e){e.ended||0!==e.limit&&(-1===e.limit&&(e.limit=0),this.outgoing.broadcast(n.encode({iterator:e})))}onmessage(e,t){e=o(e);e&&(e.cache&&this.oncache(e.cache,t),e.get&&this.onget(e.get,t),e.iterator&&this.oniterator(e.iterator,t))}oncache(e,t){e.blocks.length&&this.db.feed.download(e)}onget(e,t){if(e.version){const r=new a(this.outgoing,t);t=r.send.bind(r);this.db.checkout(e.version).get(e.key,{extension:!1,wait:!1,update:!1,onseq:function(e){r.push(e)}}).then(t,t)}}async oniterator(e,n){if(e.version){const i=new a(this.outgoing,n);let t=e.checkpoint.length,r=0;const o=this.db.checkout(e.version),s=o.createRangeIterator({...e,wait:!1,extension:!1,update:!1,limit:0===e.limit?-1:e.limit,onseq(e){t&&t--||(r++,i.push(e))}});try{for(await s.open();r<2176&&await s.next(););}catch(e){}finally{i.send()}}}static register(e){const t=new this(e);return t.outgoing=e.feed.registerExtension("hyperbee",t),t}}function o(e){try{return n.decode(e)}catch(e){return null}}i.BATCH_SIZE=2048,t.exports=i},{"./messages":301}],301:[function(e,D,t){var h=e("protocol-buffers-encodings"),s=e("b4a"),l=h.varint,f=h.skip;const r=t.YoloIndex={buffer:!0,encodingLength:null,encode:null,decode:null},n=t.Header={buffer:!0,encodingLength:null,encode:null,decode:null},i=t.Node={buffer:!0,encodingLength:null,encode:null,decode:null},o=t.Extension={buffer:!0,encodingLength:null,encode:null,decode:null};{const M=r.Level={buffer:!0,encodingLength:null,encode:null,decode:null};function a(t){let r=0;if(T(t.levels))for(let e=0;e<t.levels.length;e++){var n;T(t.levels[e])&&(n=M.encodingLength(t.levels[e]),r=r+l.encodingLength(n)+(1+n))}return r}function c(t,r,n){n=n||0,r=r||s.allocUnsafe(a(t));var e=n;if(T(t.levels))for(let e=0;e<t.levels.length;e++)T(t.levels[e])&&(r[n++]=10,l.encode(M.encodingLength(t.levels[e]),r,n),n+=l.encode.bytes,M.encode(t.levels[e],r,n),n+=M.encode.bytes);return c.bytes=n-e,r}function u(e,t,r){if(t=t||0,!((r=r||e.length)<=e.length&&t<=e.length))throw new Error("Decoded message is not valid");var n=t;const i={levels:[]};for(;;){if(r<=t)return u.bytes=t-n,i;var o=l.decode(e,t),s=(t+=l.decode.bytes,o>>3);1==s?(s=l.decode(e,t),t+=l.decode.bytes,i.levels.push(M.decode(e,t,t+s)),t+=M.decode.bytes):t=f(7&o,e,t)}}function d(e){let t=0;if(T(e.keys)){for(var r=0,n=0;n<e.keys.length;n++)T(e.keys[n])&&(r+=h.varint.encodingLength(e.keys[n]));r&&(t+=1+r+l.encodingLength(r))}if(T(e.children)){for(r=0,n=0;n<e.children.length;n++)T(e.children[n])&&(r+=h.varint.encodingLength(e.children[n]));r&&(t+=1+r+l.encodingLength(r))}return t}function p(e,t,r){r=r||0,t=t||s.allocUnsafe(d(e));var n=r;if(T(e.keys)){for(var i=0,o=0;o<e.keys.length;o++)T(e.keys[o])&&(i+=h.varint.encodingLength(e.keys[o]));i&&(t[r++]=10,l.encode(i,t,r),r+=l.encode.bytes);for(o=0;o<e.keys.length;o++)T(e.keys[o])&&(h.varint.encode(e.keys[o],t,r),r+=h.varint.encode.bytes)}if(T(e.children)){for(i=0,o=0;o<e.children.length;o++)T(e.children[o])&&(i+=h.varint.encodingLength(e.children[o]));i&&(t[r++]=18,l.encode(i,t,r),r+=l.encode.bytes);for(o=0;o<e.children.length;o++)T(e.children[o])&&(h.varint.encode(e.children[o],t,r),r+=h.varint.encode.bytes)}return p.bytes=r-n,t}function g(e,t,r){if(t=t||0,!((r=r||e.length)<=e.length&&t<=e.length))throw new Error("Decoded message is not valid");var n=t;const i={keys:[],children:[]};for(;;){if(r<=t)return g.bytes=t-n,i;var o=l.decode(e,t),s=(t+=l.decode.bytes,o>>3);switch(s){case 1:var a=l.decode(e,t);for(a+=t+=l.decode.bytes;t<a;)i.keys.push(h.varint.decode(e,t)),t+=h.varint.decode.bytes;break;case 2:a=l.decode(e,t);for(a+=t+=l.decode.bytes;t<a;)i.children.push(h.varint.decode(e,t)),t+=h.varint.decode.bytes;break;default:t=f(7&o,e,t)}}}M.encodingLength=d,M.encode=p,M.decode=g,r.encodingLength=a,r.encode=c,r.decode=u}{const P=n.Metadata={buffer:!0,encodingLength:null,encode:null,decode:null};function y(e){let t=0;var r;if(T(e.protocol))return r=h.string.encodingLength(e.protocol),t+=1+r,T(e.metadata)&&(r=P.encodingLength(e.metadata),t=t+l.encodingLength(r)+(1+r)),t;throw new Error("protocol is required")}function b(e,t,r){r=r||0,t=t||s.allocUnsafe(y(e));var n=r;if(T(e.protocol))return t[r++]=10,h.string.encode(e.protocol,t,r),r+=h.string.encode.bytes,T(e.metadata)&&(t[r++]=18,l.encode(P.encodingLength(e.metadata),t,r),r+=l.encode.bytes,P.encode(e.metadata,t,r),r+=P.encode.bytes),b.bytes=r-n,t;throw new Error("protocol is required")}function m(e,t,r){if(t=t||0,!((r=r||e.length)<=e.length&&t<=e.length))throw new Error("Decoded message is not valid");var n=t;const i={protocol:"",metadata:null};let o=!1;for(;;){if(r<=t){if(o)return m.bytes=t-n,i;throw new Error("Decoded message is not valid")}var s=l.decode(e,t),a=(t+=l.decode.bytes,s>>3);switch(a){case 1:i.protocol=h.string.decode(e,t),t+=h.string.decode.bytes,o=!0;break;case 2:var c=l.decode(e,t);t+=l.decode.bytes,i.metadata=P.decode(e,t,t+c),t+=P.decode.bytes;break;default:t=f(7&s,e,t)}}}function v(e){let t=0;var r;return T(e.contentFeed)&&(r=h.bytes.encodingLength(e.contentFeed),t+=1+r),T(e.userData)&&(r=h.bytes.encodingLength(e.userData),t+=1+r),t}function A(e,t,r){r=r||0,t=t||s.allocUnsafe(v(e));var n=r;return T(e.contentFeed)&&(t[r++]=10,h.bytes.encode(e.contentFeed,t,r),r+=h.bytes.encode.bytes),T(e.userData)&&(t[r++]=18,h.bytes.encode(e.userData,t,r),r+=h.bytes.encode.bytes),A.bytes=r-n,t}function _(e,t,r){if(t=t||0,!((r=r||e.length)<=e.length&&t<=e.length))throw new Error("Decoded message is not valid");var n=t;const i={contentFeed:null,userData:null};for(;;){if(r<=t)return _.bytes=t-n,i;var o=l.decode(e,t),s=(t+=l.decode.bytes,o>>3);switch(s){case 1:i.contentFeed=h.bytes.decode(e,t),t+=h.bytes.decode.bytes;break;case 2:i.userData=h.bytes.decode(e,t),t+=h.bytes.decode.bytes;break;default:t=f(7&o,e,t)}}}P.encodingLength=v,P.encode=A,P.decode=_,n.encodingLength=y,n.encode=b,n.decode=m}function w(e){let t=0;if(!T(e.index))throw new Error("index is required");var r=h.bytes.encodingLength(e.index);if(t+=1+r,T(e.key))return r=h.bytes.encodingLength(e.key),t+=1+r,T(e.value)&&(r=h.bytes.encodingLength(e.value),t+=1+r),t;throw new Error("key is required")}function E(e,t,r){r=r||0,t=t||s.allocUnsafe(w(e));var n=r;if(!T(e.index))throw new Error("index is required");if(t[r++]=10,h.bytes.encode(e.index,t,r),r+=h.bytes.encode.bytes,T(e.key))return t[r++]=18,h.bytes.encode(e.key,t,r),r+=h.bytes.encode.bytes,T(e.value)&&(t[r++]=26,h.bytes.encode(e.value,t,r),r+=h.bytes.encode.bytes),E.bytes=r-n,t;throw new Error("key is required")}function S(e,t,r){if(t=t||0,!((r=r||e.length)<=e.length&&t<=e.length))throw new Error("Decoded message is not valid");var n=t;const i={index:null,key:null,value:null};let o=!1,s=!1;for(;;){if(r<=t){if(o&&s)return S.bytes=t-n,i;throw new Error("Decoded message is not valid")}var a=l.decode(e,t),c=(t+=l.decode.bytes,a>>3);switch(c){case 1:i.index=h.bytes.decode(e,t),t+=h.bytes.decode.bytes,o=!0;break;case 2:i.key=h.bytes.decode(e,t),t+=h.bytes.decode.bytes,s=!0;break;case 3:i.value=h.bytes.decode(e,t),t+=h.bytes.decode.bytes;break;default:t=f(7&a,e,t)}}}i.encodingLength=w,i.encode=E,i.decode=S;{const O=o.Get={buffer:!0,encodingLength:null,encode:null,decode:null},L=o.Iterator={buffer:!0,encodingLength:null,encode:null,decode:null},R=o.Cache={buffer:!0,encodingLength:null,encode:null,decode:null};function k(e){let t=0;var r;return T(e.cache)&&(r=R.encodingLength(e.cache),t=t+l.encodingLength(r)+(1+r)),T(e.get)&&(r=O.encodingLength(e.get),t=t+l.encodingLength(r)+(1+r)),T(e.iterator)&&(r=L.encodingLength(e.iterator),t=t+l.encodingLength(r)+(1+r)),t}function I(e,t,r){r=r||0,t=t||s.allocUnsafe(k(e));var n=r;return T(e.cache)&&(t[r++]=10,l.encode(R.encodingLength(e.cache),t,r),r+=l.encode.bytes,R.encode(e.cache,t,r),r+=R.encode.bytes),T(e.get)&&(t[r++]=18,l.encode(O.encodingLength(e.get),t,r),r+=l.encode.bytes,O.encode(e.get,t,r),r+=O.encode.bytes),T(e.iterator)&&(t[r++]=26,l.encode(L.encodingLength(e.iterator),t,r),r+=l.encode.bytes,L.encode(e.iterator,t,r),r+=L.encode.bytes),I.bytes=r-n,t}function C(e,t,r){if(t=t||0,!((r=r||e.length)<=e.length&&t<=e.length))throw new Error("Decoded message is not valid");var n=t;const i={cache:null,get:null,iterator:null};for(;;){if(r<=t)return C.bytes=t-n,i;var o=l.decode(e,t),s=(t+=l.decode.bytes,o>>3);switch(s){case 1:var a=l.decode(e,t);t+=l.decode.bytes,i.cache=R.decode(e,t,t+a),t+=R.decode.bytes;break;case 2:a=l.decode(e,t);t+=l.decode.bytes,i.get=O.decode(e,t,t+a),t+=O.decode.bytes;break;case 3:a=l.decode(e,t);t+=l.decode.bytes,i.iterator=L.decode(e,t,t+a),t+=L.decode.bytes;break;default:t=f(7&o,e,t)}}}function B(e){let t=0;var r;return T(e.version)&&(r=h.varint.encodingLength(e.version),t+=1+r),T(e.key)&&(r=h.bytes.encodingLength(e.key),t+=1+r),t}function x(e,t,r){r=r||0,t=t||s.allocUnsafe(B(e));var n=r;return T(e.version)&&(t[r++]=8,h.varint.encode(e.version,t,r),r+=h.varint.encode.bytes),T(e.key)&&(t[r++]=18,h.bytes.encode(e.key,t,r),r+=h.bytes.encode.bytes),x.bytes=r-n,t}function N(e,t,r){if(t=t||0,!((r=r||e.length)<=e.length&&t<=e.length))throw new Error("Decoded message is not valid");var n=t;const i={version:0,key:null};for(;;){if(r<=t)return N.bytes=t-n,i;var o=l.decode(e,t),s=(t+=l.decode.bytes,o>>3);switch(s){case 1:i.version=h.varint.decode(e,t),t+=h.varint.decode.bytes;break;case 2:i.key=h.bytes.decode(e,t),t+=h.bytes.decode.bytes;break;default:t=f(7&o,e,t)}}}function F(r){let e=0;var n;if(T(r.version)&&(n=h.varint.encodingLength(r.version),e+=1+n),T(r.gte)&&(n=h.bytes.encodingLength(r.gte),e+=1+n),T(r.gt)&&(n=h.bytes.encodingLength(r.gt),e+=1+n),T(r.lte)&&(n=h.bytes.encodingLength(r.lte),e+=1+n),T(r.lt)&&(n=h.bytes.encodingLength(r.lt),e+=1+n),T(r.limit)&&(n=h.varint.encodingLength(r.limit),e+=1+n),T(r.reverse)&&(n=h.bool.encodingLength(r.reverse),e+=1+n),T(r.checkpoint)){let t=0;for(let e=0;e<r.checkpoint.length;e++)T(r.checkpoint[e])&&(n=h.varint.encodingLength(r.checkpoint[e]),t+=n);t&&(e+=1+t+l.encodingLength(t))}return e}function j(t,r,n){n=n||0,r=r||s.allocUnsafe(F(t));var e=n;if(T(t.version)&&(r[n++]=8,h.varint.encode(t.version,r,n),n+=h.varint.encode.bytes),T(t.gte)&&(r[n++]=18,h.bytes.encode(t.gte,r,n),n+=h.bytes.encode.bytes),T(t.gt)&&(r[n++]=26,h.bytes.encode(t.gt,r,n),n+=h.bytes.encode.bytes),T(t.lte)&&(r[n++]=34,h.bytes.encode(t.lte,r,n),n+=h.bytes.encode.bytes),T(t.lt)&&(r[n++]=42,h.bytes.encode(t.lt,r,n),n+=h.bytes.encode.bytes),T(t.limit)&&(r[n++]=48,h.varint.encode(t.limit,r,n),n+=h.varint.encode.bytes),T(t.reverse)&&(r[n++]=56,h.bool.encode(t.reverse,r,n),n+=h.bool.encode.bytes),T(t.checkpoint)){let e=0;for(var i=0;i<t.checkpoint.length;i++)T(t.checkpoint[i])&&(e+=h.varint.encodingLength(t.checkpoint[i]));e&&(r[n++]=66,l.encode(e,r,n),n+=l.encode.bytes);for(i=0;i<t.checkpoint.length;i++)T(t.checkpoint[i])&&(h.varint.encode(t.checkpoint[i],r,n),n+=h.varint.encode.bytes)}return j.bytes=n-e,r}function U(e,t,r){if(t=t||0,!((r=r||e.length)<=e.length&&t<=e.length))throw new Error("Decoded message is not valid");var n=t;const i={version:0,gte:null,gt:null,lte:null,lt:null,limit:0,reverse:!1,checkpoint:[]};for(;;){if(r<=t)return U.bytes=t-n,i;var o=l.decode(e,t),s=(t+=l.decode.bytes,o>>3);switch(s){case 1:i.version=h.varint.decode(e,t),t+=h.varint.decode.bytes;break;case 2:i.gte=h.bytes.decode(e,t),t+=h.bytes.decode.bytes;break;case 3:i.gt=h.bytes.decode(e,t),t+=h.bytes.decode.bytes;break;case 4:i.lte=h.bytes.decode(e,t),t+=h.bytes.decode.bytes;break;case 5:i.lt=h.bytes.decode(e,t),t+=h.bytes.decode.bytes;break;case 6:i.limit=h.varint.decode(e,t),t+=h.varint.decode.bytes;break;case 7:i.reverse=h.bool.decode(e,t),t+=h.bool.decode.bytes;break;case 8:var a=l.decode(e,t);for(a+=t+=l.decode.bytes;t<a;)i.checkpoint.push(h.varint.decode(e,t)),t+=h.varint.decode.bytes;break;default:t=f(7&o,e,t)}}}function J(r){let e=0;if(!T(r.start))throw new Error("start is required");var n=h.varint.encodingLength(r.start);if(e+=1+n,!T(r.end))throw new Error("end is required");n=h.varint.encodingLength(r.end);if(e+=1+n,T(r.blocks)){let t=0;for(let e=0;e<r.blocks.length;e++)T(r.blocks[e])&&(n=h.varint.encodingLength(r.blocks[e]),t+=n);t&&(e+=1+t+l.encodingLength(t))}return e}function Q(t,r,n){n=n||0,r=r||s.allocUnsafe(J(t));var e=n;if(!T(t.start))throw new Error("start is required");if(r[n++]=8,h.varint.encode(t.start,r,n),n+=h.varint.encode.bytes,!T(t.end))throw new Error("end is required");if(r[n++]=16,h.varint.encode(t.end,r,n),n+=h.varint.encode.bytes,T(t.blocks)){let e=0;for(var i=0;i<t.blocks.length;i++)T(t.blocks[i])&&(e+=h.varint.encodingLength(t.blocks[i]));e&&(r[n++]=26,l.encode(e,r,n),n+=l.encode.bytes);for(i=0;i<t.blocks.length;i++)T(t.blocks[i])&&(h.varint.encode(t.blocks[i],r,n),n+=h.varint.encode.bytes)}return Q.bytes=n-e,r}function H(e,t,r){if(t=t||0,!((r=r||e.length)<=e.length&&t<=e.length))throw new Error("Decoded message is not valid");var n=t;const i={start:0,end:0,blocks:[]};let o=!1,s=!1;for(;;){if(r<=t){if(o&&s)return H.bytes=t-n,i;throw new Error("Decoded message is not valid")}var a=l.decode(e,t),c=(t+=l.decode.bytes,a>>3);switch(c){case 1:i.start=h.varint.decode(e,t),t+=h.varint.decode.bytes,o=!0;break;case 2:i.end=h.varint.decode(e,t),t+=h.varint.decode.bytes,s=!0;break;case 3:var u=l.decode(e,t);for(u+=t+=l.decode.bytes;t<u;)i.blocks.push(h.varint.decode(e,t)),t+=h.varint.decode.bytes;break;default:t=f(7&a,e,t)}}}O.encodingLength=B,O.encode=x,O.decode=N,L.encodingLength=F,L.encode=j,L.decode=U,R.encodingLength=J,R.encode=Q,R.decode=H,o.encodingLength=k,o.encode=I,o.decode=C}function T(e){return null!=e&&("number"!=typeof e||!isNaN(e))}},{b4a:175,"protocol-buffers-encodings":332}],302:[function(e,t,r){var n=e("events")["EventEmitter"];const u=e("safety-catch"),o=e("hypercore-crypto"),i=e("sodium-javascript"),h=e("hypercore"),s=e("xache"),l=e("b4a"),[a]=o.namespace("corestore",1),c=l.alloc(33),f="primary-key",d="corestore/name",p="corestore/namespace";function g(e,t){if(e._secretKey||e.secretKey)return o.sign(t,e._secretKey||e.secretKey);throw new Error("Invalid key pair")}function y(e){if(l.isBuffer(e))return{key:e,publicKey:e};if(e.key&&(e.publicKey=e.key),e.keyPair&&(e.publicKey=e.keyPair.publicKey,e.secretKey=e.keyPair.secretKey),e.name&&"string"!=typeof e.name)throw new Error("name option must be a String");if(e.name&&e.secretKey)throw new Error("Cannot provide both a name and a secret key");if(e.publicKey&&!l.isBuffer(e.publicKey))throw new Error("publicKey option must be a Buffer or Uint8Array");if(e.secretKey&&!l.isBuffer(e.secretKey))throw new Error("secretKey option must be a Buffer or Uint8Array");if(e._discoveryKey||e.name||e.publicKey)return e;throw new Error("Must provide either a name or a publicKey")}function b(e,t){l.isBuffer(t)||(t=l.from(t));var r=l.allocUnsafe(33);return i.crypto_generichash_batch(r,[e,t]),r}function m(e,t,r){l.isBuffer(r)||(r=l.from(r));var n=l.alloc(33);return i.crypto_generichash_batch(n,[a,l.from(t),r],e),n}function v(){return new s({maxSize:65536,maxAge:0})}function A(e){return"object"==typeof e&&e&&"function"==typeof e.pipe}t.exports=class _ extends n{constructor(e,t={}){if(super(),this.storage=h.defaultStorage(e,{lock:f}),this.cores=t._cores||new Map,this.primaryKey=null,this.cache=!!t.cache,this._keyStorage=null,this._primaryKey=t.primaryKey,this._namespace=t.namespace||c,this._replicationStreams=t._streams||[],this._overwrite=!0===t.overwrite,this._streamSessions=t._streamSessions||new Map,this._sessions=new Set,this._findingPeersCount=0,this._findingPeers=[],33!==this._namespace.byteLength)throw new Error("Namespace must be a 33-byte Buffer or Uint8Array");this._opening=t._opening?t._opening.then(()=>this._open()):this._open(),this._opening.catch(u),this.ready=()=>this._opening}findingPeers(){let e=!1;return this._incFindingPeers(),()=>{e||(e=!0,this._decFindingPeers())}}_incFindingPeers(){if(1==++this._findingPeersCount)for(const e of this._sessions)this._findingPeers.push(e.findingPeers())}_decFindingPeers(){if(0==--this._findingPeersCount)for(;0<this._findingPeers.length;)this._findingPeers.pop()()}async _open(){return this._primaryKey?this.primaryKey=await this._primaryKey:(this._keyStorage=this.storage(f),this.primaryKey=await new Promise((n,i)=>{this._keyStorage.stat((e,t)=>{if(e&&"ENOENT"!==e.code)return i(e);if(e||t.size<33||this._overwrite){const r=o.randomBytes(33);return this._keyStorage.write(0,r,e=>e?i(e):n(r))}this._keyStorage.read(0,33,(e,t)=>e?i(e):n(t))})})),this.primaryKey}async _generateKeys(e){var t,r;return e._discoveryKey?{keyPair:null,auth:null,discoveryKey:e._discoveryKey}:e.name?({publicKey:t,auth:r}=await this.createKeyPair(e.name),{keyPair:{publicKey:t,secretKey:null},auth:r,discoveryKey:o.discoveryKey(t)}):{keyPair:{publicKey:e.publicKey,secretKey:e.secretKey},sign:e.sign,auth:e.auth,discoveryKey:o.discoveryKey(e.publicKey)}}_getPrereadyUserData(e,t){for(var{key:r,value:n}of e.core.header.userData)if(t===r)return n;return null}async _preready(e){var t=this._getPrereadyUserData(e,d);if(t){var r=this._getPrereadyUserData(e,p),{publicKey:t,auth:r}=await this.createKeyPair(l.toString(t),r);if(!l.equals(t,e.key))throw new Error("Stored core key does not match the provided name");e.auth=r,e.key=t,e.writable=!0}}async _preload(e){await this.ready();var{discoveryKey:t,keyPair:r,auth:n}=await this._generateKeys(e);const i=l.toString(t,"hex");for(;this.cores.has(i);){const c=this.cores.get(i);if(c.opened&&!c.closing)return{from:c,keyPair:r,auth:n};c.closing?await c.close():await c.ready().catch(u)}const o={},s=(e.name&&(o[d]=l.from(e.name),o[p]=this._namespace),["cores",i.slice(0,2),i.slice(2,4),i].join("/")),a=new h(e=>this.storage(s+"/"+e),{_preready:this._preready.bind(this),autoClose:!0,encryptionKey:e.encryptionKey||null,userData:o,auth:n,cache:e.cache,createIfMissing:!e._discoveryKey,keyPair:r&&r.publicKey?{publicKey:r.publicKey,secretKey:null}:null});return this.cores.set(i,a),a.ready().then(()=>{for(var{stream:e}of this._replicationStreams){const r=this._streamSessions.get(e);var t=a.session();r.push(t),a.replicate(e)}},()=>{this.cores.delete(i)}),a.once("close",()=>{this.cores.delete(i)}),{from:a,keyPair:r,auth:n}}async createKeyPair(e,t=this._namespace){this.primaryKey||await this._opening;e=m(this.primaryKey,e,t);const r=o.keyPair(e);return{publicKey:r.publicKey,secretKey:r.secretKey,auth:{sign:e=>g(r,e),verify:(e,t)=>o.verify(e,t,r.publicKey)}}}get(e={}){!1!==(e=y(e)).cache&&(e.cache=!0===e.cache||this.cache&&!e.cache?v():e.cache);const t=new h(null,{...e,name:null,preload:()=>this._preload(e)});return this._sessions.add(t),0<this._findingPeersCount&&this._findingPeers.push(t.findingPeers()),t.once("close",()=>{this._sessions.delete(t)}),t}replicate(e,t){var r,n=A(e)||!(!t||!t.stream);const i=h.createProtocolStream(e,{...t,ondiscoverykey:e=>{const t=this.get({_discoveryKey:e});return t.ready().catch(u)}}),o=[];for(const a of this.cores.values())a.opened&&(r=a.session(),o.push(r),a.replicate(i));const s={stream:i,isExternal:n};return this._replicationStreams.push(s),this._streamSessions.set(i,o),i.once("close",()=>{this._replicationStreams.splice(this._replicationStreams.indexOf(s),1),this._streamSessions.delete(i),Promise.all(o.map(e=>e.close())).catch(u)}),i}namespace(e){return new _(this.storage,{primaryKey:this._opening.then(()=>this.primaryKey),namespace:b(this._namespace,e),cache:this.cache,_opening:this._opening,_cores:this.cores,_streams:this._replicationStreams,_streamSessions:this._streamSessions})}async _close(){if(await this._opening,l.equals(this._namespace,c)){const r=[];for(const n of this.cores.values())r.push(n.close());await Promise.allSettled(r);for(var{stream:e,isExternal:t}of this._replicationStreams)t||e.destroy();this._keyStorage&&await new Promise((t,r)=>{this._keyStorage.close(e=>e?r(e):t(null))})}}close(){return this._closing||(this._closing=this._close(),this._closing.catch(u)),this._closing}}},{b4a:175,events:284,hypercore:325,"hypercore-crypto":295,"safety-catch":489,"sodium-javascript":561,xache:596}],303:[function(w,E,e){!function(t){!function(){var e=w("events")["EventEmitter"];const h=w("safety-catch"),p=w("streamx"),l=w("mutexify/promise"),a=w("compact-encoding"),c=w("b4a"),i=w("./lib/linearize"),n=w("./lib/batch"),r=w("./lib/compression"),o=w("./lib/output"),u=w("./lib/clock")["length"],{InputNode:s,OutputNode:f}=w("./lib/nodes"),{Node:d,decodeHeader:g}=w("./lib/nodes/messages"),y="@autobase/input/v1",b="@autobase/output/v1",m=+t.env.NON_SPARSE;function v(e,t,r){const n={};for(const u of r)if(u!==e)for(var[i,o]of u.clock){o=o+1;o>(n[i]||0)&&(n[i]=o)}let s=0;for(var[a,c]of e.clock){c=c+1,a=n[a]||0;a<c&&(s+=c-a)}return s}function A(e){const t=[],r=new Map;for(const o of e)o&&(!function(e,t){if(e){for(const r of t)if(r&&e.lte(r))return;return 1}}(o,e)||t.push(o),r.set(o.id,o.seq));var n=t.map(v);let i=0;for(let e=1;e<n.length;e++)(n[e]===n[i]&&t[e].key<t[i].key||n[e]<n[i])&&(i=e);return{forks:t,clock:r,smallest:i}}function _(e){return e?e instanceof Map?e:Array.isArray(e)?new Map(e):new Map(Object.entries(e)):new Map}E.exports=class extends e{constructor({inputs:e,outputs:t,localInput:r,localOutput:n,apply:i,unwrap:o,view:s,autostart:a,eagerUpdate:c,sparse:u}={}){super(),this.localInput=r,this.localOutput=n,this.opened=!1,this.closed=!1,this._closing=null,this._inputs=e||[],this._outputs=t||[],this._inputsByKey=new Map,this._outputsByKey=new Map,this._keyCompressors=new Map,this._readStreams=[],this._batchId=0,this._lock=l(),this._eagerUpdate=void 0===c?!!n:c,this._sparse=!1!==u&&1!=m,this._loadingInputsCount=0,this._pendingUpdates=[],this.view=null,(i||a)&&this.start({apply:i,view:s,unwrap:o}),this._onappend=()=>{this.emit("append"),this._onInputsChanged()},this._opening=this._open(),this._opening.catch(h),this.ready=()=>this._opening}async _open(){await Promise.all([...this._inputs.map(e=>e.ready()),...this._outputs.map(e=>e.ready())]);for(const e of this._inputs)this._addInput(e);for(const t of this._outputs)this._addOutput(t);this.localOutput&&(await this.localOutput.ready(),this._addOutput(this.localOutput,{local:!0})),this.opened=!0}_addInput(e){var t,r=c.toString(e.key,"hex");this._inputsByKey.has(r)||(t=e.session({sparse:this._sparse}),e.on("append",this._onappend),this._inputsByKey.set(r,t),this._onInputsChanged())}_addOutput(e,t){var r=c.toString(e.key,"hex");this._outputsByKey.has(r)||(e=new o(e),this._outputsByKey.set(r,e),t&&t.local&&(this.localOutput=e))}_removeInput(e,t){var r=c.isBuffer(e)?c.toString(e,"hex"):c.toString(e.key,"hex");this._inputsByKey.has(r)&&((e=this._inputsByKey.get(r)).removeListener("append",this._onappend),this._inputsByKey.delete(r),this._onInputsChanged())}_removeOutput(e,t){var r=c.isBuffer(e)?c.toString(e,"hex"):c.toString(e.key,"hex");this._outputsByKey.has(r)&&(e=this._outputsByKey.get(r),this._outputsByKey.delete(r),t&&t.local&&(this.localOutput=null))}_onInputsChanged(){this._bumpReadStreams(),this._eagerUpdate&&this.view&&this.view.update().catch(h)}_bumpReadStreams(){for(const e of this._readStreams)e.bump()}_getKeyCompressor(e){let t=this._keyCompressors.get(e);return t||(t=new r(e),this._keyCompressors.set(e,t)),t}async _decompressClock(e,t,r){const n=this._getKeyCompressor(e);return n.decompress(r,t)}async _compressClock(e,t,r){const n=this._getKeyCompressor(e);return n.compress(r,t)}async _getInputNode(e,t,r){if(t<0)return null;if("string"==typeof(e=c.isBuffer(e)?c.toString(e,"hex"):e)){if(!this._inputsByKey.has(e))return null;e=this._inputsByKey.get(e)}var n=await e.get(t,r);if(!n&&!1===r.wait)return null;let i=null;try{i=d.decode({start:0,end:n.length,buffer:n})}catch(e){return h(e)}const o=new s({...i,key:e.key,seq:t});return r&&!1!==r.loadBatchClock&&0!==o.batch[1]&&(n=await this._getInputNode(e,t+o.batch[1],r),o.clock=n.clock),o.clock&&(o.clock=await this._decompressClock(e,t,i.clock),0<o.seq?o.clock.set(o.id,o.seq-1):o.clock.delete(o.id)),o}_waitForInputs(){return new Promise(e=>{this._pendingUpdates.push(e)})}get inputs(){return[...this._inputsByKey.values()]}get outputs(){return[...this._outputsByKey.values()]}get started(){return!!this.view}loadingInputs(){return this._loadingInputsCount++,()=>{if(0==--this._loadingInputsCount)for(const e of this._pendingUpdates)e()}}start({view:e,apply:t,unwrap:r}={}){if(this.view)throw new Error("Start must only be called once");const n=new i(this,{header:{protocol:b},view:e,apply:t,unwrap:r});t=n.session();this.view=e?e(t):t}async heads(e){this.opened||await this._opening;const t=[];for(const n of(e=e||await this.latest()).keys()){var r=this._inputsByKey.get(n);if(!r)return[];t.push(this._getInputNode(r,e?e.get(n):r.length-1))}return Promise.all(t)}_loadClockNodes(e){return Promise.all([...e].map(([t,e])=>this._getInputNode(t,e,{loadBatchClock:!1}).then(e=>[t,e])))}_getLatestSparseClock(e){e=e||this.inputs,Array.isArray(e)||(e=[e]);const t=new Map;for(const n of e){var r=c.toString(n.key,"hex");if(!this._inputsByKey.has(r))throw new Error("Hypercore is not an input of the Autobase");0!==n.length&&t.set(r,n.length-1)}return t}async _getLatestNonSparseClock(e){var t,r,n,e=await this._loadClockNodes(e);const i=new Map;let o=!1;for([t,r]of e)0===r.batch[1]?i.set(t,r.seq):(o=!0,(n=r.seq-r.batch[0]-1)<0||i.set(t,n));const s=o?await this._loadClockNodes(i):e;for(;s.length;){var a,c,[u,h]=s[s.length-1];let e=!0,t=!0;for([a,c]of h.clock)if(!(i.has(a)&&c<=i.get(a))){e=!1;var l=h.seq-h.batch[0]-1;if(l<0){t=!1;break}s[s.length-1][1]=await this._getInputNode(u,l,{loadBatchClock:!1});break}e?(i.set(u,h.seq),s.pop()):t||(i.delete(u),s.pop())}return i}async latest(e){this.opened||await this._opening,await Promise.all(this.inputs.map(e=>e.update()));e=this._getLatestSparseClock(e);return this._sparse?e:this._getLatestNonSparseClock(e)}memberBatch(){return new n(this)}async addInput(e,t){const r=new n(this);return r.addInput(e,t),r.commit()}async removeInput(e,t){const r=new n(this);return r.removeInput(e,t),r.commit()}async addOutput(e,t){const r=new n(this);return r.addOutput(e,t),r.commit()}async removeOutput(e,t){const r=new n(this);return r.removeOutput(e,t),r.commit()}createCausalStream(e={}){const o=this;let s=null,a=null,c=null;return new p.Readable({open:function(t){o.heads(e.clock).then(e=>{s=e}).then(()=>t(null),e=>t(e))},read:function(t){let e=null,r=null,n=null;if(null!==a)e=s[a],r=a,n=c,0===e.batch[0]&&(a=null,c=null);else{var i=A(s);if(!i.forks.length)return this.push(null),t(null);e=i.forks[i.smallest],r=s.indexOf(e),n=i.clock}0===e.batch[1]&&0<e.batch[0]&&(a=r,c=n);if(this.push(new f({...e,change:e.key,clock:n,operations:u(n)})),0===e.seq)return s.splice(r,1),t(null);o._getInputNode(e.id,e.seq-1).then(e=>(s[r]=e,t(null)),e=>t(e))}})}createReadStream(s={}){const a=this,c=s.checkpoint||new Map,u=new Map,h=new Map,l=!1!==s.wait;let i=!1,o=!1;const f=new p.Readable({open:e=>async function(){a.opened||await a._opening;await async function(){for(var[e,t]of a._inputsByKey)await t.update(),s.live||h.set(e,t.length)}(),await d()}().then(e,e),read:e=>t().then(e,e)});return f.bump=()=>{o=!0,t().catch(e=>f.destroy(e))},f.checkpoint=c,this._readStreams.push(f),f.once("close",()=>{var e=this._readStreams.indexOf(f);-1!==e&&this._readStreams.splice(e,1)}),f;async function t(){if(!i){i=!0;try{for(;!p.Readable.isBackpressured(f);){for(await d();o;)o=!1,await d();var e=function(t){for(const r of t.values())if(r){let e=!0;for(const n of t.values())n&&n!==r&&n.lte(r)&&(e=!1);if(e)return r}return null}(u);if(!e)return s.live?void 0:void f.push(null);var t=function(e,t){for(const r of e.clock.keys())if(!t.has(r))return!0;return!1}(e,a._inputsByKey);if(t&&s.onresolve)if(!1!==await s.onresolve(e))continue;var r=c.get(e.id),n=(u.delete(e.id),c.set(e.id,r+1),s.map?s.map(e):e);f.push(n),s.onwait&&await s.onwait(n)}}finally{i=!1}}}async function d(){var e,t;const r=[];for(const i of(s.live||s.onresolve||s.onwait?a._inputsByKey:h).keys()){const o=a._inputsByKey.get(i);let e=c.get(i);void 0===e&&(e=!0===s.tail?o.length:0,c.set(i,e));var n=h.get(i);if(n){if(e>=n)continue}else if(e>=o.length&&l&&await o.update(),e>=o.length)continue;r.push(a._getInputNode(o,e,{wait:l}).then(e=>[i,e]))}for([e,t]of await Promise.all(r))u.set(e,t)}}async _createInputBatch(t,r,e){const n=[];var i=await this._compressClock(t,t.length,e);for(let e=0;e<r.length;e++){var o=1!==r.length?[e,r.length-1-e]:null;const s={value:c.isBuffer(r[e])?r[e]:c.from(r[e]),key:t.key,batch:o,clock:null,keys:null};0===e&&(s.keys=i.keys),e===r.length-1&&(s.clock=i.clock),n.push(s)}return 0===t.length&&(n[0].header={protocol:y}),n.map(e=>a.encode(d,e))}async _append(e,t,r){null===t||Array.isArray(t)||t instanceof Map||(r=t,t=null),Array.isArray(e)||(e=[e]),t=_(t||await this.latest()),r=r||this.localInput;var n=await this._getInputNode(r,r.length-1),i=c.toString(r.key,"hex");if(n&&n.clock)for(var[o,s]of n.clock)o===i||t.has(o)||t.set(o,s);n=await this._createInputBatch(r,e,t);return r.append(n)}async append(e,t,r){this.opened||await this._opening;const n=await this._lock();try{return await this._append(e,t,r)}finally{n()}}async _close(){if(!this.closed){for(const e of this.inputs)e.removeListener("append",this._onappend);await Promise.all([...this._inputs.map(e=>e.close()),...this.inputs.map(e=>e.close()),...this.outputs.map(e=>e.close())]),this.closed=!0}}close(){return this.closed?Promise.resolve():(this._closing||(this._closing=this._close(),this._closing.catch(h)),this._closing)}static async isAutobase(e){if(0===e.length)return!1;try{var t=await e.get(0,{valueEncoding:"binary"}),r=g(t),n=r&&r.protocol;return!!n&&(n===y||n===b)}catch{return!1}}}}.call(this)}.call(this,w("_process"))},{"./lib/batch":304,"./lib/clock":305,"./lib/compression":306,"./lib/linearize":307,"./lib/nodes":308,"./lib/nodes/messages":309,"./lib/output":310,_process:437,b4a:175,"compact-encoding":229,events:284,"mutexify/promise":392,"safety-catch":489,streamx:573}],304:[function(e,t,r){class n{constructor(e){this.autobase=e,this.batchId=e._batchId,this._ops=[]}addInput(e,t){this._ops.push({type:n.ADD_INPUT,core:e,opts:t})}addOutput(e,t){this._ops.push({type:n.ADD_OUTPUT,core:e,opts:t})}removeInput(e,t){this._ops.push({type:n.REMOVE_INPUT,core:e,opts:t})}removeOutput(e,t){this._ops.push({type:n.REMOVE_OUTPUT,core:e,opts:t})}async commit(){if(await this.autobase.ready(),await Promise.all(this._ops.map(({core:e})=>"function"==typeof e.ready?e.ready():Promise.resolve())),this.batchId!==this.autobase._batchId)throw new Error("Batch is out-of-date. Did you commit another batch in parallel?");this.autobase._batchId++;for(const e of this._ops)switch(e.type){case n.ADD_INPUT:this.autobase._addInput(e.core,e.opts);break;case n.ADD_OUTPUT:this.autobase._addOutput(e.core,e.opts);break;case n.REMOVE_INPUT:this.autobase._removeInput(e.core,e.opts);break;case n.REMOVE_OUTPUT:this.autobase._removeOutput(e.core,e.opts);break;default:throw new Error("Unsupported MemberBatch operation")}this.autobase._bumpReadStreams()}}n.ADD_INPUT=0,n.ADD_OUTPUT=1,n.REMOVE_INPUT=2,n.REMOVE_OUTPUT=3,t.exports=n},{}],305:[function(e,t,r){t.exports={lt:function(e,t){if(!e.size||!t.size||e===t)return!1;for(var[r,n]of e){if(!t.has(r))return!1;if(n>=t.get(r))return!1}return!0},lte:function(e,t){if(e.size!==t.size)return!1;for(var[r,n]of e){if(!t.has(r))return!1;if(n>t.get(r))return!1}return!0},gte:function(e,t){for(var[r,n]of e){if(!t.has(r))return!1;if(n<t.get(r))return!1}return!0},eq:function(e,t){if(e.size!==t.size)return!1;for(var[r,n]of e){if(!t.has(r))return!1;if(n!==t.get(r))return!1}return!0},length:function(e){let t=0;for(const r of e.values())t+=r+1;return t},greatestCommonAncestor:function(e,t){const r=new Map;for(var[n,i]of e)t.has(n)&&r.set(n,Math.min(i,t.get(n)));return r}}},{}],306:[function(e,t,r){const l=e("b4a"),{Node:c,decodeKeys:f}=e("./nodes/messages");t.exports=class{constructor(e){this.core=e,this.initialized=!1,this.byKey=new Map,this.bySeq=new Map}async decompress(e,t){const r=new Map;if(e){const u=new Set;for(var{key:n}of e)this.bySeq.has(n.seq)||u.add(n.seq);const h=[...u];var i,o,s=await Promise.all(h.map(e=>this.core.get(e)));for(let t=0;t<s.length;t++){var a=f(s[t]);this.bySeq.set(h[t],a);for(let e=0;e<a.length;e++)this.byKey.set(l.toString(a[e],"hex"),{seq:h[t],offset:e})}for({key:i,length:o}of e){var c=this.bySeq.get(i.seq)[i.offset];r.set(l.toString(c,"hex"),o)}this.initialized||(this.initialized=!0)}return r}async compress(e,t){const r=[],n=[];var i,o,s,a;!this.initialized&&0<this.core.length&&(i={start:0,end:(i=await this.core.get(this.core.length-1)).length,buffer:i},i=c.decode(i),await this.decompress(i.clock,this.core.length-1));for([o,s]of e){let e=this.byKey.get(o);e||(a=l.from(o,"hex"),r.push(a),e={seq:t,offset:r.length-1},this.byKey.set(o,e)),n.push({key:e,length:s})}return{keys:r,clock:n}}truncate(e){const t=[];for(const n of this.bySeq.keys())n<e||t.push(n);for(const i of t){var r=this.bySeq.get(i);this.bySeq.delete(i);for(const o of r)this.byKey.delete(l.toString(o,"hex"))}}async resolvePointer(t){let r=this.bySeq.get(t.seq);if(!r){var e=await this.core.get(t.seq);r=f(e),this.bySeq.set(t.seq,r);for(let e=0;e<r.length;e++)this.byKey.set(l.toString(r[e],"hex"),{seq:t.seq,offset:e})}return r[t.offset]}resolveKey(e){e=l.toString(e,"hex");return this.byKey.get(e)}}},{"./nodes/messages":309,b4a:175}],307:[function(e,t,r){var n=e("events")["EventEmitter"];const o=e("safety-catch"),i=e("debounceify"),s=e("b4a"),a=e("./nodes")["OutputNode"],c=e("./clock")["eq"],u=Symbol.for("hypercore.promises");e("b4a");class h{constructor(e,t,r,n){this.autobase=e,this.nodes=t,this.length=r,this.truncated=0,this.head=null,this.opened=!1,this._ite=this.autobase.createCausalStream({clock:n})[Symbol.asyncIterator]()}get operations(){return this.head?this.head.operations:0}async open(){var e;this.nodes.length?this.head=this.nodes[this.nodes.length-1]:(e=await this._ite.next(),this.head=e.value),this.opened=!0}async pop(){var e;return this.truncated+1<this.nodes.length?this.head=this.nodes[this.nodes.length-this.truncated]:(e=await this._ite.next(),this.head=e.value),!this.head||(this.truncated++,this.length--,this.head&&0===this.head.batch[0])?null:this.pop()}async update(e){if(this.opened||await this.open(),this.head&&c(this.head.clock,e.clock))return{length:this.length,operations:this.head.operations};for(;this.head&&!c(this.head.clock,e.clock)&&this.head.contains(e);)await this.pop();return this.head&&c(this.head.clock,e.clock)?{length:this.length,operations:this.head.operations}:null}slice(){return this.truncated?this.nodes.slice(0,this.nodes.length-this.truncated):this.nodes}}class l{constructor(e,t={}){this.cores=e,this.heads=t.heads||new Map,this.invalid=!1,this.snapshots=null,this.snapshot=null,this.length=0,this.operations=0,this._parent=t.parent,this._opened=!1,this._opening=this._open().catch(o)}async _open(){if(this._parent&&!this._opened)this._parent._opened||await this._parent._opening,this._cloneFrom(this._parent);else{await Promise.all(this.cores.map(e=>e.update())),this.snapshots=this.cores.map(e=>e.snapshot());const i=[];var t=await Promise.allSettled(this.snapshots.map(e=>0<e.length?e.get(e.length-1):Promise.resolve(null)));for(let e=0;e<t.length;e++){var{status:r,value:n}=t[e];"rejected"!==r&&n?this.heads.set(s.toString(this.snapshots[e].key,"hex"),n):i.push(this.snapshots[e])}for(const e of i)await this._closeSnapshot(e)}this._opened=!0}async _findIntersection(e,t,r){let n=r-1,i=await e.get(n);var o=r-i.operations;if(0<o)for(;n<e.length&&r>i.operations&&!((n+=i.batch[1]+1)>=e.length);)i=await e.get(n);else if(o<0)for(;0<=n&&r<i.operations&&!((n-=i.batch[0]+1)<0);)i=await e.get(n);return!i||i.operations!==r||!c(i.clock,t)||0<i.batch[1]&&n+i.batch[1]>=e.length?null:(0<i.batch[1]&&(n+=i.batch[1],i=await e.get(n)),{operations:i.operations,length:n+1})}async _intersectSnapshot(e,t){var r=this.heads.get(s.toString(e.key,"hex"));return!r||r.operations<t.operations?null:r.operations===t.operations?c(r.clock,t.clock)?{operations:r.operations,length:e.length}:null:this._findIntersection(e,t.clock,t.operations)}async _closeSnapshot(e){var t=this.snapshots.indexOf(e);-1!==t&&(await e.close(),this.snapshots.splice(t,1),this.snapshots.length||(this.invalid=!0))}async update(t){this._opened||await this._open();var r=await Promise.allSettled(this.snapshots.map(e=>this._intersectSnapshot(e,t)));for(let e=0;e<r.length;e++){var{status:n,value:i}=r[e],o=this.snapshots[e];if("rejected"===n)await this._closeSnapshot(o);else if(i)return this.length=i.length,this.operations=i.operations,this.snapshot=o,i}return null}async intersect(t){this._opened||await this._open();var r=await Promise.allSettled(this.snapshots.map(e=>this._intersectSnapshot(e,t)));for(let e=0;e<r.length;e++){var{status:n,value:i}=r[e];if("rejected"!==n&&i)return i}return null}async get(t,r){if(!this.snapshot||t<0||t>=this.length)return null;try{return await this.snapshot.get(t,r)}catch(e){if("FORK_NOT_AVAILABLE"===e.code)return await this._closeSnapshot(this.snapshot),this.get(t,r);throw e}}_cloneFrom(e){this.length=e.length,this.operations=e.operations,this.invalid=e.invalid,this.snapshot=e.snapshot&&e.snapshot.snapshot(),this.snapshots=e.snapshots&&e.snapshots.map(e=>e.snapshot()),this.heads=new Map([...e.heads])}clone(){return new l(this.cores,{parent:this})}async close(){await this._opening,this.snapshots&&await Promise.all(this.snapshots.map(e=>e.close()))}}class f{constructor(e,t,r,n,i,o,s={}){this.autobase=e,this.clock=t,this.lastOutputs=r,this.latestOutputs=n,this.localOutput=o,this.applied=i,this.executed=!!s.executed,this._executing=null,this._applying=null}async _findRemoteAncestors(){const r=[];let n=null,i=null;for await(const s of this.autobase.createCausalStream({clock:this.clock})){let e=null,t=null;n||(e=this.applied.update(s)),i||(t=this.latestOutputs.update(s));var o=await Promise.all([e,t]);if(e&&(n=o[0]),(i=t?o[1]:i)||n)break;r.push(s)}if(i&&!n)for(this.applied.opened||await this.applied.open();this.applied.head&&!(n=await this.latestOutputs.intersect(this.applied.head));)await this.applied.pop();if(n&&!i){const e=this.latestOutputs;this.latestOutputs=this.lastOutputs,i={length:this.latestOutputs.length,operations:this.latestOutputs.operations},await e.close()}else if(this.lastOutputs){const t=this.lastOutputs;this.lastOutputs=null,await t.close()}return n=n||{length:0,intersection:0},i=i||{length:0,intersection:0},{pending:r,p1:n,p2:i}}async _findLocalAncestors(){const e=[];let t=null;for await(const r of this.autobase.createCausalStream({clock:this.clock})){if(t=await this.latestOutputs.update(r))break;e.push(r)}if(t=t||{length:0,intersection:0},this.lastOutputs){const n=this.lastOutputs;this.lastOutputs=null,await n.close()}return{pending:e,p2:t}}async _executeRemote(){var e=this.applied.length,{pending:t,p1:r,p2:n}=await this._findRemoteAncestors(),i=this.applied&&r.length>n.length?this.applied.slice():[],o=this.latestOutputs.length+i.length;return{pending:t,nodes:i,length:o,appended:o-Math.max(r.length,n.length),truncated:e-r.length,p1:r,p2:n}}async _executeLocal(){var e=this.localOutput.length,{pending:t,p2:r}=await this._findLocalAncestors();return{length:r.length,truncated:e-r.length,appended:0,nodes:[],pending:t,p1:r,p2:r}}_execute(){return this.applied?this._executeRemote():this._executeLocal()}execute(){return this._executing||(this._executing=this._execute(),this._executing.catch(o)),this._executing}clone(){var e=this.latestOutputs&&this.latestOutputs.clone(),t=this.lastOutputs?this.lastOutputs.clone():e;return new f(this.autobase,this.clock,t,e,this.applied,this.localOutput,{executed:this.executed})}async close(){this.lastOutputs&&await this.lastOutputs.close(),await this.latestOutputs.close()}}class d extends n{constructor(e,t={}){super(),this[u]=!0,this.byteLength=0,this.writable=!0,this.opts=t,this.opened=!1,this.closed=!1,this._opening=null,this._closing=null,this._core=e,this._activeRequests=[],this._checkout=t.checkout||null,this._clock=t.clock||null,this._unwrap=!0===t.unwrap,this._pinned=!0===t.pin,this._snapshotted=!0===t.snapshot,this._sessionIdx=-1,this._debugStack=(new Error).stack,this._snapshot=null,this._snapshotIdx=-1,this._snapshotSessions=[],this.ready=()=>this.open()}async _open(){this.opened=!0}async _close(){this.opened||await this.ready();for(const e of this._activeRequests)e.cancel();if(this._activeRequests=[],-1===this._snapshotIdx)return this._core.closeSession(this);{const t=this._snapshot._snapshotSessions.pop();void(t!==this&&((this._snapshot._snapshotSessions[this._snapshotIdx]=t)._snapshotIdx=this._snapshotIdx))}}open(){return this._opening||(this._opening=this._open(),this._opening.catch(o)),this._opening}close(){return this._closing||(this._closing=this._close(),this._closing.catch(o)),this._closing}get view(){return this._core.view}get status(){return this._core.status}unwrap(){return this.session({unwrap:!0})}wrap(){return this.session({unwrap:!1})}get length(){return this._core.length}snapshot(e){return this.session({...e,snapshot:!0})}checkout(e){return this.session({checkout:e})}session(e){if(this._snapshotted){const t=new d(this._core,e);return t._snapshotIdx=this._snapshotSessions.push(t)-1,t._snapshot=this,t}return this._core.session({...this.opts,...e})}update(){return this._core.updateSession(this)}async append(e){return this._core.append(e)}async get(e,t={}){let r=await this._core.get(e,{...t,active:this._activeRequests});return r?(this._unwrap&&(r=r.value),t.valueEncoding?t.valueEncoding.decode(r):r):null}}function p(e,t,r,n){return e.append(t.map(e=>e.value))}function g(e,t,r){const n=e._sessions.pop();if(n!==r&&((e._sessions[r._sessionIdx]=n)._sessionIdx=r._sessionIdx),r._sessionIdx=t._sessions.push(r)-1,r._core=t,r._snapshotSessions.length)for(const i of r._snapshotSessions)i._core=t}t.exports=class y{constructor(e,t={}){this.autobase=e,this.root=t.root||this,this.nodes=t.nodes||[],this.header=t.header,this.applyFunction=t.apply||p,this.viewFunction=t.view,this.view=null,this.clock=null,this.lastUpdate=t.lastUpdate,this.status=t.status||{appended:0,truncated:0},this.length=t.length||0,this._writable=!1!==t.writable,this._applying=null,this._sessions=[],this.update=i(this._update.bind(this))}get isRoot(){return this.root===this}async _applyPending(e){let t=[];for(;e.length;){var r=e.pop();if(t.push(r),!(0<r.batch[1])){this._applying=r,this.view||(n=this.session({pin:!0}),this.view=this.viewFunction?this.viewFunction(n):n);var n=await this.autobase._getInputNode(r.change,r.seq),i={local:n.clock,global:this._applying.clock},o=this.nodes.length;try{await this.applyFunction(this.view,t,i,r.change)}catch(e){for(;this.nodes.length>o;)this.nodes.pop();throw e}if(this.nodes.length===o)throw new Error("For now, every apply call must append at least one value");for(let e=o;e<this.nodes.length;e++){const s=this.nodes[e];s.batch[0]=e-o,s.batch[1]=this.nodes.length-e-1}this._applying=null,t=[]}}if(t.length)throw new Error("Cannot rebase a partial batch")}async _rebuild(e){this.autobase.opened||await this.autobase.ready();var t=this.lastUpdate?this.lastUpdate.latestOutputs:null,r=this.autobase.localOutput;let n=null;r&&this._writable||(n=this.lastUpdate?new h(this.autobase,this.nodes,this.length,this.lastUpdate.clock):new h(this.autobase,[],0,new Map));var i=new l(r?[r]:this.autobase.outputs);this.lastUpdate=new f(this.autobase,e,t,i,n,r);try{return this.status=await this.lastUpdate.execute(),await this._commitUpdate(r),0<this.appended}catch(e){return o(e),!1}}async _commitUpdate(e){this.length=this.status.length,this.nodes=this.status.nodes;try{await this._applyPending(this.status.pending)}catch(e){throw o(e),e}finally{this.nodes.length&&(this.clock=this.nodes[this.nodes.length-1].clock)}this._writable&&e&&(this.status.truncated&&await e.truncate(e.length-this.status.truncated),0===e.length&&this.nodes.length&&(this.nodes[0].header=this.header),await e.append(this.nodes));for(const t of this._sessions)this.status.truncated&&t.emit("truncate",this.lastUpdate.length-this.status.truncated),this.status.appended&&t.emit("append")}async _update(){var e=await this.autobase.latest();if(this.autobase.localOutput&&this.lastUpdate&&c(e,this.lastUpdate.clock))this.status={appended:0,truncated:0};else{if(this.isRoot)for(const t of this._sessions.filter(e=>e._snapshotted))g(this,this.clone(),t);await this._rebuild(e)}}async updateSession(e){if(0<this.autobase._loadingInputsCount&&await this.autobase._waitForInputs(),!e._snapshotted)return this.update();await this.root.update(),e._core!==this.root&&(g(e._core,this.root,e),this.root.status.truncated&&e.emit("truncate",this.root.lastUpdate.length-this.root.status.truncated),this.root.status.appended&&e.emit("append"),this._sessions.length||await this._close())}_get(e,t){if(e<0||e>this.length-1)return null;const r=this.lastUpdate&&this.lastUpdate.latestOutputs;return r?e>=r.length?this.nodes[e-r.length]:r.get(e,t):null}async get(e,t={}){this.lastUpdate||await this.ready();let r=32;for(var n;0<r--;){if(n=await this._get(e,t))return n;await this._rebuild(this.lastUpdate.clock)}throw new Error("Linearization could not be rebuilt after 32 attempts")}append(e){if(!this._applying)throw new Error("Can only append to a LinearizedCore inside of an apply function");const t=[];for(const n of e=Array.isArray(e)?e:[e]){var r=new a({value:n,batch:[0,0],clock:this._applying.clock,change:this._applying.change,operations:this._applying.operations});t.push(r)}this.length+=t.length,this.status.appended+=t.length,this.nodes.push(...t)}_close(){if(this.lastUpdate)return this.lastUpdate.close()}closeSession(e){const t=this._sessions.pop();if(t!==e&&((this._sessions[e._sessionIdx]=t)._sessionIdx=e._sessionIdx),!this._sessions.length)return this._close()}session(e={}){const t=new d(this,e);return t._sessionIdx=this._sessions.push(t)-1,t}clone(e){return new y(this.autobase,{...e,root:this.root,nodes:[...this.nodes],lastUpdate:this.lastUpdate&&this.lastUpdate.clone(),header:this.header,apply:this.applyFunction,view:this.viewFunction,status:this.status,length:this.length})}}},{"./clock":305,"./nodes":308,b4a:175,debounceify:240,events:284,"safety-catch":489}],308:[function(e,t,r){const s=e("b4a"),{lt:n,lte:i,gte:o,eq:a}=e("../clock");t.exports={InputNode:class{constructor({header:e,key:t,seq:r,value:n,clock:i,batch:o}){this.header=e,this.key=t&&!s.isBuffer(t)?s.from(t,"hex"):t,this.value=n&&!s.isBuffer(n)?s.from(n):n,this.batch=o||[0,0],this.clock=i,this.seq=r,this._id=null}get id(){return this._id||(this._id=this.key&&s.toString(this.key,"hex")),this._id}lt(e){return!!e.clock.has(this.id)&&this.seq<e.clock.get(this.id)}lte(e){return!!e.clock.has(this.id)&&this.seq<=e.clock.get(this.id)}contains(e){return!!this.clock.has(e.id)&&this.clock.get(e.id)>=e.seq}},OutputNode:class{constructor({header:e,change:t,clock:r,value:n,batch:i,operations:o}){this.header=e,this.id=s.toString(t,"hex"),this.seq=r.get(this.id),this.change=t,this.clock=r,this.value=n,this.batch=i,this.operations=o}lt(e){return n(this.clock,e.clock)}lte(e){return i(this.clock,e.clock)}gte(e){return o(this.clock,e.clock)}eq(e){return a(this.clock,e.clock)}contains(e){return!!this.clock.has(e.id)&&this.clock.get(e.id)>=e.seq}}}},{"../clock":305,b4a:175}],309:[function(e,t,r){const i=e("compact-encoding"),o={preencode(e,t){e.end++,t&&i.string.preencode(e,t.protocol)},encode(e,t){t?(i.uint.encode(e,1),i.string.encode(e,t.protocol)):i.uint.encode(e,0)},decode(e){return i.uint.decode(e)?{protocol:i.string.decode(e)}:null}},s=i.array(i.fixed(33)),a={preencode(e,t){i.uint.preencode(e,t.seq),i.uint.preencode(e,t.offset)},encode(e,t){i.uint.encode(e,t.seq),i.uint.encode(e,t.offset)},decode(e){return{seq:i.uint.decode(e),offset:i.uint.decode(e)}}};const c=i.array({preencode(e,t){a.preencode(e,t.key),i.uint.preencode(e,t.length)},encode(e,t){a.encode(e,t.key),i.uint.encode(e,t.length)},decode(e){return{key:a.decode(e),length:i.uint.decode(e)}}}),u={preencode(e,t){i.uint.preencode(e,t[0]),i.uint.preencode(e,t[1])},encode(e,t){i.uint.encode(e,t[0]),i.uint.encode(e,t[1])},decode(e){return[i.uint.decode(e),i.uint.decode(e)]}};t.exports={Header:o,Node:{preencode(e,t){e.end++,t.keys&&s.preencode(e,t.keys),t.header&&o.preencode(e,t.header),t.change&&a.preencode(e,t.change),t.batch&&u.preencode(e,t.batch),t.clock&&c.preencode(e,t.clock),t.operations&&i.uint.preencode(e,t.operations),i.buffer.preencode(e,t.value)},encode(e,t){var r=e.start++;let n=0;t.keys&&0<t.keys.length&&(n|=1,s.encode(e,t.keys)),t.header&&(n|=2,o.encode(e,t.header)),t.change&&(n|=4,a.encode(e,t.change)),t.batch&&(n|=8,u.encode(e,t.batch)),t.clock&&(n|=16,c.encode(e,t.clock)),t.operations&&(n|=32,i.uint.encode(e,t.operations)),i.buffer.encode(e,t.value),e.buffer[r]=n},decode(e){var t=i.uint.decode(e);return{keys:0!=(1&t)?s.decode(e):null,header:0!=(2&t)?o.decode(e):null,change:0!=(4&t)?a.decode(e):null,batch:0!=(8&t)?u.decode(e):null,clock:0!=(16&t)?c.decode(e):null,operations:0!=(32&t)?i.uint.decode(e):null,value:i.buffer.decode(e)}}},decodeHeader:function(e){const t={start:0,end:e.length,buffer:e};return 0==(2&(e=i.uint.decode(t)))?null:(0!=(1&e)&&(e=i.uint.decode(t),t.start+=33*e),o.decode(t))},decodeKeys:function(e){return e={start:0,end:e.length,buffer:e},0!=(1&i.uint.decode(e))?s.decode(e):null}}},{"compact-encoding":229}],310:[function(e,t,r){const s=e("compact-encoding"),n=e("./compression"),i=e("./nodes")["OutputNode"],a=e("./nodes/messages")["Node"];t.exports=class o{constructor(e,t={}){this.core=e,this.compressor=t.compressor||new n(this.core)}get key(){return this.core.key}get length(){return this.core.length}get fork(){return this.core.fork}update(){return this.core.update()}truncate(e){return this.compressor.truncate(e),this.core.truncate(e)}close(){return this.core.close()}snapshot(){return new o(this.core.snapshot(),{compressor:this.compressor})}async get(e,t=0){var r=await this.core.get(e);if(!r)return null;r={start:0,end:r.length,buffer:r};const n=a.decode(r);var[r,e]=await Promise.all([this.compressor.decompress(n.clock,e),this.compressor.resolvePointer(n.change)]);return n.clock=r,n.change=e,new i(n)}async append(t){const r=[];for(let e=0;e<t.length;e++){const o={...t[e]};var{keys:n,clock:i}=await this.compressor.compress(o.clock,this.core.length+e),n=(o.keys=n,o.clock=i,this.compressor.resolveKey(o.change));n?o.change=n:(o.keys.push(o.change),o.change={seq:this.core.length+e,offset:o.keys.length}),r.push(s.encode(a,o))}return this.core.append(r)}}},{"./compression":306,"./nodes":308,"./nodes/messages":309,"compact-encoding":229}],311:[function(e,t,r){const i=e("big-sparse-array"),c=e("b4a"),n=e("bits-to-bytes");class s{constructor(e,t){this.dirty=!1,this.index=e,this.bitfield=t}get(e){return n.get(this.bitfield,e)}set(e,t){return n.set(this.bitfield,e,t)}setRange(e,t,r){return n.fill(this.bitfield,r,e,e+t),!0}firstSet(e){return n.indexOf(this.bitfield,!0,e)}lastSet(e){return n.lastIndexOf(this.bitfield,!0,e)}}function o(e,t){if(e.byteLength===t)return e;const r=new Uint32Array(1024);return r.set(e,0),r}t.exports=class a{constructor(e,t){this.pageSize=32768,this.pages=new i,this.unflushed=[],this.storage=e,this.resumed=!!(t&&4<=t.byteLength);const r=this.resumed?new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)):new Uint32Array(1024);for(let e=0;e<r.length;e+=1024){var n=o(r.subarray(e,e+1024),1024),n=new s(e/1024,n);this.pages.set(n.index,n)}}get(e){var t=e&this.pageSize-1,e=(e-t)/this.pageSize;const r=this.pages.get(e);return!!r&&r.get(t)}set(e,t){var r=e&this.pageSize-1,e=(e-r)/this.pageSize;let n=this.pages.get(e);(n=!n&&t?this.pages.set(e,new s(e,new Uint32Array(1024))):n)&&n.set(r,t)&&!n.dirty&&(n.dirty=!0,this.unflushed.push(n))}setRange(e,t,r){let n=e&this.pageSize-1,i=(e-n)/this.pageSize;for(;0<t;){let e=this.pages.get(i);!e&&r&&(e=this.pages.set(i,new s(i,new Uint32Array(1024))));var o=Math.min(n+t,this.pageSize)-n;e&&e.setRange(n,o,r)&&!e.dirty&&(e.dirty=!0,this.unflushed.push(e)),n=0,i++,t-=o}}firstSet(e){let t=e&this.pageSize-1,r=(e-t)/this.pageSize;for(;r<this.pages.factor;){const i=this.pages.get(r);if(i){var n=i.firstSet(t);if(-1!==n)return r*this.pageSize+n}t=0,r++}return-1}lastSet(e){let t=e&this.pageSize-1,r=(e-t)/this.pageSize;for(;0<=r;){const i=this.pages.get(r);if(i){var n=i.lastSet(t);if(-1!==n)return r*this.pageSize+n}t=this.pageSize-1,r--}return-1}clear(){return new Promise((t,r)=>{this.storage.del(0,1/0,e=>{if(e)return r(e);this.pages=new i,this.unflushed=[],t()})})}close(){return new Promise((t,r)=>{this.storage.close(e=>{e?r(e):t()})})}flush(){return new Promise((t,r)=>{if(!this.unflushed.length)return t();const n=this;let i=this.unflushed.length,o=null;for(const a of this.unflushed){var e=c.from(a.bitfield.buffer,a.bitfield.byteOffset,a.bitfield.byteLength);a.dirty=!1,this.storage.write(4096*a.index,e,s)}function s(e){if(e&&(o=e),!--i){if(o)return r(o);n.unflushed=[],t()}}})}static open(i){return new Promise((r,n)=>{i.stat((e,t)=>{return!e&&(e=t.size-(3&t.size))?void i.read(0,e,(e,t)=>{if(e)return n(e);r(new a(i,t))}):r(new a(i,null))})})}}},{b4a:175,"big-sparse-array":183,"bits-to-bytes":184}],312:[function(e,t,r){const i=e("sodium-javascript"),o=e("compact-encoding"),n=e("b4a"),s=e("./common")["convert0xToHKey"],a=n.alloc(i.crypto_stream_NONCEBYTES);t.exports=class{constructor(e,t){t=s(t);const r=n.alloc(2*i.crypto_stream_KEYBYTES);this.key=e,this.blockKey=r.subarray(0,i.crypto_stream_KEYBYTES),this.blindingKey=r.subarray(i.crypto_stream_KEYBYTES),this.padding=8,i.crypto_generichash(this.blockKey,e,t),i.crypto_generichash(this.blindingKey,this.blockKey)}encrypt(e,t,r){var n=t.subarray(0,this.padding);t=t.subarray(this.padding),o.uint64.encode({start:0,end:8,buffer:n},r),o.uint64.encode({start:0,end:8,buffer:a},e),a.fill(0,8,8+n.byteLength),i.crypto_stream_xor(n,n,a,this.blindingKey),a.set(n,8),i.crypto_stream_xor(t,t,a,this.blockKey)}decrypt(e,t){var r=t.subarray(0,this.padding);t=t.subarray(this.padding),o.uint64.encode({start:0,end:8,buffer:a},e),a.set(r,8),i.crypto_stream_xor(t,t,a,this.blockKey)}}},{"./common":315,b4a:175,"compact-encoding":229,"sodium-javascript":561}],313:[function(e,t,r){const n=e("b4a");t.exports=class{constructor(e,t){this.storage=e,this.tree=t}async get(e){var[e,t]=await this.tree.byteRange(2*e);return this._read(e,t)}async put(e,t,r){return this._write(r,t)}putBatch(e,t,r){return 0===t.length?Promise.resolve():this.put(e,1===t.length?t[0]:n.concat(t),r)}clear(e=0,n=1/0){return new Promise((t,r)=>{this.storage.del(e,n,e=>{e?r(e):t()})})}close(){return new Promise((t,r)=>{this.storage.close(e=>{e?r(e):t()})})}_read(e,t){return new Promise((r,n)=>{this.storage.read(e,t,(e,t)=>{e?n(e):r(t)})})}_write(e,n){return new Promise((t,r)=>{this.storage.write(e,n,e=>{e?r(e):t()})})}}},{b4a:175}],314:[function(e,t,r){const n=e("hypercore-crypto"),i=e("sodium-javascript"),o=e("b4a"),s=e("compact-encoding"),[a,c,u]=n.namespace("hypercore",3);r.replicate=function(e,t,r){var n=o.allocUnsafe(32);return i.crypto_generichash_batch(n,[e?c:u,t],r),n},r.treeSignable=function(e,t,r){var n={start:0,end:80,buffer:o.allocUnsafe(80)};return s.raw.encode(n,a),s.raw.encode(n,e),s.uint64.encode(n,t),s.uint64.encode(n,r),n.buffer},r.treeSignableLegacy=function(e,t,r){var n={start:0,end:48,buffer:o.allocUnsafe(48)};return s.raw.encode(n,e),s.uint64.encode(n,t),s.uint64.encode(n,r),n.buffer}},{b4a:175,"compact-encoding":229,"hypercore-crypto":295,"sodium-javascript":561}],315:[function(e,t,r){const n=e("ethers")["ethers"],i=e("b4a");r.convert0xToHKey=function(e){return i.from(n.utils.sha256(e).replace(/^0x/,""),"hex")}},{b4a:175,ethers:280}],316:[function(e,t,r){const m=e("hypercore-crypto"),v=e("b4a"),A=e("./oplog"),u=e("./mutex"),_=e("./merkle-tree"),w=e("./block-store"),E=e("./bitfield"),{BAD_ARGUMENT:i,STORAGE_EMPTY:S,STORAGE_CONFLICT:k,INVALID_SIGNATURE:s}=e("./errors"),I=e("./messages");function C(e,t,r){var n=t.start+t.length;let i=e.contiguousLength;if(t.drop)i<=n&&i>t.start&&(i=t.start);else if(i<=n&&i>=t.start)for(i=n;r.get(i);)i++;return i===e.contiguousLength?0:i>e.contiguousLength?(e.contiguousLength=i,4):(e.contiguousLength=i,8)}function B(e,t,r){if(0!==t.length&&t.fork!==r.fork){for(;4<=e.length;)e.shift();for(;0<e.length&&e[e.length-1].ancestors>r.ancestors;)e.pop();e.push({from:t.fork,to:r.fork,ancestors:r.ancestors})}}function x(t,r,n){for(let e=0;e<t.length;e++)if(t[e].key===r)return void(n?t[e].value=n:t.splice(e,1));n&&t.push({key:r,value:n})}function T(){}t.exports=class{constructor(e,t,r,n,i,o,s,a,c){this.onupdate=c,this.header=e,this.crypto=t,this.oplog=r,this.tree=n,this.blocks=i,this.bitfield=o,this.defaultAuth=s,this.truncating=0,this._maxOplogSize=65536,this._autoFlush=1,this._verifies=null,this._verifiesFlushed=null,this._mutex=new u,this._legacy=a}static async open(e,t={}){const o=e("oplog"),s=e("tree"),a=e("bitfield"),c=e("data");try{return await this.resume(o,s,a,c,t)}catch(i){return new Promise((e,t)=>{let r=4;function n(){0==--r&&t(i)}o.close(n),s.close(n),a.close(n),c.close(n)})}}static createAuth(r,{publicKey:n,secretKey:t},e={}){if(t&&!r.validateKeyPair({publicKey:n,secretKey:t}))throw i("Invalid key pair");return{sign:e.sign||(t?e=>r.sign(e,t):void 0),verify(e,t){return r.verify(e,t,n)}}}static async resume(e,t,r,n,i){let o=!0===i.overwrite;var s=!0===i.force,a=!1!==i.createIfMissing;const c=i.crypto||m,u=new A(e,{headerEncoding:I.oplog.header,entryEncoding:I.oplog.entry});let{header:h,entries:l}=await u.open();if(s&&i.keyPair&&h&&h.signer&&!v.equals(h.signer.publicKey,i.keyPair.publicKey)&&(o=!0),!h||o){if(!a)throw S("No Hypercore is stored here");h={types:{tree:"blake2b",bitfield:"raw",signer:"secp256k1"},userData:[],tree:{fork:0,length:0,rootHash:null,signature:null},signer:i.keyPair||c.keyPair(),hints:{reorgs:[]},contiguousLength:0},await u.flush(h)}if(i.keyPair&&!v.equals(h.signer.publicKey,i.keyPair.publicKey))throw k("Another Hypercore is stored here");const f=await _.open(t,{crypto:c,...h.tree}),d=await E.open(r),p=new w(n,f);if(o?(await f.clear(),await p.clear(),await d.clear(),l=[]):d.resumed&&0===h.tree.length&&await d.clear(),0===h.contiguousLength)for(;d.get(h.contiguousLength);)h.contiguousLength++;e=i.auth||this.createAuth(c,h.signer);for(const g of l){if(g.userData&&x(h.userData,g.userData.key,g.userData.value),g.treeNodes)for(const y of g.treeNodes)f.addNode(y);if(g.bitfield&&(d.setRange(g.bitfield.start,g.bitfield.length,!g.bitfield.drop),C(h,g.bitfield,d)),g.treeUpgrade){const b=await f.truncate(g.treeUpgrade.length,g.treeUpgrade.fork);b.ancestors=g.treeUpgrade.ancestors,b.signature=g.treeUpgrade.signature,B(h.hints.reorgs,f,b),b.commit(),h.tree.length=f.length,h.tree.fork=f.fork,h.tree.rootHash=f.hash(),h.tree.signature=f.signature}}return new this(h,c,u,f,p,d,e,!!i.legacy,i.onupdate||T)}_shouldFlush(){return(--this._autoFlush<=0||this.oplog.byteLength>=this._maxOplogSize)&&(this._autoFlush=4,!0)}async _flushOplog(){await this.bitfield.flush(),await this.tree.flush(),await this.oplog.flush(this.header)}_appendBlocks(e){return this.blocks.putBatch(this.tree.length,e,this.tree.byteLength)}async _writeBlock(e,t,r){e=await e.byteOffset(2*t);await this.blocks.put(t,r,e)}async userData(t,r){await this._mutex.lock();try{let e=!0;for(const i of this.header.userData)if(i.key===t){if(r&&v.equals(i.value,r))return;e=!1;break}var n;e&&!r||(n={userData:{key:t,value:r},treeNodes:null,treeUpgrade:null,bitfield:null},await this.oplog.append([n],!1),x(this.header.userData,t,r),this._shouldFlush()&&await this._flushOplog())}finally{this._mutex.unlock()}}async truncate(e,t,r=this.defaultAuth){this.truncating++,await this._mutex.lock();try{const n=await this.tree.truncate(e,t);n.signature=await r.sign(n.signable()),await this._truncate(n,null)}finally{this.truncating--,this._mutex.unlock()}}async clear(e,t){await this._mutex.lock();var r={userData:null,treeNodes:null,treeUpgrade:null,bitfield:{start:e,length:t-e,drop:!0}};await this.oplog.append([r],!1),this.bitfield.setRange(e,t-e,!1),e<this.header.contiguousLength&&(this.header.contiguousLength=e),e=this.bitfield.lastSet(e)+1,-1===(t=this.bitfield.firstSet(t))&&(t=this.tree.length);try{var n=await this.tree.byteOffset(2*e),[i,o]=await this.tree.byteRange(2*(t-1)),s=i+o-n;await this.blocks.clear(n,s),this.onupdate(0,r.bitfield,null,null),this._shouldFlush()&&await this._flushOplog()}finally{this._mutex.unlock()}}async append(e,t=this.defaultAuth,r={}){await this._mutex.lock();try{if(r.preappend&&await r.preappend(e),!e.length)return this.tree.length;const s=this.tree.batch();for(const a of e)s.append(a);var n=s.hash(),i=(s.signature=await t.sign(this._legacy?s.signableLegacy(n):s.signable(n)),{userData:null,treeNodes:s.nodes,treeUpgrade:s,bitfield:{drop:!1,start:s.ancestors,length:e.length}}),o=(await this._appendBlocks(e),await this.oplog.append([i],!1),this.bitfield.setRange(s.ancestors,s.length-s.ancestors,!0),s.commit(),this.header.tree.length=s.length,this.header.tree.rootHash=n,this.header.tree.signature=s.signature,1|C(this.header,i.bitfield,this.bitfield));return this.onupdate(o,i.bitfield,null,null),this._shouldFlush()&&await this._flushOplog(),s.ancestors}finally{this._mutex.unlock()}}_signed(e,t,r=this.defaultAuth){t=this._legacy?e.signableLegacy(t):e.signable(t);return r.verify(t,e.signature)}async _verifyExclusive({batch:t,bitfield:r,value:n,from:i}){var e=t.hash();if(!t.signature||!this._signed(t,e))throw s("Proof contains an invalid signature");await this._mutex.lock();try{if(!t.commitable())return!1;var o={userData:null,treeNodes:t.nodes,treeUpgrade:t,bitfield:r};r&&await this._writeBlock(t,r.start,n),await this.oplog.append([o],!1);let e=1;r&&(this.bitfield.set(r.start,!0),e|=C(this.header,r,this.bitfield)),t.commit(),this.header.tree.fork=t.fork,this.header.tree.length=t.length,this.header.tree.rootHash=t.rootHash,this.header.tree.signature=t.signature,this.onupdate(e,r,n,i),this._shouldFlush()&&await this._flushOplog()}finally{this._mutex.unlock()}return!0}async _verifyShared(){if(!this._verifies.length)return!1;await this._mutex.lock();const t=this._verifies;this._verifies=null,this._verified=null;try{const i=[];for(var{batch:e,bitfield:r,value:n}of t)e.commitable()&&(r&&await this._writeBlock(e,r.start,n),i.push({userData:null,treeNodes:e.nodes,treeUpgrade:null,bitfield:r}));await this.oplog.append(i,!1);for(let e=0;e<t.length;e++){const{batch:o,bitfield:s,value:a,from:c}=t[e];if(o.commitable()){let e=0;s&&(this.bitfield.set(s.start,!0),e=C(this.header,s,this.bitfield)),o.commit(),this.onupdate(e,s,a,c)}else t[e]=null}this._shouldFlush()&&await this._flushOplog()}finally{this._mutex.unlock()}return null!==t[0]}async verify(e,t){if(e.fork!==this.tree.fork)return!1;const r=await this.tree.verify(e);if(!r.commitable())return!1;var n=e.block&&e.block.value||null,e={batch:r,bitfield:n&&{drop:!1,start:e.block.index,length:1},value:n,from:t};if(r.upgraded)return this._verifyExclusive(e);if(null===this._verifies)return this._verifies=[e],this._verified=this._verifyShared(),this._verified;{const i=this._verifies;n=i.push(e);return await this._verified,null!==i[n]}}async reorg(e,t){if(!e.commitable())return!1;this.truncating++,await this._mutex.lock();try{if(!e.commitable())return!1;await this._truncate(e,t)}finally{this.truncating--,this._mutex.unlock()}return!0}async _truncate(e,t){var r={userData:null,treeNodes:e.nodes,treeUpgrade:e,bitfield:{drop:!0,start:e.ancestors,length:this.tree.length-e.ancestors}},n=(await this.oplog.append([r],!1),this.bitfield.setRange(e.ancestors,this.tree.length-e.ancestors,!1),B(this.header.hints.reorgs,this.tree,e),e.commit(),C(this.header,r.bitfield,this.bitfield)),n=(e.length>e.ancestors?3:2)|n;this.header.tree.fork=e.fork,this.header.tree.length=e.length,this.header.tree.rootHash=e.hash(),this.header.tree.signature=e.signature,this.onupdate(n,r.bitfield,null,t),await this._flushOplog()}async close(){await this._mutex.destroy(),await Promise.allSettled([this.oplog.close(),this.bitfield.close(),this.tree.close(),this.blocks.close()])}}},{"./bitfield":311,"./block-store":313,"./errors":317,"./merkle-tree":318,"./messages":319,"./mutex":320,"./oplog":321,b4a:175,"hypercore-crypto":295}],317:[function(e,t,r){t.exports=class n extends Error{constructor(e,t,r=n){super(t+": "+e),this.code=t,Error.captureStackTrace&&Error.captureStackTrace(this,r)}get name(){return"HypercoreError"}static BAD_ARGUMENT(e){return new n(e,"BAD_ARGUMENT",n.BAD_ARGUMENT)}static STORAGE_EMPTY(e){return new n(e,"STORAGE_EMPTY",n.STORAGE_EMPTY)}static STORAGE_CONFLICT(e){return new n(e,"STORAGE_CONFLICT",n.STORAGE_CONFLICT)}static INVALID_SIGNATURE(e){return new n(e,"INVALID_SIGNATURE",n.INVALID_SIGNATURE)}static INVALID_CAPABILITY(e){return new n(e,"INVALID_CAPABILITY",n.INVALID_CAPABILITY)}static SNAPSHOT_NOT_AVAILABLE(e="Snapshot is not available"){return new n(e,"SNAPSHOT_NOT_AVAILABLE",n.SNAPSHOT_NOT_AVAILABLE)}static REQUEST_CANCELLED(e="Request was cancelled"){return new n(e,"REQUEST_CANCELLED",n.REQUEST_CANCELLED)}static SESSION_NOT_WRITABLE(e="Session is not writable"){return new n(e,"SESSION_NOT_WRITABLE",n.SESSION_NOT_WRITABLE)}static SESSION_CLOSED(e="Session is closed"){return new n(e,"SESSION_CLOSED",n.SESSION_CLOSED)}}},{}],318:[function(e,t,D){const f=e("flat-tree"),i=e("hypercore-crypto"),u=e("compact-encoding"),o=e("xache"),h=e("b4a"),r=e("./caps"),a=h.alloc(32),s=h.from([5,2,87,2,0,0,40,7,66,76,65,75,69,50,98]);class d{constructor(e,t=null){this.i=0,this.nodes=e,this.extra=t,this.length=e.length+(null===this.extra?0:1)}shift(e){if(null!==this.extra&&this.extra.index===e){const t=this.extra;return this.extra=null,this.length--,t}if(this.i>=this.nodes.length)throw new Error("Expected node "+e+", got (nil)");const t=this.nodes[this.i++];if(t.index!==e)throw new Error("Expected node "+e+", got node "+t.index);return this.length--,t}}class c{constructor(e){this.fork=e.fork,this.roots=[...e.roots],this.length=e.length,this.ancestors=e.length,this.byteLength=e.byteLength,this.signature=null,this.treeLength=e.length,this.treeFork=e.fork,this.tree=e,this.nodes=[],this.upgraded=!1}hash(){return this.tree.crypto.tree(this.roots)}signable(e=this.hash()){return r.treeSignable(e,this.length,this.fork)}signableLegacy(e=this.hash()){return r.treeSignableLegacy(e,this.length,this.fork)}append(e){var t=2*this.length,r=f.iterator(t),t=I(this.tree.crypto,t,e);this.appendRoot(t,r)}appendRoot(e,t){for(this.upgraded=!0,this.length+=t.factor/2,this.byteLength+=e.size,this.roots.push(e),this.nodes.push(e);1<this.roots.length;){var r=this.roots[this.roots.length-1],n=this.roots[this.roots.length-2];if(t.sibling()!==n.index){t.sibling();break}const e=C(this.tree.crypto,t.parent(),r,n);this.nodes.push(e),this.roots.pop(),this.roots.pop(),this.roots.push(e)}}commitable(){return this.treeFork===this.tree.fork&&(this.upgraded?this.treeLength===this.tree.length:this.treeLength<=this.tree.length)}commit(){if(!this.commitable())throw new Error("Tree was modified during batch, refusing to commit");this.upgraded&&this._commitUpgrade();for(let e=0;e<this.nodes.length;e++){var t=this.nodes[e];this.tree.unflushed.set(t.index,t)}}_commitUpgrade(){if(this.ancestors<this.treeLength){if(0<this.ancestors){var e=2*this.ancestors;const t=f.iterator(e-2);for(;;){if(t.contains(e)&&t.index<e&&this.tree.unflushed.set(t.index,B(t.index)),0===t.offset)break;t.parent()}}this.tree.truncateTo=this.tree.truncated?Math.min(this.tree.truncateTo,this.ancestors):this.ancestors,this.tree.truncated=!0,this.tree.cache=new o({maxSize:this.tree.cache.maxSize}),M(this.tree.unflushed,this.ancestors),null!==this.tree.flushing&&M(this.tree.flushing,this.ancestors)}this.tree.roots=this.roots,this.tree.length=this.length,this.tree.byteLength=this.byteLength,this.tree.fork=this.fork,this.tree.signature=this.signature}async byteOffset(e){if(2*this.tree.length===e)return this.tree.byteLength;const t=f.iterator(e);let r=0,n=!1,i=null;for(const s of this.nodes)s.index===t.index&&(n&&i&&(r+=s.size-i.size),i=s,n=t.isRight(),t.parent());var o=this.roots.indexOf(i);if(-1<o){for(let e=0;e<o;e++)r+=this.roots[e].size;return r}return await this.tree.byteOffset(i?i.index:e)+r}}class l extends c{constructor(e){super(e),this.roots=[],this.length=0,this.byteLength=0,this.diff=null,this.ancestors=0,this.upgraded=!0,this.want={nodes:0,start:0,end:0}}get finished(){return null===this.want}update(e){var t;return null===this.want||!(null===(t=p(e,this.tree.crypto,e=[]))||!h.equals(t.hash,this.diff.hash))&&(this.nodes.push(...e),this._update(e))}async _update(e){const t=new Map;for(const s of e)t.set(s.index,s);let r=null;const n=f.iterator(this.diff.index);for(e=this.diff;0!=(1&n.index);){var i=t.get(n.leftChild());if(!i)break;var o=await this.tree.get(i.index,!1);r=o&&h.equals(o.hash,i.hash)?t.get(n.sibling()):i}return 0==(1&this.diff.index)||null!==r&&(e===this.diff&&this._updateDiffRoot(r))}_updateDiffRoot(e){var t,r,n,i;return null===this.want||(r=(t=f.spans(e.index))[0]/2,i=(n=Math.min(this.treeLength,t[1]/2+1))-r,this.ancestors=r,0==(1&(this.diff=e).index)||this.want.start>=this.treeLength||i<=0?!(this.want=null):(this.want.start=r,this.want.end=n,this.want.nodes=P(t[1]-t[0]+2)-1,!1))}}class n{constructor(e,t,r=0){this.tree=e,this.bytes=t,this.padding=r;r=e.byteLength-e.length*r;this.start=r<=t?e.length:0,this.end=t<r?e.length:0}nodes(){return this.tree.nodes(2*this.start)}async _seek(t){if(!t)return[0,0];for(const n of this.tree.roots){let e=n.size;if(0<this.padding&&(e-=this.padding*f.countLeaves(n.index)),t===e)return[f.rightSpan(n.index)+2,0];if(!(t>e)){const i=f.iterator(n.index);for(;0!=(1&i.index);){var r=await this.tree.get(i.leftChild(),!1);if(!r)return i.parent(),[i.index,t];{let e=r.size;if(0<this.padding&&(e-=this.padding*i.countLeaves()),e===t)return[i.rightSpan()+2,0];e>t||(t-=e,i.sibling())}}return[i.index,t]}t-=e}return null}async update(){var e=await this._seek(this.bytes);if(e){if(0==(1&e[0]))return[e[0]/2,e[1]];e=f.spans(e[0]);this.start=e[0]/2,this.end=e[1]/2+1}return null}}function p({block:e,hash:t,seek:r},n,i){e=e?{index:2*e.index,value:e.value,nodes:e.nodes}:t?{index:t.index,value:null,nodes:t.nodes}:null;if(!(null!==e||r&&r.nodes.length))return null;let o=null;if(r&&r.nodes.length){const c=f.iterator(r.nodes[0].index),u=new d(r.nodes);for(o=u.shift(c.index),i.push(o);0<u.length;){var s=u.shift(c.sibling());o=C(n,c.parent(),o,s),i.push(s),i.push(o)}}if(null!==e){const c=f.iterator(e.index);t=e.value&&I(n,c.index,e.value);const u=new d(e.nodes,o);for(o=t||u.shift(c.index),i.push(o);0<u.length;){var a=u.shift(c.sibling());o=C(n,c.parent(),o,a),i.push(a),i.push(o)}}return o}function g({fork:e,upgrade:t},r,n){const i=new d(t.nodes,r);let o=0<n.roots.length,s=0;var a=2*(t.start+t.length);const c=f.iterator(0);for(;c.fullRoot(a);c.nextTree())if(s<n.roots.length&&n.roots[s].index===c.index)s++;else{if(o){o=!1;var u=c.index;if(s<n.roots.length){for(c.seek(n.roots[n.roots.length-1].index);c.index!==u;)n.appendRoot(i.shift(c.sibling()),c);continue}}n.appendRoot(i.shift(c.index),c)}var h=t.additionalNodes;for(c.seek(n.roots[n.roots.length-1].index),s=0;s<h.length&&h[s].index===c.sibling();)n.appendRoot(h[s++],c);for(;s<h.length;){for(var l=h[s++];l.index!==c.index;){if(2===c.factor)throw new Error("Unexpected node: "+l.index);c.leftChild()}n.appendRoot(l,c),c.sibling()}return n.signature=t.signature,n.fork=e,null===i.extra}async function y(t,e,r){var n=f.fullRoots(e);for(let e=0;e<n.length;e++){var i=n[e],o=await t.get(i);if(r===o.size)return i;if(!(r>o.size))return b(t,i,r);r-=o.size}return e}async function b(e,t,r){if(!r)return t;const n=f.iterator(t);for(;0!=(1&n.index);){var i=await e.get(n.leftChild(),!1);if(!i)return n.parent(),n.index;if(i.size===r)return n.index;i.size>r||(r-=i.size,n.sibling())}return n.index}async function m(e,t,r){var n=await e.byteOffset(t);if(r<n)throw new Error("Invalid seek");if(n===r)return t;if(r-=n,(await e.get(t)).size<=r)throw new Error("Invalid seek");return b(e,t,r)}function v(e,t,r,n){const i=f.iterator(t);for(n.seek=[],n.seek.push(e.get(i.index));i.index!==r;)i.sibling(),n.seek.push(e.get(i.index)),i.parent()}function A(e,t,r,n,i,o){if(!t)return v(e,n,i,o);const s=f.iterator(t.index);for(o.node=[],t.value||o.node.push(e.get(s.index));s.index!==i;)s.sibling(),r&&s.contains(n)&&s.index!==n?v(e,n,s.index,o):o.node.push(e.get(s.index)),s.parent()}function _(e,t,r,n,i,o,s){0===n&&(s.upgrade=[]);for(const u=f.iterator(0);u.fullRoot(i);u.nextTree())if(!(u.index+u.factor/2<n))if(null===s.upgrade&&u.contains(n-2)){s.upgrade=[];var a=u.index,c=n-2;for(u.seek(c);u.index!==a;)u.sibling(),u.index>c&&(null===s.node&&null===s.seek&&u.contains(o)?A(e,t,r,o,u.index,s):s.upgrade.push(e.get(u.index))),u.parent()}else null===s.upgrade&&(s.upgrade=[]),null===s.node&&null===s.seek&&u.contains(o)?A(e,t,r,o,u.index,s):s.upgrade.push(e.get(u.index))}function w(e,t,r,n){0===t&&(n.additionalUpgrade=[]);for(const s=f.iterator(0);s.fullRoot(r);s.nextTree())if(!(s.index+s.factor/2<t))if(null===n.additionalUpgrade&&s.contains(t-2)){n.additionalUpgrade=[];var i=s.index,o=t-2;for(s.seek(o);s.index!==i;)s.sibling(),s.index>o&&n.additionalUpgrade.push(e.get(s.index)),s.parent()}else null===n.additionalUpgrade&&(n.additionalUpgrade=[]),n.additionalUpgrade.push(e.get(s.index))}function E(e,t,r){const n=f.iterator(e);for(let e=0;e<t;e++)if(n.parent(),n.contains(r))throw new Error("Nodes is out of bounds");return n.index}function S(e){let t=0;for(const r of e)t+=r.size;return t}function k(e){let t=0;for(const r of e)t+=2*(r.index-t+1);return t}function I(e,t,r){return{index:t,size:r.byteLength,hash:e.data(r)}}function C(e,t,r,n){return{index:t,size:r.size+n.size,hash:e.parent(r,n)}}function B(e){return{index:e,size:0,hash:a}}function x(e,i,o,s){return new Promise((r,n)=>{e.read(40*i,40,(e,t)=>{if(e)return s?n(e):void r(null);var e=t.subarray(8),t=u.decode(u.uint64,t);0===t&&0===h.compare(e,a)?s?n(new Error("Could not load node: "+i)):r(null):(t={index:i,size:t,hash:e},null!==o&&o.set(i,t),r(t))})})}async function T(e){t=e;var t,r=await new Promise(r=>{t.stat((e,t)=>{if(!t)return r(0);r((t.size-t.size%40)/40)})});if(!r)return 0;const n=f.iterator(r-1);let i=r-1;for(;await x(e,n.parent(),null,!1);)i=n.index;return f.rightSpan(i)/2+1}function M(e,t){for(const r of e.values())r.index>=2*t&&e.delete(r.index)}function P(e){let t=1;for(;2<e;)e/=2,t++;return t}function O(e,t){return e?{value:!0,index:2*e.index,nodes:e.nodes,lastIndex:e.index}:t?{value:!1,index:t.index,nodes:t.nodes,lastIndex:f.rightSpan(t.index)/2}:null}async function L(t){var e=[t.node&&Promise.all(t.node),t.seek&&Promise.all(t.seek),t.upgrade&&Promise.all(t.upgrade),t.additionalUpgrade&&Promise.all(t.additionalUpgrade)];try{return await Promise.all(e)}catch(e){throw t.node&&await Promise.allSettled(t.node),t.seek&&await Promise.allSettled(t.seek),t.upgrade&&await Promise.allSettled(t.upgrade),t.additionalUpgrade&&await Promise.allSettled(t.additionalUpgrade),e}}t.exports=class R{constructor(e,t,r,n){this.crypto=i,this.fork=r,this.roots=t,this.length=t.length?k(t)/2:0,this.byteLength=S(t),this.signature=n,this.storage=e,this.unflushed=new Map,this.cache=new o({maxSize:128}),this.flushing=null,this.truncated=!1,this.truncateTo=0}addNode(e){0===e.size&&h.equals(e.hash,a)&&(e=B(e.index)),this.unflushed.set(e.index,e)}batch(){return new c(this)}seek(e,t){return new n(this,e,t)}hash(){return this.crypto.tree(this.roots)}signable(e=this.hash()){return r.treeSignable(e,this.length,this.fork)}getRoots(e){var t=f.fullRoots(2*e);const r=new Array(t.length);for(let e=0;e<t.length;e++)r[e]=this.get(t[e],!0);return Promise.all(r)}async upgradeable(e){var t=f.fullRoots(2*e);const r=new Array(t.length);for(let e=0;e<t.length;e++)r[e]=this.get(t[e],!1);for(const n of await Promise.all(r))if(null===n)return!1;return!0}get(e,t=!0){var r=this.cache.get(e);if(r)return r;let n=this.unflushed.get(e);if(null!==this.flushing&&void 0===n&&(n=this.flushing.get(e)),void 0===(n=this.truncated&&void 0!==n&&n.index>=2*this.truncateTo?B(e):n))return x(this.storage,e,this.cache,t);if(n.hash!==a)return Promise.resolve(n);if(t)throw new Error("Could not load node: "+e);return Promise.resolve(null)}async flush(){this.flushing=this.unflushed,this.unflushed=new Map;try{this.truncated&&await this._flushTruncation(),await this._flushNodes()}catch(e){for(const t of this.flushing.values())this.unflushed.has(t.index)||this.unflushed.set(t.index,t);throw e}finally{this.flushing=null}}_flushTruncation(){return new Promise((t,r)=>{const n=this.truncateTo;var e=0===n?0:80*(n-1)+40;this.storage.del(e,1/0,e=>{if(e)return r(e);this.truncateTo===n&&(this.truncateTo=0,this.truncated=!1),t()})})}_flushNodes(){return new Promise((t,r)=>{const e=h.allocUnsafe(40*this.flushing.size);let n=null,i=this.flushing.size+1,o=0;for(const c of this.flushing.values()){var s={start:0,end:40,buffer:e.subarray(o,o+=40)};u.uint64.encode(s,c.size),u.raw.encode(s,c.hash),this.storage.write(40*c.index,s.buffer,a)}function a(e){e&&(n=e),0<--i||(n?r(n):t())}a(null)})}clear(){return this.cache=new o({maxSize:this.cache.maxSize}),this.truncated=!0,this.truncateTo=0,this.roots=[],this.length=0,this.byteLength=0,this.fork=0,(this.signature=null)!==this.flushing&&this.flushing.clear(),this.unflushed.clear(),this.flush()}close(){return new Promise((t,r)=>{this.storage.close(e=>{e?r(e):t()})})}async truncate(e,t=this.fork){var r=2*e;const n=new c(this);var i=f.fullRoots(r);for(let e=0;e<i.length;e++){var o=i[e];if(!(e<n.roots.length&&n.roots[e].index===o)){for(;n.roots.length>e;)n.roots.pop();n.roots.push(await this.get(o))}}for(;n.roots.length>i.length;)n.roots.pop();return n.fork=t,n.length=e,n.ancestors=e,n.byteLength=S(n.roots),n.upgraded=!0,n}async reorg(e){const t=new l(this);let r=null;if(!g(e,r=e.block||e.hash||e.seek?p(e,this.crypto,t.nodes):r,t))throw new Error("Fork proof not verifiable");for(const i of t.roots){var n=await this.get(i.index,!1);if(!n||!h.equals(n.hash,i.hash)){t._updateDiffRoot(i);break}}return null!==t.diff?await t._update(t.nodes):(t.want=null,t.ancestors=t.length),t}async verify(e){var t=new c(this);let r=p(e,this.crypto,t.nodes);if(r=e.upgrade&&g(e,r,t)?null:r){e=await this.get(r.index);if(!h.equals(e.hash,r.hash))throw new Error("Invalid checksum at node "+r.index)}return t}async proof({block:e,hash:t,seek:r,upgrade:n}){var i=this.fork,o=this.signature,s=2*this.length,a=n?2*n.start:0,c=n?a+2*n.length:s,u=O(e,t);if(c<=a||s<c)throw new Error("Invalid upgrade");if(r&&n&&null!==u&&u.index>=a)throw new Error("Cannot both do a seek and block/hash request when upgrading");let h=s;var l={node:null,seek:null,upgrade:null,additionalUpgrade:null},[u,a,c,s]=(null!==u&&(!n||u.lastIndex<n.start)?(h=E(u.index,u.nodes,c),A(this,u,r,r?await m(this,h,r.bytes):s,h,l)):(u||r)&&n&&(h=r?await y(this,c,r.bytes):u.index),n&&(_(this,u,r,a,c,h,l),c<s&&w(this,c,s,l)),await L(l));const f={fork:i,block:null,hash:null,seek:null,upgrade:null};return e?f.block={index:e.index,value:null,nodes:u}:t&&(f.hash={index:t.index,nodes:u}),r&&null!==a&&(f.seek={bytes:r.bytes,nodes:a}),n&&(f.upgrade={start:n.start,length:n.length,nodes:c,additionalNodes:s||[],signature:o}),f}async missingNodes(e){var t=2*this.length;const r=f.iterator(e);if(t<=r.index+r.factor/2-1)return 0;let n=0;for(;!r.contains(t)&&null===await this.get(r.index,!1);)n++,r.parent();return n}async nodes(e){var t=2*this.length;const r=f.iterator(e);let n=0;for(;!r.contains(t)&&null===await this.get(r.index,!1);)n++,r.parent();return n}async byteRange(e){var t=2*this.length;if((0==(1&e)?e:f.rightSpan(e))>=t)throw new Error("Index is out of bounds");return[await this.byteOffset(e),(await this.get(e)).size]}async byteOffset(e){1==(1&e)&&(e=f.leftSpan(e));let t=0,r=0;for(const n of this.roots){if(!(e>=(t+=2*(n.index-t+1)))){const i=f.iterator(n.index);for(;i.index!==e;)e<i.index?i.leftChild():(r+=(await this.get(i.leftChild())).size,i.sibling());return r}r+=n.size}}static async open(e,t={}){await new Promise((r,n)=>{e.read(0,s.length,(e,t)=>e?r():h.equals(t,s)?n(new Error("Storage contains an incompatible merkle tree")):void r())});var r="number"==typeof t.length?t.length:await T(e);const n=[];for(const i of f.fullRoots(2*r))n.push(await x(e,i,null,!0));return new R(e,n,t.fork||0,t.signature||null)}}},{"./caps":314,b4a:175,"compact-encoding":229,"flat-tree":289,"hypercore-crypto":295,xache:596}],319:[function(e,t,r){const n=e("compact-encoding"),i=e("b4a"),o=i.alloc(0);const s=n.array({preencode(e,t){n.uint.preencode(e,t.index),n.uint.preencode(e,t.size),n.fixed32.preencode(e,t.hash)},encode(e,t){n.uint.encode(e,t.index),n.uint.encode(e,t.size),n.fixed32.encode(e,t.hash)},decode(e){return{index:n.uint.decode(e),size:n.uint.decode(e),hash:n.fixed32.decode(e)}}}),a=r.wire={handshake:{preencode(e,t){n.uint.preencode(e,0),n.fixed32.preencode(e,t.capability)},encode(e,t){n.uint.encode(e,0),n.fixed32.encode(e,t.capability)},decode(e){return n.uint.decode(e),{capability:n.fixed32.decode(e)}}}},c={preencode(e,t){n.uint.preencode(e,t.index),n.uint.preencode(e,t.nodes)},encode(e,t){n.uint.encode(e,t.index),n.uint.encode(e,t.nodes)},decode(e){return{index:n.uint.decode(e),nodes:n.uint.decode(e)}}},u={preencode(e,t){n.uint.preencode(e,t.bytes)},encode(e,t){n.uint.encode(e,t.bytes)},decode(e){return{bytes:n.uint.decode(e)}}},h={preencode(e,t){n.uint.preencode(e,t.start),n.uint.preencode(e,t.length)},encode(e,t){n.uint.encode(e,t.start),n.uint.encode(e,t.length)},decode(e){return{start:n.uint.decode(e),length:n.uint.decode(e)}}},l=(a.request={preencode(e,t){e.end++,n.uint.preencode(e,t.id),n.uint.preencode(e,t.fork),t.block&&c.preencode(e,t.block),t.hash&&c.preencode(e,t.hash),t.seek&&u.preencode(e,t.seek),t.upgrade&&h.preencode(e,t.upgrade)},encode(e,t){var r=(t.block?1:0)|(t.hash?2:0)|(t.seek?4:0)|(t.upgrade?8:0);n.uint.encode(e,r),n.uint.encode(e,t.id),n.uint.encode(e,t.fork),t.block&&c.encode(e,t.block),t.hash&&c.encode(e,t.hash),t.seek&&u.encode(e,t.seek),t.upgrade&&h.encode(e,t.upgrade)},decode(e){var t=n.uint.decode(e);return{id:n.uint.decode(e),fork:n.uint.decode(e),block:1&t?c.decode(e):null,hash:2&t?c.decode(e):null,seek:4&t?u.decode(e):null,upgrade:8&t?h.decode(e):null}}},a.cancel={preencode(e,t){n.uint.preencode(e,t.request)},encode(e,t){n.uint.encode(e,t.request)},decode(e,t){return{request:n.uint.decode(e)}}},{preencode(e,t){n.uint.preencode(e,t.start),n.uint.preencode(e,t.length),s.preencode(e,t.nodes),s.preencode(e,t.additionalNodes),n.buffer.preencode(e,t.signature)},encode(e,t){n.uint.encode(e,t.start),n.uint.encode(e,t.length),s.encode(e,t.nodes),s.encode(e,t.additionalNodes),n.buffer.encode(e,t.signature)},decode(e){return{start:n.uint.decode(e),length:n.uint.decode(e),nodes:s.decode(e),additionalNodes:s.decode(e),signature:n.buffer.decode(e)}}}),f={preencode(e,t){n.uint.preencode(e,t.bytes),s.preencode(e,t.nodes)},encode(e,t){n.uint.encode(e,t.bytes),s.encode(e,t.nodes)},decode(e){return{bytes:n.uint.decode(e),nodes:s.decode(e)}}},d={preencode(e,t){n.uint.preencode(e,t.index),n.buffer.preencode(e,t.value),s.preencode(e,t.nodes)},encode(e,t){n.uint.encode(e,t.index),n.buffer.encode(e,t.value),s.encode(e,t.nodes)},decode(e){return{index:n.uint.decode(e),value:n.buffer.decode(e)||o,nodes:s.decode(e)}}},p={preencode(e,t){n.uint.preencode(e,t.index),s.preencode(e,t.nodes)},encode(e,t){n.uint.encode(e,t.index),s.encode(e,t.nodes)},decode(e){return{index:n.uint.decode(e),nodes:s.decode(e)}}},g=(a.data={preencode(e,t){e.end++,n.uint.preencode(e,t.request),n.uint.preencode(e,t.fork),t.block&&d.preencode(e,t.block),t.hash&&p.preencode(e,t.hash),t.seek&&f.preencode(e,t.seek),t.upgrade&&l.preencode(e,t.upgrade)},encode(e,t){var r=(t.block?1:0)|(t.hash?2:0)|(t.seek?4:0)|(t.upgrade?8:0);n.uint.encode(e,r),n.uint.encode(e,t.request),n.uint.encode(e,t.fork),t.block&&d.encode(e,t.block),t.hash&&p.encode(e,t.hash),t.seek&&f.encode(e,t.seek),t.upgrade&&l.encode(e,t.upgrade)},decode(e){var t=n.uint.decode(e);return{request:n.uint.decode(e),fork:n.uint.decode(e),block:1&t?d.decode(e):null,hash:2&t?p.decode(e):null,seek:4&t?f.decode(e):null,upgrade:8&t?l.decode(e):null}}},a.noData={preencode(e,t){n.uint.preencode(e,t.request)},encode(e,t){n.uint.encode(e,t.request)},decode(e,t){return{request:n.uint.decode(e)}}},a.want={preencode(e,t){n.uint.preencode(e,t.start),n.uint.preencode(e,t.length)},encode(e,t){n.uint.encode(e,t.start),n.uint.encode(e,t.length)},decode(e){return{start:n.uint.decode(e),length:n.uint.decode(e)}}},a.unwant={preencode(e,t){n.uint.preencode(e,t.start),n.uint.preencode(e,t.length)},encode(e,t){n.uint.encode(e,t.start),n.uint.encode(e,t.length)},decode(e,t){return{start:n.uint.decode(e),length:n.uint.decode(e)}}},a.range={preencode(e,t){e.end++,n.uint.preencode(e,t.start),1!==t.length&&n.uint.preencode(e,t.length)},encode(e,t){n.uint.encode(e,(t.drop?1:0)|(1===t.length?2:0)),n.uint.encode(e,t.start),1!==t.length&&n.uint.encode(e,t.length)},decode(e){var t=n.uint.decode(e);return{drop:0!=(1&t),start:n.uint.decode(e),length:0!=(2&t)?1:n.uint.decode(e)}}},a.bitfield={preencode(e,t){n.uint.preencode(e,t.start),n.uint32array.preencode(e,t.bitfield)},encode(e,t){n.uint.encode(e,t.start),n.uint32array.encode(e,t.bitfield)},decode(e,t){return{start:n.uint.decode(e),bitfield:n.uint32array.decode(e)}}},a.sync={preencode(e,t){e.end++,n.uint.preencode(e,t.fork),n.uint.preencode(e,t.length),n.uint.preencode(e,t.remoteLength)},encode(e,t){n.uint.encode(e,(t.canUpgrade?1:0)|(t.uploading?2:0)|(t.downloading?4:0)),n.uint.encode(e,t.fork),n.uint.encode(e,t.length),n.uint.encode(e,t.remoteLength)},decode(e){var t=n.uint.decode(e);return{fork:n.uint.decode(e),length:n.uint.decode(e),remoteLength:n.uint.decode(e),canUpgrade:0!=(1&t),uploading:0!=(2&t),downloading:0!=(4&t)}}},a.reorgHint={preencode(e,t){n.uint.preencode(e,t.from),n.uint.preencode(e,t.to),n.uint.preencode(e,t.ancestors)},encode(e,t){n.uint.encode(e,t.from),n.uint.encode(e,t.to),n.uint.encode(e,t.ancestors)},decode(e){return{from:n.uint.encode(e),to:n.uint.encode(e),ancestors:n.uint.encode(e)}}},a.extension={preencode(e,t){n.string.preencode(e,t.name),n.raw.preencode(e,t.message)},encode(e,t){n.string.encode(e,t.name),n.raw.encode(e,t.message)},decode(e){return{name:n.string.decode(e),message:n.raw.decode(e)}}},{preencode(e,t){n.string.preencode(e,t.key),n.buffer.preencode(e,t.value)},encode(e,t){n.string.encode(e,t.key),n.buffer.encode(e,t.value)},decode(e){return{key:n.string.decode(e),value:n.buffer.decode(e)}}}),y={preencode(e,t){n.uint.preencode(e,t.fork),n.uint.preencode(e,t.ancestors),n.uint.preencode(e,t.length),n.buffer.preencode(e,t.signature)},encode(e,t){n.uint.encode(e,t.fork),n.uint.encode(e,t.ancestors),n.uint.encode(e,t.length),n.buffer.encode(e,t.signature)},decode(e){return{fork:n.uint.decode(e),ancestors:n.uint.decode(e),length:n.uint.decode(e),signature:n.buffer.decode(e)}}},b={preencode(e,t){e.end++,n.uint.preencode(e,t.start),n.uint.preencode(e,t.length)},encode(e,t){e.buffer[e.start++]=t.drop?1:0,n.uint.encode(e,t.start),n.uint.encode(e,t.length)},decode(e){return{drop:0!=(1&n.uint.decode(e)),start:n.uint.decode(e),length:n.uint.decode(e)}}},m=r.oplog={entry:{preencode(e,t){e.end++,t.userData&&g.preencode(e,t.userData),t.treeNodes&&s.preencode(e,t.treeNodes),t.treeUpgrade&&y.preencode(e,t.treeUpgrade),t.bitfield&&b.preencode(e,t.bitfield)},encode(e,t){var r=e.start++;let n=0;t.userData&&(n|=1,g.encode(e,t.userData)),t.treeNodes&&(n|=2,s.encode(e,t.treeNodes)),t.treeUpgrade&&(n|=4,y.encode(e,t.treeUpgrade)),t.bitfield&&(n|=8,b.encode(e,t.bitfield)),e.buffer[r]=n},decode(e){var t=n.uint.decode(e);return{userData:0!=(1&t)?g.decode(e):null,treeNodes:0!=(2&t)?s.decode(e):null,treeUpgrade:0!=(4&t)?y.decode(e):null,bitfield:0!=(8&t)?b.decode(e):null}}}},v={preencode(e,t){n.buffer.preencode(e,t.publicKey),n.buffer.preencode(e,t.secretKey)},encode(e,t){n.buffer.encode(e,t.publicKey),n.buffer.encode(e,t.secretKey)},decode(e){return{publicKey:n.buffer.decode(e),secretKey:n.buffer.decode(e)}}},A=n.array({preencode(e,t){n.uint.preencode(e,t.from),n.uint.preencode(e,t.to),n.uint.preencode(e,t.ancestors)},encode(e,t){n.uint.encode(e,t.from),n.uint.encode(e,t.to),n.uint.encode(e,t.ancestors)},decode(e){return{from:n.uint.decode(e),to:n.uint.decode(e),ancestors:n.uint.decode(e)}}}),_={preencode(e,t){A.preencode(e,t.reorgs)},encode(e,t){A.encode(e,t.reorgs)},decode(e){return{reorgs:A.decode(e)}}},w={preencode(e,t){n.uint.preencode(e,t.fork),n.uint.preencode(e,t.length),n.buffer.preencode(e,t.rootHash),n.buffer.preencode(e,t.signature)},encode(e,t){n.uint.encode(e,t.fork),n.uint.encode(e,t.length),n.buffer.encode(e,t.rootHash),n.buffer.encode(e,t.signature)},decode(e){return{fork:n.uint.decode(e),length:n.uint.decode(e),rootHash:n.buffer.decode(e),signature:n.buffer.decode(e)}}},E={preencode(e,t){n.string.preencode(e,t.tree),n.string.preencode(e,t.bitfield),n.string.preencode(e,t.signer)},encode(e,t){n.string.encode(e,t.tree),n.string.encode(e,t.bitfield),n.string.encode(e,t.signer)},decode(e){return{tree:n.string.decode(e),bitfield:n.string.decode(e),signer:n.string.decode(e)}}},S=n.array(g);m.header={preencode(e,t){e.end+=1,E.preencode(e,t.types),S.preencode(e,t.userData),w.preencode(e,t.tree),v.preencode(e,t.signer),_.preencode(e,t.hints),n.uint.preencode(e,t.contiguousLength)},encode(e,t){e.buffer[e.start++]=0,E.encode(e,t.types),S.encode(e,t.userData),w.encode(e,t.tree),v.encode(e,t.signer),_.encode(e,t.hints),n.uint.encode(e,t.contiguousLength)},decode(e){var t=n.uint.decode(e);if(0!==t)throw new Error("Invalid header version. Expected 0, got "+t);return{types:E.decode(e),userData:S.decode(e),tree:w.decode(e),signer:v.decode(e),hints:_.decode(e),contiguousLength:e.end>e.start?n.uint.decode(e):0}}}},{b4a:175,"compact-encoding":229}],320:[function(e,t,r){t.exports=class{constructor(){this.locked=!1,this.destroyed=!1,this._destroying=null,this._destroyError=null,this._queue=[],this._enqueue=(e,t)=>this._queue.push([e,t])}lock(){return this.destroyed?Promise.reject(this._destroyError):this.locked?new Promise(this._enqueue):(this.locked=!0,Promise.resolve())}unlock(){this._queue.length?this._queue.shift()[0]():this.locked=!1}destroy(e){if(this._destroying||(this._destroying=this.locked?this.lock().catch(()=>{}):Promise.resolve()),this.destroyed=!0,this._destroyError=e||new Error("Mutex has been destroyed"),e)for(;this._queue.length;)this._queue.shift()[1](e);return this._destroying}}},{}],321:[function(e,t,r){const c=e("compact-encoding"),a=e("b4a"),u=e("crc32-universal");t.exports=class{constructor(e,{pageSize:t=4096,headerEncoding:r=c.raw,entryEncoding:n=c.raw}={}){this.storage=e,this.headerEncoding=r,this.entryEncoding=n,this.flushed=!1,this.byteLength=0,this.length=0,this._headers=[1,0],this._pageSize=t,this._entryOffset=2*t}_addHeader(e,t,r,n){e.start=e.start-t-4,c.uint32.encode(e,t<<2|r|n),e.start-=8,c.uint32.encode(e,u(e.buffer.subarray(e.start+4,e.start+8+t))),e.start+=t+4}_decodeEntry(e,t){if(e.end-e.start<8)return null;var r=c.uint32.decode(e),n=c.uint32.decode(e),i=n>>>2,o=1&n,n=2&n;if(e.end-e.start<i)return null;var s=e.start+i;if(u(e.buffer.subarray(e.start-4,s))!==r)return null;const a={header:o,partial:0!=n,byteLength:8+i,message:null};try{a.message=t.decode({start:e.start,end:s,buffer:e.buffer})}catch{return null}return e.start=s,a}async open(){var e=await this._readAll();const t={start:0,end:e.byteLength,buffer:e},r={header:null,entries:[]};this.byteLength=0,this.length=0;var n=this._decodeEntry(t,this.headerEncoding),i=(t.start=this._pageSize,this._decodeEntry(t,this.headerEncoding));if(t.start=this._entryOffset,n||i){this.flushed=!0,n&&!i?(this._headers[0]=n.header,this._headers[1]=n.header):(this._headers[0]=!n&&i?i.header+1&1:n.header,this._headers[1]=i.header);var o=this._headers[0]+this._headers[1]&1;const a=[];for(r.header=(o?i:n).message;;){var s=this._decodeEntry(t,this.entryEncoding);if(!s)break;if(s.header!==o)break;a.push(s)}for(;0<a.length&&a[a.length-1].partial;)a.pop();for(const u of a)r.entries.push(u.message),this.byteLength+=u.byteLength,this.length++;const c=this.byteLength+this._entryOffset;c!==e.byteLength&&await new Promise((t,r)=>{this.storage.del(c,1/0,e=>{if(e)return r(e);t()})})}else if(this.flushed=!1,this._headers[0]=1,this._headers[1]=0,e.byteLength>=this._entryOffset)throw new Error("Oplog file appears corrupt or out of date");return r}_readAll(){return new Promise((r,n)=>{this.storage.open(e=>e&&"ENOENT"!==e.code?n(e):e?r(a.alloc(0)):void this.storage.stat((e,t)=>{if(e&&"ENOENT"!==e.code)return n(e);this.storage.read(0,t.size,(e,t)=>{if(e)return n(e);r(t)})}))})}flush(e){const t={start:8,end:8,buffer:null};var r=this._headers[0]===this._headers[1]?1:0,n=this._headers[r]+1&1;return this.headerEncoding.preencode(t,e),t.buffer=a.allocUnsafe(t.end),this.headerEncoding.encode(t,e),this._addHeader(t,t.end-8,n,0),this._writeHeaderAndTruncate(r,n,t.buffer)}_writeHeaderAndTruncate(n,i,e){return new Promise((t,r)=>{this.storage.write(0===n?0:this._pageSize,e,e=>{if(e)return r(e);this.storage.del(this._entryOffset,1/0,e=>{if(e)return r(e);this._headers[n]=i,this.byteLength=0,this.length=0,this.flushed=!0,t()})})})}append(t,r=!0){const n={start:0,end:8*(t=Array.isArray(t)?t:[t]).length,buffer:null};var i=this._headers[0]+this._headers[1]&1;for(let e=0;e<t.length;e++)this.entryEncoding.preencode(n,t[e]);n.buffer=a.allocUnsafe(n.end);for(let e=0;e<t.length;e++){var o=n.start+=8,s=r&&e<t.length-1?2:0;this.entryEncoding.encode(n,t[e]),this._addHeader(n,n.start-o,i,s)}return this._append(n.buffer,t.length)}close(){return new Promise((t,r)=>{this.storage.close(e=>{if(e)return r(e);t()})})}_append(n,i){return new Promise((t,r)=>{this.storage.write(this._entryOffset+this.byteLength,n,e=>{if(e)return r(e);this.byteLength+=n.byteLength,this.length+=i,t()})})}}},{b4a:175,"compact-encoding":229,"crc32-universal":233}],322:[function(e,t,r){const n=e("big-sparse-array"),c=e("bits-to-bytes");t.exports=class{constructor(){this.pageSize=32768,this.pages=new n}get(e){var t=e&this.pageSize-1,e=(e-t)/this.pageSize,e=this.pages.get(e);return!!e&&c.get(e,t)}set(e,t){var r=e&this.pageSize-1,e=(e-r)/this.pageSize,e=this.pages.get(e)||this.pages.set(e,new Uint32Array(1024));c.set(e,r,t)}setRange(e,t,r){let n=e&this.pageSize-1,i=(e-n)/this.pageSize;for(;0<t;){var o=this.pages.get(i)||this.pages.set(i,new Uint32Array(1024)),s=Math.min(n+t,this.pageSize),a=s-n;c.fill(o,r,n,s),n=0,i++,t-=a}}}},{"big-sparse-array":183,"bits-to-bytes":184}],323:[function(e,t,D){const n=e("b4a"),r=e("safety-catch"),i=e("random-array-iterator"),o=e("./remote-bitfield"),{REQUEST_CANCELLED:s,INVALID_CAPABILITY:a,SNAPSHOT_NOT_AVAILABLE:c}=e("./errors"),u=e("./messages"),h=e("./caps"),l=131072;class f{constructor(){this.resolved=!1,this.refs=[]}attach(e){const r={context:this,session:e,sindex:0,rindex:0,snapshot:!0,resolve:null,reject:null,promise:null};return r.sindex=e.push(r)-1,r.rindex=this.refs.push(r)-1,r.promise=new Promise((e,t)=>{r.resolve=e,r.reject=t}),r}detach(e,t=null){return e.context===this&&(this._detach(e),this._cancel(e,t),this.gc(),!0)}_detach(e){const t=this.refs.pop(),r=e.session.pop();return e.rindex<this.refs.length&&(this.refs[t.rindex=e.rindex]=t),e.sindex<e.session.length&&(e.session[r.sindex=e.sindex]=r),e.context=null,e}gc(){0===this.refs.length&&this._unref()}_cancel(e,t){e.reject(t||s())}_unref(){}resolve(e){for(this.resolved=!0;0<this.refs.length;)this._detach(this.refs[this.refs.length-1]).resolve(e)}reject(e){for(this.resolved=!0;0<this.refs.length;)this._detach(this.refs[this.refs.length-1]).reject(e)}}class d extends f{constructor(e,t){super(),this.index=t,this.inflight=[],this.queued=!1,this.tracker=e}_unref(){0<this.inflight.length||this.tracker.remove(this.index)}}class p extends f{constructor(e,t,r,n,i,o){super(),this.start=t,this.end=r,this.linear=n,this.ifAvailable=i,this.blocks=o,this.ranges=e,this.userStart=t,this.userEnd=r}_unref(){var e,t=this.ranges.indexOf(this);-1!==t&&(e=this.ranges.pop(),t<this.ranges.length-1&&(this.ranges[t]=e))}_cancel(e){e.resolve(!1)}}class g extends f{constructor(e,t,r){super(),this.fork=t,this.length=r,this.inflight=[],this.replicator=e}_unref(){!0===this.replicator.eagerUpgrade||0<this.inflight.length||(this.replicator._upgrade=null)}_cancel(e){e.resolve(!1)}}class y extends f{constructor(e,t){super(),this.seeker=t,this.inflight=[],this.seeks=e}_unref(){var e,t;0<this.inflight.length||-1!==(e=this.seeks.indexOf(this))&&(t=this.seeks.pop(),e<this.seeks.length-1&&(this.seeks[e]=t))}}class b{constructor(){this._requests=[],this._free=[]}get idle(){return this._requests.length===this._free.length}*[Symbol.iterator](){for(const e of this._requests)null!==e&&(yield e)}add(e){var t=this._free.length?this._free.pop():this._requests.push(null);return e.id=t,this._requests[t-1]=e}get(e){return e<=this._requests.length?this._requests[e-1]:null}remove(e){e<=this._requests.length&&(this._requests[e-1]=null,this._free.push(e))}}class m{constructor(){this._map=new Map}[Symbol.iterator](){return this._map.values()}isEmpty(){return 0===this._map.size}has(e){return this._map.has(e)}get(e){return this._map.get(e)||null}add(e){let t=this._map.get(e);return t||(t=new d(this,e),this._map.set(e,t)),t}remove(e){var t=this.get(e);return this._map.delete(e),t}}class v{constructor(e,t,r){this.core=e.core,this.replicator=e,this.stream=t.stream,this.protomux=t,this.remotePublicKey=this.stream.remotePublicKey,this.channel=r,(this.channel.userData=this).wireSync=this.channel.messages[0],this.wireRequest=this.channel.messages[1],this.wireCancel=null,this.wireData=this.channel.messages[3],this.wireNoData=this.channel.messages[4],this.wireWant=this.channel.messages[5],this.wireUnwant=this.channel.messages[6],this.wireBitfield=this.channel.messages[7],this.wireRange=this.channel.messages[8],this.wireExtension=this.channel.messages[9],this.inflight=0,this.maxInflight=32,this.dataProcessing=0,this.canUpgrade=!0,this.needsSync=!1,this.syncsProcessing=0,this.remoteOpened=!1,this.remoteBitfield=new o,this.remoteFork=0,this.remoteLength=0,this.remoteCanUpgrade=!1,this.remoteUploading=!0,this.remoteDownloading=!0,this.remoteSynced=!1,this.segmentsWanted=new Set,this.broadcastedNonSparse=!1,this.lengthAcked=0,this.extensions=new Map,this.lastExtensionSent="",this.lastExtensionRecv="",e._ifAvailable++}signalUpgrade(){!0===this._shouldUpdateCanUpgrade()?this._updateCanUpgradeAndSync():this.sendSync()}broadcastRange(e,t,r){this.wireRange.send({drop:r,start:e,length:t})}extension(e,t){this.wireExtension.send({name:e===this.lastExtensionSent?"":e,message:t}),this.lastExtensionSent=e}onextension(e){var t=e.name||this.lastExtensionRecv;this.lastExtensionRecv=t;const r=this.extensions.get(t);r&&r._onmessage({start:0,end:e.byteLength,buffer:e.message},this)}sendSync(){0!==this.syncsProcessing?this.needsSync=!0:(this.core.tree.fork!==this.remoteFork&&(this.canUpgrade=!1),this.needsSync=!1,this.wireSync.send({fork:this.core.tree.fork,length:this.core.tree.length,remoteLength:this.core.tree.fork===this.remoteFork?this.remoteLength:0,canUpgrade:this.canUpgrade,uploading:!0,downloading:!0}))}onopen({capability:e}){var t=h.replicate(!1===this.stream.isInitiator,this.replicator.key,this.stream.handshakeHash);if(!0!==n.equals(e,t))throw a("Remote sent an invalid replication capability");!0!==this.remoteOpened&&(this.remoteOpened=!0,this.protomux.cork(),this.sendSync(),0<(e=this.core.header.contiguousLength)&&(this.broadcastRange(0,e,!1),e===this.core.tree.length&&(this.broadcastedNonSparse=!0)),this.replicator._ifAvailable--,this.replicator._addPeer(this),this.protomux.uncork())}onclose(e){!1===this.remoteOpened?(this.replicator._ifAvailable--,this.replicator.updateAll()):(this.remoteOpened=!1,this.replicator._removePeer(this))}async onsync({fork:e,length:t,remoteLength:r,canUpgrade:n,uploading:i,downloading:o}){var s=t!==this.remoteLength,a=e===this.core.tree.fork,n=(this.remoteSynced=!0,this.remoteFork=e,this.remoteLength=t,this.remoteCanUpgrade=n,this.remoteUploading=i,this.remoteDownloading=o,this.lengthAcked=a?r:0,this.syncsProcessing++,this.replicator._updateFork(this),this.remoteLength>this.core.tree.length&&this.lengthAcked===this.core.tree.length&&null!==this.replicator._addUpgradeMaybe()&&this._update(),!1==s||!1==a?this.canUpgrade&&a:await this._canUpgrade(t,e));t===this.remoteLength&&e===this.core.tree.fork&&(this.canUpgrade=n),0==--this.syncsProcessing&&((!0===this.needsSync||this.core.tree.fork===this.remoteFork&&this.core.tree.length>this.remoteLength)&&this.signalUpgrade(),this._update())}_shouldUpdateCanUpgrade(){return this.core.tree.fork===this.remoteFork&&this.core.tree.length>this.remoteLength&&!1===this.canUpgrade&&0===this.syncsProcessing}async _updateCanUpgradeAndSync(){var{length:e,fork:t}=this.core.tree,r=await this._canUpgrade(this.remoteLength,this.remoteFork);0<this.syncsProcessing||e!==this.core.tree.length||t!==this.core.tree.fork||r!==this.canUpgrade&&(this.canUpgrade=r,this.sendSync())}async _canUpgrade(e,t){if(t!==this.core.tree.fork)return!1;if(0===e)return!0;if(e>=this.core.tree.length)return!1;try{var r=await this.core.tree.upgradeable(e);return t!==this.core.tree.fork?!1:r}catch{return!1}}async _getProof(e){const t=await this.core.tree.proof(e);if(t.block){var r=e.block.index;if(e.fork!==this.core.tree.fork||!this.core.bitfield.get(r))return null;t.block.value=await this.core.blocks.get(r)}return t}async onrequest(e){let t=null;if(e.fork===this.core.tree.fork)try{t=await this._getProof(e)}catch(e){r(e)}null!==t?(null!==t.block&&this.replicator.onupload(t.block.index,t.block.value,this),this.wireData.send({request:e.id,fork:e.fork,block:t.block,hash:t.hash,seek:t.seek,upgrade:t.upgrade})):this.wireNoData.send({request:e.id})}async ondata(e){var t=0<e.request?this.replicator._inflight.get(e.request):null,r=e.fork>this.core.tree.fork;if(null!==t||!1!=r){if(null!==t){if(t.peer!==this)return;this.inflight--,this.replicator._inflight.remove(t.id)}if(!0==r)return this.replicator._onreorgdata(this,t,e);this.dataProcessing++;try{if(!A(t,e)||!await this.core.verify(e,this))return void this.replicator._onnodata(this,t)}catch(e){throw this.replicator._onnodata(this,t),e}finally{this.dataProcessing--}this.replicator._ondata(this,t,e),!0===this._shouldUpdateCanUpgrade()&&this._updateCanUpgradeAndSync()}}onnodata({request:e}){e=0<e?this.replicator._inflight.get(e):null;null!==e&&e.peer===this&&(this.inflight--,this.replicator._inflight.remove(e.id),this.replicator._onnodata(this,e))}onwant({start:e,length:t}){this.replicator._onwant(this,e,t)}onunwant(){}onbitfield({start:e,bitfield:t}){var r;t.length<1024&&(r=n.from(t.buffer,t.byteOffset,t.byteLength),r=n.concat([r,n.alloc(4096-r.length)]),t=new Uint32Array(r.buffer,r.byteOffset,1024)),this.remoteBitfield.pages.set(e/this.core.bitfield.pageSize,t),this._update()}onrange({drop:e,start:t,length:r}){this.remoteBitfield.setRange(t,r,!1===e),!1===e&&this._update()}onreorghint(){}_update(){this.replicator.updatePeer(this)}_makeRequest(e){return!0===e&&!1===this.replicator._shouldUpgrade(this)?null:(!1===e&&!0===this.replicator._autoUpgrade(this)&&(e=!0),{peer:this,id:0,fork:this.remoteFork,block:null,hash:null,seek:null,upgrade:!1===e?null:{start:this.core.tree.length,length:this.remoteLength-this.core.tree.length}})}_requestUpgrade(e){var t=this._makeRequest(!0);return null!==t&&(this._send(t),!0)}_requestSeek(r){var{length:e,fork:t}=this.core.tree;if(t===this.remoteFork){if(r.seeker.start>=e){const s=this._makeRequest(!0);return null===s?!1:(s.seek={bytes:r.seeker.bytes},r.inflight.push(s),this._send(s),!0)}var n=r.seeker.end-r.seeker.start,i=r.seeker.start+Math.floor(Math.random()*n);for(let t=0;t<n;t++){let e=i+t;if(e>r.seeker.end&&(e-=n),!1!==this.remoteBitfield.get(e)&&!0!==this.core.bitfield.get(e)){var o=this.replicator._blocks.get(e);if(!(null!==o&&0<o.inflight.length)){const a=this.replicator._hashes.add(e);if(!(0<a.inflight.length)){const c=this._makeRequest(!1);return c.hash={index:2*e,nodes:0},c.seek={bytes:r.seeker.bytes},r.inflight.push(c),a.inflight.push(c),this._send(c),!0}}}}this._maybeWant(r.seeker.start,n)}return!1}_blockAvailable(e){return this.remoteBitfield.get(e.index)}_requestBlock(e){var{length:t,fork:r}=this.core.tree;if(!1===this.remoteBitfield.get(e.index)||r!==this.remoteFork)return this._maybeWant(e.index),!1;const n=this._makeRequest(e.index>=t);return null!==n&&(n.block={index:e.index,nodes:0},e.inflight.push(n),this._send(n),!0)}_requestRange(r){var{length:n,fork:e}=this.core.tree,i=Math.min(-1===r.end?this.remoteLength:r.end,this.remoteLength);if(!(i<r.start||e!==this.remoteFork)){var o=i-r.start,s=r.start+(r.linear?0:Math.floor(Math.random()*o));for(let t=0;t<o;t++){let e=s+t;if(e>=i&&(e-=o),null!==r.blocks&&(e=r.blocks[e]),!1!==this.remoteBitfield.get(e)&&!0!==this.core.bitfield.get(e)){const a=this.replicator._blocks.add(e);if(!(0<a.inflight.length)){const c=this._makeRequest(e>=n);return null===c?(a.gc(),!1):(c.block={index:e,nodes:0},a.inflight.push(c),this._send(c),a.queued&&(a.queued=!1),!0)}}}this._maybeWant(r.start,o)}return!1}_requestForkProof(e){const t=this._makeRequest(!1);t.upgrade={start:0,length:this.remoteLength},e.inflight.push(t),this._send(t)}_requestForkRange(r){if(r.fork===this.remoteFork&&null!==r.batch.want){var n=Math.min(r.batch.want.end,this.remoteLength);if(!(n<r.batch.want.start)){var i=n-r.batch.want.start,o=r.batch.want.start+Math.floor(Math.random()*i);for(let t=0;t<i;t++){let e=o+t;if(e>=n&&(e-=i),!1!==this.remoteBitfield.get(e)){const s=this._makeRequest(!1);return s.hash={index:2*e,nodes:r.batch.want.nodes},r.inflight.push(s),this._send(s),!0}}this._maybeWant(r.batch.want.start,i)}}return!1}_maybeWant(e,t=1){let r=Math.floor(e/l);for(var n=Math.ceil((e+t)/l);r<n;r++)this.segmentsWanted.has(r)||(this.segmentsWanted.add(r),this.wireWant.send({start:r*l,length:l}))}async _send(e){var t=this.core.tree.fork;if(this.inflight++,this.replicator._inflight.add(e),null!==e.upgrade&&e.fork===t){const r=this.replicator._addUpgrade();r.inflight.push(e)}try{null!==e.block&&e.fork===t&&(e.block.nodes=await this.core.tree.missingNodes(2*e.block.index)),null!==e.hash&&e.fork===t&&(e.hash.nodes=await this.core.tree.missingNodes(e.hash.index))}catch(e){return void this.stream.destroy(e)}this.wireRequest.send(e)}}function A(e,t){return(null===t.block||null!==e.block&&e.block.index===t.block.index)&&((null===t.hash||null!==e.hash&&e.hash.index===t.hash.index)&&((null===t.seek||null!==e.seek&&e.seek.bytes===t.seek.bytes)&&((null===t.upgrade||null!==e.upgrade)&&e.fork===t.fork)))}function _(e,t){t=e.indexOf(t);return-1!==t&&(t<e.length-1?e[t]=e.pop():e.pop(),!0)}function w(e,t){return null===e?t:e[t]}function E(){}function S(e,t){return-1===t?-1:t<e?0:t-e}function k(e,t){return t.userData.onopen(e)}function I(e,t){return t.userData.onclose(e)}function C(e,t){return t.userData.onsync(e)}function B(e,t){return t.userData.onrequest(e)}function x(e,t){return t.userData.ondata(e)}function T(e,t){return t.userData.onnodata(e)}function M(e,t){return t.userData.onwant(e)}function P(e,t){return t.userData.onunwant(e)}function O(e,t){return t.userData.onbitfield(e)}function L(e,t){return t.userData.onrange(e)}function R(e,t){return t.userData.onextension(e)}t.exports=class{constructor(e,t,{eagerUpgrade:r=!0,allowFork:n=!0,onpeerupdate:i=E,onupload:o=E}={}){this.key=t,this.discoveryKey=e.crypto.discoveryKey(t),this.core=e,this.eagerUpgrade=r,this.allowFork=n,this.onpeerupdate=i,this.onupload=o,this.peers=[],this.findingPeers=0,this._inflight=new b,this._blocks=new m,this._hashes=new m,this._queued=[],this._seeks=[],this._upgrade=null,this._reorgs=[],this._ranges=[],this._hadPeers=!1,this._ifAvailable=0,this._updatesPending=0,this._applyingReorg=!1}cork(){for(const e of this.peers)e.protomux.cork()}uncork(){for(const e of this.peers)e.protomux.uncork()}onhave(e,t,r=!1){for(const n of this.peers)n.broadcastRange(e,t,r)}ontruncate(e){const t=[];for(const r of this._blocks)r.index<e||t.push(r);for(const n of t)for(const i of n.refs)!1!==i.snapshot&&n.detach(i,c())}onupgrade(){for(const e of this.peers)e.signalUpgrade();!1===this._blocks.isEmpty()&&this._resolveBlocksLocally(),null!==this._upgrade&&this._resolveUpgradeRequest(null),0===this._ranges.length&&0===this._seeks.length||this._updateNonPrimary()}addUpgrade(e){if(null!==this._upgrade){const t=this._upgrade.attach(e);return this._checkUpgradeIfAvailable(),t}const t=this._addUpgrade().attach(e);for(let e=this._reorgs.length-1;0<=e&&!1===this._applyingReorg;e--){var r=this._reorgs[e];if(null!==r.batch&&r.batch.finished){this._applyReorg(r);break}}return this.updateAll(),t}addBlock(e,t){const r=this._blocks.add(t);t=r.attach(e);return this._queueBlock(r),this.updateAll(),t}addSeek(e,t){const r=new y(this._seeks,t);t=r.attach(e);return this._seeks.push(r),this.updateAll(),t}addRange(e,{start:t=0,end:r=-1,length:n=S(t,r),blocks:i=null,linear:o=!1,ifAvailable:s=!1}={}){null!==i&&(t=0,r=n=i.length);const a=new p(this._ranges,t,-1===n?-1:t+n,o,s,i);n=a.attach(e);return this._ranges.push(a),this._updateNonPrimary(),n}cancel(e){e.context.detach(e,null)}clearRequests(e){for(;0<e.length;){const t=e[e.length-1];t.context.detach(t,null)}this.updateAll()}_addUpgradeMaybe(){return!0===this.eagerUpgrade?this._addUpgrade():this._upgrade}_checkUpgradeIfAvailable(){if(!(0<this._ifAvailable||null===this._upgrade||0===this._upgrade.refs.length||!1===this._hadPeers&&0<this.findingPeers)){for(let e=0;e<this.peers.length;e++){var t=this.peers[e];if(!1===t.remoteSynced)return;if(0===this.core.tree.length&&0<t.remoteLength)return;if(!(t.remoteLength<=this._upgrade.length||t.remoteFork!==this._upgrade.fork)){if(0<t.syncsProcessing)return;if(t.lengthAcked!==this.core.tree.length&&t.remoteFork===this.core.tree.fork)return;if(!0===t.remoteCanUpgrade)return}}if(!0!==this._applyingReorg){for(let e=0;e<this._reorgs.length;e++)if(0<this._reorgs[e].inflight.length)return;const e=this._upgrade;this._upgrade=null,e.resolve(!1)}}}_addUpgrade(){return null===this._upgrade&&(this._upgrade=new g(this,this.core.tree.fork,this.core.tree.length)),this._upgrade}_addReorg(e,t){if(!1===this.allowFork)return null;for(const r of this._reorgs){if(r.fork>e&&null!==r.batch)return null;if(r.fork===e)return r}const r={fork:e,inflight:[],batch:null};this._reorgs.push(r);let n=this._reorgs.length-1;for(;0<n&&this._reorgs[n-1].fork>e;)this._reorgs[n]=this._reorgs[n-1],this._reorgs[--n]=r;return r}_shouldUpgrade(e){return!(null!==this._upgrade&&0<this._upgrade.inflight.length)&&(!0===e.remoteCanUpgrade&&e.remoteLength>this.core.tree.length&&e.lengthAcked===this.core.tree.length)}_autoUpgrade(e){return null!==this._upgrade&&e.remoteFork===this.core.tree.fork&&this._shouldUpgrade(e)}_addPeer(e){this._hadPeers=!0,this.peers.push(e),this.updatePeer(e),this.onpeerupdate(!0,e)}_removePeer(e){this.peers.splice(this.peers.indexOf(e),1);for(const t of this._inflight)t.peer===e&&(this._inflight.remove(t.id),this._clearRequest(e,t));this.onpeerupdate(!1,e),this.updateAll()}_queueBlock(e){0<e.inflight.length||!0===e.queued||(e.queued=!0,this._queued.push(e))}async _resolveBlocksLocally(){let e=null;for(const t of this._blocks)if(!1!==this.core.bitfield.get(t.index)){try{t.resolve(await this.core.blocks.get(t.index))}catch(e){t.reject(e)}(e=null===e?[]:e).push(t)}if(null!==e)for(const r of e)this._blocks.remove(r.index)}_resolveBlockRequest(e,t,r,n){const i=e.remove(t);return null!==i&&(_(i.inflight,n),i.queued=!1,i.resolve(r),!0)}_resolveUpgradeRequest(e){if(null!==e&&_(this._upgrade.inflight,e),this.core.tree.length===this._upgrade.length&&this.core.tree.fork===this._upgrade.fork)return!1;const t=this._upgrade;return this._upgrade=null,t.resolve(!0),!0}_resolveRangeRequest(e,t){var r=this._ranges.pop();t<this._ranges.length&&(this._ranges[t]=r),e.resolve(!0)}_clearInflightBlock(e,t){var r=e===this._blocks,n=!0==r?t.block.index:t.hash.index/2;const i=e.get(n);null!==i&&!1!==_(i.inflight,t)&&(0<i.refs.length&&!0==r?this._queueBlock(i):i.gc())}_clearInflightUpgrade(e){!1!==_(this._upgrade.inflight,e)&&this._upgrade.gc()}_clearInflightSeeks(e){for(const t of this._seeks)!1!==_(t.inflight,e)&&t.gc()}_clearInflightReorgs(e){for(const t of this._reorgs)_(t.inflight,e)}_clearOldReorgs(t){for(let e=0;e<this._reorgs.length;e++)this._reorgs[e].fork>=t||(e===this._reorgs.length-1?this._reorgs.pop():this._reorgs[e]=this._reorgs.pop(),e--)}async _updateNonPrimary(){for(;1==++this._updatesPending;){for(let e=0;e<this._ranges.length;e++){const t=this._ranges[e];for(;(-1===t.end||t.start<t.end)&&!0===this.core.bitfield.get(w(t.blocks,t.start));)t.start++;for(;t.start<t.end&&!0===this.core.bitfield.get(w(t.blocks,t.end-1));)t.end--;-1!==t.end&&t.start>=t.end&&this._resolveRangeRequest(t,e--)}for(let r=0;r<this._seeks.length;r++){const n=this._seeks[r];let t=null,e=null;try{e=await n.seeker.update()}catch(e){t=e}(e||t)&&(r<this._seeks.length-1?this._seeks[r]=this._seeks.pop():this._seeks.pop(),r--,t?n.reject(t):n.resolve(e))}if(this._inflight.idle&&this.updateAll(),0==--this._updatesPending)return;this._updatesPending=0}}_maybeResolveIfAvailableRanges(){if(!(0<this._ifAvailable)&&this._inflight.idle&&this._ranges.length){for(let e=0;e<this.peers.length;e++)if(0<this.peers[e].dataProcessing)return;for(let e=0;e<this._ranges.length;e++){var t=this._ranges[e];t.ifAvailable&&this._resolveRangeRequest(t,e--)}}}_clearRequest(e,t){null!==t.block&&this._clearInflightBlock(this._blocks,t),null!==t.hash&&this._clearInflightBlock(this._hashes,t),null!==t.upgrade&&null!==this._upgrade&&this._clearInflightUpgrade(t),0<this._seeks.length&&this._clearInflightSeeks(t),0<this._reorgs.length&&this._clearInflightReorgs(t)}_onnodata(e,t){this._clearRequest(e,t),this.updateAll()}_ondata(e,t,r){null!==r.block&&this._resolveBlockRequest(this._blocks,r.block.index,r.block.value,t),null!==r.hash&&0==(1&r.hash.index)&&this._resolveBlockRequest(this._hashes,r.hash.index/2,null,t),null!==this._upgrade&&this._resolveUpgradeRequest(t),0<this._seeks.length&&this._clearInflightSeeks(t),0<this._reorgs.length&&this._clearInflightReorgs(t),0<this._seeks.length||0<this._ranges.length?this._updateNonPrimary():this.updatePeer(e)}_onwant(e,t,r){r=Math.min(r,this.core.tree.length-t),e.protomux.cork();let n=Math.floor(t/this.core.bitfield.pageSize);for(var i=Math.ceil((t+r)/this.core.bitfield.pageSize);n<i;n++){var o=this.core.bitfield.pages.get(n);o&&e.wireBitfield.send({start:n*this.core.bitfield.pageSize,bitfield:o.bitfield})}e.protomux.uncork()}async _onreorgdata(e,t,r){const n=this._addReorg(r.fork,e);null!==n&&(_(n.inflight,t),n.batch?await n.batch.update(r):r.upgrade&&(n.batch=await this.core.tree.reorg(r),this._clearOldReorgs(n.fork)),n.batch&&n.batch.finished&&null!==this._addUpgradeMaybe()&&await this._applyReorg(n)),this.updateAll()}async _applyReorg(e){const t=this._upgrade;this._applyingReorg=!0,this._reorgs=[];try{await this.core.reorg(e.batch,null)}catch(e){this._upgrade=null,t.reject(e)}this._applyingReorg=!1,null!==this._upgrade&&this._resolveUpgradeRequest(null);for(const r of this.peers)this._updateFork(r);for(const n of this._ranges)n.start=n.userStart,n.end=n.userEnd;this.updateAll()}_maybeUpdate(){return null!==this._upgrade&&0===this._upgrade.inflight.length}_updateFork(e){var t;return!(!0===this._applyingReorg||!1===this.allowFork||e.remoteFork<=this.core.tree.fork)&&(null!==(t=this._addReorg(e.remoteFork,e))&&null===t.batch&&0===t.inflight.length&&e._requestForkProof(t))}_updatePeer(e){if(!(e.inflight>=e.maxInflight)){for(const r of this._seeks)if(!(0<r.inflight.length)&&!0===e._requestSeek(r))return!0;const t=new i(this._queued);for(const n of t)if(!1===n.queued||!0===e._requestBlock(n))return n.queued=!1,t.dequeue(),!0}return!1}_updatePeerNonPrimary(t){if(t.inflight>=t.maxInflight)return!1;for(const e of new i(this._ranges))if(!0===t._requestRange(e))return!0;for(let e=this._reorgs.length-1;0<=e;e--){var r=this._reorgs[e];if(null!==r.batch&&0===r.inflight.length&&!0===t._requestForkRange(r))return!0}return!0===this._maybeUpdate()&&!0===t._requestUpgrade(this._upgrade)}updatePeer(e){if(!0!==this._applyingReorg){for(;!0===this._updatePeer(e););for(;!0===this._updatePeerNonPrimary(e););this._checkUpgradeIfAvailable(),this._maybeResolveIfAvailableRanges()}}updateAll(){if(!0!==this._applyingReorg){const e=new i(this.peers);for(const t of e)!0===this._updatePeer(t)&&e.requeue();if(!1===this._maybeUpdate()&&0===this._ranges.length&&0===this._reorgs.length)this._checkUpgradeIfAvailable();else{for(const r of e.restart())!0===this._updatePeerNonPrimary(r)&&e.requeue();this._checkUpgradeIfAvailable(),this._maybeResolveIfAvailableRanges()}}}attachTo(e){const t=this._makePeer.bind(this,e);e.pair({protocol:"hypercore/alpha",id:this.discoveryKey},t),this._ifAvailable++,e.stream.opened.then(e=>{this._ifAvailable--,e&&t(),this._checkUpgradeIfAvailable()})}_makePeer(e){if(e.opened({protocol:"hypercore/alpha",id:this.discoveryKey}))return!1;var t=e.createChannel({userData:null,protocol:"hypercore/alpha",id:this.discoveryKey,handshake:u.wire.handshake,messages:[{encoding:u.wire.sync,onmessage:C},{encoding:u.wire.request,onmessage:B},null,{encoding:u.wire.data,onmessage:x},{encoding:u.wire.noData,onmessage:T},{encoding:u.wire.want,onmessage:M},{encoding:u.wire.unwant,onmessage:P},{encoding:u.wire.bitfield,onmessage:O},{encoding:u.wire.range,onmessage:L},{encoding:u.wire.extension,onmessage:R}],onopen:k,onclose:I});if(null===t)return!1;const r=new v(this,e,t);t=e.stream;return r.channel.open({capability:h.replicate(t.isInitiator,this.key,t.handshakeHash)}),!0}}},{"./caps":314,"./errors":317,"./messages":319,"./remote-bitfield":322,b4a:175,"random-array-iterator":455,"safety-catch":489}],324:[function(e,t,r){var{Writable:e,Readable:n}=e("streamx");class i extends n{constructor(e,t={}){super(),this.core=e,this.start=t.start||0,this.end="number"==typeof t.end?t.end:-1,this.snapshot=!t.live&&!1!==t.snapshot,this.live=!!t.live}_open(e){this._openP().then(e,e)}_read(e){this._readP().then(e,e)}async _openP(){-1===this.end?await this.core.update():await this.core.ready(),this.snapshot&&-1===this.end&&(this.end=this.core.length)}async _readP(){var e=this.live?-1:-1===this.end?this.core.length:this.end;0<=e&&this.start>=e?this.push(null):this.push(await this.core.get(this.start++))}}r.ReadStream=i;class o extends e{constructor(e){super(),this.core=e}_writev(e,t){this._writevP(e).then(t,t)}async _writevP(e){await this.core.append(e)}}r.WriteStream=o},{streamx:573}],325:[function(e,t,r){var n=e("events")["EventEmitter"];const s=e("random-access-file"),i=e("is-options"),o=e("hypercore-crypto"),a=e("compact-encoding"),c=e("b4a"),u=e("xache"),h=e("@backbonedao/secret-stream"),l=e("protomux"),f=e("codecs"),d=e("../lib/replicator"),p=e("../lib/core"),g=e("../lib/block-encryption"),{ReadStream:y,WriteStream:b}=e("../lib/streams");var{}=e("../lib/common");const{BAD_ARGUMENT:m,SESSION_CLOSED:v,SESSION_NOT_WRITABLE:A,SNAPSHOT_NOT_AVAILABLE:_}=e("../lib/errors"),w=Symbol.for("hypercore.promises");e=Symbol.for("nodejs.util.inspect.custom");function E(){}function S(e){return"object"==typeof e&&e&&"function"==typeof e.pipe}function k(e){return"function"==typeof e&&e.prototype&&"function"==typeof e.prototype.open}function I(e){return e&&c.toString(e,"hex")}function C(t){var r=this.core.tree.length,n=this.core.tree.fork;for(let e=0;e<t.length;e++)this.encryption.encrypt(r+e,t[e],n)}function B(e,t){!t.encryptionKey||e.encryption&&c.equals(e.encryption.key,t.encryptionKey)||(e.encryption=new g(t.encryptionKey,e.key))}t.exports=class x extends n{constructor(e,t,r){if(super(),i(e)?(r=e,t=e=null):i(t)&&(r=t,t=null),t&&"string"==typeof t&&(t=c.from(t.replace(/^0x/,""),"hex")),!(r=r||{}).crypto&&t&&33!==t.byteLength)throw new Error("Core key should be 33 bytes");e=e||r.storage,this[w]=!0,this.storage=null,this.crypto=r.crypto||o,this.core=null,this.replicator=null,this.encryption=null,this.extensions=new Map,this.cache=!0===r.cache?new u({maxSize:65536,maxAge:0}):r.cache||null,this.valueEncoding=null,this.encodeBatch=null,this.activeRequests=[],this.key=t||null,this.keyPair=null,this.readable=!0,this.writable=!1,this.opened=!1,this.closed=!1,this.snapshotted=!!r.snapshot,this.sparse=!1!==r.sparse,this.sessions=r._sessions||[this],this.auth=r.auth||null,this.autoClose=!!r.autoClose,this.onwait=r.onwait||null,this.wait=!1!==r.wait,this.closing=null,this.opening=this._openSession(t,e,r),this.opening.catch(E),this._preappend=C.bind(this),this._snapshot=null,this._findingPeers=0}[e](e,t){let r="";if("number"==typeof t.indentationLvl)for(;r.length<t.indentationLvl;)r+=" ";let n="";var i=Math.min(this.peers.length,5);for(let e=0;e<i;e++){var o=this.peers[e];n=(n=(n=(n=(n=(n+=r+"    Peer(\n")+(r+"      remotePublicKey: "+t.stylize(I(o.remotePublicKey),"string")+"\n"))+(r+"      remoteLength: "+t.stylize(o.remoteLength,"number")+"\n"))+(r+"      remoteFork: "+t.stylize(o.remoteFork,"number")+"\n"))+(r+"      remoteCanUpgrade: "+t.stylize(o.remoteCanUpgrade,"boolean")+"\n"))+(r+"    )\n")}return 5<this.peers.length&&(n+=r+"  ... and "+(this.peers.length-5)+" more\n"),n=n?"[\n"+n+r+"  ]":"[ "+t.stylize(0,"number")+" ]",this.constructor.name+"(\n"+r+"  key: "+t.stylize(I(this.key),"string")+"\n"+r+"  discoveryKey: "+t.stylize(I(this.discoveryKey),"string")+"\n"+r+"  opened: "+t.stylize(this.opened,"boolean")+"\n"+r+"  closed: "+t.stylize(this.closed,"boolean")+"\n"+r+"  snapshotted: "+t.stylize(this.snapshotted,"boolean")+"\n"+r+"  sparse: "+t.stylize(this.sparse,"boolean")+"\n"+r+"  writable: "+t.stylize(this.writable,"boolean")+"\n"+r+"  length: "+t.stylize(this.length,"number")+"\n"+r+"  byteLength: "+t.stylize(this.byteLength,"number")+"\n"+r+"  fork: "+t.stylize(this.fork,"number")+"\n"+r+"  sessions: [ "+t.stylize(this.sessions.length,"number")+" ]\n"+r+"  activeRequests: [ "+t.stylize(this.activeRequests.length,"number")+" ]\n"+r+"  peers: "+n+"\n"+r+")"}static getProtocolMuxer(e){return e.noiseStream.userData}static createProtocolStream(e,t={}){let r=l.isProtomux(e)?e.stream:S(e)?e:t.stream,n=null;if(r?n=r.noiseStream:(n=new h(e,null,t),r=n.rawStream),!n)throw m("Invalid stream");if(!n.userData){const i=new l(n);t.ondiscoverykey&&i.pair({protocol:"hypercore/alpha"},t.ondiscoverykey),!1!==t.keepAlive&&n.setKeepAlive(5e3),n.userData=i}return r}static defaultStorage(e,t={}){if("string"!=typeof e){if(!k(e))return e;const r=e;return e=>new r(e)}const n=e,i=t.lock||"oplog";return function(e){var t=o(e,i),r=o(e,"data")||o(e,"bitfield")||o(e,"tree");return new s(e,{directory:n,lock:t,sparse:r})};function o(e,t){return e===t||e.endsWith("/"+t)}}snapshot(e){return this.session({...e,snapshot:!0})}session(e={}){if(this.closing)throw v("Cannot make sessions on a closing core");var t=!1!==e.sparse&&this.sparse,r=!1!==e.wait&&this.wait,n=(void 0===e.onwait?this:e).onwait;const i=e.class||x,o=new i(this.storage,this.key,{...e,sparse:t,wait:r,onwait:n,_opening:this.opening,_sessions:this.sessions});return o._passCapabilities(this),!1!==e.cache&&(o.cache=(!0!==e.cache&&e.cache?e:this).cache),B(o,e),this.sessions.push(o),o}_passCapabilities(e){this.auth||(this.auth=e.auth),this.crypto=e.crypto,this.key=e.key,this.core=e.core,this.replicator=e.replicator,this.encryption=e.encryption,this.writable=!(!this.auth||!this.auth.sign),this.autoClose=e.autoClose,this.snapshotted&&this.core&&!this._snapshot&&this._updateSnapshot()}async _openFromExisting(e,t){await e.opening,this._passCapabilities(e),this.sessions=e.sessions,this.storage=e.storage,this.replicator.findingPeers+=this._findingPeers,B(this,t),this.sessions.push(this)}async _openSession(e,t,r){var n=!r._opening;n||await r._opening,r.preload&&(r={...r,...await r.preload()});const i=e&&r.keyPair?{...r.keyPair,publicKey:e}:e?{publicKey:e,secretKey:null}:r.keyPair;if(this.key&&i&&(i.publicKey=this.key),r.auth?this.auth=r.auth:r.sign?this.auth=p.createAuth(this.crypto,i,r):i&&i.secretKey&&(this.auth=p.createAuth(this.crypto,i)),n){await this._openCapabilities(i,t,r);for(let e=0;e<this.sessions.length;e++){const o=this.sessions[e];o!==this&&o._passCapabilities(this)}}this.auth||(this.auth=this.core.defaultAuth),this.writable=!!this.auth.sign,r.valueEncoding&&(this.valueEncoding=a.from(f(r.valueEncoding))),r.encodeBatch&&(this.encodeBatch=r.encodeBatch),this.sparse||this.download({start:0,end:-1}),r._preready&&await r._preready(this),this.opened=!0,this.emit("ready")}async _openCapabilities(e,t,r){if(r.from)return this._openFromExisting(r.from,r);if(this.storage=x.defaultStorage(r.storage||t),this.core=await p.open(this.storage,{force:r.force,createIfMissing:r.createIfMissing,overwrite:r.overwrite,keyPair:e,crypto:this.crypto,legacy:r.legacy,auth:r.auth,onupdate:this._oncoreupdate.bind(this)}),r.userData)for(var[n,i]of Object.entries(r.userData))await this.core.userData(n,i);this.key=this.core.header.signer.publicKey,this.keyPair=this.core.header.signer,this.replicator=new d(this.core,this.key,{eagerUpdate:!0,allowFork:!1!==r.allowFork,onpeerupdate:this._onpeerupdate.bind(this),onupload:this._onupload.bind(this)}),this.replicator.findingPeers+=this._findingPeers,!this.encryption&&r.encryptionKey&&(this.encryption=new g(r.encryptionKey,this.key))}_getSnapshot(){return this.sparse?{length:this.core.tree.length,byteLength:this.core.tree.byteLength,fork:this.core.tree.fork,compatLength:this.core.tree.length}:{length:this.core.header.contiguousLength,byteLength:0,fork:this.core.tree.fork,compatLength:this.core.header.contiguousLength}}_updateSnapshot(){var e=this._snapshot,t=this._snapshot=this._getSnapshot();return!e||(e.length!==t.length||e.fork!==t.fork)}close(){return this.closing||(this.closing=this._close()),this.closing}async _close(){await this.opening;var e=this.sessions.indexOf(this);if(-1!==e){this.sessions.splice(e,1),this.readable=!1,this.writable=!1,this.closed=!0,this.opened=!1;const t=[];for(const r of this.extensions.values())r.session===this&&t.push(r);for(const n of t)n.destroy();null!==this.replicator&&(this.replicator.findingPeers-=this._findingPeers,this.replicator.clearRequests(this.activeRequests)),this._findingPeers=0,this.sessions.length?(1===this.sessions.length&&this.autoClose&&await this.sessions[0].close(),this.emit("close",!1)):(await this.core.close(),this.emit("close",!0))}}replicate(e,t={}){var r;return l.isProtomux(e)?this._attachToMuxer(e,t):(r=(e=x.createProtocolStream(e,t)).noiseStream.userData,this._attachToMuxer(r,t),e)}_attachToMuxer(e,t){if(t.session){const r=this.session();e.stream.on("close",()=>r.close().catch(E))}return this.opened?this.replicator.attachTo(e):this.opening.then(()=>this.replicator.attachTo(e),e.destroy.bind(e)),e}get discoveryKey(){return null===this.replicator?null:this.replicator.discoveryKey}get length(){return this._snapshot?this._snapshot.length:null===this.core?0:this.sparse?this.core.tree.length:this.contiguousLength}get byteLength(){return this._snapshot?this._snapshot.byteLength:null===this.core?0:this.sparse?this.core.tree.byteLength-this.core.tree.length*this.padding:this.contiguousByteLength}get contiguousLength(){return null===this.core?0:this.core.header.contiguousLength}get contiguousByteLength(){return 0}get fork(){return null===this.core?0:this.core.tree.fork}get peers(){return null===this.replicator?[]:this.replicator.peers}get encryptionKey(){return this.encryption&&this.encryption.key}get padding(){return null===this.encryption?0:this.encryption.padding}ready(){return this.opening}_onupload(t,e,r){var n=e.byteLength-this.padding;for(let e=0;e<this.sessions.length;e++)this.sessions[e].emit("upload",t,n,r)}_oncoreupdate(e,t,r,n){if(0!==e){var i=0!=(8&e),o=0!=(4&e),s=0!=(2&e),a=0!=(1&e);s&&this.replicator.ontruncate(t.start),0!=(3&e)&&this.replicator.onupgrade();for(let e=0;e<this.sessions.length;e++){const h=this.sessions[e];s&&(h.cache&&h.cache.clear(),h._snapshot&&t.start<h._snapshot.compatLength&&(h._snapshot.compatLength=t.start)),(h.sparse?s:i)&&h.emit("truncate",t.start,this.core.tree.fork),(h.sparse?a:o)&&h.emit("append")}var c=this.core.header.contiguousLength;if(o&&c===this.core.tree.length)for(const l of this.peers)l.broadcastedNonSparse||(l.broadcastRange(0,c),l.broadcastedNonSparse=!0)}if(t&&this.replicator.onhave(t.start,t.length,t.drop),r){var u=r.byteLength-this.padding;for(let e=0;e<this.sessions.length;e++)this.sessions[e].emit("download",t.start,u,n)}}_onpeerupdate(t,r){var n=t?"peer-add":"peer-remove";for(let e=0;e<this.sessions.length;e++)if(this.sessions[e].emit(n,r),t)for(const i of this.sessions[e].extensions.values())r.extensions.set(i.name,i)}async setUserData(e,t){return!1===this.opened&&await this.opening,this.core.userData(e,t)}async getUserData(e){!1===this.opened&&await this.opening;for(var{key:t,value:r}of this.core.header.userData)if(e===t)return r;return null}findingPeers(){this._findingPeers++,null===this.replicator||this.closing||this.replicator.findingPeers++;let e=!0;return()=>{!this.closing&&e&&(e=!1,this._findingPeers--,null!==this.replicator&&0==--this.replicator.findingPeers&&this.replicator.updateAll())}}async update(e){if(!1===this.opened&&await this.opening,null!==this.closing)return!1;if(this.writable)return!!this.snapshotted&&this._updateSnapshot();if(this._snapshot)return!1;var t,r,e=e&&e.activeRequests||this.activeRequests;let n=await this.replicator.addUpgrade(e).promise;return this.sparse||(e=this.length,t=this.core.tree.length,r=this.contiguousLength,await this.download({start:e,end:t,ifAvailable:!0}).downloaded(),n=n||this.contiguousLength!==r),!!n&&(!this.snapshotted||this._updateSnapshot())}async seek(e,t){!1===this.opened&&await this.opening;const r=this.core.tree.seek(e,this.padding);e=await r.update();if(e)return e;if(null!==this.closing)throw v();e=t&&t.activeRequests||this.activeRequests;return this.replicator.addSeek(e,r).promise}async has(e){return!1===this.opened&&await this.opening,this.core.bitfield.get(e)}async get(e,t){if(!1===this.opened&&await this.opening,null!==this.closing)throw v();if(null!==this._snapshot&&e>=this._snapshot.compatLength)throw _();var r=t&&t.valueEncoding&&a.from(f(t.valueEncoding))||this.valueEncoding;let n=this.cache&&this.cache.get(e),i=await(n=n||this._get(e,t));return i?(this.encryption&&(i=c.from(i),this.encryption.decrypt(e,i)),this._decode(r,i)):null}async clear(e,t=e+1,r){if(!1===this.opened&&await this.opening,null!==this.closing)throw v();"object"==typeof t&&(t=e+1),t<=e||await this.core.clear(e,t)}async _get(e,t){let r;if(this.core.bitfield.get(e))r=this.core.blocks.get(e),this.cache&&this.cache.set(e,r);else{if(t&&!1===t.wait)return null;if(!(!1!==this.wait||t&&t.wait))return null;t&&t.onwait&&t.onwait(e,this),this.onwait&&this.onwait(e,this);t=t&&t.activeRequests||this.activeRequests,t=this.replicator.addBlock(t,e);r=this._cacheOnResolve(e,t.promise,this.core.tree.fork)}return r}async _cacheOnResolve(e,t,r){t=await t;return this.cache&&r===this.core.tree.fork&&this.cache.set(e,Promise.resolve(t)),t}createReadStream(e){return new y(this,e)}createWriteStream(e){return new b(this,e)}download(e){const t=this._download(e);return t.catch(E),{async downloaded(){return(await t).promise},destroy(){t.then(e=>e.context&&e.context.detach(e),E)}}}async _download(e){!1===this.opened&&await this.opening;var t=e&&e.activeRequests||this.activeRequests;return this.replicator.addRange(t,e)}undownload(e){e.destroy(null)}cancel(e){}async truncate(e=0,t=-1){if(!1===this.opened&&await this.opening,!1===this.writable)throw A();-1===t&&(t=this.core.tree.fork+1),await this.core.truncate(e,t,this.auth),this.replicator.updateAll()}async append(t){if(!1===this.opened&&await this.opening,!1===this.writable)throw A();t=Array.isArray(t)?t:[t];var e=this.encryption&&this._preappend;const r=null!==this.encodeBatch?this.encodeBatch(t):new Array(t.length);if(null===this.encodeBatch)for(let e=0;e<t.length;e++)r[e]=this._encode(this.valueEncoding,t[e]);return this.core.append(r,this.auth,{preappend:e})}async treeHash(e){void 0===e&&(await this.ready(),e=this.core.length);e=await this.core.tree.getRoots(e);return this.crypto.tree(e)}registerExtension(n,e={}){if(this.extensions.has(n)){const t=this.extensions.get(n);return t.handlers=e,t.encoding=a.from(f(e.encoding)||a.buffer),t.session=this,t}const t={name:n,handlers:e,encoding:a.from(f(e.encoding)||a.buffer),session:this,send(e,t){e=a.encode(this.encoding,e);t.extension(n,e)},broadcast(e){var t=a.encode(this.encoding,e);for(const r of this.session.peers)r.extension(n,t)},destroy(){for(const e of this.session.peers)e.extensions.get(n)===t&&e.extensions.delete(n);this.session.extensions.delete(n)},_onmessage(e,t){e=this.encoding.decode(e);this.handlers.onmessage&&this.handlers.onmessage(e,t)}};this.extensions.set(n,t);for(const r of this.peers)r.extensions.set(n,t);return t}_encode(e,t){const r={start:this.padding,end:this.padding,buffer:null};if(c.isBuffer(t)){if(0===r.start)return t;r.end+=t.byteLength}else if(e)e.preencode(r,t);else{if(t=c.from(t),0===r.start)return t;r.end+=t.byteLength}return r.buffer=c.allocUnsafe(r.end),e?e.encode(r,t):r.buffer.set(t,r.start),r.buffer}_decode(e,t){return this.padding&&(t=t.subarray(this.padding)),e?a.decode(e,t):t}}},{"../lib/block-encryption":312,"../lib/common":315,"../lib/core":316,"../lib/errors":317,"../lib/replicator":323,"../lib/streams":324,"@backbonedao/secret-stream":333,b4a:175,codecs:226,"compact-encoding":229,events:284,"hypercore-crypto":295,"is-options":367,protomux:439,"random-access-file":450,xache:596}],326:[function(u,h,e){!function(o){!function(){var e=u("events")["EventEmitter"];const r=u("@geut/discovery-swarm-webrtc"),n=u("hyperswarm-proxy-ws/client");u("duplexpair");const s=u("wrtc"),a=["wss://node1.network.backbonedao.com:1337"];function c(t,e=[],r=[]){let n=e.map(e=>(e=e.endsWith("/")?e.slice(0,-1):e)+"/"+t);if(0!==(n=n.concat(r)).length)return n}function i(e){var{id:e,channel:t,initiator:r}=e;return{type:"webrtc",client:r,peer:{port:0,host:e,topic:t},deduplicate:()=>!1}}h.exports=function(e){return new t(e)};class t extends e{constructor(e={}){super();var{bootstrap:e,webrtcBootstrap:t,wsProxy:r,maxPeers:n,simplePeer:i,wsReconnectDelay:o}=e,i={...i,wrtc:s};this.webrtcOpts={maxPeers:n,simplePeer:i,bootstrap:c("signal",e,t)||a},this.wsOpts={maxPeers:n,proxy:c("proxy",e,r)||"wss://node1.network.backbonedao.com:1337"},o&&(this.wsOpts.reconnectDelay=o),this.isListening=!1,this.destroyed=!1,this._peers=new Map}_handleConnection(e,t){this._peers.set(t.peer.host,{connection:e,info:t}),this.emit("connection",e,t)}_handleDisconnection(e,t){this._peers.delete(t.peer.host),this.emit("disconnection",e,t)}get peers(){return Array.from(this._peers.values())}address(){return{port:0,family:"IPv4",address:"127.0.0.1"}}listen(e,t){if(this.isListening)return setTimeout(t,0);this.isListening=!0,this.webrtc=r(this.webrtcOpts),this.webrtc.on("connection",(e,t)=>this._handleConnection(e,i(t))),this.webrtc.on("connection-closed",(e,t)=>this._handleDisconnection(e,i(t))),this.ws=new n(this.wsOpts),this.ws.on("connection",(e,t)=>this._handleConnection(e,t)),this.ws.on("disconnection",(e,t)=>this._handleDisconnection(e,t))}join(e,t){this.listen(),this.webrtc.join(e),this.ws.join(e,t)}leave(e){this.listen(),this.webrtc.leave(e),this.ws.leave(e)}connect(e,t){this.listen(),this.ws.connect(e,t)}connectivity(e){this.listen(()=>{e(null,{bound:!0,bootstrapped:!0,holepunched:!0})})}flush(e){o.nextTick(e)}status(){return{lookup:!0,announce:!1}}destroy(e){this.destroyed=!0,this.webrtc.close(()=>{this.ws.destroy(e)})}}}.call(this)}.call(this,u("_process"))},{"@geut/discovery-swarm-webrtc":141,_process:437,duplexpair:256,events:284,"hyperswarm-proxy-ws/client":355,wrtc:595}],327:[function(e,t,r){const{createHash:n,randomBytes:i}=e("@backbonedao/crypto"),o=e("@noble/secp256k1"),s=e("b4a");const a=e=>{e=e||i(32);return{secretKey:e,publicKey:s.from(o.getPublicKey(e,!0))}};t.exports={DHLEN:32,PKLEN:33,SKLEN:32,ALG:"secp256k1",name:"secp256k1",generateKeyPair:a,generateSeedKeyPair:e=>a(s.from(n(e),"hex")),dh:(e,t)=>{t=o.getSharedSecret(t,s.from(e),!0);return n(t)}}},{"@backbonedao/crypto":295,"@noble/secp256k1":158,b4a:175}],328:[function(e,t,r){const s=e("sodium-javascript"),a=e("b4a");function n(e,t,r,n){a.isBuffer(r)||(r=a.from(r,"hex")),a.isBuffer(n)||(n=a.from(n,"hex"));var i=a.alloc(s.crypto_aead_chacha20poly1305_ietf_NPUBBYTES);const o=new DataView(i.buffer,i.byteOffset,i.byteLength);o.setUint32(4,t,!0);t=a.alloc(n.byteLength+s.crypto_aead_chacha20poly1305_ietf_ABYTES);return s.crypto_aead_chacha20poly1305_ietf_encrypt(t,n,r,null,i,e),t}function i(e,t,r,n){a.isBuffer(r)||(r=a.from(r,"hex")),a.isBuffer(n)||(n=a.from(n,"hex"));var i=a.alloc(s.crypto_aead_chacha20poly1305_ietf_NPUBBYTES);const o=new DataView(i.buffer,i.byteOffset,i.byteLength);o.setUint32(4,t,!0);t=a.alloc(n.byteLength-s.crypto_aead_chacha20poly1305_ietf_ABYTES);return s.crypto_aead_chacha20poly1305_ietf_decrypt(t,null,n,r,i,e),t}t.exports=class{constructor(e){this.key=e||null,this.nonce=0,this.CIPHER_ALG="ChaChaPoly"}initialiseKey(e){this.key=e,this.nonce=0}setNonce(e){this.nonce=e}encrypt(e,t){if(!this.hasKey)return e;t=t||a.alloc(0);t=n(this.key,this.nonce,t,e);return this.nonce++,t}decrypt(e,t){if(!this.hasKey)return e;t=t||a.alloc(0);t=i(this.key,this.nonce,t,e);return this.nonce++,t}get hasKey(){return null!==this.key}_clear(){s.sodium_memzero(this.key),this.key=null,this.nonce=null}static get MACBYTES(){return 16}static get NONCEBYTES(){return 8}static get KEYBYTES(){return 32}}},{b4a:175,"sodium-javascript":561}],329:[function(e,t,r){const c=e("nanoassert"),n=e("hmac-blake2b"),u=e("b4a"),h=64;function l(e,t){var r=u.alloc(h);return n(r,t,e),r}t.exports={hkdf:function(e,t,r="",n=2*h){const i=function(e,t){return l(e,u.from(t))}(e,t),o=function(t,r,e){const n=[u.from(r)],i=e/h;for(let e=0;e<i;e++){var o=u.from(r),o=u.concat([n[e],o,u.from([e+1])]);n[e+1]=l(t,o)}var s=u.concat(n.slice(1));return c(s.byteLength===e,"key expansion failed, length not as expected"),s}(i,r,n),[s,a]=[o.slice(0,h),o.slice(h)];return[s,a]},HASHLEN:h}},{b4a:175,"hmac-blake2b":353,nanoassert:394}],330:[function(e,t,r){const n=e("nanoassert"),o=e("b4a");var i=e("./symmetric-state");const s=e("./hkdf")["HASHLEN"],a=Symbol("initiator static key preshared"),c=Symbol("responder static key preshared"),u=Symbol("s"),h=Symbol("e"),l=Symbol("es"),f=Symbol("se"),d=Symbol("ee"),p=Symbol("ss"),g=Object.freeze({XX:[[h],[h,d,u,l],[u,f]],IK:[c,[h,l,u,p],[h,d,f]]});class y{constructor(){this.size=0,this.buffers=[]}push(e){this.size+=e.byteLength,this.buffers.push(e)}end(){const e=o.alloc(this.size);let t=0;for(const r of this.buffers)e.set(r,t),t+=r.byteLength;return e}}class b{constructor(e){this.offset=0,this.buffer=e}shift(e){var t=this.offset,e=this.offset+=e;if(e>this.buffer.byteLength)throw new Error("Insufficient bytes");return this.buffer.subarray(t,e)}end(){return this.shift(this.buffer.byteLength-this.offset)}}function m(e,t){const r={local:!1,remote:!1};switch(e){case d:return r;case l:return r.local^=!t,r.remote^=t,r;case f:return r.local^=t,r.remote^=!t,r;case p:return r.local^=1,r.remote^=1,r}}t.exports=class extends i{constructor(e,t,r,n={}){super(n),this.s=r||this.curve.generateKeyPair(),this.e=null,this.re=null,this.rs=null,this.pattern=e,this.handshake=g[this.pattern].slice(),this.protocol=o.from(["Noise",this.pattern,this.DH_ALG,this.CIPHER_ALG,"BLAKE2b"].join("_")),this.initiator=t,this.complete=!1,this.rx=null,this.tx=null,this.hash=null}initialise(e,t){for(this.protocol.byteLength<=s?this.digest.set(this.protocol):this.mixHash(this.protocol),this.chainingKey=o.from(this.digest),this.mixHash(e);!Array.isArray(this.handshake[0]);){var r=this.handshake.shift(),r=(n(r===c||r===a,"Unexpected pattern"),this.initiator?r===c:r===a),r=(r&&(this.rs=t),r?this.rs:this.s.publicKey);n(null!=r,"Remote pubkey required"),this.mixHash(r)}}final(){var[e,t]=this.split();this.tx=this.initiator?e:t,this.rx=this.initiator?t:e,this.complete=!0,this.hash=this.getHandshakeHash(),this._clear()}recv(e){const t=new b(e);for(const o of this.handshake.shift())switch(o){case h:this.re=t.shift(this.curve.PKLEN),this.mixHash(this.re);break;case u:var r=this.hasKey?this.curve.PKLEN+16:this.curve.PKLEN;this.rs=this.decryptAndHash(t.shift(r));break;case d:case l:case f:case p:var r=m(o,this.initiator),n=(r.local?this.s:this.e).secretKey,i=r.remote?this.rs:this.re;this.mixKey(i,n);break;default:throw new Error("Unexpected message")}e=this.decryptAndHash(t.end());return this.handshake.length||this.final(),e}send(e=o.alloc(0)){const t=new y;for(const i of this.handshake.shift())switch(i){case h:null===this.e&&(this.e=this.curve.generateKeyPair()),this.mixHash(this.e.publicKey),t.push(this.e.publicKey);break;case u:t.push(this.encryptAndHash(this.s.publicKey));break;case l:case f:case d:case p:var r=m(i,this.initiator),n=(r.local?this.s:this.e).secretKey,r=r.remote?this.rs:this.re;this.mixKey(r,n);break;default:throw new Error("Unexpected message")}t.push(this.encryptAndHash(e));e=t.end();return this.handshake.length||this.final(),e}_clear(){super._clear(),this.e.secretKey.fill(0),this.e.publicKey.fill(0),this.re.fill(0),this.e=null,this.re=null}}},{"./hkdf":329,"./symmetric-state":331,b4a:175,nanoassert:394}],331:[function(e,t,r){const n=e("sodium-javascript"),i=e("nanoassert"),o=e("b4a"),s=e("./cipher"),a=e("@backbonedao/noise-curve-secp256k1"),{HASHLEN:c,hkdf:u}=e("./hkdf");function h(e,t){t=o.concat([e,t]);n.crypto_generichash(e,t)}t.exports=class extends s{constructor(e=0){super(),this.curve=a,this.digest=o.alloc(c),this.chainingKey=null,this.offset=0,this.DH_ALG=this.curve.ALG}mixHash(e){h(this.digest,e)}mixKey(e,t){e=this.curve.dh(e,t);const r=u(this.chainingKey,e);this.chainingKey=r[0],this.initialiseKey(r[1].subarray(0,32))}encryptAndHash(e){e=this.encrypt(e,this.digest);return h(this.digest,e),e}decryptAndHash(e){var t=this.decrypt(e,this.digest);return h(this.digest,e),t}getHandshakeHash(e){return e?(i(e.byteLength===c,`output must be ${c} bytes`),e.set(this.digest),e):this.getHandshakeHash(o.alloc(c))}split(){const e=u(this.chainingKey,o.alloc(0));return e.map(e=>e.subarray(0,32))}_clear(){super._clear(),n.sodium_memzero(this.digest),n.sodium_memzero(this.chainingKey),this.digest=null,this.chainingKey=null,this.offset=null,this.curve=null}static get alg(){return s.alg+"_BLAKE2b"}}},{"./cipher":328,"./hkdf":329,"@backbonedao/noise-curve-secp256k1":327,b4a:175,nanoassert:394,"sodium-javascript":561}],332:[function(e,t,n){var s=e("varint"),r=e("signed-varint");const a=e("b4a");function i(e,t,r,n){return t.bytes=r.bytes=0,{type:e,encode:t,decode:r,encodingLength:n}}function c(e){return a.isBuffer(e)?e.length:a.byteLength(e)}n.make=i,n.name=function(e){for(var t=Object.keys(n),r=0;r<t.length;r++)if(n[t[r]]===e)return t[r];return null},n.skip=function(e,t,r){switch(e){case 0:return s.decode(t,r),r+s.decode.bytes;case 1:return r+8;case 2:var n=s.decode(t,r);return r+s.decode.bytes+n;case 3:case 4:throw new Error("Groups are not supported");case 5:return r+4}throw new Error("Unknown wire type: "+e)},n.bytes=i(2,function e(t,r,n){var i=n,o=c(t);return s.encode(o,r,n),n+=s.encode.bytes,a.isBuffer(t)?a.copy(t,r,n):a.write(r,t,n,o),e.bytes=(n+=o)-i,r},function e(t,r){var n=r,i=s.decode(t,r),t=(r+=s.decode.bytes,t.slice(r,r+i));return r+=t.length,e.bytes=r-n,t},function(e){e=c(e);return s.encodingLength(e)+e}),n.string=i(2,function e(t,r,n){var i=n,o=a.byteLength(t);return s.encode(o,r,n,"utf-8"),n+=s.encode.bytes,a.write(r,t,n,o),e.bytes=(n+=o)-i,r},function e(t,r){var n=r,i=s.decode(t,r),t=(r+=s.decode.bytes,a.toString(t,"utf-8",r,r+i));return e.bytes=(r+=i)-n,t},function(e){e=a.byteLength(e);return s.encodingLength(e)+e}),n.bool=i(0,function e(t,r,n){return r[n]=t?1:0,e.bytes=1,r},function e(t,r){t=0<t[r];return e.bytes=1,t},function(){return 1}),n.int32=i(0,function e(t,r,n){return s.encode(t<0?t+4294967296:t,r,n),e.bytes=s.encode.bytes,r},function e(t,r){t=s.decode(t,r);return e.bytes=s.decode.bytes,2147483647<t?t-4294967296:t},function(e){return s.encodingLength(e<0?e+4294967296:e)}),n.int64=i(0,function e(t,r,n){if(t<0){var i=n+9;for(s.encode(-1*t,r,n),r[n+=s.encode.bytes-1]=128|r[n];n<i-1;)r[++n]=255;r[i]=1,e.bytes=10}else s.encode(t,r,n),e.bytes=s.encode.bytes;return r},function e(t,r){var n=s.decode(t,r);if(n>=Math.pow(2,63)){for(var i=9;255===t[r+i-1];)i--;var i=i||9,o=a.allocUnsafe(i);a.copy(t,o,0,r,r+i),o[i-1]=127&o[i-1],n=-1*s.decode(o,0),e.bytes=10}else e.bytes=s.decode.bytes;return n},function(e){return e<0?10:s.encodingLength(e)}),n.sint32=n.sint64=i(0,r.encode,r.decode,r.encodingLength),n.uint32=n.uint64=n.enum=n.varint=i(0,s.encode,s.decode,s.encodingLength),n.fixed64=n.sfixed64=i(1,function e(t,r,n){return a.copy(t,r,n),e.bytes=8,r},function e(t,r){t=t.slice(r,r+8);return e.bytes=8,t},function(){return 8}),n.double=i(1,function e(t,r,n){return r.writeDoubleLE(t,n),e.bytes=8,r},function e(t,r){t=t.readDoubleLE(r);return e.bytes=8,t},function(){return 8}),n.fixed32=i(5,function e(t,r,n){return r.writeUInt32LE(t,n),e.bytes=4,r},function e(t,r){t=t.readUInt32LE(r);return e.bytes=4,t},function(){return 4}),n.sfixed32=i(5,function e(t,r,n){return r.writeInt32LE(t,n),e.bytes=4,r},function e(t,r){t=t.readInt32LE(r);return e.bytes=4,t},function(){return 4}),n.float=i(5,function e(t,r,n){return r.writeFloatLE(t,n),e.bytes=4,r},function e(t,r){t=t.readFloatLE(r);return e.bytes=4,t},function(){return 4})},{b4a:175,"signed-varint":528,varint:585}],333:[function(e,t,r){const{Pull:s,Push:a,HEADERBYTES:n,KEYBYTES:c,ABYTES:i}=e("sodium-secretstream"),o=e("sodium-javascript");var u=e("streamx")["Duplex"];const h=e("b4a"),l=e("timeout-refresh"),f=e("./lib/bridge"),d=e("./lib/handshake"),p=n+32,g=h.alloc(96);e=g.subarray(0,32);const y=g.subarray(32,64),b=g.subarray(64,96);function m(e,t){t[0]=255&e,t[1]=e>>>8&255,t[2]=e>>>16&255}function v(e,t,r=h.allocUnsafe(32)){return o.crypto_generichash(r,e,t?y:b),r}function A(e){return"string"==typeof e?h.from(e):e}function _(){this.destroy(new Error("Stream timed out"))}function w(){var e=this.alloc(0);this.write(e)}o.crypto_generichash(e,h.from("hyperswarm/secret-stream")),o.crypto_generichash(y,h.from([0]),e),o.crypto_generichash(b,h.from([1]),e),t.exports=class extends u{constructor(e,t,r={}){if(super({mapWritable:A}),"boolean"!=typeof e)throw new Error("isInitiator should be a boolean");(this.noiseStream=this).isInitiator=e,this.rawStream=null,this.publicKey=r.publicKey||null,this.remotePublicKey=r.remotePublicKey||null,this.handshakeHash=null;let n=this.userData=null;this.opened=new Promise(e=>{n=e}),this._rawStream=null,this._handshake=null,this._handshakePattern=r.pattern||null,this._handshakeDone=null,this._state=0,this._len=0,this._tmp=1,this._message=null,this._openedDone=n,this._startDone=null,this._drainDone=null,this._outgoingPlain=null,this._outgoingWrapped=null,this._utp=null,this._setup=!0,this._ended=2,this._encrypt=null,this._decrypt=null,this._timeout=null,this._timeoutMs=0,this._keepAlive=null,this._keepAliveMs=0,!1!==r.autoStart&&this.start(t,r),this.resume(),this.pause()}static keyPair(e){return d.keyPair(e)}static id(e,t,r){return v(e,t,r)}setTimeout(e){e=e||0,this._clearTimeout(),(this._timeoutMs=e)&&null!==this.rawStream&&(this._timeout=l.once(e,_,this),this._timeout.unref())}setKeepAlive(e){(this._keepAliveMs=e=e||0)&&null!==this.rawStream&&(this._keepAlive=l.on(e,w,this),this._keepAlive.unref())}start(e,t={}){e?(this.rawStream=e,this._rawStream=e,"function"==typeof this.rawStream.setContentSize&&(this._utp=e)):(this.rawStream=new f(this),this._rawStream=this.rawStream.reverse),this.rawStream.on("error",this._onrawerror.bind(this)),this.rawStream.on("close",this._onrawclose.bind(this)),this._startHandshake(t.handshake,t.keyPair||null),this._continueOpen(null),this.destroying||(t.data&&this._onrawdata(t.data),t.ended&&this._onrawend(),0<this._keepAliveMs&&null===this._keepAlive&&this.setKeepAlive(this._keepAliveMs),0<this._timeoutMs&&null===this._timeout&&this.setTimeout(this._timeoutMs))}_continueOpen(e){e&&this.destroy(e),null!==this._startDone&&(e=this._startDone,this._startDone=null,this._open(e))}_onkeypairpromise(e){const t=this,r=this._continueOpen.bind(this);e.then(function(e){t._onkeypair(e),r(null)},r)}_onkeypair(e){var t=this._handshakePattern||"XX",r=this.remotePublicKey;this._handshake=new d(this.isInitiator,e,r,t),this.publicKey=this._handshake.keyPair.publicKey}_startHandshake(e,t){var r,n,i,o;e?({tx:e,rx:r,hash:n,publicKey:i,remotePublicKey:o}=e,this._setupSecretStream(e,r,n,i,o)):"function"==typeof(t=t||d.keyPair()).then?this._onkeypairpromise(t):this._onkeypair(t)}_onrawerror(e){this.destroy(e)}_onrawclose(){0!==this._ended&&this.destroy()}_onrawdata(e){let t=0;null!==this._timeout&&this._timeout.refresh();do{switch(this._state){case 0:for(;16777216!==this._tmp&&t<e.length;){var r=e[t++];this._len+=this._tmp*r,this._tmp*=256}16777216===this._tmp&&(this._tmp=0,this._state=1,(i=e.length-t)<this._len&&null!==this._utp&&this._utp.setContentSize(this._len-i));break;case 1:var n,i=this._len-this._tmp,o=i+t;null===this._message&&o<=e.length?(this._message=e.subarray(t,o),t+=i,this._incoming()):(n=e.length-t,null===this._message&&(this._message=h.allocUnsafe(this._len)),h.copy(e,this._message,this._tmp,t),this._tmp+=n,o<=e.length?(t+=i,this._incoming()):t+=n)}}while(t<e.length&&!this.destroying)}_onrawend(){this._ended--,this.push(null)}_onrawdrain(){const e=this._drainDone;null!==e&&(this._drainDone=null,e())}_read(e){this.rawStream.resume(),e(null)}_incoming(){const e=this._message;if(this._state=0,this._len=0,this._tmp=1,!(this._message=null)===this._setup)if(this._handshake)this._onhandshakert(this._handshake.recv(e));else{if(e.byteLength!==p)return void this.destroy(new Error("Invalid header message received"));var t=e.subarray(0,32),r=v(this.handshakeHash,!this.isInitiator),n=e.subarray(32);if(!h.equals(r,t))return void this.destroy(new Error("Invalid header received"));this._decrypt.init(n),this._setup=!1}else if(e.length<i)this.destroy(new Error("Invalid message received"));else{r=e.subarray(1,e.byteLength-i+1);try{this._decrypt.next(e,r)}catch(e){return void this.destroy(e)}0===r.byteLength&&0!==this._keepAliveMs||!1===this.push(r)&&this.rawStream.pause()}}_onhandshakert(e){if(null!==this._handshakeDone&&(null===e||(e.data&&this._rawStream.write(e.data),e.tx))){const r=this._handshakeDone;var t=this._handshake.keyPair.publicKey;if(this._handshakeDone=null,(this._handshake=null)===e)return r(new Error("Noise handshake failed"));this._setupSecretStream(e.tx,e.rx,e.hash,t,e.remotePublicKey),this._resolveOpened(!0),r(null)}}_setupSecretStream(e,t,r,n,i){const o=h.allocUnsafe(3+p);m(p,o),this._encrypt=new a(e.subarray(0,c),void 0,o.subarray(35)),this._decrypt=new s(t.subarray(0,c)),this.publicKey=n,this.remotePublicKey=i,this.handshakeHash=r;e=o.subarray(3,35);v(r,this.isInitiator,e),this.emit("handshake"),this.rawStream!==this._rawStream&&this.rawStream.emit("handshake"),this.destroying||this._rawStream.write(o)}_open(e){if(null===this._rawStream||null===this._handshake&&null===this._encrypt)this._startDone=e;else{if(this._rawStream.on("data",this._onrawdata.bind(this)),this._rawStream.on("end",this._onrawend.bind(this)),this._rawStream.on("drain",this._onrawdrain.bind(this)),null!==this._encrypt)return this._resolveOpened(!0),e(null);this._handshakeDone=e,this.isInitiator&&this._onhandshakert(this._handshake.send())}}_predestroy(){var e;if(this.rawStream&&(e=this._readableState.error||this._writableState.error,this.rawStream.destroy(e)),null!==this._startDone){const t=this._startDone;this._startDone=null,t(new Error("Stream destroyed"))}if(null!==this._handshakeDone){const r=this._handshakeDone;this._handshakeDone=null,r(new Error("Stream destroyed"))}if(null!==this._drainDone){const n=this._drainDone;this._drainDone=null,n(new Error("Stream destroyed"))}}_write(e,t){let r=this._outgoingWrapped;e!==this._outgoingPlain?(r=h.allocUnsafe(e.byteLength+3+i)).set(e,4):this._outgoingWrapped=this._outgoingPlain=null,m(r.byteLength-3,r),this._encrypt.next(r.subarray(4,4+e.byteLength),r.subarray(3)),null!==this._keepAlive&&this._keepAlive.refresh(),!1===this._rawStream.write(r)?this._drainDone=t:t(null)}_final(e){this._clearKeepAlive(),this._ended--,this._rawStream.end(),e(null)}_resolveOpened(e){if(null!==this._openedDone){const t=this._openedDone;this._openedDone=null,t(e),e&&this.emit("connect")}}_clearTimeout(){null!==this._timeout&&(this._timeout.destroy(),this._timeout=null,this._timeoutMs=0)}_clearKeepAlive(){null!==this._keepAlive&&(this._keepAlive.destroy(),this._keepAlive=null,this._keepAliveMs=0)}_destroy(e){this._clearKeepAlive(),this._clearTimeout(),this._resolveOpened(!1),e(null)}alloc(e){const t=h.allocUnsafe(e+3+i);return this._outgoingWrapped=t,this._outgoingPlain=t.subarray(4,t.byteLength-i+1),this._outgoingPlain}}},{"./lib/bridge":334,"./lib/handshake":335,b4a:175,"sodium-javascript":561,"sodium-secretstream":567,streamx:573,"timeout-refresh":576}],334:[function(e,t,r){e=e("streamx").Duplex;class n extends e{constructor(e){super(),this._stream=e,this._ondrain=null}_write(e,t){!1===this._stream.push(e)?this._stream._ondrain=t:t(null)}_final(e){this._stream.push(null),e(null)}_read(e){const t=this._ondrain;this._ondrain=null,t&&t(),e(null)}}t.exports=class extends e{constructor(e){super(),this.noiseStream=e,this._ondrain=null,this.reverse=new n(this)}get publicKey(){return this.noiseStream.publicKey}get remotePublicKey(){return this.noiseStream.remotePublicKey}get handshakeHash(){return this.noiseStream.handshakeHash}_read(e){const t=this._ondrain;this._ondrain=null,t&&t(),e(null)}_write(e,t){!1===this.reverse.push(e)?this.reverse._ondrain=t:t(null)}_final(e){this.reverse.push(null),e(null)}}},{streamx:573}],335:[function(e,t,r){e("sodium-javascript");const i=e("@backbonedao/noise-curve-secp256k1"),o=e("@backbonedao/noise-handshake"),n=e("@backbonedao/crypto"),s=e("b4a"),a=s.alloc(0);function c(e,t){t[0]=255&e,t[1]=e>>>8&255,t[2]=e>>>16&255}t.exports=class{constructor(e,t,r,n){this.isInitiator=e,this.keyPair=t,this.noise=new o(n,e,t,{curve:i}),this.noise.initialise(a,r),this.destroyed=!1}static keyPair(e){return n.keyPair(e)}recv(e){try{return this.noise.recv(e),this.noise.complete?this._return(null):this.send()}catch{return this.destroy(),null}}send(){try{var e=this.noise.send();const t=s.allocUnsafe(e.byteLength+3);return c(e.byteLength,t),t.set(e,3),this._return(t)}catch{return this.destroy(),null}}destroy(){this.destroyed||(this.destroyed=!0)}_return(e){var t=this.noise.complete?s.toBuffer(this.noise.tx):null,r=this.noise.complete?s.toBuffer(this.noise.rx):null,n=this.noise.complete?s.toBuffer(this.noise.hash):null;return{data:e,remotePublicKey:this.noise.complete?s.toBuffer(this.noise.rs):null,hash:n,tx:t,rx:r}}}},{"@backbonedao/crypto":295,"@backbonedao/noise-curve-secp256k1":327,"@backbonedao/noise-handshake":330,b4a:175,"sodium-javascript":561}],336:[function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=e("./shams");t.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},{"./shams":337}],337:[function(e,t,r){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"!=typeof Symbol.iterator){var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}}return!0}},{}],338:[function(e,t,r){"use strict";var n=e("has-symbols/shams");t.exports=function(){return n()&&!!Symbol.toStringTag}},{"has-symbols/shams":337}],339:[function(e,t,r){"use strict";e=e("function-bind");t.exports=e.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":292}],340:[function(e,t,r){"use strict";var u=e("safe-buffer").Buffer,n=e("readable-stream").Transform;function i(e){n.call(this),this._block=u.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(i,n),i.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)},i.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},i.prototype.update=function(e,t){var r=e,n="Data";if(!u.isBuffer(r)&&"string"!=typeof r)throw new TypeError(n+" must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");u.isBuffer(e)||(e=u.from(e,t));for(var i=this._block,o=0;this._blockOffset+e.length-o>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)i[s++]=e[o++];this._update(),this._blockOffset=0}for(;o<e.length;)i[this._blockOffset++]=e[o++];for(var a=0,c=8*e.length;0<c;++a)this._length[a]+=c,0<(c=this._length[a]/4294967296|0)&&(this._length[a]-=4294967296*c);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0);for(var r=this._blockOffset=0;r<4;++r)this._length[r]=0;return t},i.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=i},{inherits:362,"readable-stream":482,"safe-buffer":487}],341:[function(e,t,r){r.utils=e("./hash/utils"),r.common=e("./hash/common"),r.sha=e("./hash/sha"),r.ripemd=e("./hash/ripemd"),r.hmac=e("./hash/hmac"),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},{"./hash/common":342,"./hash/hmac":343,"./hash/ripemd":344,"./hash/sha":345,"./hash/utils":352}],342:[function(e,t,r){"use strict";var n=e("./utils"),i=e("minimalistic-assert");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}(r.BlockHash=o).prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){t=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-t,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-t,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},{"./utils":352,"minimalistic-assert":378}],343:[function(e,t,r){"use strict";var n=e("./utils"),i=e("minimalistic-assert");function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}(t.exports=o).prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},{"./utils":352,"minimalistic-assert":378}],344:[function(e,t,r){"use strict";var n=e("./utils"),e=e("./common"),g=n.rotl32,y=n.sum32,b=n.sum32_3,m=n.sum32_4,i=e.BlockHash;function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function v(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}n.inherits(o,i),(r.ripemd160=o).blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(e,t){for(var r,n=h=this.h[0],i=p=this.h[1],o=d=this.h[2],s=f=this.h[3],a=l=this.h[4],c=0;c<80;c++)var u=y(g(m(h,v(c,p,d,f),e[A[c]+t],(r=c)<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838),w[c]),l),h=l,l=f,f=g(d,10),d=p,p=u,u=y(g(m(n,v(79-c,i,o,s),e[_[c]+t],(r=c)<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0),E[c]),a),n=a,a=s,s=g(o,10),o=i,i=u;u=b(this.h[1],d,s),this.h[1]=b(this.h[2],f,a),this.h[2]=b(this.h[3],l,n),this.h[3]=b(this.h[4],h,i),this.h[4]=b(this.h[0],p,o),this.h[0]=u},o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var A=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],w=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],E=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":342,"./utils":352}],345:[function(e,t,r){"use strict";r.sha1=e("./sha/1"),r.sha224=e("./sha/224"),r.sha256=e("./sha/256"),r.sha384=e("./sha/384"),r.sha512=e("./sha/512")},{"./sha/1":346,"./sha/224":347,"./sha/256":348,"./sha/384":349,"./sha/512":350}],346:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),e=e("./common"),h=n.rotl32,l=n.sum32,f=n.sum32_5,d=e.ft_1,o=i.BlockHash,p=[1518500249,1859775393,2400959708,3395469782];function s(){if(!(this instanceof s))return new s;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(s,o),(t.exports=s).blockSize=512,s.outSize=160,s.hmacStrength=80,s.padLength=64,s.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=h(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);for(var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],n=0;n<r.length;n++)var u=~~(n/20),u=f(h(i,5),d(u,o,s,a),c,r[n],p[u]),c=a,a=s,s=h(o,30),o=i,i=u;this.h[0]=l(this.h[0],i),this.h[1]=l(this.h[1],o),this.h[2]=l(this.h[2],s),this.h[3]=l(this.h[3],a),this.h[4]=l(this.h[4],c)},s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":342,"../utils":352,"./common":351}],347:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./256");function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),(t.exports=o).blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},{"../utils":352,"./256":348}],348:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),o=e("./common"),p=e("minimalistic-assert"),g=n.sum32,y=n.sum32_4,b=n.sum32_5,m=o.ch32,v=o.maj32,A=o.s0_256,_=o.s1_256,w=o.g0_256,E=o.g1_256,s=i.BlockHash,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function c(){if(!(this instanceof c))return new c;s.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=a,this.W=new Array(64)}n.inherits(c,s),(t.exports=c).blockSize=512,c.outSize=256,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=y(E(r[n-2]),r[n-7],w(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],l=this.h[7];for(p(this.k.length===r.length),n=0;n<r.length;n++)var f=b(l,_(c),m(c,u,h),this.k[n],r[n]),d=g(A(i),v(i,o,s)),l=h,h=u,u=c,c=g(a,f),a=s,s=o,o=i,i=g(f,d);this.h[0]=g(this.h[0],i),this.h[1]=g(this.h[1],o),this.h[2]=g(this.h[2],s),this.h[3]=g(this.h[3],a),this.h[4]=g(this.h[4],c),this.h[5]=g(this.h[5],u),this.h[6]=g(this.h[6],h),this.h[7]=g(this.h[7],l)},c.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":342,"../utils":352,"./common":351,"minimalistic-assert":378}],349:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./512");function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),(t.exports=o).blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},{"../utils":352,"./512":350}],350:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../common"),M=e("minimalistic-assert"),P=n.rotr64_hi,O=n.rotr64_lo,f=n.shr64_hi,d=n.shr64_lo,L=n.sum64,R=n.sum64_hi,D=n.sum64_lo,p=n.sum64_4_hi,g=n.sum64_4_lo,N=n.sum64_5_hi,F=n.sum64_5_lo,o=i.BlockHash,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=s,this.W=new Array(160)}n.inherits(a,o),(t.exports=a).blockSize=1024,a.outSize=512,a.hmacStrength=192,a.padLength=128,a.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=function(e,t){var r=P(e,t,19),n=P(t,e,29),e=f(e,t,6),t=r^n^e;t<0&&(t+=4294967296);return t}(r[n-4],r[n-3]),o=function(e,t){var r=O(e,t,19),n=O(t,e,29),e=d(e,t,6),t=r^n^e;t<0&&(t+=4294967296);return t}(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],c=function(e,t){var r=P(e,t,1),n=P(e,t,8),e=f(e,t,7),t=r^n^e;t<0&&(t+=4294967296);return t}(r[n-30],r[n-29]),u=function(e,t){var r=O(e,t,1),n=O(e,t,8),e=d(e,t,7),t=r^n^e;t<0&&(t+=4294967296);return t}(r[n-30],r[n-29]),h=r[n-32],l=r[n-31];r[n]=p(i,o,s,a,c,u,h,l),r[n+1]=g(i,o,s,a,c,u,h,l)}},a.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],c=this.h[5],u=this.h[6],h=this.h[7],l=this.h[8],f=this.h[9],d=this.h[10],p=this.h[11],g=this.h[12],y=this.h[13],b=this.h[14],m=this.h[15];M(this.k.length===r.length);for(var v=0;v<r.length;v+=2)var A=b,_=m,w=function(e,t){var r=P(e,t,14),n=P(e,t,18),t=P(t,e,9),e=r^n^t;e<0&&(e+=4294967296);return e}(l,f),E=function(e,t){var r=O(e,t,14),n=O(e,t,18),t=O(t,e,9),e=r^n^t;e<0&&(e+=4294967296);return e}(l,f),S=function(e,t,r){t=e&t^~e&r;t<0&&(t+=4294967296);return t}(l,d,g),k=function(e,t,r){t=e&t^~e&r;t<0&&(t+=4294967296);return t}(f,p,y),I=this.k[v],C=this.k[v+1],B=r[v],x=r[v+1],T=N(A,_,w,E,S,k,I,C,B,x),S=F(A,_,w,E,S,k,I,C,B,x),A=function(e,t){var r=P(e,t,28),n=P(t,e,2),t=P(t,e,7),e=r^n^t;e<0&&(e+=4294967296);return e}(n,i),_=function(e,t){var r=O(e,t,28),n=O(t,e,2),t=O(t,e,7),e=r^n^t;e<0&&(e+=4294967296);return e}(n,i),w=function(e,t,r){e=e&t^e&r^t&r;e<0&&(e+=4294967296);return e}(n,o,a),E=function(e,t,r){e=e&t^e&r^t&r;e<0&&(e+=4294967296);return e}(i,s,c),k=R(A,_,w,E),I=D(A,_,w,E),b=g,m=y,g=d,y=p,d=l,p=f,l=R(u,h,T,S),f=D(h,h,T,S),u=a,h=c,a=o,c=s,o=n,s=i,n=R(T,S,k,I),i=D(T,S,k,I);L(this.h,0,n,i),L(this.h,2,o,s),L(this.h,4,a,c),L(this.h,6,u,h),L(this.h,8,l,f),L(this.h,10,d,p),L(this.h,12,g,y),L(this.h,14,b,m)},a.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":342,"../utils":352,"minimalistic-assert":378}],351:[function(e,t,r){"use strict";var n=e("../utils").rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}r.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?t^r^n:2===e?o(t,r,n):void 0},r.ch32=i,r.maj32=o,r.p32=s,r.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},r.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},r.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},r.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},{"../utils":352}],352:[function(e,t,r){"use strict";var c=e("minimalistic-assert"),e=e("inherits");function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function n(e){return 1===e.length?"0"+e:e}function s(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}r.inherits=e,r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r,n,i=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),s=0;s<e.length;s+=2)i.push(parseInt(e[s]+e[s+1],16))}else for(var o=0,s=0;s<e.length;s++){var a=e.charCodeAt(s);a<128?i[o++]=a:a<2048?(i[o++]=a>>6|192,i[o++]=63&a|128):(n=s,55296!=(64512&(r=e).charCodeAt(n))||n<0||n+1>=r.length||56320!=(64512&r.charCodeAt(n+1))?i[o++]=a>>12|224:(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++s)),i[o++]=a>>18|240,i[o++]=a>>12&63|128),i[o++]=a>>6&63|128,i[o++]=63&a|128)}else for(s=0;s<e.length;s++)i[s]=0|e[s];return i},r.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t},r.htonl=o,r.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];r+=s((i="little"===t?o(i):i).toString(16))}return r},r.zero2=n,r.zero8=s,r.join32=function(e,t,r,n){c((r=r-t)%4==0);for(var i=new Array(r/4),o=0,s=t;o<i.length;o++,s+=4){var a="big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s];i[o]=a>>>0}return i},r.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},r.rotr32=function(e,t){return e>>>t|e<<32-t},r.rotl32=function(e,t){return e<<t|e>>>32-t},r.sum32=function(e,t){return e+t>>>0},r.sum32_3=function(e,t,r){return e+t+r>>>0},r.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},r.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},r.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0;e[t]=(o<n?1:0)+r+i>>>0,e[t+1]=o},r.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},r.sum64_lo=function(e,t,r,n){return t+n>>>0},r.sum64_4_hi=function(e,t,r,n,i,o,s,a){var c=0;return e+r+i+s+((c+=(e=t+n>>>0)<t?1:0)+((e=e+o>>>0)<o?1:0)+(e+a>>>0<a?1:0))>>>0},r.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},r.sum64_5_hi=function(e,t,r,n,i,o,s,a,c,u){var h=0;return e+r+i+s+c+(h+((e=t+n>>>0)<t?1:0)+((e=e+o>>>0)<o?1:0)+((e=e+a>>>0)<a?1:0)+(e+u>>>0<u?1:0))>>>0},r.sum64_5_lo=function(e,t,r,n,i,o,s,a,c,u){return t+n+o+a+u>>>0},r.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},r.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},r.shr64_hi=function(e,t,r){return e>>>r},r.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},{inherits:362,"minimalistic-assert":378}],353:[function(e,t,r){var{sodium_malloc:n,sodium_memzero:i}=e("sodium-universal/memory"),{crypto_generichash:o,crypto_generichash_batch:s}=e("sodium-universal/crypto_generichash"),a=e("nanoassert"),e=n(384),c=e.subarray(0,128),u=e.subarray(128,256),h=e.subarray(256,384);t.exports=function(e,t,r){a(64===e.byteLength),a(null!=r.byteLength),a(Array.isArray(t)?t.every(e=>null!=e.byteLength):null!=t.byteLength),128<r.byteLength?(o(c.subarray(0,64),r),i(c.subarray(64))):(c.set(r),i(c.subarray(r.byteLength)));for(var n=0;n<c.byteLength;n++)u[n]=92^c[n],h[n]=54^c[n];i(c),s(e,[h].concat(t)),i(h),s(e,[u].concat(e)),i(u)},t.exports.BYTES=64,t.exports.KEYBYTES=128},{nanoassert:393,"sodium-universal/crypto_generichash":568,"sodium-universal/memory":570}],354:[function(e,t,r){"use strict";var n=e("hash.js"),o=e("minimalistic-crypto-utils"),i=e("minimalistic-assert");function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=o.toArray(e.entropy,e.entropyEnc||"hex"),r=o.toArray(e.nonce,e.nonceEnc||"hex"),e=o.toArray(e.pers,e.persEnc||"hex");i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,e)}(t.exports=s).prototype._init=function(e,t,r){e=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(e),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=o.toArray(e,t),r=o.toArray(r,n),i(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},s.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=o.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);n=i.slice(0,e);return this._update(r),this._reseed++,o.encode(n,t)}},{"hash.js":341,"minimalistic-assert":378,"minimalistic-crypto-utils":379}],355:[function(e,t,r){var n=e("hyperswarm-proxy/client");const i=e("websocket-stream");const o="ws://localhost:4977",s=[o];class a extends n{constructor(e={}){super(e);var{proxy:e=s,reconnectDelay:t=1e3}=e;this.reconnectDelay=t,this.proxy=null,this._urls="string"==typeof e?[e]:e,this._urlIndex=0,this.reconnect()}reconnect(){this._nextUrl();const e=i(o);e.on("error",e=>this.emit("connection-error",e)),e.once("error",()=>{const e=i(this.proxy);e.on("error",e=>this.emit("connection-error",e)),e.once("close",()=>{setTimeout(()=>{this.destroyed||this.reconnect()},this.reconnectDelay)}),super.reconnect(e)}),super.reconnect(e)}_nextUrl(){return this.proxy=this._urls[this._urlIndex++%this._urls.length],this.proxy}}t.exports=a},{"hyperswarm-proxy/client":356,"websocket-stream":591}],356:[function(n,a,e){!function(r){!function(){var e=n("events");const t=n("./"),o="Not connected to proxy";function s(){}a.exports=class extends e{constructor(e={}){super();var{connection:e,autoconnect:t=!0,maxPeers:r=24}=e;this.maxPeers=r,this._handleStream=this._handleStream.bind(this),this._handleClose=this._handleClose.bind(this),this._handlePeer=this._handlePeer.bind(this),this._handleError=this._handleError.bind(this),this._handleUpdated=this._handleUpdated.bind(this),this._reJoin=this._reJoin.bind(this),this._protocol=null,this._connection=null,this._topics=[],this._connectedPeers=new Set,this._seenPeers=[],this._autoconnect=t,this.destroyed=!1,e&&this.reconnect(e)}disconnect(){this._protocol&&(this._protocol.removeListener("close",this._handleClose),this._connection.end(),this._protocol.end(),this._connection=null,this._protocol=null)}reconnect(e){this.disconnect(),this._connection=e,this._protocol=new t(e),this._protocol.on("stream",this._handleStream),this._protocol.on("on_peer",this._handlePeer),this._protocol.once("close",this._handleClose),this._protocol.on("error",this._handleError),this._protocol.on("on_updated",this._handleUpdated),this._protocol.once("ready",this._reJoin),this._protocol.ready()}_handleStream(e,{topic:t,peer:r}){if(this.destroyed)e.end();else{const n=new i(r,t);this._connectedPeers.add(r),this.emit("connection",e,n),e.once("close",()=>{this.destroyed||(this.emit("disconnection",e,n),this._connectedPeers.delete(r))})}}_handleClose(){this._protocol=null,this.emit("disconnected")}_handleError(e){this.emit("error",e)}_handlePeer({topic:e,peer:t}){var e={host:t,port:0,local:!1,topic:e},r=(this.emit("peer",e),this._connectedPeers.has(t)),n=this._connectedPeers.size>=this.maxPeers;this._autoconnect&&!r&&!n?this.connect(e):this._seenPeers.find(e=>e.peer===t)||this._seenPeers.push(e)}_handleUpdated({topic:e}){this.emit("updated",{key:e})}_reJoin(){for(const e of this._topics)this.join(e)}get connections(){return this._protocol?this._protocol.connections:new Set}join(t){if(!this._protocol)throw new Error(o);this._protocol.join(t),this._topics.some(e=>e.equals(t))||this._topics.push(t)}leave(t){if(!this._protocol)throw new Error(o);this._protocol.leave(t),this._topics=this._topics.filter(e=>!e.equals(t)),this._seenPeers=this._seenPeers.filter(({topic:e})=>!e.equals(t))}connect(e,r=s){if(!this._protocol)return setTimeout(()=>r(new Error(o)),0);const n=e.host,i=(e,t)=>{t.peer.host===n&&(r(null,e,t),this.removeListener("connection",i))};r&&this.on("connection",i),this._protocol.connect(n)}flush(e=s){e&&r.nextTick(e)}status(){return{lookup:!0,announce:!1}}destroy(e){this.destroyed=!0,this.disconnect(),this._topics=null,this._connectedPeers=null,this._seenPeers=null,e&&r.nextTick(e)}};class i{constructor(e,t){this.type="proxy",this.client=!0,this.peer={host:e,port:0,local:!1,topic:t}}deduplicate(){return!1}}}.call(this)}.call(this,n("_process"))},{"./":357,_process:437,events:284}],357:[function(o,c,e){!function(n){!function(){var e=o("stream").Duplex;const t=o("length-prefixed-stream"),{SwarmEvent:s,EventType:a}=o("./messages"),i=o("./proxystream"),r=o("pump");c.exports=class extends e{constructor(e){super({emitClose:!0}),this.connections=new Set,this.setMaxListeners(256),r(e,t.decode(),this,t.encode(),e,()=>{this._closeAllStreams()}),this.on("on_stream_open",this._handleStreamOpen.bind(this))}ready(){this.sendMessage("READY")}join(e){this.sendMessage("JOIN",{topic:e})}leave(e){this.sendMessage("LEAVE",{topic:e})}onPeer(e,t){this.sendMessage("ON_PEER",{topic:e,peer:t})}onUpdated(e){this.sendMessage("ON_UPDATED",{topic:e})}connect(e){this.sendMessage("CONNECT",{peer:e})}onStreamOpen(e,t,r){this.sendMessage("ON_STREAM_OPEN",{topic:e,peer:t,stream:r})}onStreamData(e,t){"string"==typeof t&&(t=n.from(t,"utf8")),this.sendMessage("ON_STREAM_DATA",{stream:e,data:t})}onStreamClose(e){this.sendMessage("ON_STREAM_CLOSE",{stream:e})}onStreamError(e,t,r){t=n.from(t,"utf8");this.sendMessage("ON_STREAM_ERROR",{stream:e,data:t})}openStream(e,t,r){var n=new i(this,r);return this._addStream(n),this.onStreamOpen(e,t,r),n}_closeAllStreams(){for(const e of this.connections)e.end()}_addStream(e){this.connections.add(e),e.once("close",()=>{this.connections.delete(e)})}_handleStreamOpen({topic:e,peer:t,stream:r}){r=new i(this,r);this._addStream(r),this.emit("stream",r,{topic:e,peer:t})}sendMessage(e,t={}){this.push(s.encode({type:a[e],...t}))}_write(e,t,r){try{var n=s.decode(e),i=n["type"];for(const o of Object.keys(a))a[o]===i&&this.emit(o.toLowerCase(),n);r()}catch(e){r(e)}}_read(){}}}.call(this)}.call(this,o("buffer").Buffer)},{"./messages":358,"./proxystream":359,buffer:221,"length-prefixed-stream":374,pump:446,stream:571}],358:[function(r,e,n){!function(l){!function(){var a,e=r("protocol-buffers-encodings"),c=e.varint,u=e.skip,t=(n.EventType={READY:1,JOIN:2,LEAVE:3,ON_STREAM_OPEN:4,ON_STREAM_CLOSE:5,ON_STREAM_DATA:6,ON_STREAM_ERROR:7,ON_PEER:8,CONNECT:9},n.SwarmEvent={buffer:!0,encodingLength:null,encode:null,decode:null});function i(e){var t=0;if(s(e.type))return t+=1+a[0].encodingLength(e.type),s(e.topic)&&(t+=1+a[1].encodingLength(e.topic)),s(e.data)&&(t+=1+a[1].encodingLength(e.data)),s(e.peer)&&(t+=1+a[2].encodingLength(e.peer)),s(e.stream)&&(t+=1+a[3].encodingLength(e.stream)),t;throw new Error("type is required")}function o(e,t,r){r=r||0,t=t||l.allocUnsafe(i(e));var n=r;if(s(e.type))return t[r++]=8,a[0].encode(e.type,t,r),r+=a[0].encode.bytes,s(e.topic)&&(t[r++]=18,a[1].encode(e.topic,t,r),r+=a[1].encode.bytes),s(e.data)&&(t[r++]=26,a[1].encode(e.data,t,r),r+=a[1].encode.bytes),s(e.peer)&&(t[r++]=34,a[2].encode(e.peer,t,r),r+=a[2].encode.bytes),s(e.stream)&&(t[r++]=40,a[3].encode(e.stream,t,r),r+=a[3].encode.bytes),o.bytes=r-n,t;throw new Error("type is required")}function h(e,t,r){if(t=t||0,!((r=r||e.length)<=e.length&&t<=e.length))throw new Error("Decoded message is not valid");for(var n=t,i={type:1,topic:null,data:null,peer:"",stream:0},o=!1;;){if(r<=t){if(o)return h.bytes=t-n,i;throw new Error("Decoded message is not valid")}var s=c.decode(e,t);switch(t+=c.decode.bytes,s>>3){case 1:i.type=a[0].decode(e,t),t+=a[0].decode.bytes,o=!0;break;case 2:i.topic=a[1].decode(e,t),t+=a[1].decode.bytes;break;case 3:i.data=a[1].decode(e,t),t+=a[1].decode.bytes;break;case 4:i.peer=a[2].decode(e,t),t+=a[2].decode.bytes;break;case 5:i.stream=a[3].decode(e,t),t+=a[3].decode.bytes;break;default:t=u(7&s,e,t)}}}function s(e){return null!=e&&("number"!=typeof e||!isNaN(e))}a=[e.enum,e.bytes,e.string,e.int32],t.encodingLength=i,t.encode=o,t.decode=h}.call(this)}.call(this,r("buffer").Buffer)},{buffer:221,"protocol-buffers-encodings":332}],359:[function(e,t,r){e=e("stream").Duplex;t.exports=class extends e{constructor(e,t){super({emitClose:!0}),this._secretId=Math.random(),this._id=t,this._protocol=e,this._isClosed=!1,this._handle_data=this._handleData.bind(this),this._handle_close=this._handleClose.bind(this),this._handle_error=this._handleError.bind(this),this._protocol.on("on_stream_data",this._handle_data),this._protocol.on("on_stream_close",this._handle_close),this._protocol.on("on_stream_error",this._handle_error),this._protocol.once("end",()=>this._cleanup())}_handleData({stream:e,data:t}){this._isId(e)&&this.push(t)}_handleClose({stream:e}){this._isId(e)&&(this.destroy(),this._cleanup())}_handleError({stream:e,data:t}){this._isId(e)&&(e=t.toString("utf8"),this.emit("error",new Error(e)),this.destroy(),this._cleanup())}_cleanup(){this._isClosed=!0,this._protocol.removeListener("on_stream_data",this._handle_data),this._protocol.removeListener("on_stream_close",this._handle_close),this._protocol.removeListener("on_stream_error",this._handle_error)}_isId(e){return e===this._id}_read(){}_write(e,t,r){this._protocol.onStreamData(this._id,e),r()}_final(e){this._isClosed||(this._protocol.onStreamClose(this._id),this._cleanup()),e()}}},{stream:571}],360:[function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){a=!0,i=e}finally{try{s||null==r.return||r.return()}finally{if(a)throw i}}return o}}(e,t)||function(e,t){var r;if(e)return"string"==typeof e?i(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(r){return new Promise(function(e,t){r.oncomplete=r.onsuccess=function(){return e(r.result)},r.onabort=r.onerror=function(){return t(r.error)}})}function s(e,n){var t=indexedDB.open(e),i=(t.onupgradeneeded=function(){return t.result.createObjectStore(n)},o(t));return function(t,r){return i.then(function(e){return r(e.transaction(n,t).objectStore(n))})}}var a;function c(){return a=a||s("keyval-store","keyval")}function u(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},o(e.transaction)}Object.defineProperty(r,"__esModule",{value:!0}),r.clear=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:c())("readwrite",function(e){return e.clear(),o(e.transaction)})},r.createStore=s,r.del=function(t){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:c())("readwrite",function(e){return e.delete(t),o(e.transaction)})},r.delMany=function(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:c())("readwrite",function(t){return e.forEach(function(e){return t.delete(e)}),o(t.transaction)})},r.entries=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c();return r("readonly",function(e){var t;return e.getAll&&e.getAllKeys?Promise.all([o(e.getAllKeys()),o(e.getAll())]).then(function(e){var e=n(e,2),t=e[0],r=e[1];return t.map(function(e,t){return[e,r[t]]})}):(t=[],r("readonly",function(e){return u(e,function(e){t.push([e.key,e.value])}).then(function(){return t})}))})},r.get=function(t){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:c())("readonly",function(e){return o(e.get(t))})},r.getMany=function(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:c())("readonly",function(t){return Promise.all(e.map(function(e){return o(t.get(e))}))})},r.keys=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:c())("readonly",function(e){var t;return e.getAllKeys?o(e.getAllKeys()):(t=[],u(e,function(e){t.push(e.key)}).then(function(){return t}))})},r.promisifyRequest=o,r.set=function(t,r){return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:c())("readwrite",function(e){return e.put(r,t),o(e.transaction)})},r.setMany=function(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:c())("readwrite",function(t){return e.forEach(function(e){return t.put(e[1],e[0])}),o(t.transaction)})},r.update=function(n,i){return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:c())("readwrite",function(r){return new Promise(function(e,t){r.get(n).onsuccess=function(){try{r.put(i(this.result),n),e(o(r.transaction))}catch(e){t(e)}}})})},r.values=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:c())("readonly",function(e){var t;return e.getAll?o(e.getAll()):(t=[],u(e,function(e){t.push(e.value)}).then(function(){return t}))})}},{}],361:[function(e,t,r){r.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,c=(1<<a)-1,u=c>>1,h=-7,l=r?i-1:0,f=r?-1:1,i=e[t+l];for(l+=f,o=i&(1<<-h)-1,i>>=-h,h+=a;0<h;o=256*o+e[t+l],l+=f,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=n;0<h;s=256*s+e[t+l],l+=f,h-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(i?-1:1);s+=Math.pow(2,n),o-=u}return(i?-1:1)*s*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var s,a,c=8*o-i-1,u=(1<<c)-1,h=u>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,d=n?1:-1,o=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-s))<1&&(s--,n*=2),2<=(t+=1<=s+h?l/n:l*Math.pow(2,1-h))*n&&(s++,n/=2),u<=s+h?(a=0,s=u):1<=s+h?(a=(t*n-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));8<=i;e[r+f]=255&a,f+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;0<c;e[r+f]=255&s,f+=d,s/=256,c-=8);e[r+f-d]|=128*o}},{}],362:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){var r;t&&(e.super_=t,(r=function(){}).prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e)}},{}],363:[function(e,t,r){"use strict";function n(e){return!(o&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===s(e)}function i(e){return!!n(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&0<=e.length&&"[object Array]"!==s(e)&&"[object Function]"===s(e.callee)}var o=e("has-tostringtag/shams")(),s=e("call-bind/callBound")("Object.prototype.toString"),e=function(){return n(arguments)}();n.isLegacyArguments=i,t.exports=e?n:i},{"call-bind/callBound":222,"has-tostringtag/shams":338}],364:[function(e,t,r){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(n(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))||!!e._isBuffer);var t}},{}],365:[function(e,t,r){"use strict";var n,i,o=Function.prototype.toString,s="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof s&&"function"==typeof Object.defineProperty)try{n=Object.defineProperty({},"length",{get:function(){throw i}}),i={},s(function(){throw 42},null,n)}catch(e){e!==i&&(s=null)}else s=null;function a(e){try{var t=o.call(e);return c.test(t)}catch(e){return}}var c=/^\s*class\b/,u=Object.prototype.toString,h="function"==typeof Symbol&&!!Symbol.toStringTag,l="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};t.exports=s?function(e){if(e===l)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{s(e,null,n)}catch(e){if(e!==i)return!1}return!a(e)}:function(e){if(e===l)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(!h)return!a(e)&&("[object Function]"===(t=u.call(e))||"[object GeneratorFunction]"===t);var t=e;try{return a(t)?!1:(o.call(t),!0)}catch(e){return!1}}},{}],366:[function(e,t,r){"use strict";var n,i=Object.prototype.toString,o=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=e("has-tostringtag/shams")(),c=Object.getPrototypeOf;t.exports=function(e){var t;return"function"==typeof e&&(!!s.test(o.call(e))||(a?!!c&&(void 0===n&&(t=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}(),n=!!t&&c(t)),c(e)===n):"[object GeneratorFunction]"===i.call(e)))}},{"has-tostringtag/shams":338}],367:[function(e,t,r){const n=e("b4a");t.exports=function(e){return"object"==typeof e&&e&&!n.isBuffer(e)}},{b4a:175}],368:[function(d,p,e){!function(f){!function(){"use strict";var t=d("for-each"),e=d("available-typed-arrays"),r=d("call-bind/callBound"),i=r("Object.prototype.toString"),o=d("has-tostringtag/shams")(),n="undefined"==typeof globalThis?f:globalThis,s=e(),a=r("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},c=r("String.prototype.slice"),u={},h=d("es-abstract/helpers/getOwnPropertyDescriptor"),l=Object.getPrototypeOf;o&&h&&l&&t(s,function(e){var t,r=new n[e];Symbol.toStringTag in r&&(r=l(r),(t=h(r,Symbol.toStringTag))||(r=l(r),t=h(r,Symbol.toStringTag)),u[e]=t.get)});p.exports=function(e){var r,n;return!(!e||"object"!=typeof e)&&(o&&Symbol.toStringTag in e?!!h&&(r=e,n=!1,t(u,function(e,t){if(!n)try{n=e.call(r)===t}catch(e){}}),n):(e=c(i(e),8,-1),-1<a(s,e)))}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"available-typed-arrays":174,"call-bind/callBound":222,"es-abstract/helpers/getOwnPropertyDescriptor":277,"for-each":290,"has-tostringtag/shams":338}],369:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],370:[function(e,r,t){!function(t){!function(){var e=null;"undefined"!=typeof WebSocket?e=WebSocket:"undefined"!=typeof MozWebSocket?e=MozWebSocket:void 0!==t?e=t.WebSocket||t.MozWebSocket:"undefined"!=typeof window?e=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(e=self.WebSocket||self.MozWebSocket),r.exports=e}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],371:[function(e,P,t){!function(T,M){!function(){!function(){"use strict";for(var l="input is invalid type",e="object"==typeof window,t=e?window:{},e=!(e=t.JS_SHA3_NO_WINDOW?!1:e)&&"object"==typeof self,e=(!t.JS_SHA3_NO_NODE_JS&&"object"==typeof T&&T.versions&&T.versions.node?t=M:e&&(t=self),!t.JS_SHA3_NO_COMMON_JS&&"object"==typeof P&&P.exports),r="function"==typeof define&&define.amd,f=!t.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,c="0123456789abcdef".split(""),n=[4,1024,262144,67108864],d=[0,8,16,24],W=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],i=[224,256,384,512],o=[128,256],s=["hex","buffer","arrayBuffer","array","digest"],a={128:168,256:136},u=(!t.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!f||!t.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer}),function(t,r,n){return function(e){return new C(t,r,t).update(e)[n]()}}),h=function(r,n,i){return function(e,t){return new C(r,n,t).update(e)[i]()}},p=function(i,e,o){return function(e,t,r,n){return v["cshake"+i].update(e,t,r,n)[o]()}},g=function(i,e,o){return function(e,t,r,n){return v["kmac"+i].update(e,t,r,n)[o]()}},y=function(e,t,r,n){for(var i=0;i<s.length;++i){var o=s[i];e[o]=t(r,n,o)}return e},b=function(e,t){var r=u(e,t,"hex");return r.create=function(){return new C(e,t,e)},r.update=function(e){return r.create().update(e)},y(r,u,e,t)},m=[{name:"keccak",padding:[1,256,65536,16777216],bits:i,createMethod:b},{name:"sha3",padding:[6,1536,393216,100663296],bits:i,createMethod:b},{name:"shake",padding:[31,7936,2031616,520093696],bits:o,createMethod:function(t,r){var n=h(t,r,"hex");return n.create=function(e){return new C(t,r,e)},n.update=function(e,t){return n.create(t).update(e)},y(n,h,t,r)}},{name:"cshake",padding:n,bits:o,createMethod:function(n,i){var o=a[n],s=p(n,0,"hex");return s.create=function(e,t,r){return t||r?new C(n,i,e).bytepad([t,r],o):v["shake"+n].create(e)},s.update=function(e,t,r,n){return s.create(t,r,n).update(e)},y(s,p,n,i)}},{name:"kmac",padding:n,bits:o,createMethod:function(n,i){var o=a[n],s=g(n,0,"hex");return s.create=function(e,t,r){return new B(n,i,t).bytepad(["KMAC",r],o).bytepad([e],o)},s.update=function(e,t,r,n){return s.create(e,r,n).update(t)},y(s,g,n,i)}}],v={},A=[],_=0;_<m.length;++_)for(var w=m[_],E=w.bits,S=0;S<E.length;++S){var k,I=w.name+"_"+E[S];A.push(I),v[I]=w.createMethod(E[S],w.padding),"sha3"!==w.name&&(k=w.name+E[S],A.push(k),v[k]=v[I])}function C(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function B(e,t,r){C.call(this,e,t,r)}C.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!=r){if("object"!=r)throw new Error(l);if(null===e)throw new Error(l);if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||f&&ArrayBuffer.isView(e)))throw new Error(l);t=!0}for(var n,i,o=this.blocks,s=this.byteCount,a=e.length,c=this.blockCount,u=0,h=this.s;u<a;){if(this.reset)for(this.reset=!1,o[0]=this.block,n=1;n<c+1;++n)o[n]=0;if(t)for(n=this.start;u<a&&n<s;++u)o[n>>2]|=e[u]<<d[3&n++];else for(n=this.start;u<a&&n<s;++u)(i=e.charCodeAt(u))<128?o[n>>2]|=i<<d[3&n++]:(i<2048?o[n>>2]|=(192|i>>6)<<d[3&n++]:(i<55296||57344<=i?o[n>>2]|=(224|i>>12)<<d[3&n++]:(i=65536+((1023&i)<<10|1023&e.charCodeAt(++u)),o[n>>2]|=(240|i>>18)<<d[3&n++],o[n>>2]|=(128|i>>12&63)<<d[3&n++]),o[n>>2]|=(128|i>>6&63)<<d[3&n++]),o[n>>2]|=(128|63&i)<<d[3&n++]);if(s<=(this.lastByteIndex=n)){for(this.start=n-s,this.block=o[c],n=0;n<c;++n)h[n]^=o[n];x(h),this.reset=!0}else this.start=n}return this},C.prototype.encode=function(e,t){for(var r=1,n=[i=255&e],i=255&(e>>=8);0<i;)n.unshift(i),i=255&(e>>=8),++r;return t?n.push(r):n.unshift(r),this.update(n),n.length},C.prototype.encodeString=function(e){var t,r=typeof e;if("string"!=r){if("object"!=r)throw new Error(l);if(null===e)throw new Error(l);if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||f&&ArrayBuffer.isView(e)))throw new Error(l);t=!0}var n=0,r=e.length;if(t)n=r;else for(var i=0;i<e.length;++i){var o=e.charCodeAt(i);o<128?n+=1:o<2048?n+=2:o<55296||57344<=o?n+=3:(o=65536+((1023&o)<<10|1023&e.charCodeAt(++i)),n+=4)}return n+=this.encode(8*n),this.update(e),n},C.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=[];return i.length=t-r%t,this.update(i),this},C.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];x(n)}},C.prototype.toString=C.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a="";s<n;){for(o=0;o<t&&s<n;++o,++s)e=r[o],a+=c[e>>4&15]+c[15&e]+c[e>>12&15]+c[e>>8&15]+c[e>>20&15]+c[e>>16&15]+c[e>>28&15]+c[e>>24&15];s%t==0&&(x(r),o=0)}return i&&(e=r[o],a+=c[e>>4&15]+c[15&e],1<i&&(a+=c[e>>12&15]+c[e>>8&15]),2<i&&(a+=c[e>>20&15]+c[e>>16&15])),a},C.prototype.buffer=C.prototype.arrayBuffer=function(){this.finalize();for(var e=this.blockCount,t=this.s,r=this.outputBlocks,n=this.extraBytes,i=0,o=0,s=this.outputBits>>3,a=n?new ArrayBuffer(r+1<<2):new ArrayBuffer(s),c=new Uint32Array(a);o<r;){for(i=0;i<e&&o<r;++i,++o)c[o]=t[i];o%e==0&&x(t)}return n&&(c[i]=t[i],a=a.slice(0,s)),a},C.prototype.digest=C.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,c=[];a<i;){for(s=0;s<r&&a<i;++s,++a)t=n[s],c[e=a<<2]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;a%r==0&&x(n)}return o&&(t=n[s],c[e=a<<2]=255&t,1<o&&(c[e+1]=t>>8&255),2<o&&(c[e+2]=t>>16&255)),c},(B.prototype=new C).finalize=function(){return this.encode(this.outputBits,!0),C.prototype.finalize.call(this)};var x=function(e){for(var t,r,n,i,o,s,a,c,u,h,l,f,d,p,g,y,b,m,v,A,_,w,E,S,k,I,C,B,x,T,M,D,P,O,N,F,j,U,J,Q,H,K,G,z,X,q,L,R,V,Y,Z=0;Z<48;Z+=2)x=e[0]^e[10]^e[20]^e[30]^e[40],T=e[1]^e[11]^e[21]^e[31]^e[41],r=e[2]^e[12]^e[22]^e[32]^e[42],t=e[3]^e[13]^e[23]^e[33]^e[43],O=e[4]^e[14]^e[24]^e[34]^e[44],P=e[5]^e[15]^e[25]^e[35]^e[45],R=e[6]^e[16]^e[26]^e[36]^e[46],L=e[7]^e[17]^e[27]^e[37]^e[47],g=e[8]^e[18]^e[28]^e[38]^e[48],w=(y=e[9]^e[19]^e[29]^e[39]^e[49])^(t<<1|r>>>31),e[0]^=_=g^(r<<1|t>>>31),e[1]^=w,e[10]^=_,e[11]^=w,e[20]^=_,e[21]^=w,e[30]^=_,e[31]^=w,e[40]^=_,e[41]^=w,w=T^(P<<1|O>>>31),e[2]^=_=x^(O<<1|P>>>31),e[3]^=w,e[12]^=_,e[13]^=w,e[22]^=_,e[23]^=w,e[32]^=_,e[33]^=w,e[42]^=_,e[43]^=w,w=t^(L<<1|R>>>31),e[4]^=_=r^(R<<1|L>>>31),e[5]^=w,e[14]^=_,e[15]^=w,e[24]^=_,e[25]^=w,e[34]^=_,e[35]^=w,e[44]^=_,e[45]^=w,w=P^(y<<1|g>>>31),e[6]^=_=O^(g<<1|y>>>31),e[7]^=w,e[16]^=_,e[17]^=w,e[26]^=_,e[27]^=w,e[36]^=_,e[37]^=w,e[46]^=_,e[47]^=w,w=L^(T<<1|x>>>31),e[8]^=_=R^(x<<1|T>>>31),e[9]^=w,e[18]^=_,e[19]^=w,e[28]^=_,e[29]^=w,e[38]^=_,e[39]^=w,e[48]^=_,e[49]^=w,t=e[0],r=e[1],P=e[11]<<4|e[10]>>>28,O=e[10]<<4|e[11]>>>28,g=e[20]<<3|e[21]>>>29,y=e[21]<<3|e[20]>>>29,L=e[31]<<9|e[30]>>>23,R=e[30]<<9|e[31]>>>23,x=e[40]<<18|e[41]>>>14,T=e[41]<<18|e[40]>>>14,_=e[2]<<1|e[3]>>>31,w=e[3]<<1|e[2]>>>31,n=e[13]<<12|e[12]>>>20,i=e[12]<<12|e[13]>>>20,N=e[22]<<10|e[23]>>>22,F=e[23]<<10|e[22]>>>22,b=e[33]<<13|e[32]>>>19,m=e[32]<<13|e[33]>>>19,V=e[42]<<2|e[43]>>>30,Y=e[43]<<2|e[42]>>>30,H=e[5]<<30|e[4]>>>2,K=e[4]<<30|e[5]>>>2,E=e[14]<<6|e[15]>>>26,S=e[15]<<6|e[14]>>>26,o=e[25]<<11|e[24]>>>21,s=e[24]<<11|e[25]>>>21,j=e[34]<<15|e[35]>>>17,U=e[35]<<15|e[34]>>>17,v=e[45]<<29|e[44]>>>3,A=e[44]<<29|e[45]>>>3,l=e[6]<<28|e[7]>>>4,f=e[7]<<28|e[6]>>>4,G=e[17]<<23|e[16]>>>9,z=e[16]<<23|e[17]>>>9,k=e[26]<<25|e[27]>>>7,I=e[27]<<25|e[26]>>>7,a=e[36]<<21|e[37]>>>11,c=e[37]<<21|e[36]>>>11,J=e[47]<<24|e[46]>>>8,Q=e[46]<<24|e[47]>>>8,M=e[8]<<27|e[9]>>>5,D=e[9]<<27|e[8]>>>5,d=e[18]<<20|e[19]>>>12,p=e[19]<<20|e[18]>>>12,X=e[29]<<7|e[28]>>>25,q=e[28]<<7|e[29]>>>25,C=e[38]<<8|e[39]>>>24,B=e[39]<<8|e[38]>>>24,u=e[48]<<14|e[49]>>>18,h=e[49]<<14|e[48]>>>18,e[0]=t^~n&o,e[1]=r^~i&s,e[10]=l^~d&g,e[11]=f^~p&y,e[20]=_^~E&k,e[21]=w^~S&I,e[30]=M^~P&N,e[31]=D^~O&F,e[40]=H^~G&X,e[41]=K^~z&q,e[2]=n^~o&a,e[3]=i^~s&c,e[12]=d^~g&b,e[13]=p^~y&m,e[22]=E^~k&C,e[23]=S^~I&B,e[32]=P^~N&j,e[33]=O^~F&U,e[42]=G^~X&L,e[43]=z^~q&R,e[4]=o^~a&u,e[5]=s^~c&h,e[14]=g^~b&v,e[15]=y^~m&A,e[24]=k^~C&x,e[25]=I^~B&T,e[34]=N^~j&J,e[35]=F^~U&Q,e[44]=X^~L&V,e[45]=q^~R&Y,e[6]=a^~u&t,e[7]=c^~h&r,e[16]=b^~v&l,e[17]=m^~A&f,e[26]=C^~x&_,e[27]=B^~T&w,e[36]=j^~J&M,e[37]=U^~Q&D,e[46]=L^~V&H,e[47]=R^~Y&K,e[8]=u^~t&n,e[9]=h^~r&i,e[18]=v^~l&d,e[19]=A^~f&p,e[28]=x^~_&E,e[29]=T^~w&S,e[38]=J^~M&P,e[39]=Q^~D&O,e[48]=V^~H&G,e[49]=Y^~K&z,e[0]^=W[Z],e[1]^=W[Z+1]};if(e)P.exports=v;else{for(_=0;_<A.length;++_)t[A[_]]=v[A[_]];r&&define(function(){return v})}}()}.call(this)}.call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:437}],372:[function(o,s,e){!function(i){!function(){function t(e){if(!(this instanceof t))return new t(e);n.Transform.call(this),this._destroyed=!1,this._missing=0,this._message=null,this._limit=e&&e.limit||0,this._allowEmpty=!(!e||!e.allowEmpty),this._prefix=i.allocUnsafe(this._limit?r.encodingLength(this._limit):100),this._ptr=0,this._allowEmpty&&(this._readableState.highWaterMark=16,this._readableState.objectMode=!0)}var r=o("varint"),n=o("readable-stream"),e=o("inherits");e(t,n.Transform),t.prototype._push=function(e){this._ptr=0,this._missing=0,this._message=null,this.push(e)},t.prototype._parseLength=function(e,t){for(;t<e.length;t++){if(this._ptr>=this._prefix.length)return this._prefixError(e);if(this._prefix[this._ptr++]=e[t],!(128&e[t]))return this._missing=r.decode(this._prefix),this._limit&&this._missing>this._limit?this._prefixError(e):(!this._missing&&this._allowEmpty&&this._push(i.alloc(0)),this._ptr=0,t+1)}return e.length},t.prototype._prefixError=function(e){return this.destroy(new Error("Message is larger than max length")),e.length},t.prototype._parseMessage=function(e,t){var r=e.length-t,n=this._missing;if(!this._message){if(n<=r)return this._push(e.slice(t,t+n)),t+n;this._message=i.allocUnsafe(n)}return e.copy(this._message,this._ptr,t,t+n),n<=r?(this._push(this._message),t+n):(this._missing-=r,this._ptr+=r,e.length)},t.prototype._transform=function(e,t,r){for(var n=0;!this._destroyed&&n<e.length;)n=this._missing?this._parseMessage(e,n):this._parseLength(e,n);r()},t.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"))},s.exports=t}.call(this)}.call(this,o("buffer").Buffer)},{buffer:221,inherits:362,"readable-stream":482,varint:585}],373:[function(a,c,e){!function(s){!function(){function e(){if(!(this instanceof e))return new e;t.Transform.call(this),this._destroyed=!1}var n=a("varint"),t=a("readable-stream"),r=a("inherits"),i=s.allocUnsafe(10240),o=0;r(e,t.Transform),e.prototype._transform=function(e,t,r){if(this._destroyed)return r();n.encode(e.length,i,o),o+=n.encode.bytes,this.push(i.slice(o-n.encode.bytes,o)),this.push(e),i.length-o<100&&(i=s.allocUnsafe(10240),o=0),r()},e.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"))},c.exports=e}.call(this)}.call(this,a("buffer").Buffer)},{buffer:221,inherits:362,"readable-stream":482,varint:585}],374:[function(e,t,r){r.encode=e("./encode"),r.decode=e("./decode")},{"./decode":372,"./encode":373}],375:[function(e,t,r){"use strict";const n=e("yallist"),s=Symbol("max"),a=Symbol("length"),c=Symbol("lengthCalculator"),o=Symbol("allowStale"),u=Symbol("maxAge"),h=Symbol("dispose"),l=Symbol("noDisposeOnSet"),f=Symbol("lruList"),d=Symbol("cache"),i=Symbol("updateAgeOnGet"),p=()=>1;const g=(e,t,r)=>{const n=e[d].get(t);if(n){t=n.value;if(y(e,t)){if(m(e,n),!e[o])return}else r&&(e[i]&&(n.value.now=Date.now()),e[f].unshiftNode(n));return t.value}},y=(e,t)=>{var r;return!(!t||!t.maxAge&&!e[u])&&(r=Date.now()-t.now,t.maxAge?r>t.maxAge:e[u]&&r>e[u])},b=t=>{if(t[a]>t[s])for(let e=t[f].tail;t[a]>t[s]&&null!==e;){var r=e.prev;m(t,e),e=r}},m=(e,t)=>{var r;t&&(r=t.value,e[h]&&e[h](r.key,r.value),e[a]-=r.length,e[d].delete(r.key),e[f].removeNode(t))};class v{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const A=(e,t,r,n)=>{let i=r.value;y(e,i)&&(m(e,r),e[o]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};t.exports=class{constructor(e){if((e=(e="number"==typeof e?{max:e}:e)||{}).max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[s]=e.max||1/0;var t=e.length||p;if(this[c]="function"!=typeof t?p:t,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[h]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[i]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[s]=e||1/0,b(this)}get max(){return this[s]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,b(this)}get maxAge(){return this[u]}set lengthCalculator(e){(e="function"!=typeof e?p:e)!==this[c]&&(this[c]=e,this[a]=0,this[f].forEach(e=>{e.length=this[c](e.value,e.key),this[a]+=e.length})),b(this)}get lengthCalculator(){return this[c]}get length(){return this[a]}get itemCount(){return this[f].length}rforEach(t,r){r=r||this;for(let e=this[f].tail;null!==e;){var n=e.prev;A(this,t,e,r),e=n}}forEach(t,r){r=r||this;for(let e=this[f].head;null!==e;){var n=e.next;A(this,t,e,r),e=n}}keys(){return this[f].toArray().map(e=>e.key)}values(){return this[f].toArray().map(e=>e.value)}reset(){this[h]&&this[f]&&this[f].length&&this[f].forEach(e=>this[h](e.key,e.value)),this[d]=new Map,this[f]=new n,this[a]=0}dump(){return this[f].map(e=>!y(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[f]}set(e,t,r){if((r=r||this[u])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");var n=r?Date.now():0,i=this[c](t,e);if(this[d].has(e)){if(i>this[s])return m(this,this[d].get(e)),!1;const o=this[d].get(e).value;this[h]&&!this[l]&&this[h](e,o.value),o.now=n,o.maxAge=r,o.value=t,this[a]+=i-o.length,o.length=i,this.get(e)}else{if((i=new v(e,t,i,n,r)).length>this[s])return this[h]&&this[h](e,t),!1;this[a]+=i.length,this[f].unshift(i),this[d].set(e,this[f].head)}return b(this),!0}has(e){return!!this[d].has(e)&&(e=this[d].get(e).value,!y(this,e))}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){var e=this[f].tail;return e?(m(this,e),e.value):null}del(e){m(this,this[d].get(e))}load(t){this.reset();var r=Date.now();for(let e=t.length-1;0<=e;e--){var n=t[e],i=n.e||0;0===i?this.set(n.k,n.v):0<(i=i-r)&&this.set(n.k,n.v,i)}}prune(){this[d].forEach((e,t)=>g(this,t,!1))}}},{yallist:601}],376:[function(e,t,r){"use strict";var n=e("inherits"),i=e("hash-base"),o=e("safe-buffer").Buffer,s=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function u(e,t,r,n,i,o,s){return c(e+(t&r|~t&n)+i+o|0,s)+t|0}function h(e,t,r,n,i,o,s){return c(e+(t&n|r&~n)+i+o|0,s)+t|0}function l(e,t,r,n,i,o,s){return c(e+(t^r^n)+i+o|0,s)+t|0}function f(e,t,r,n,i,o,s){return c(e+(r^(t|~n))+i+o|0,s)+t|0}n(a,i),a.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=u(this._a,o=this._b,i=this._c,n=this._d,e[0],3614090360,7),n=u(n,r,o,i,e[1],3905402710,12),i=u(i,n,r,o,e[2],606105819,17),o=u(o,i,n,r,e[3],3250441966,22);r=u(r,o,i,n,e[4],4118548399,7),n=u(n,r,o,i,e[5],1200080426,12),i=u(i,n,r,o,e[6],2821735955,17),o=u(o,i,n,r,e[7],4249261313,22),r=u(r,o,i,n,e[8],1770035416,7),n=u(n,r,o,i,e[9],2336552879,12),i=u(i,n,r,o,e[10],4294925233,17),o=u(o,i,n,r,e[11],2304563134,22),r=u(r,o,i,n,e[12],1804603682,7),n=u(n,r,o,i,e[13],4254626195,12),i=u(i,n,r,o,e[14],2792965006,17),r=h(r,o=u(o,i,n,r,e[15],1236535329,22),i,n,e[1],4129170786,5),n=h(n,r,o,i,e[6],3225465664,9),i=h(i,n,r,o,e[11],643717713,14),o=h(o,i,n,r,e[0],3921069994,20),r=h(r,o,i,n,e[5],3593408605,5),n=h(n,r,o,i,e[10],38016083,9),i=h(i,n,r,o,e[15],3634488961,14),o=h(o,i,n,r,e[4],3889429448,20),r=h(r,o,i,n,e[9],568446438,5),n=h(n,r,o,i,e[14],3275163606,9),i=h(i,n,r,o,e[3],4107603335,14),o=h(o,i,n,r,e[8],1163531501,20),r=h(r,o,i,n,e[13],2850285829,5),n=h(n,r,o,i,e[2],4243563512,9),i=h(i,n,r,o,e[7],1735328473,14),r=l(r,o=h(o,i,n,r,e[12],2368359562,20),i,n,e[5],4294588738,4),n=l(n,r,o,i,e[8],2272392833,11),i=l(i,n,r,o,e[11],1839030562,16),o=l(o,i,n,r,e[14],4259657740,23),r=l(r,o,i,n,e[1],2763975236,4),n=l(n,r,o,i,e[4],1272893353,11),i=l(i,n,r,o,e[7],4139469664,16),o=l(o,i,n,r,e[10],3200236656,23),r=l(r,o,i,n,e[13],681279174,4),n=l(n,r,o,i,e[0],3936430074,11),i=l(i,n,r,o,e[3],3572445317,16),o=l(o,i,n,r,e[6],76029189,23),r=l(r,o,i,n,e[9],3654602809,4),n=l(n,r,o,i,e[12],3873151461,11),i=l(i,n,r,o,e[15],530742520,16),r=f(r,o=l(o,i,n,r,e[2],3299628645,23),i,n,e[0],4096336452,6),n=f(n,r,o,i,e[7],1126891415,10),i=f(i,n,r,o,e[14],2878612391,15),o=f(o,i,n,r,e[5],4237533241,21),r=f(r,o,i,n,e[12],1700485571,6),n=f(n,r,o,i,e[3],2399980690,10),i=f(i,n,r,o,e[10],4293915773,15),o=f(o,i,n,r,e[1],2240044497,21),r=f(r,o,i,n,e[8],1873313359,6),n=f(n,r,o,i,e[15],4264355552,10),i=f(i,n,r,o,e[6],2734768916,15),o=f(o,i,n,r,e[13],1309151649,21),r=f(r,o,i,n,e[4],4149444226,6),n=f(n,r,o,i,e[11],3174756917,10),i=f(i,n,r,o,e[2],718787259,15),o=f(o,i,n,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+o|0,this._c=this._c+i|0,this._d=this._d+n|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},t.exports=a},{"hash-base":340,inherits:362,"safe-buffer":487}],377:[function(e,t,r){var d=e("bn.js"),n=e("brorand");function i(e){this.rand=e||new n.Rand}(t.exports=i).create=function(e){return new i(e)},i.prototype._randbelow=function(e){var t=e.bitLength(),r=Math.ceil(t/8);do{var n=new d(this.rand.generate(r))}while(0<=n.cmp(e));return n},i.prototype._randrange=function(e,t){t=t.sub(e);return e.add(this._randbelow(t))},i.prototype.test=function(e,t,r){for(var n=e.bitLength(),i=d.mont(e),o=new d(1).toRed(i),s=(t=t||Math.max(1,n/48|0),e.subn(1)),a=0;!s.testn(a);a++);for(var c=e.shrn(a),u=s.toRed(i);0<t;t--){var h=this._randrange(new d(2),s),l=(r&&r(h),h.toRed(i).redPow(c));if(0!==l.cmp(o)&&0!==l.cmp(u)){for(var f=1;f<a;f++){if(0===(l=l.redSqr()).cmp(o))return!1;if(0===l.cmp(u))break}if(f===a)return!1}}return!0},i.prototype.getDivisor=function(e,t){for(var r=e.bitLength(),n=d.mont(e),i=new d(1).toRed(n),o=(t=t||Math.max(1,r/48|0),e.subn(1)),s=0;!o.testn(s);s++);for(var a=e.shrn(s),c=o.toRed(n);0<t;t--){var u=this._randrange(new d(2),o),h=e.gcd(u);if(0!==h.cmpn(1))return h;var l=u.toRed(n).redPow(a);if(0!==l.cmp(i)&&0!==l.cmp(c)){for(var f=1;f<s;f++){if(0===(l=l.redSqr()).cmp(i))return l.fromRed().subn(1).gcd(e);if(0===l.cmp(c))break}if(f===s)return(l=l.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},{"bn.js":188,brorand:190}],378:[function(e,t,r){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}(t.exports=n).equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},{}],379:[function(e,t,r){"use strict";function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e)for(var n=0;n<e.length;n++)r[n]=0|e[n];else if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,i=255&i;o?r.push(o,i):r.push(i)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}},{}],380:[function(e,t,r){const n=e("./lib/opts-arg.js"),i=e("./lib/path-arg.js"),{mkdirpNative:o,mkdirpNativeSync:s}=e("./lib/mkdirp-native.js"),{mkdirpManual:a,mkdirpManualSync:c}=e("./lib/mkdirp-manual.js"),{useNative:u,useNativeSync:h}=e("./lib/use-native.js");e=(e,t)=>(e=i(e),t=n(t),(u(t)?o:a)(e,t));e.sync=(e,t)=>(e=i(e),t=n(t),(h(t)?s:c)(e,t)),e.native=(e,t)=>o(i(e),n(t)),e.manual=(e,t)=>a(i(e),n(t)),e.nativeSync=(e,t)=>s(i(e),n(t)),e.manualSync=(e,t)=>c(i(e),n(t)),t.exports=e},{"./lib/mkdirp-manual.js":382,"./lib/mkdirp-native.js":383,"./lib/opts-arg.js":384,"./lib/path-arg.js":385,"./lib/use-native.js":386}],381:[function(e,t,r){const i=e("path")["dirname"],o=(t,r,n=void 0)=>n===r?Promise.resolve():t.statAsync(r).then(e=>e.isDirectory()?n:void 0,e=>"ENOENT"===e.code?o(t,i(r),r):void 0),n=(t,r,e=void 0)=>{if(e!==r)try{return t.statSync(r).isDirectory()?e:void 0}catch(e){return"ENOENT"===e.code?n(t,i(r),r):void 0}};t.exports={findMade:o,findMadeSync:n}},{path:428}],382:[function(e,t,r){const o=e("path")["dirname"],s=(r,n,i)=>{n.recursive=!1;const e=o(r);return e===r?n.mkdirAsync(r,n).catch(e=>{if("EISDIR"!==e.code)throw e}):n.mkdirAsync(r,n).then(()=>i||r,t=>{if("ENOENT"===t.code)return s(e,n).then(e=>s(r,n,e));if("EEXIST"!==t.code&&"EROFS"!==t.code)throw t;return n.statAsync(r).then(e=>{if(e.isDirectory())return i;throw t},()=>{throw t})})},a=(e,r,n)=>{var i=o(e);if(r.recursive=!1,i===e)try{return r.mkdirSync(e,r)}catch(e){if("EISDIR"!==e.code)throw e;return}try{return r.mkdirSync(e,r),n||e}catch(t){if("ENOENT"===t.code)return a(e,r,a(i,r,n));if("EEXIST"!==t.code&&"EROFS"!==t.code)throw t;try{if(!r.statSync(e).isDirectory())throw t}catch(e){throw t}}};t.exports={mkdirpManual:s,mkdirpManualSync:a}},{path:428}],383:[function(e,t,r){const n=e("path")["dirname"],{findMade:i,findMadeSync:o}=e("./find-made.js"),{mkdirpManual:s,mkdirpManualSync:a}=e("./mkdirp-manual.js");t.exports={mkdirpNative:(t,r)=>{return r.recursive=!0,n(t)===t?r.mkdirAsync(t,r):i(r,t).then(e=>r.mkdirAsync(t,r).then(()=>e).catch(e=>{if("ENOENT"===e.code)return s(t,r);throw e}))},mkdirpNativeSync:(t,r)=>{if(r.recursive=!0,n(t)===t)return r.mkdirSync(t,r);var e=o(r,t);try{return r.mkdirSync(t,r),e}catch(e){if("ENOENT"===e.code)return a(t,r);throw e}}}},{"./find-made.js":381,"./mkdirp-manual.js":382,path:428}],384:[function(e,t,r){const n=e("util")["promisify"],i=e("fs");t.exports=e=>{if(e)if("object"==typeof e)e={mode:511,fs:i,...e};else if("number"==typeof e)e={mode:e,fs:i};else{if("string"!=typeof e)throw new TypeError("invalid options argument");e={mode:parseInt(e,8),fs:i}}else e={mode:511,fs:i};return e.mkdir=e.mkdir||e.fs.mkdir||i.mkdir,e.mkdirAsync=n(e.mkdir),e.stat=e.stat||e.fs.stat||i.stat,e.statAsync=n(e.stat),e.statSync=e.statSync||e.fs.statSync||i.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||i.mkdirSync,e}},{fs:219,util:582}],385:[function(t,r,e){!function(e){!function(){const n=e.env.__TESTING_MKDIRP_PLATFORM__||e.platform,{resolve:i,parse:o}=t("path");r.exports=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=i(e),"win32"===n){const r=/[*|"<>?:]/;var t=o(e)["root"];if(r.test(e.substr(t.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e}}.call(this)}.call(this,t("_process"))},{_process:437,path:428}],386:[function(i,o,e){!function(n){!function(){const t=i("fs"),e=n.env.__TESTING_MKDIRP_NODE_VERSION__||n.version;var r=e.replace(/^v/,"").split("."),r=10<+r[0]||10==+r[0]&&12<=+r[1];o.exports={useNative:r?e=>e.mkdir===t.mkdir:()=>!1,useNativeSync:r?e=>e.mkdirSync===t.mkdirSync:()=>!1}}.call(this)}.call(this,i("_process"))},{_process:437,fs:219}],387:[function(e,t,r){const h=e("delay"),l=e("end-of-stream-promise"),f=e("promise-defer"),d=e("randomize-array"),p=e("xor-distance"),c=e("p-queue").default;e=e("events");t.exports=class extends e{constructor({id:e,lookup:t,connect:r,sampleSize:n=10,percentFar:i=.33,maxPeers:o=4,lookupTimeout:s=1e3,queueTimeout:a=s+2e3}){if(super(),this.id=e,this._lookup=t,this._connect=r,this.sampleSize=n,this.percentFar=i,this.maxPeers=o,a<s)throw new Error("queueTimeout must be higher than lookupTimeout");this.lookupTimeout=s,this.queue=new c({concurrency:1,timeout:a}),this.connectedPeers=new Set,this.hasConnectedFar=!1,this.destroyed=!1}shouldHandleIncoming(){return this.connectedPeers.size<this.maxPeers}handleIncoming(e,t){this.shouldHandleIncoming()?this.addConnection(e,t):t.close()}addConnection(e,t,r){const n=e.toString("hex");this.connectedPeers.add(n),t.once("close",()=>{this.connectedPeers.delete(n),!r&&0!==this.connectedPeers.size||this.queue.add(()=>this.run())})}async run(){if(this.shouldHandleIncoming()&&!this.destroyed){const c=[],e=this._lookup(),t=f();var r=Promise.race([l(e),h(this.lookupTimeout),t.promise]);if(e.on("data",e=>{c.push(...e),c.length>=this.sampleSize&&t.resolve()}),await r,!this.destroyed){let e=c.slice(),t=((e=e.length>this.sampleSize?d(c).slice(0,this.sampleSize):e).sort((e,t)=>p.gt(p(this.id,e),p(this.id,t))),!1);for(var n of e){if(this.destroyed)return;var i=n.toString("hex");if(!this.connectedPeers.has(i))try{var o=await this._connect(n);t=!0,this.addConnection(n,o,!0);break}catch(e){}}if(t){if(!(this.hasConnectedFar||this.connectedPeers.size>=this.maxPeers)){r=Math.random();if(!(r>this.percentFar)){e.reverse();for(var s of e){if(this.destroyed)return;var a=s.toString("hex");if(!this.connectedPeers.has(a))try{const u=await this._connect(s);this.addConnection(s,u,!0),this.hasConnectedFar=!0,u.once("close",()=>{this.hasConnectedFar=!1});break}catch(e){}}}}}else this.emit("nopeers")}}}async destroy(){this.destroyed=!0}}},{delay:243,"end-of-stream-promise":274,events:284,"p-queue":419,"promise-defer":438,"randomize-array":458,"xor-distance":597}],388:[function(e,t,r){var i=864e5;function o(e,t,r,n){t=1.5*r<=t;return Math.round(e/r)+" "+n+(t?"s":"")}t.exports=function(e,t){t=t||{};var r=typeof e;if(!("string"==r&&0<e.length)){if("number"==r&&isFinite(e))return(t.long?function(e){var t=Math.abs(e);if(i<=t)return o(e,t,i,"day");if(36e5<=t)return o(e,t,36e5,"hour");if(6e4<=t)return o(e,t,6e4,"minute");if(1e3<=t)return o(e,t,1e3,"second");return e+" ms"}:function(e){var t=Math.abs(e);if(i<=t)return Math.round(e/i)+"d";if(36e5<=t)return Math.round(e/36e5)+"h";if(6e4<=t)return Math.round(e/6e4)+"m";if(1e3<=t)return Math.round(e/1e3)+"s";return e+"ms"})(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}r=e;if(!(100<(r=String(r)).length)){r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(r){var n=parseFloat(r[1]);switch((r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*i;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*n;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*n;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}},{}],389:[function(t,r,e){!function(e){!function(){r.exports=t("node-gyp-build-optional-packages")(e)}.call(this)}.call(this,"/node_modules/.pnpm/msgpackr@1.6.2/node_modules/msgpackr-extract")},{"node-gyp-build-optional-packages":413}],390:[function(He,e,Ke){!function(Ue,Je,Qe){!function(){"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});var p,g,y,e=He("stream"),t=He("module");try{p=new TextDecoder}catch(e){}var b=0;const j=[];var m,v,A,_,w,E=j,S=0,k={},I=0,C=0,i=[],U={useRecords:!1,mapsAsObjects:!0};class J{}const Q=new J;var B=!(Q.name="MessagePack 0xC1"),H=2;try{new Function("")}catch(e){H=1/0}class o{constructor(e){e&&(!1===e.useRecords&&void 0===e.mapsAsObjects&&(e.mapsAsObjects=!0),e.sequential&&!1!==e.trusted&&(e.trusted=!0,e.structures||0==e.useRecords||(e.structures=[],e.maxSharedStructures||(e.maxSharedStructures=0))),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(t,e){if(g)return ue(()=>(l(),this?this.unpack(t,e):o.prototype.unpack.call(U,t,e)));y=-1<e?e:t.length,C=S=b=0,v=null,E=j,A=null,g=t;try{w=t.dataView||(t.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength))}catch(e){if(g=null,t instanceof Uint8Array)throw e;throw new Error("Source must be a Uint8Array or Buffer but was a "+(t&&"object"==typeof t?t.constructor.name:typeof t))}if(this instanceof o){if((k=this).structures)return m=this.structures,s()}else k=U;return(!m||0<m.length)&&(m=[]),s()}unpackMultiple(e,t){let r,n=0;try{B=!0;var i=e.length,o=(this||f).unpack(e,i);if(!t){for(r=[o];b<i;)n=b,r.push(s());return r}for(t(o);b<i;)if(n=b,!1===t(s()))return}catch(e){throw e.lastPosition=n,e.values=r,e}finally{B=!1,l()}}_mergeStructures(r,e){for(let t=0,e=(r=r||[]).length;t<e;t++){let e=r[t];e&&(e.isShared=!0,32<=t&&(e.highByte=t-32>>5))}for(var t in r.sharedLength=r.length,e||[]){var n,i;0<=t&&(n=r[t],(i=e[t])&&(n&&((r.restoreStructures||(r.restoreStructures=[]))[t]=n),r[t]=i))}return this.structures=r}decode(e,t){return this.unpack(e,t)}}function s(){try{k.trusted||B||(e=m.sharedLength||0)<m.length&&(m.length=e);var e,t=a();if((b=A?A.postBundlePosition:b)==y)m.restoreStructures&&K(),g=m=null,_=_&&null;else{if(y<b)throw new Error("Unexpected end of MessagePack data");if(!B)throw new Error("Data read, but end of buffer not reached "+JSON.stringify(t).slice(0,100))}return t}catch(e){throw m.restoreStructures&&K(),l(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer")||y<b)&&(e.incomplete=!0),e}}function K(){for(var e in m.restoreStructures)m[e]=m.restoreStructures[e];m.restoreStructures=null}function a(){let r=g[b++];if(r<160){if(r<128){if(r<64)return r;{let e=m[63&r]||k.getStructures&&q()[63&r];return e?(e.read||(e.read=z(e,63&r)),e.read()):r}}if(r<144){if(r-=128,k.mapsAsObjects){let t={};for(let e=0;e<r;e++)t[oe()]=a();return t}{let t=new Map;for(let e=0;e<r;e++)t.set(a(),a());return t}}{r-=144;let t=new Array(r);for(let e=0;e<r;e++)t[e]=a();return t}}if(r<192){var e=r-160;if(b<=C)return v.slice(b-I,(b+=e)-I);if(0==C&&y<140){var t=(e<16?te:ee)(e);if(null!=t)return t}return c(e)}{let t;switch(r){case 192:return null;case 193:return A?0<(t=a())?A[1].slice(A.position1,A.position1+=t):A[0].slice(A.position0,A.position0-=t):Q;case 194:return!1;case 195:return!0;case 196:if(void 0===(t=g[b++]))throw new Error("Unexpected end of buffer");return ne(t);case 197:return t=w.getUint16(b),b+=2,ne(t);case 198:return t=w.getUint32(b),b+=4,ne(t);case 199:return h(g[b++]);case 200:return t=w.getUint16(b),b+=2,h(t);case 201:return t=w.getUint32(b),b+=4,h(t);case 202:var n;return(t=w.getFloat32(b),2<k.useFloat32)?(n=T[(127&g[b])<<1|g[b+1]>>7],b+=4,(n*t+(0<t?.5:-.5)>>0)/n):(b+=4,t);case 203:return t=w.getFloat64(b),b+=8,t;case 204:return g[b++];case 205:return t=w.getUint16(b),b+=2,t;case 206:return t=w.getUint32(b),b+=4,t;case 207:return k.int64AsNumber?(t=4294967296*w.getUint32(b),t+=w.getUint32(b+4)):t=w.getBigUint64(b),b+=8,t;case 208:return w.getInt8(b++);case 209:return t=w.getInt16(b),b+=2,t;case 210:return t=w.getInt32(b),b+=4,t;case 211:return k.int64AsNumber?(t=4294967296*w.getInt32(b),t+=w.getUint32(b+4)):t=w.getBigInt64(b),b+=8,t;case 212:if(114==(t=g[b++]))return se(63&g[b++]);{let e=i[t];if(e)return e.read?(b++,e.read(a())):e.noBuffer?(b++,e()):e(g.subarray(b,++b));throw new Error("Unknown extension "+t)}case 213:return 114==(t=g[b])?(b++,se(63&g[b++],g[b++])):h(2);case 214:return h(4);case 215:return h(8);case 216:return h(16);case 217:return t=g[b++],b<=C?v.slice(b-I,(b+=t)-I):V(t);case 218:return t=w.getUint16(b),(b+=2)<=C?v.slice(b-I,(b+=t)-I):Y(t);case 219:return t=w.getUint32(b),(b+=4)<=C?v.slice(b-I,(b+=t)-I):Z(t);case 220:return t=w.getUint16(b),b+=2,W(t);case 221:return t=w.getUint32(b),b+=4,W(t);case 222:return t=w.getUint16(b),b+=2,$(t);case 223:return t=w.getUint32(b),b+=4,$(t);default:if(224<=r)return r-256;if(void 0!==r)throw new Error("Unknown MessagePack token "+r);{let e=new Error("Unexpected end of MessagePack data");throw e.incomplete=!0,e}}}}const G=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function z(i,t){function e(){if(e.count++>H){let e=i.read=new Function("r","return function(){return {"+i.map(e=>G.test(e)?e+":r()":"["+JSON.stringify(e)+"]:r()").join(",")+"}}")(a);return 0===i.highByte&&(i.read=X(t,i.read)),e()}let r={};for(let e=0,t=i.length;e<t;e++){var n=i[e];r[n]=a()}return r}return(e.count=0)===i.highByte?X(t,e):e}const X=(r,n)=>function(){var e=g[b++];if(0===e)return n();e=r<32?-(r+(e<<5)):r+(e<<5);let t=m[e]||q()[e];if(t)return t.read||(t.read=z(t,r)),t.read();throw new Error("Record id is not defined for "+e)};function q(){var e=ue(()=>(g=null,k.getStructures()));return m=k._mergeStructures(e,m)}var c=u,V=u,Y=u,Z=u;function u(e){let t;if(!(e<16&&(t=te(e)))){if(64<e&&p)return p.decode(g.subarray(b,b+=e));var r=b+e;const s=[];for(t="";b<r;){var n=g[b++];if(0==(128&n))s.push(n);else if(192==(224&n)){var i=63&g[b++];s.push((31&n)<<6|i)}else if(224==(240&n)){var i=63&g[b++],o=63&g[b++];s.push((31&n)<<12|i<<6|o)}else if(240==(248&n)){let e=(7&n)<<18|(63&g[b++])<<12|(63&g[b++])<<6|63&g[b++];65535<e&&(e-=65536,s.push(e>>>10&1023|55296),e=56320|1023&e),s.push(e)}else s.push(n);4096<=s.length&&(t+=x.apply(String,s),s.length=0)}0<s.length&&(t+=x.apply(String,s))}return t}function W(t){let r=new Array(t);for(let e=0;e<t;e++)r[e]=a();return r}function $(r){if(k.mapsAsObjects){let t={};for(let e=0;e<r;e++)t[oe()]=a();return t}{let t=new Map;for(let e=0;e<r;e++)t.set(a(),a());return t}}Ke.isNativeAccelerationEnabled=!1;var x=String.fromCharCode;function ee(t){var r=b;let n=new Array(t);for(let e=0;e<t;e++){var i=g[b++];if(0<(128&i))return void(b=r);n[e]=i}return x.apply(String,n)}function te(e){if(e<4)return e<2?0===e?"":1<(128&(t=g[b++]))?void--b:x(t):(t=g[b++],r=g[b++],0<(128&t)||0<(128&r)?void(b-=2):e<3?x(t,r):0<(128&(n=g[b++]))?void(b-=3):x(t,r,n));var t=g[b++],r=g[b++],n=g[b++],i=g[b++];if(0<(128&t)||0<(128&r)||0<(128&n)||0<(128&i))b-=4;else{if(e<6)return 4===e?x(t,r,n,i):0<(128&(o=g[b++]))?void(b-=5):x(t,r,n,i,o);if(e<8){var o=g[b++],s=g[b++];if(!(0<(128&o)||0<(128&s)))return e<7?x(t,r,n,i,o,s):0<(128&(a=g[b++]))?void(b-=7):x(t,r,n,i,o,s,a);b-=6}else{var o=g[b++],s=g[b++],a=g[b++],c=g[b++];if(0<(128&o)||0<(128&s)||0<(128&a)||0<(128&c))b-=8;else{if(e<10)return 8===e?x(t,r,n,i,o,s,a,c):0<(128&(u=g[b++]))?void(b-=9):x(t,r,n,i,o,s,a,c,u);if(e<12){var u=g[b++],h=g[b++];if(!(0<(128&u)||0<(128&h)))return e<11?x(t,r,n,i,o,s,a,c,u,h):0<(128&(d=g[b++]))?void(b-=11):x(t,r,n,i,o,s,a,c,u,h,d);b-=10}else{var l,f,u=g[b++],h=g[b++],d=g[b++],p=g[b++];if(!(0<(128&u)||0<(128&h)||0<(128&d)||0<(128&p)))return e<14?12===e?x(t,r,n,i,o,s,a,c,u,h,d,p):0<(128&(l=g[b++]))?void(b-=13):x(t,r,n,i,o,s,a,c,u,h,d,p,l):(l=g[b++],f=g[b++],0<(128&l)||0<(128&f)?void(b-=14):e<15?x(t,r,n,i,o,s,a,c,u,h,d,p,l,f):0<(128&(e=g[b++]))?void(b-=15):x(t,r,n,i,o,s,a,c,u,h,d,p,l,f,e));b-=12}}}}}function re(){var e=g[b++];let t;if(e<192)t=e-160;else switch(e){case 217:t=g[b++];break;case 218:t=w.getUint16(b),b+=2;break;case 219:t=w.getUint32(b),b+=4;break;default:throw new Error("Expected string")}return u(t)}function ne(e){return k.copyBuffers?Uint8Array.prototype.slice.call(g,b,b+=e):g.subarray(b,b+=e)}function h(e){var t=g[b++];if(i[t])return i[t](g.subarray(b,b+=e));throw new Error("Unknown extension type "+t)}var ie=new Array(4096);function oe(){let e=g[b++];if(!(160<=e&&e<192))return b--,a();if(e-=160,b<=C)return v.slice(b-I,(b+=e)-I);if(!(0==C&&y<180))return c(e);var t=4095&(e<<5^(1<e?w.getUint16(b):0<e?g[b]:0));let r=ie[t],n=b,i=b+e-3,o,s=0;if(r&&r.bytes==e){for(;n<i;){if((o=w.getUint32(n))!=r[s++]){n=1879048192;break}n+=4}for(i+=3;n<i;)if((o=g[n++])!=r[s++]){n=1879048192;break}if(n===i)return b=n,r.string;i-=3,n=b}for(r=[],(ie[t]=r).bytes=e;n<i;)o=w.getUint32(n),r.push(o),n+=4;for(i+=3;n<i;)o=g[n++],r.push(o);t=(e<16?te:ee)(e);return r.string=null!=t?t:c(e)}const se=(e,t)=>{var r=a(),n=e,t=(void 0!==t&&(e=e<32?-((t<<5)+e):(t<<5)+e,r.highByte=t),m[e]);return t&&t.isShared&&((m.restoreStructures||(m.restoreStructures=[]))[e]=t),(m[e]=r).read=z(r,n),r.read()},ae=(i[0]=()=>{},i[0].noBuffer=!0,i[101]=()=>{var e=a();return(globalThis[e[0]]||Error)(e[1])},i[105]=e=>{var t=w.getUint32(b-4),r=(_=_||new Map,g[b]);let n,i={target:n=144<=r&&r<160||220==r||221==r?[]:{}};_.set(t,i);r=a();return i.used?Object.assign(n,r):i.target=r},i[112]=e=>{var t=w.getUint32(b-4);let r=_.get(t);return r.used=!0,r.target},i[115]=()=>new Set(a()),["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array")),ce=(i[116]=e=>{var t=e[0],r=ae[t];if(r)return new globalThis[r](Uint8Array.prototype.slice.call(e,1).buffer);throw new Error("Could not find typed array for code "+t)},i[120]=()=>{var e=a();return new RegExp(e[0],e[1])},[]);function ue(e){var t=y,r=b,n=S,i=I,o=C,s=v,a=E,c=_,u=A,h=new Uint8Array(g.slice(0,y)),l=m,f=m.slice(0,m.length),d=k,p=B,e=e();return y=t,b=r,S=n,I=i,C=o,v=s,E=a,_=c,A=u,g=h,B=p,(m=l).splice(0,m.length,...f),k=d,w=new DataView(g.buffer,g.byteOffset,g.byteLength),e}function l(){m=_=g=null}i[98]=e=>{var t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],r=b;return b+=t-e.length,A=ce,(A=[re(),re()]).position0=0,A.position1=0,A.postBundlePosition=b,b=r,a()},i[255]=e=>4==e.length?new Date(1e3*(16777216*e[0]+(e[1]<<16)+(e[2]<<8)+e[3])):8==e.length?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+1e3*(4294967296*(3&e[3])+16777216*e[4]+(e[5]<<16)+(e[6]<<8)+e[7])):12==e.length?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+1e3*((128&e[4]?-281474976710656:0)+1099511627776*e[6]+4294967296*e[7]+16777216*e[8]+(e[9]<<16)+(e[10]<<8)+e[11])):new Date("invalid");const T=new Array(147);for(let e=0;e<256;e++)T[e]=+("1e"+Math.floor(45.15-.30103*e));var he=o,f=new o({useRecords:!1}),le=f.unpack,fe=f.unpackMultiple,de=f.unpack,pe={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4};let ge=new Float32Array(1),ye=new Uint8Array(ge.buffer,0,4);let r;try{r=new TextEncoder}catch(e){}let M,be;const n=void 0!==Je,me=n?function(e){return Je.allocUnsafeSlow(e)}:Uint8Array,ve=n?Je:Uint8Array,Ae=n?4294967296:2144337920;let P,O,L,R=0,D,N=null;const _e=/[\u0080-\uFFFF]/,F=Symbol("record-id");class d extends o{constructor(e){super(e),this.offset=0;let l,a,f,u,c=0,h=ve.prototype.utf8Write?function(e,t){return P.utf8Write(e,t,4294967295)}:!(!r||!r.encodeInto)&&function(e,t){return r.encodeInto(e,P.subarray(t)).written},d=this,p=(e=e||{})&&e.sequential;var t=e.structures||e.saveStructures;let g=e.maxSharedStructures;if(8160<(g=null==g?t?32:0:g))throw new Error("Maximum maxSharedStructure is 8160");e.structuredClone&&null==e.moreTypes&&(e.moreTypes=!0);let o=e.maxOwnStructures,y=(null==o&&(o=t?32:64),this.structures||0==e.useRecords||(this.structures=[]),32<g||64<o+g),s=g+64,b=g+o+64;if(8256<b)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],v=0,A=0;this.pack=this.encode=function(e,t){if(P||(P=new me(8192),L=new DataView(P.buffer,0,8192),R=0),D=P.length-10,R=D-R<2048?(P=new me(P.length),L=new DataView(P.buffer,0,P.length),D=P.length-10,0):R+7&2147483640,l=R,u=d.structuredClone?new Map:null,d.bundleStrings&&"string"!=typeof e?(N=[]).size=1/0:N=null,f=d.structures){var r=(f=f.uninitialized?d._mergeStructures(d.getStructures()):f).sharedLength||0;if(r>g)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+f.sharedLength);if(!f.transitions){f.transitions=Object.create(null);for(let e=0;e<r;e++){var i=f[e];if(i){let r,n=f.transitions;for(let e=0,t=i.length;e<t;e++){var o=i[e];r=(r=n[o])||(n[o]=Object.create(null)),n=r}n[F]=e+64}}c=r}p||(f.nextId=r+64)}a=a&&!1;try{return _(e),N&&Se(l,_),d.offset=R,u&&u.idsToInsert?((R+=6*u.idsToInsert.length)>D&&E(R),d.offset=R,s=function(e,t){let r,n=6*t.length,i=e.length-n;t.sort((e,t)=>e.offset>t.offset?1:-1);for(;r=t.pop();){var o=r.offset,s=r.id,a=(e.copyWithin(o+n,o,i),n-=6,o+n);e[a++]=214,e[a++]=105,e[a++]=s>>24,e[a++]=s>>16&255,e[a++]=s>>8&255,e[a++]=255&s,i=o}return e}(P.subarray(l,R),u.idsToInsert),u=null,s):t&Pe?(P.start=l,P.end=R,P):P.subarray(l,R)}finally{if(f){A<10&&A++;var n,s=f.sharedLength||g;if(f.length>s&&(f.length=s),1e4<v)f.transitions=null,A=0,(v=0)<m.length&&(m=[]);else if(0<m.length&&!p){for(let e=0,t=m.length;e<t;e++)m[e][F]=0;m=[]}if(a&&d.saveStructures)return n=P.subarray(l,R),!1===d.saveStructures(f,c)?(d._mergeStructures(d.getStructures()),d.pack(e)):(c=s,n)}t&Oe&&(R=l)}};const _=o=>{R>D&&(P=E(R));var s,e=typeof o;if("string"==e){var a=o.length;if(N&&4<=a&&a<4096){if(61440<(N.size+=a)){let e;var t=(N[0]?3*N[0].length+N[1].length:0)+10;R+t>D&&(P=E(R+t)),N.position?(P[R]=200,R+=3,P[R++]=98,e=R-l,R+=4,Se(l,_),L.setUint16(e+l-3,R-l-e)):(P[R++]=214,P[R++]=98,e=R-l,R+=4),(N=["",""]).size=0,N.position=e}var t=_e.test(o);N[t?0:1]+=o,P[R++]=193,_(t?-a:a)}else{let i;i=a<32?1:a<256?2:a<65536?3:5;var t=3*a;if(R+t>D&&(P=E(R+t)),a<64||!h){let e,t,r,n=R+i;for(e=0;e<a;e++)(t=o.charCodeAt(e))<128?P[n++]=t:(t<2048?P[n++]=t>>6|192:(55296==(64512&t)&&56320==(64512&(r=o.charCodeAt(e+1)))?(t=65536+((1023&t)<<10)+(1023&r),e++,P[n++]=t>>18|240,P[n++]=t>>12&63|128):P[n++]=t>>12|224,P[n++]=t>>6&63|128),P[n++]=63&t|128);s=n-R-i}else s=h(o,R+i);s<32?P[R++]=160|s:s<256?(i<2&&P.copyWithin(R+2,R+1,R+1+s),P[R++]=217,P[R++]=s):s<65536?(i<3&&P.copyWithin(R+3,R+2,R+2+s),P[R++]=218,P[R++]=s>>8,P[R++]=255&s):(i<5&&P.copyWithin(R+5,R+3,R+3+s),P[R++]=219,L.setUint32(R,s),R+=4),R+=s}}else if("number"==e)if(o>>>0===o)o<64||o<128&&!1===this.useRecords?P[R++]=o:o<256?(P[R++]=204,P[R++]=o):o<65536?(P[R++]=205,P[R++]=o>>8,P[R++]=255&o):(P[R++]=206,L.setUint32(R,o),R+=4);else if(o>>0===o)-32<=o?P[R++]=256+o:-128<=o?(P[R++]=208,P[R++]=o+256):-32768<=o?(P[R++]=209,L.setInt16(R,o),R+=2):(P[R++]=210,L.setInt32(R,o),R+=4);else{if(0<(t=this.useFloat32)&&o<4294967296&&-2147483648<=o){if(P[R++]=202,L.setFloat32(R,o),t<4||(t=o*T[(127&P[R])<<1|P[R+1]>>7])>>0==t)return void(R+=4);R--}P[R++]=203,L.setFloat64(R,o),R+=8}else if("object"==e)if(o){if(u){let t=u.get(o);if(t){if(!t.id){let e=u.idsToInsert||(u.idsToInsert=[]);t.id=e.push(t)}return P[R++]=214,P[R++]=112,L.setUint32(R,t.id),void(R+=4)}u.set(o,{offset:R-l})}t=o.constructor;if(t===Object)w(o,!0);else if(t===Array){(s=o.length)<16?P[R++]=144|s:s<65536?(P[R++]=220,P[R++]=s>>8,P[R++]=255&s):(P[R++]=221,L.setUint32(R,s),R+=4);for(let e=0;e<s;e++)_(o[e])}else if(t===Map){(s=o.size)<16?P[R++]=128|s:s<65536?(P[R++]=222,P[R++]=s>>8,P[R++]=255&s):(P[R++]=223,L.setUint32(R,s),R+=4);for(var[r,n]of o)_(r),_(n)}else{for(let n=0,e=M.length;n<e;n++)if(o instanceof be[n]){let e=M[n];if(e.write)return e.type&&(P[R++]=212,P[R++]=e.type,P[R++]=0),void _(e.write.call(this,o));let t=P;var i=L,c=R;P=null;let r;try{r=e.pack.call(this,o,e=>(P=t,t=null,(R+=e)>D&&E(R),{target:P,targetView:L,position:R-e}),_)}finally{t&&(P=t,L=i,R=c,D=P.length-10)}return void(r&&(r.length+R>D&&E(r.length+R),R=function(e,t,r,n){var i=e.length;switch(i){case 1:t[r++]=212;break;case 2:t[r++]=213;break;case 4:t[r++]=214;break;case 8:t[r++]=215;break;case 16:t[r++]=216;break;default:i<256?(t[r++]=199,t[r++]=i):(i<65536?(t[r++]=200,t[r++]=i>>8):(t[r++]=201,t[r++]=i>>24,t[r++]=i>>16&255,t[r++]=i>>8&255),t[r++]=255&i)}return t[r++]=n,t.set(e,r),r+=i}(r,P,R,e.type)))}w(o,!o.hasOwnProperty)}}else P[R++]=192;else if("boolean"==e)P[R++]=o?195:194;else if("bigint"==e){if(o<BigInt(1)<<BigInt(63)&&o>=-(BigInt(1)<<BigInt(63)))P[R++]=211,L.setBigInt64(R,o);else if(o<BigInt(1)<<BigInt(64)&&0<o)P[R++]=207,L.setBigUint64(R,o);else{if(!this.largeBigIntToFloat)throw new RangeError(o+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");P[R++]=203,L.setFloat64(R,Number(o))}R+=8}else if("undefined"==e)this.encodeUndefinedAsNil?P[R++]=192:(P[R++]=212,P[R++]=0,P[R++]=0);else{if("function"!=e)throw new Error("Unknown type: "+e);_(this.writeFunction&&this.writeFunction())}},w=!1===this.useRecords?this.variableMapSize?t=>{var r,n=Object.keys(t),i=n.length;i<16?P[R++]=128|i:i<65536?(P[R++]=222,P[R++]=i>>8,P[R++]=255&i):(P[R++]=223,L.setUint32(R,i),R+=4);for(let e=0;e<i;e++)_(r=n[e]),_(t[r])}:(e,t)=>{P[R++]=222;var r,n=R-l;R+=2;let i=0;for(r in e)(t||e.hasOwnProperty(r))&&(_(r),_(e[r]),i++);P[n+++l]=i>>8,P[n+l]=255&i}:e.progressiveRecords&&!y?(e,t)=>{let n,i=f.transitions||(f.transitions=Object.create(null));var o,r,s=R++-l;let a;for(o in e)if(t||e.hasOwnProperty(o)){if(n=i[o])i=n;else{var c=Object.keys(e),u=i;i=f.transitions;let r=0;for(let e=0,t=c.length;e<t;e++){var h=c[e];(n=i[h])||(n=i[h]=Object.create(null),r++),i=n}s+l+1==R?(R--,S(i,c,r)):k(i,c,s,r),a=!0,i=u[o]}_(e[o])}a||((r=i[F])?P[s+l]=r:k(i,Object.keys(e),s,0))}:(e,t)=>{let r,n=f.transitions||(f.transitions=Object.create(null)),i=0;for(var o in e)(t||e.hasOwnProperty(o))&&((r=n[o])||(r=n[o]=Object.create(null),i++),n=r);let s=n[F];for(var a in s?96<=s&&y?(P[R++]=96+(31&(s-=96)),P[R++]=s>>5):P[R++]=s:S(n,n.__keys__||Object.keys(e),i),e)(t||e.hasOwnProperty(a))&&_(e[a])},E=e=>{let t;if(16777216<e){if(e-l>Ae)throw new Error("Packed buffer would be larger than maximum buffer size");t=Math.min(Ae,4096*Math.round(Math.max((e-l)*(67108864<e?1.25:2),4194304)/4096))}else t=1+(Math.max(e-l<<2,P.length-1)>>12)<<12;let r=new me(t);return L=new DataView(r.buffer,0,t),e=Math.min(e,P.length),P.copy?P.copy(r,0,l,e):r.set(P.slice(l,e)),R-=l,l=0,D=r.length-10,P=r},S=(e,t,r)=>{let n=f.nextId;(n=n||64)<s&&this.shouldShareStructure&&!this.shouldShareStructure(t)?((n=f.nextOwnId)<b||(n=s),f.nextOwnId=n+1):(n>=b&&(n=s),f.nextId=n+1);var i=t.highByte=96<=n&&y?n-96>>5:-1;e[F]=n,e.__keys__=t,f[n-64]=t,n<s?(t.isShared=!0,f.sharedLength=n-63,a=!0,0<=i?(P[R++]=96+(31&n),P[R++]=i):P[R++]=n):(0<=i?(P[R++]=213,P[R++]=114,P[R++]=96+(31&n),P[R++]=i):(P[R++]=212,P[R++]=114,P[R++]=n),r&&(v+=A*r),m.length>=o&&(m.shift()[F]=0),m.push(e),_(t))},k=(e,t,r,n)=>{var i=P,o=R,s=D,a=l,e=(P=O,R=0,l=0,P||(O=P=new me(8192)),D=P.length-10,S(e,t,n),O=P,R);P=i,R=o,D=s,l=a,1<e?((t=R+e-1)>D&&E(t),n=r+l,P.copyWithin(n+e,n+1,R),P.set(O.slice(0,e),n),R=t):P[r+l]=O[0]}}useBuffer(e){P=e,L=new DataView(P.buffer,P.byteOffset,P.byteLength),R=0}clearSharedData(){this.structures&&(this.structures=[])}}function we(e,t,r){var n,i,o=e.byteLength;o+1<256?({target:n,position:i}=r(4+o),n[i++]=199,n[i++]=o+1):o+1<65536?({target:n,position:i}=r(5+o),n[i++]=200,n[i++]=o+1>>8,n[i++]=o+1&255):({target:n,position:i,targetView:r}=r(7+o),n[i++]=201,r.setUint32(i,o+1),i+=4),n[i++]=116,n[i++]=t,n.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),i)}function Ee(e,t){var r,n,i=e.byteLength;i<256?({target:r,position:n}=t(i+2),r[n++]=196,r[n++]=i):i<65536?({target:r,position:n}=t(i+3),r[n++]=197,r[n++]=i>>8,r[n++]=255&i):({target:r,position:n,targetView:t}=t(i+5),r[n++]=198,t.setUint32(n,i),n+=4),r.set(e,n)}function Se(e,t){0<N.length&&(L.setUint32(N.position+e,R-N.position-e),e=N,N=null,t(e[0]),t(e[1]))}be=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,J],M=[{pack(n,i,r){var o=n.getTime()/1e3;if((this.useTimestamp32||0===n.getMilliseconds())&&0<=o&&o<4294967296){let{target:e,targetView:t,position:r}=i(6);e[r++]=214,e[r++]=255,t.setUint32(r,o)}else if(0<o&&o<4294967296){let{target:e,targetView:t,position:r}=i(10);e[r++]=215,e[r++]=255,t.setUint32(r,4e6*n.getMilliseconds()+(o/1e3/4294967296>>0)),t.setUint32(4+r,o)}else if(isNaN(o)){if(this.onInvalidDate)return i(0),r(this.onInvalidDate());let{target:e,position:t}=i(3);e[t++]=212,e[t++]=255,e[+t]=255}else{let{target:e,targetView:t,position:r}=i(15);e[r++]=199,e[r++]=12,e[r++]=255,t.setUint32(r,1e6*n.getMilliseconds()),t.setBigInt64(4+r,BigInt(Math.floor(o)))}}},{pack(e,t,r){e=Array.from(e);let{target:n,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(n[i++]=212,n[i++]=115,n[+i]=0),r(e)}},{pack(e,t,r){let{target:n,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(n[i++]=212,n[i++]=101,n[+i]=0),r([e.name,e.message])}},{pack(e,t,r){let{target:n,position:i}=t(this.moreTypes?3:0);this.moreTypes&&(n[i++]=212,n[i++]=120,n[+i]=0),r([e.source,e.flags])}},{pack(e,t){this.moreTypes?we(e,16,t):Ee(n?Je.from(e):new Uint8Array(e),t)}},{pack(e,t){var r=e.constructor;r!==ve&&this.moreTypes?we(e,ae.indexOf(r.name),t):Ee(e,t)}},{pack(e,t){let{target:r,position:n}=t(1);r[n]=193}}];var ke=new d({useRecords:!1}),Ie=ke.pack,ke=ke.pack,Ce=d,{NEVER:Be,ALWAYS:xe,DECIMAL_ROUND:Te,DECIMAL_FIT:Me}=pe;const Pe=512,Oe=1024;class Le extends e.Transform{constructor(e){(e=e||{}).writableObjectMode=!0,super(e),e.sequential=!0,this.packr=e.packr||new d(e)}_transform(e,t,r){this.push(this.packr.pack(e)),r()}}class Re extends e.Transform{constructor(e){(e=e||{}).objectMode=!0,super(e),e.structures=[],this.unpackr=e.unpackr||new o(e)}_transform(t,e,r){this.incompleteBuffer&&(t=Je.concat([this.incompleteBuffer,t]),this.incompleteBuffer=null);let n;try{n=this.unpackr.unpackMultiple(t)}catch(e){if(!e.incomplete)throw e;this.incompleteBuffer=t.slice(e.lastPosition),n=e.values}finally{for(var i of n||[])null===i&&(i=this.getNullValue()),this.push(i)}r&&r()}getNullValue(){return Symbol.for(null)}}function De(t,e={}){if(!t||"object"!=typeof t)throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a promise");const n=new o(e);let i;const r=t=>{let r;i&&(t=Je.concat([i,t]),i=void 0);try{r=n.unpackMultiple(t)}catch(e){if(!e.incomplete)throw e;i=t.slice(e.lastPosition),r=e.values}return r};return"function"==typeof t[Symbol.iterator]?function*(){for(const e of t)yield*r(e)}():"function"==typeof t[Symbol.asyncIterator]?async function*(){for await(const e of t)yield*r(e)}():void 0}function Ne(e,t={}){if(e&&"object"==typeof e){if("function"==typeof e[Symbol.iterator])return function*(e,t){const r=new d(t);for(const n of e)yield r.pack(n)}(e,t);if("function"==typeof e.then||"function"==typeof e[Symbol.asyncIterator])return async function*(e,t){const r=new d(t);for await(const n of e)yield r.pack(n)}(e,t);throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a Promise")}throw new Error("first argument must be an Iterable, Async Iterable, or a Promise for an Async Iterable")}var Fe;if(!(void 0!==Ue.env.MSGPACKR_NATIVE_ACCELERATION_DISABLED&&"true"===Ue.env.MSGPACKR_NATIVE_ACCELERATION_DISABLED.toLowerCase())){let e;try{(e=("function"==typeof He?He:t.createRequire("undefined"==typeof document?new(He("url").URL)("file:"+Qe).href:document.currentScript&&document.currentScript.src||new URL("node.cjs",document.baseURI).href))("msgpackr-extract"))&&(Fe=e.extractStrings,Ke.isNativeAccelerationEnabled=!0,c=je(1),V=je(2),Y=je(3),Z=je(5))}catch(e){}}function je(n){return function(e){let t=E[S++];if(null==t){if(A)return u(e);var r=Fe(b-n,y,g);if("string"==typeof r)t=r,E=j;else if(E=r,C=S=1,void 0===(t=E[0]))throw new Error("Unexpected end of buffer")}r=t.length;return r<=e?(b+=e,t):(v=t,C=(I=b)+r,b+=e,t.slice(0,e))}}Ke.ALWAYS=xe,Ke.C1=Q,Ke.DECIMAL_FIT=Me,Ke.DECIMAL_ROUND=Te,Ke.Decoder=he,Ke.DecoderStream=Re,Ke.Encoder=Ce,Ke.EncoderStream=Le,Ke.FLOAT32_OPTIONS=pe,Ke.NEVER=Be,Ke.Packr=d,Ke.PackrStream=Le,Ke.Unpackr=o,Ke.UnpackrStream=Re,Ke.addExtension=function(e){if(e.Class){if(!e.pack&&!e.write)throw new Error("Extension has no pack or write function");if(e.pack&&!e.type)throw new Error("Extension has no type (numeric code to identify the extension)");be.unshift(e.Class),M.unshift(e)}(e=e).unpack?i[e.type]=e.unpack:i[e.type]=e},Ke.clearSource=l,Ke.decode=de,Ke.decodeIter=De,Ke.encode=ke,Ke.encodeIter=Ne,Ke.mapsAsObjects=!0,Ke.pack=Ie,Ke.roundFloat32=function(e){ge[0]=e;var t=T[(127&ye[3])<<1|ye[2]>>7];return(t*e+(0<e?.5:-.5)>>0)/t},Ke.unpack=le,Ke.unpackMultiple=fe,Ke.useRecords=!1}.call(this)}.call(this,He("_process"),He("buffer").Buffer,"/node_modules/msgpackr/dist/node.cjs")},{_process:437,buffer:221,module:219,"msgpackr-extract":389,stream:571}],391:[function(e,t,r){var s=e("queue-tick");t.exports=function(){function t(){o(e)}function n(e){return o?i.push(e):(o=e,n.locked=!0,s(t),0)}var i=[],o=null,e=(n.locked=!1,function(e,t,r){o=null,n.locked=!1,i.length&&n(i.shift()),e&&e(t,r)});return n}},{"queue-tick":448}],392:[function(e,t,r){var n=e(".");t.exports=function(){function e(){return new Promise(t)}var t=n();return Object.defineProperty(e,"locked",{get:function(){return t.locked},enumerable:!0}),e}},{".":391}],393:[function(e,t,r){function n(e,t){if(!e)throw new Error(t||"AssertionError")}n.notEqual=function(e,t,r){n(e!=t,r)},n.notOk=function(e,t){n(!e,t)},n.equal=function(e,t,r){n(e==t,r)},t.exports=n.ok=n},{}],394:[function(e,t,r){t.exports=function e(t,r){if(!t)throw t=new n(r),Error.captureStackTrace&&Error.captureStackTrace(t,e),t};class n extends Error{}n.prototype.name="AssertionError"},{}],395:[function(e,t,r){t.exports=function e(t,r,...n){{var i;if(!t)throw r&&"string"!=typeof r||(i=new o(r)),"function"==typeof r&&(i=new r(...n)),Error.captureStackTrace&&Error.captureStackTrace(i,e),i}};class o extends Error{}o.prototype.name="AssertionError"},{}],396:[function(e,t,r){const n=e("quick-format-unescaped");class i extends Error{static get code(){return this.name}static equals(e){return e&&"object"==typeof e&&e.isNanoerror&&e.code===this.code}constructor(...e){super();var t=this.constructor.code,r=this.constructor.message;this.message=n(r,e),this.name=t,this.code=this.name,this.args=e,this.unformatMessage=r,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(this.message).stack}get isNanoerror(){return!0}}i.message="",t.exports=function(r,e="%s"){const n={[r]:class extends i{static from(e){const t=new n[r](`[${e.toString()}]`);return t.stack=e.stack||t.stack,t}}};return n[r].message=e,n[r]}},{"quick-format-unescaped":449}],397:[function(e,t,r){const n=e("./src/nanomessage-rpc");t.exports=(...e)=>new n(...e),t.exports.NanomessageRPC=n,t.exports.useSocket=e("./src/use-socket"),t.exports.errors=e("./src/errors")},{"./src/errors":399,"./src/nanomessage-rpc":400,"./src/use-socket":401}],398:[function(e,t,r){!function(r){!function(){const i=e("varint"),o=e("nanomessage")["BJSON"],{NRPC_ERR_ENCODE:s,NRPC_ERR_DECODE:a}=e("./errors");function c(e,t){i.encode(e,t.buf,t.offset),t.offset+=i.encode.bytes}function u(e,t,r,n){c(t,n),e.encode(r,n.buf,n.offset),n.offset+=t}function n(e,t,r){c(t,r),r.buf.write(e,r.offset,t,"utf8"),r.offset+=t}function h(e){var t=i.decode(e.buf,e.offset);return e.offset+=i.decode.bytes,t}function l(e,t){var r=h(t),e=e.decode(t.buf,t.offset,t.offset+r);return t.offset+=r,e}function f(e){var t=h(e),r=e.buf.slice(e.offset,e.offset+t);return e.offset+=t,r}t.exports=class{constructor(e=o){this._valueEncoding=e,this._lastHeader=null,this._lastDataLength=null,this._lastNameLength=null}encode(e,t,r=0){try{return e.name?this._encodeRequest(e,t,r):this._encodeResponse(e,t,r)}catch(e){const n=new s(e.message);throw n.stack=e.stack||n.stack,e}}decode(e,t=0){try{var r=i.decode(e,t);return t+=i.decode.bytes,1&r?this._decodeResponse(r,e,t):this._decodeRequest(r,e,t)}catch(e){const n=new a(e.message);throw n.stack=e.stack||n.stack,e}}encodingLength(e){return e.name?this._encodingLengthRequest(e):this._encodingLengthResponse(e)}_headerRequest(e){let t=0;return e.event&&(t|=2),this._lastHeader=t}_headerResponse(e){let t=0;return t|=1,e.error&&(t|=4),this._lastHeader=t}_encodeRequest(e,t,r){t={buf:t,offset:r};return c(this._lastHeader,t),n(e.name,this._lastNameLength,t),u(this._valueEncoding,this._lastDataLength,e.data,t),t.buf}_decodeRequest(e,t,r){const n={};t={buf:t,offset:r};return n.event=!!(2&e),n.name=f(t).toString(),n.data=l(this._valueEncoding,t),n}_encodingLengthRequest(e){var t=this._headerRequest(e);return this._lastDataLength=this._valueEncoding.encodingLength(e.data),this._lastNameLength=r.byteLength(e.name,"utf8"),i.encodingLength(t)+i.encodingLength(this._lastDataLength)+this._lastDataLength+i.encodingLength(this._lastNameLength)+this._lastNameLength}_encodingLengthResponse(e){var t=this._headerResponse(e);let r=this._valueEncoding;e=(r=e.error?o:r).encodingLength(e.data);return i.encodingLength(t)+i.encodingLength(e)+e}_encodeResponse(e,t,r){let n=this._valueEncoding;var i=(n=e.error?o:n).encodingLength(e.data),t={buf:t,offset:r};return c(this._lastHeader,t),u(n,i,e.data,t),t.buf}_decodeResponse(e,t,r){const n={};t={buf:t,offset:r};n.error=!!(4&e);let i=this._valueEncoding;return n.error&&(i=o),n.data=l(i,t),n}}}.call(this)}.call(this,e("buffer").Buffer)},{"./errors":399,buffer:221,nanomessage:402,varint:585}],399:[function(e,t,r){const n=e("nanoerror"),i=(r.encodeError=function(e){return{error:!0,data:{code:e.code,unformatMessage:e.unformatMessage,args:e.args,stack:e.stack}}},r.decodeError=function(e,t){if(r[e])return r[e];if(i.has(e))return i.get(e);t=n(e,t);return i.set(e,t),t},new Map);function o(e,t){r[e]=n(e,t)}o("NRPC_ERR_NAME_MISSING","missing action handler for: %s"),o("NRPC_ERR_RESPONSE_ERROR","%s"),o("NRPC_ERR_REQUEST_CANCELED","%s"),o("NRPC_ERR_CLOSE","nanomessage-rpc was closed"),o("NRPC_ERR_NOT_OPEN","nanomessage-rpc is not open"),o("NRPC_ERR_ENCODE","error encoding the request: %s"),o("NRPC_ERR_DECODE","error decoding the request: %s")},{nanoerror:396}],400:[function(E,S,e){!function(w){!function(){const c=E("events")["EventEmitter"],u=E("emittery"),h=E("nanomessage"),l=E("nanocustomassert");var e=E("nanoresource-promise")["NanoresourcePromise"];const f=E("./codec"),{encodeError:n,decodeError:a,NRPC_ERR_NAME_MISSING:i,NRPC_ERR_RESPONSE_ERROR:o,NRPC_ERR_CLOSE:t,NRPC_ERR_NOT_OPEN:r,NRPC_ERR_REQUEST_CANCELED:d}=E("./errors"),p=Symbol("nrpc.nanomessage"),g=Symbol("nrpc.onmessage"),y=Symbol("nrpc.subscribe"),b=Symbol("nrpc.actions"),m=Symbol("nrpc.emittery"),v=Symbol("nrpc.fastcheckopen"),s=Symbol("nrpc.createrequest"),A=()=>{};class _ extends e{constructor(e={}){super();const{onError:t=()=>{},valueEncoding:r,send:n,subscribe:i,open:o=A,close:s=A,...a}=e;l(n,"send is required"),l(i,"subscribe is required"),this.ee=new c,this[p]=h({...a,send:n.bind(this),open:o.bind(this),close:s.bind(this),onMessage:this[g].bind(this),subscribe:this[y](i),valueEncoding:new f(r)}),this[m]=new u,this[b]=new Map,this._onError=t,this.ee.on("error",e=>{this._onError(e)})}get requests(){return this[p].requests}get inflightRequests(){return this[p].inflightRequests}get requestTimeout(){return this[p].timeout}get concurrency(){return this[p].concurrency}setRequestsTimeout(e){this[p].setRequestsTimeout(e)}setConcurrency(e){this[p].setConcurrency(e)}onError(e){this._onError=e}action(e,t){return this[b].set(e,t),this}actions(t){return Object.keys(t).forEach(e=>this.action(e,t[e])),this}call(e,t,r={}){return this[s]({name:e,data:t},r)}emit(e,t,r={}){return this[s]({name:e,data:t,event:!0},r)}on(...e){return this[m].on(...e)}once(...e){return this[m].once(...e)}off(...e){return this[m].off(...e)}events(e){return this[m].events(e)}async _open(){await this[p].open(),this.ee.emit("opened")}async _close(){await this[p].close(),this.ee.emit("closed")}async[v](){if(this.closed||this.closing)throw new t;if(this.opening)return this.open();if(!this.opened)throw new r}[y](e){return t=>{e(e=>{try{t(e)}catch(e){w.nextTick(()=>this.ee.emit("error",e))}})}}[s](e,{timeout:t,signal:r,wait:n=!0}){if(l(e.name&&"string"==typeof e.name,"name is required"),e.event&&!n)return this[v]().then(()=>this[p].send(e));let i,o;const s=this[v]().then(()=>{if(i)throw i;return o=this[p].request(e,{timeout:t,signal:r}),this.ee.emit("request-created",o,e),o}).then(e=>{if(e.error){var{code:t,unformatMessage:r,args:n,stack:i}=e.data;const o=a(t,r),s=new o(...n);throw s.stack=i||s.stack,s}return e.data});return s.cancel=e=>{if(e?"string"==typeof e&&(i=new d(e)):i=new d("request canceled"),o)return o.cancel(i);i=e},s}async[g](e){this.ee.emit("message",e);try{if(e.event)return await this[m].emit(e.name,e.data),{data:null};const t=this[b].get(e.name);return t?{data:await t(e.data)}:n(new i(e.name))}catch(e){if(e.isNanoerror)return n(e);const r=new o(e.message);return r.stack=e.stack||r.stack,n(r)}}}S.exports=_}.call(this)}.call(this,E("_process"))},{"./codec":398,"./errors":399,_process:437,emittery:273,events:284,nanocustomassert:395,nanomessage:402,"nanoresource-promise":410}],401:[function(e,t,r){!function(i){!function(){const n=e("end-of-stream");t.exports=function(t,r=!0){return{send(e){t.destroyed||t.write(e)},subscribe(e){return t.on("data",e),()=>t.removeListener("data",e)},open(){n(t,()=>{this.close().catch(e=>i.nextTick(()=>this.ee.emit("error",e)))})},close(){return new Promise(e=>{if(t.destroyed||!r)return e();n(t,()=>e()),t.destroy()})}}}}.call(this)}.call(this,e("_process"))},{_process:437,"end-of-stream":275}],402:[function(e,t,r){const n=e("./src/nanomessage");var i=e=>new n(e);i.Nanomessage=n,i.errors=e("./src/errors"),i.BJSON=e("./src/buffer-json"),t.exports=i},{"./src/buffer-json":403,"./src/errors":405,"./src/nanomessage":407}],403:[function(e,t,r){!function(s){!function(){function o(e,t){if("object"!=typeof e)return t&&"[object String]"===Object.prototype.toString.call(e)&&e.startsWith("base64:")?s.from(e.slice("base64:".length),"base64"):e;let r,n;var i=Object.prototype.toString.call(e);if(!t&&"[object Uint8Array]"===i&&s.isBuffer(e))return"base64:"+s.from(e).toString("base64");if("[object Object]"===i)for(r in n={},e)n[r]=o(e[r],t);else{if("[object Array]"!==i)return e;for(r=e.length,n=Array(r);r--;)n[r]=o(e[r],t)}return n}t.exports={_lastObj:null,_lastStr:null,_lastLength:null,encode(e,t,r){let n,i;return i=this._lastObj===e?(n=this._lastStr,this._lastLength):(n=JSON.stringify(o({data:e})),s.byteLength(n,"utf8")),t.write(n,r,i,"utf8"),this._lastObj=null,this._lastStr=null,this._lastLength=null,t.slice(r,r+i)},decode(e,t,r){return t=t||0,r=r||e.length,o(JSON.parse(e.slice(t,r)),!0).data},encodingLength(e){return this._lastObj=e,this._lastStr=JSON.stringify(o({data:e})),this._lastLength=s.byteLength(this._lastStr,"utf8"),this._lastLength}}}.call(this)}.call(this,e("buffer").Buffer)},{buffer:221}],404:[function(t,r,e){!function(u){!function(){const s=t("varint"),e=t("./buffer-json"),{NMSG_ERR_ENCODE:a,NMSG_ERR_DECODE:c}=t("./errors");r.exports=function(o=e){return{encode(t){try{let e=t.id<<1;t.response&&(e|=1);var r=o.encodingLength(t.data),n=u.allocUnsafe(s.encodingLength(e)+s.encodingLength(r)+r),i=0;return s.encode(e,n,0),i+=s.encode.bytes,s.encode(r,n,i),i+=s.encode.bytes,o.encode(t.data,n,i),n}catch(e){throw new a(e.message)}},decode(e){try{const i={};var t=0,r=s.decode(e,0),n=(t+=s.decode.bytes,s.decode(e,t));return t+=s.decode.bytes,i.data=o.decode(e,t,t+n),i.response=!!(1&r),i.id=r>>1,i}catch(e){throw new c(e.message)}}}}}.call(this)}.call(this,t("buffer").Buffer)},{"./buffer-json":403,"./errors":405,buffer:221,varint:585}],405:[function(e,t,r){const n=e("nanoerror"),i={};function o(e,t){i[e]=n(e,t)}o("NMSG_ERR_TIMEOUT","timeout on request: %s"),o("NMSG_ERR_ENCODE","error encoding the request: %s"),o("NMSG_ERR_DECODE","error decoding the request: %s"),o("NMSG_ERR_RESPONSE","response error on request: %s"),o("NMSG_ERR_CLOSE","nanomessage was closed"),o("NMSG_ERR_NOT_OPEN","nanomessage is not open"),o("NMSG_ERR_CANCEL","request canceled: %s"),t.exports=i},{nanoerror:396}],406:[function(e,t,r){t.exports=class{constructor(e){this._generate=e,this._free=[]}get(){return this._free.length?this._free.pop():this._generate()}release(e){this._free.push(e)}}},{}],407:[function(e,t,r){var n=e("nanoresource-promise/emitter")["NanoresourcePromise"];const c=e("fastq"),i=e("./request"),u=e("./codec"),{NMSG_ERR_CLOSE:o,NMSG_ERR_NOT_OPEN:s,NMSG_ERR_RESPONSE:a}=e("./errors"),h=e("./id-generator"),l=Symbol("nanomessage.requests"),f=Symbol("nanomessage.inqueue"),d=Symbol("nanomessage.outqueue"),p=Symbol("nanomessage.unsubscribe"),g=Symbol("nanomessage.open"),y=Symbol("nanomessage.close"),b=Symbol("nanomessage.fastcheckopen"),m=Symbol("nanomessage.timeout"),v=Symbol("nanomessage.idgenerator"),A=Symbol("nanomessage.codec");function _(t,r){this[b]().then(()=>this._onMessage(t.data,t)).then(e=>this.closed||this.closing?r():(t.responseData=e,this._send(this[A].encode({id:t.id,response:t.response,data:e}),t))).then(()=>r()).catch(e=>r(e))}function w(e,t){const r=e.info();this[b]().then(()=>{if(!e.finished)return e.start(),this._send(this[A].encode(r),r)}).then(()=>{if(!e.finished)return e.promise}).then(e=>t(null,e)).catch(e=>t(e))}class E extends n{constructor(e={}){super();var{send:e,subscribe:t,onMessage:r,open:n,close:i,timeout:o,valueEncoding:s,concurrency:a=256}=e;e&&(this._send=e),t&&(this._subscribe=t),r&&this.setMessageHandler(r),n&&(this[g]=n),i&&(this[y]=i),this.setRequestTimeout(o),this[A]=u(s),this[f]=c(this,_,1),this[d]=c(this,w,1),this.setConcurrency(a),this[l]=new Map,this[v]=new h(()=>this[l].size+1)}get codec(){return this[A]}get requests(){return Array.from(this[l].values())}get inflightRequests(){return this[d].running()}get requestTimeout(){return this[m]}get concurrency(){return{incoming:this[f].concurrency,outgoing:this[d].concurrency}}setRequestTimeout(e){return this[m]=e,this}setConcurrency(e){return"number"==typeof e?(this[f].concurrency=e,this[d].concurrency=e):(this[f].concurrency=e.incoming||this[f].concurrency,this[d].concurrency=e.outgoing||this[d].concurrency),this}request(e,t={}){const r=new i({id:this[v].get(),data:e,timeout:t.timeout||this[m],signal:t.signal}),n=r.info();return this[l].set(r.id,r),r.onFinish(()=>{this[l].delete(r.id),this[v].release(r.id)}),this.emit("request-created",n),this[d].push(r,(e,t)=>{n.response=!0,n.responseData=t,this.emit("request-ended",e,n)}),r.promise}send(t){return this[b]().then(()=>{var e=i.info({id:0,data:t});return this._send(this[A].encode(e),e)})}setMessageHandler(e){return this._onMessage=e,this}processIncomingMessage(e){if(!this.closed&&!this.closing){const r=i.info(this[A].decode(e));if(r.response){const t=this[l].get(r.id);void(t&&t.resolve(r.data))}else r.ephemeral?(this.emit("request-received",r),this[b]().then(()=>this._onMessage(r.data,r)).catch(e=>{const t=new a(e.message);t.stack=e.stack||t.stack,this.emit("response-error",t,r)})):(r.response=!0,this.emit("request-received",r),this[f].push(r,e=>{if(e){const t=new a(e.message);t.stack=e.stack||t.stack,this.emit("response-error",t,r)}}))}}async _send(e,t){throw new Error("_send not implemented")}async _onMessage(e,t){throw new Error("_onMessage not implemented")}async _open(){await(this[g]&&this[g]()),this[p]=this._subscribe&&this._subscribe(this.processIncomingMessage.bind(this))}async _close(){this[p]&&this[p]();this[l].forEach(e=>e.reject(new o)),this[l].clear(),this[f]&&this[f].kill(),this[d]&&this[d].kill(),await(this[y]&&this[y]()),await Promise.all([])}async[b](){if(this.closed||this.closing)throw new o;if(this.opening)return this.open();if(!this.opened)throw new s}}t.exports=E},{"./codec":404,"./errors":405,"./id-generator":406,"./request":408,fastq:288,"nanoresource-promise/emitter":409}],408:[function(n,i,e){!function(u){!function(){const{NMSG_ERR_CANCEL:t,NMSG_ERR_TIMEOUT:e}=n("./errors");class r{static info(e={}){return{id:e.id,data:e.data,response:e.response||!1,ephemeral:0===e.id}}constructor(e){const{id:t,data:r,response:n=!1,timeout:i,signal:o}=e;this.id=t,this.data=r,this.response=n,this.finished=!1,this.timeout=i,this.timer=null;let s,a;this.promise=new Promise((e,t)=>{s=e,a=t}),this.promise.cancel=this.cancel.bind(this);const c=()=>this.cancel();o&&(o.aborted?u.nextTick(c):o.addEventListener("abort",c)),this.resolve=e=>{this.finished||(this.timer&&clearTimeout(this.timer),o&&o.removeEventListener("abort",c),this.finished=!0,this._onFinish(),s(e))},this.reject=e=>{this.finished||(this.timer&&clearTimeout(this.timer),o&&o.removeEventListener("abort",c),this.finished=!0,this._onFinish(e),a(e))}}start(){this.timeout&&(this.timer=setTimeout(()=>{this.reject(new e(this.id))},this.timeout))}onFinish(e){this._onFinish=e}cancel(e){e?"string"==typeof e&&(e=new t(this.id,e)):e=new t(this.id),this.reject(e)}info(){return r.info(this)}}i.exports=r}.call(this)}.call(this,n("_process"))},{"./errors":405,_process:437}],409:[function(e,t,r){var n=e("events")["EventEmitter"];const i=e("."),o=Symbol("nanoresource");class s extends n{constructor(e={}){super(),this[o]=i({open:e.open||this._open.bind(this),close:e.close||this._close.bind(this),reopen:e.reopen})}get opened(){return this[o].opened}get opening(){return this[o].opening}get closed(){return this[o].closed}get closing(){return this[o].closing}get actives(){return this[o].actives}async open(){await this[o].open(),this.emit("opened")}async close(e){await this[o].close(e),this.emit("closed")}active(e){return this[o].active(e)}inactive(e,t,r){return this[o].inactive(e,t,r)}async _open(){}async _close(){}}t.exports=e=>new s(e),t.exports.NanoresourcePromise=s},{".":410,events:284}],410:[function(e,t,r){const n=e("./nanoresource-cb");function i(){let e;var t=new Promise((r,n)=>{e=(e,t)=>{e?n(e):r(t)}});return e.promise=t,e}const o=Symbol("nanoresource"),s=Symbol("processpromise");class a{constructor(e={}){const t=e.open||this._open.bind(this),r=e.close||this._close.bind(this);this[o]=n({open:e=>this[s](t,e),close:e=>this[s](r,e),reopen:e.reopen})}get opened(){return this[o].opened}get opening(){return this[o].opening}get closed(){return this[o].closed}get closing(){return this[o].closing}get actives(){return this[o].actives}open(){var e=i();return this[o].open(e),e.promise}close(e=!1){var t=i();return this[o].close(e,t),t.promise}active(e){return this[o].active(e)}inactive(e,t,r){return this[o].inactive(e,t,r)}async _open(){}async _close(){}async[s](e,t){try{await e(),t()}catch(e){t(e)}}}t.exports=e=>new a(e),t.exports.NanoresourcePromise=a},{"./nanoresource-cb":411}],411:[function(e,p,t){!function(d){!function(){const n=Symbol("opening when closing"),i=Symbol("opening queue"),o=Symbol("closing when inactive"),s=Symbol("closing queue"),a=Symbol("sync"),r=Symbol("fast close"),t=Symbol("allow reopen"),c=Symbol("init state");class u{constructor(e){(e=e||{}).open&&(this._open=e.open),e.close&&(this._close=e.close),this[c](),this[t]=e.reopen||!1,this[n]=null,this[i]=null,this[o]=null,this[s]=null,this[a]=!1,this[r]=!0}[c](){this.opening=!1,this.opened=!1,this.closing=!1,this.closed=!1,this.actives=0}_open(e){e(null)}_close(e){e(null)}open(e){if(e=e||f,this.closing||this.closed){if(!this[t])return d.nextTick(e,new Error("Resource is closed"));if(this.closing)return this[n]||(this[n]=[]),void this[n].push(e);this[c]()}if(this.opened)return d.nextTick(e);this[i]?this[i].push(e):(this.opening=!0,this[i]=[e],this[a]=!0,this._open(h.bind(this)),this[a]=!1)}active(e){return this[r]&&this[o]||this[s]||this.closed?(e&&d.nextTick(e,new Error("Resource is closed")),!1):(this.actives++,!0)}inactive(e,t,r){if(!--this.actives){const n=this[o];if(n)for(this[o]=null;n.length;)this.close(n.shift())}e&&e(t,r)}close(e,t){return"function"==typeof e?this.close(!1,e):(t=t||f,e&&(this[r]=!1),this.closed?d.nextTick(t):void(this.actives||this[i]?(this[o]||(this[o]=[]),this[o].push(t)):this.opened?this[s]?this[s].push(t):(this.closing=!0,this[s]=[t],this[a]=!0,this._close(l.bind(this)),this[a]=!1):(this.closed=!0,d.nextTick(t))))}}function h(e){if(this[a])return d.nextTick(h.bind(this),e);const t=this[i];for(this[i]=null,this.opening=!1,this.opened=!e;t.length;)t.shift()(e);const r=this[o];if(r&&!this.actives)for(this[o]=null;r.length;)this.close(r.shift())}function l(e){if(this[a])return d.nextTick(l.bind(this),e);const t=this[s];for(this.closing=!1,this[s]=null,this.closed=!e;t.length;)t.shift()(e);const r=this[n];if(r)for(this[n]=null;r.length;)this.open(r.shift())}function f(){}p.exports=e=>new u(e),p.exports.Nanoresource=u}.call(this)}.call(this,e("_process"))},{_process:437}],412:[function(e,n,t){!function(t,r){!function(){"use strict";function o(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}function e(e){var t,r,n=document.createTextNode(""),i=0;return new e(function(){var e;if(t)r&&(t=r.concat(t));else{if(!r)return;t=r}if(r=t,t=null,"function"==typeof r)e=r,r=null,e();else for(n.data=i=++i%2;r;)e=r.shift(),r.length||(r=null),e()}).observe(n,{characterData:!0}),function(e){o(e),t?"function"==typeof t?t=[t,e]:t.push(e):(t=e,n.data=i=++i%2)}}n.exports=function(){if("object"==typeof t&&t&&"function"==typeof t.nextTick)return t.nextTick;if("function"==typeof queueMicrotask)return function(e){queueMicrotask(o(e))};if("object"==typeof document&&document){if("function"==typeof MutationObserver)return e(MutationObserver);if("function"==typeof WebKitMutationObserver)return e(WebKitMutationObserver)}return"function"==typeof r?function(e){r(o(e))}:"function"==typeof setTimeout||"object"==typeof setTimeout?function(e){setTimeout(o(e),0)}:null}()}.call(this)}.call(this,e("_process"),e("timers").setImmediate)},{_process:437,timers:577}],413:[function(k,n,e){!function(S){!function(){var t=k("fs"),o=k("path"),s="function"==typeof __webpack_require__?__non_webpack_require__:k,e=S.config&&S.config.variables||{},a=!!S.env.PREBUILDS_ONLY,c=S.versions.modules,u=S.versions&&S.versions.electron||!!S.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?"electron":"node",h=S.arch,l=S.platform,f=S.env.LIBC||("linux"===l&&t.existsSync("/etc/alpine-release")?"musl":"glibc"),d=S.env.ARM_VERSION||("arm64"===h?"8":e.arm_version)||"",p=(S.versions.uv||"").split(".")[0];function r(e){return s(r.path(e))}function g(e){try{return t.readdirSync(e)}catch(e){return[]}}function y(e,t){t=g(e).filter(t);return t[0]&&o.join(e,t[0])}function b(e){return/\.node$/.test(e)}function m(e){var t=e.split("-");if(2===t.length){var r=t[0],t=t[1].split("+");if(r&&t.length&&t.every(Boolean))return{name:e,platform:r,architectures:t}}}function v(t,r){return function(e){return null!=e&&(e.platform===t&&e.architectures.includes(r))}}function A(e,t){return e.architectures.length-t.architectures.length}function _(e){var t=e.split("."),r=t.pop(),n={file:e,specificity:0};if("node"===r){for(var i=0;i<t.length;i++){var o=t[i];if("node"===o||"electron"===o||"node-webkit"===o)n.runtime=o;else if("napi"===o)n.napi=!0;else if("abi"===o.slice(0,3))n.abi=o.slice(3);else if("uv"===o.slice(0,2))n.uv=o.slice(2);else if("armv"===o.slice(0,4))n.armv=o.slice(4);else{if("glibc"!==o&&"musl"!==o)continue;n.libc=o}n.specificity++}return n}}function w(r,n){return function(e){var t;return null!=e&&(!!(e.runtime===r||"node"===(t=e).runtime&&t.napi)&&(!(e.abi!==n&&!e.napi)&&((!e.uv||e.uv===p)&&((!e.armv||e.armv===d)&&(!e.libc||e.libc===f)))))}}function E(r){return function(e,t){return e.runtime!==t.runtime?e.runtime===r?-1:1:e.abi!==t.abi?e.abi?-1:1:e.specificity!==t.specificity?e.specificity>t.specificity?-1:1:0}}(n.exports=r).path=function(e){e=o.resolve(e||".");try{var t=(r=s(o.join(e,"package.json")).name).toUpperCase().replace(/-/g,"_")+"_PREBUILD";S.env[t]&&(e=S.env[t])}catch(e){}if(!a){t=y(o.join(e,"build/Release"),b);if(t)return t;t=y(o.join(e,"build/Debug"),b);if(t)return t}t=n(e);if(t)return t;t=n(o.dirname(S.execPath));if(t)return t;t=("@"==r[0]?"":"@"+r+"/")+r+"-"+l+"-"+h;try{return i(o.dirname(k("module").createRequire(o.join(e,"package.json")).resolve(t)))}catch(e){}var r=["platform="+l,"arch="+h,"runtime="+u,"abi="+c,"uv="+p,d?"armv="+d:"","libc="+f,"node="+S.versions.node,S.versions.electron?"electron="+S.versions.electron:"","function"==typeof __webpack_require__?"webpack=true":""].filter(Boolean).join(" ");throw new Error("No native build was found for "+r+"\n    loaded from: "+e+" and package: "+t+"\n");function n(e){var t=g(o.join(e,"prebuilds")).map(m).filter(v(l,h)).sort(A)[0];if(t)return i(o.join(e,"prebuilds",t.name))}function i(e){var t=g(e).map(_).filter(w(u,c)).sort(E(u))[0];if(t)return o.join(e,t.file)}},r.parseTags=_,r.matchTags=w,r.compareTags=E,r.parseTuple=m,r.matchTuple=v,r.compareTuples=A}.call(this)}.call(this,k("_process"))},{_process:437,fs:219,module:219,path:428}],414:[function(e,t,r){e=e("wrappy");function n(e){function t(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))}return t.called=!1,t}function i(e){function t(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)}var r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}t.exports=e(n),t.exports.strict=e(i),n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})})},{wrappy:594}],415:[function(e,t,r){r.endianness=function(){return"LE"},r.hostname=function(){return"undefined"!=typeof location?location.hostname:""},r.loadavg=function(){return[]},r.uptime=function(){return 0},r.freemem=function(){return Number.MAX_VALUE},r.totalmem=function(){return Number.MAX_VALUE},r.cpus=function(){return[]},r.type=function(){return"Browser"},r.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},r.networkInterfaces=r.getNetworkInterfaces=function(){return{}},r.arch=function(){return"javascript"},r.platform=function(){return"browser"},r.tmpdir=r.tmpDir=function(){return"/tmp"},r.EOL="\n",r.homedir=function(){return"/"}},{}],416:[function(e,t,r){"use strict";const n=e("p-timeout"),A=Symbol.asyncIterator||"@@asyncIterator",_=e=>{const t=e.on||e.addListener||e.addEventListener,r=e.off||e.removeListener||e.removeEventListener;if(t&&r)return{addListener:t.bind(e),removeListener:r.bind(e)};throw new TypeError("Emitter is not compatible")},w=e=>Array.isArray(e)?e:[e],o=(u,h,l)=>{let f;const e=new Promise((t,r)=>{if(!(0<=(l={rejectionEvents:["error"],multiArgs:!1,resolveImmediately:!1,...l}).count)||l.count!==1/0&&!Number.isInteger(l.count))throw new TypeError("The `count` option should be at least 0 or more");const n=w(h),i=[],{addListener:e,removeListener:o}=_(u),s=(...e)=>{e=l.multiArgs?e:e[0];l.filter&&!l.filter(e)||(i.push(e),l.count===i.length&&(f(),t(i)))},a=e=>{f(),r(e)};f=()=>{for(const e of n)o(e,s);for(const t of l.rejectionEvents)o(t,a)};for(const h of n)e(h,s);for(const c of l.rejectionEvents)e(c,a);l.resolveImmediately&&t(i)});if(e.cancel=f,"number"!=typeof l.timeout)return e;{const t=n(e,l.timeout);return t.cancel=f,t}};e=(e,t,r)=>{r={...r="function"==typeof r?{filter:r}:r,count:1,resolveImmediately:!1};const n=o(e,t,r),i=n.then(e=>e[0]);return i.cancel=n.cancel,i};t.exports=e,t.exports.default=e,t.exports.multiple=o,t.exports.iterator=(e,t,i)=>{"function"==typeof i&&(i={filter:i});const o=w(t),r=(i={rejectionEvents:["error"],resolutionEvents:[],limit:1/0,multiArgs:!1,...i})["limit"];if(!(0<=r&&(r===1/0||Number.isInteger(r))))throw new TypeError("The `limit` option should be a non-negative integer or Infinity");if(0===r)return{[Symbol.asyncIterator](){return this},async next(){return{done:!0,value:void 0}}};const{addListener:n,removeListener:s}=_(e);let a=!1,c,u=!1;const h=[],l=[];let f=0,d=!1;const p=(...e)=>{f++,d=f===r;e=i.multiArgs?e:e[0];if(0<h.length){const t=h.shift()["resolve"];t({done:!1,value:e}),void(d&&g())}else l.push(e),d&&g()},g=()=>{a=!0;for(const e of o)s(e,p);for(const t of i.rejectionEvents)s(t,y);for(const r of i.resolutionEvents)s(r,b);for(;0<h.length;){const n=h.shift()["resolve"];n({done:!0,value:void 0})}},y=(...e)=>{if(c=i.multiArgs?e:e[0],0<h.length){const t=h.shift()["reject"];t(c)}else u=!0;g()},b=(...e)=>{e=i.multiArgs?e:e[0];if(!i.filter||i.filter(e)){if(0<h.length){const t=h.shift()["resolve"];t({done:!0,value:e})}else l.push(e);g()}};for(const t of o)n(t,p);for(const m of i.rejectionEvents)n(m,y);for(const v of i.resolutionEvents)n(v,b);return{[A](){return this},async next(){var e;if(0<l.length)return e=l.shift(),{done:a&&0===l.length&&!d,value:e};if(u)throw u=!1,c;return a?{done:!0,value:void 0}:new Promise((e,t)=>h.push({resolve:e,reject:t}))},async return(e){return g(),{done:a,value:e}}}},t.exports.TimeoutError=n.TimeoutError},{"p-timeout":422}],417:[function(e,t,r){"use strict";t.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},{}],418:[function(e,t,r){"use strict";const n=e("yocto-queue");t.exports=o=>{if(!Number.isInteger(o)&&o!==1/0||!(0<o))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const s=new n;let a=0;const c=async(e,t,...r)=>{a++;var n=(async()=>e(...r))();t(n);try{await n}catch{}a--,0<s.size&&s.dequeue()()};var e=(n,...i)=>new Promise(e=>{var t,r;[e,t,...r]=[n,e,...i],s.enqueue(c.bind(null,e,t,...r)),(async()=>{await Promise.resolve(),a<o&&0<s.size&&s.dequeue()()})()});return Object.defineProperties(e,{activeCount:{get:()=>a},pendingCount:{get:()=>s.size},clearQueue:{value:()=>{s.clear()}}}),e}},{"yocto-queue":602}],419:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e("eventemitter3");const o=e("p-timeout"),i=e("./priority-queue"),s=()=>{},a=new o.TimeoutError;class c extends n{constructor(e){var t;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=s,this._resolveIdle=s,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:i.default},e)).intervalCap&&1<=e.intervalCap))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!=(t=null==(t=e.intervalCap)?void 0:t.toString())?t:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&0<=e.interval))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!=(t=null==(t=e.interval)?void 0:t.toString())?t:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=s,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=s,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){var e=Date.now();if(void 0===this._intervalId){e=this._intervalEnd-e;if(!(e<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},e)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises();else if(!this._isPaused){var e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return t?(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&1<=e))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(n,i={}){return new Promise((t,r)=>{this._queue.enqueue(async()=>{this._pendingCount++,this._intervalCount++;try{var e=void 0===this._timeout&&void 0===i.timeout?n():o.default(Promise.resolve(n()),void 0===i.timeout?this._timeout:i.timeout,()=>{(void 0===i.throwOnTimeout?this._throwOnTimeout:i.throwOnTimeout)&&r(a)});t(await e)}catch(e){r(e)}this._next()},i),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}r.default=c},{"./priority-queue":421,eventemitter3:283,"p-timeout":422}],420:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t,r){let n=0,i=e.length;for(;0<i;){var o=i/2|0,s=n+o;r(e[s],t)<=0?(n=++s,i-=1+o):i=o}return n}},{}],421:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e("./lower-bound");r.default=class{constructor(){this._queue=[]}enqueue(e,t){e={priority:(t=Object.assign({priority:0},t)).priority,run:e};this.size&&this._queue[this.size-1].priority>=t.priority?this._queue.push(e):(t=n.default(this._queue,e,(e,t)=>t.priority-e.priority),this._queue.splice(t,0,e))}dequeue(){var e=this._queue.shift();return null==e?void 0:e.run}filter(t){return this._queue.filter(e=>e.priority===t.priority).map(e=>e.run)}get size(){return this._queue.length}}},{"./lower-bound":420}],422:[function(e,t,r){"use strict";const s=e("p-finally");class a extends Error{constructor(e){super(e),this.name="TimeoutError"}}e=(n,i,o)=>new Promise((t,r)=>{if("number"!=typeof i||i<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(i===1/0)t(n);else{const e=setTimeout(()=>{if("function"==typeof o)try{t(o())}catch(e){r(e)}else{var e="string"==typeof o?o:`Promise timed out after ${i} milliseconds`,e=o instanceof Error?o:new a(e);"function"==typeof n.cancel&&n.cancel(),r(e)}},i);s(n.then(t,r),()=>{clearTimeout(e)})}});t.exports=e,t.exports.default=e,t.exports.TimeoutError=a},{"p-finally":417}],423:[function(e,t,r){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],424:[function(e,t,r){"use strict";var n=e("asn1.js"),e=(r.certificate=e("./certificate"),n.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())})),e=(r.RSAPrivateKey=e,n.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())})),e=(r.RSAPublicKey=e,n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(i),this.key("subjectPublicKey").bitstr())})),i=(r.PublicKey=e,n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),e=n.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(i),this.key("subjectPrivateKey").octstr())}),e=(r.PrivateKey=e,n.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())})),e=(r.EncryptedPrivateKey=e,n.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())})),e=(r.DSAPrivateKey=e,r.DSAparam=n.define("DSAparam",function(){this.int()}),n.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(o),this.key("publicKey").optional().explicit(1).bitstr())})),o=(r.ECPrivateKey=e,n.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}));r.signature=n.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":425,"asn1.js":160}],425:[function(e,t,r){"use strict";var e=e("asn1.js"),n=e.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),i=e.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=e.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),s=e.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),a=e.define("RelativeDistinguishedName",function(){this.setof(i)}),c=e.define("RDNSequence",function(){this.seqof(a)}),u=e.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),h=e.define("Validity",function(){this.seq().obj(this.key("notBefore").use(n),this.key("notAfter").use(n))}),l=e.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=e.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(u),this.key("validity").use(h),this.key("subject").use(u),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(l).optional())}),e=e.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())});t.exports=e},{"asn1.js":160}],426:[function(e,t,r){var s=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,c=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,u=e("evp_bytestokey"),h=e("browserify-aes"),l=e("safe-buffer").Buffer;t.exports=function(e,t){var r,n,i,e=e.toString(),o=e.match(s);return i=o?(n="aes"+o[1],i=l.from(o[2],"hex"),r=l.from(o[3].replace(/[\r\n]/g,""),"base64"),t=u(t,i.slice(0,8),parseInt(o[1],10)).key,o=[],n=h.createDecipheriv(n,t,i),o.push(n.update(r)),o.push(n.final()),l.concat(o)):(t=e.match(c),l.from(t[2].replace(/[\r\n]/g,""),"base64")),{tag:e.match(a)[1],data:i}}},{"browserify-aes":194,evp_bytestokey:285,"safe-buffer":487}],427:[function(e,t,r){var d=e("./asn1"),p=e("./aesid.json"),g=e("./fixProc"),y=e("browserify-aes"),b=e("pbkdf2"),m=e("safe-buffer").Buffer;function n(e){"object"!=typeof e||m.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=m.from(e));var t,r,n,i,o,s,a,c,u,h,e=g(e,t),l=e.tag,f=e.data;switch(l){case"CERTIFICATE":n=d.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(r=(n=n||d.PublicKey.decode(f,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return d.RSAPublicKey.decode(n.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return n.subjectPrivateKey=n.subjectPublicKey,{type:"ec",data:n};case"1.2.840.10040.4.1":return n.algorithm.params.pub_key=d.DSAparam.decode(n.subjectPublicKey.data,"der"),{type:"dsa",data:n.algorithm.params};default:throw new Error("unknown key id "+r)}case"ENCRYPTED PRIVATE KEY":f=d.EncryptedPrivateKey.decode(f,"der"),o=t,s=(i=f).algorithm.decrypt.kde.kdeparams.salt,a=parseInt(i.algorithm.decrypt.kde.kdeparams.iters.toString(),10),c=p[i.algorithm.decrypt.cipher.algo.join(".")],u=i.algorithm.decrypt.cipher.iv,i=i.subjectPrivateKey,h=parseInt(c.split("-")[1],10)/8,o=b.pbkdf2Sync(o,s,a,h,"sha1"),s=y.createDecipheriv(c,o,u),(a=[]).push(s.update(i)),a.push(s.final()),f=m.concat(a);case"PRIVATE KEY":switch(r=(n=d.PrivateKey.decode(f,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return d.RSAPrivateKey.decode(n.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:n.algorithm.curve,privateKey:d.ECPrivateKey.decode(n.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return n.algorithm.params.priv_key=d.DSAparam.decode(n.subjectPrivateKey,"der"),{type:"dsa",params:n.algorithm.params};default:throw new Error("unknown key id "+r)}case"RSA PUBLIC KEY":return d.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return d.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:d.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return{curve:(f=d.ECPrivateKey.decode(f,"der")).parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+l)}}(t.exports=n).signature=d.signature},{"./aesid.json":423,"./asn1":424,"./fixProc":426,"browserify-aes":194,pbkdf2:429,"safe-buffer":487}],428:[function(e,t,r){!function(s){!function(){"use strict";function f(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function o(e,t){for(var r,n="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o!==a-1&&1!==s)if(o!==a-1&&2===s){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(2<n.length){var c=n.lastIndexOf("/");if(c!==n.length-1){i=-1===c?(n="",0):(n=n.slice(0,c)).length-1-n.lastIndexOf("/"),o=a,s=0;continue}}else if(2===n.length||1===n.length){n="",o=a,s=i=0;continue}t&&(0<n.length?n+="/..":n="..",i=2)}else 0<n.length?n+="/"+e.slice(o+1,a):n=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return n}var d={resolve:function(){for(var e,t="",r=!1,n=arguments.length-1;-1<=n&&!r;n--){var i=0<=n?arguments[n]:e=void 0===e?s.cwd():e;f(i),0!==i.length&&(t=i+"/"+t,r=47===i.charCodeAt(0))}return t=o(t,!r),r?0<t.length?"/"+t:"/":0<t.length?t:"."},normalize:function(e){var t,r;return f(e),0===e.length?".":(t=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1),0<(e=0!==(e=o(e,!t)).length||t?e:".").length&&r&&(e+="/"),t?"/"+e:e)},isAbsolute:function(e){return f(e),0<e.length&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];f(r),0<r.length&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":d.normalize(e)},relative:function(e,t){if(f(e),f(t),e===t)return"";if((e=d.resolve(e))===(t=d.resolve(t)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var n=e.length,i=n-r,o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var s=t.length-o,a=i<s?i:s,c=-1,u=0;u<=a;++u){if(u===a){if(a<s){if(47===t.charCodeAt(o+u))return t.slice(o+u+1);if(0===u)return t.slice(o+u)}else a<i&&(47===e.charCodeAt(r+u)?c=u:0===u&&(c=0));break}var h=e.charCodeAt(r+u);if(h!==t.charCodeAt(o+u))break;47===h&&(c=u)}for(var l="",u=r+c+1;u<=n;++u)u!==n&&47!==e.charCodeAt(u)||(0===l.length?l+="..":l+="/..");return 0<l.length?l+t.slice(o+c):(47===t.charCodeAt(o+=c)&&++o,t.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(f(e),0===e.length)return".";for(var t=47===e.charCodeAt(0),r=-1,n=!0,i=e.length-1;1<=i;--i)if(47===e.charCodeAt(i)){if(!n){r=i;break}}else n=!1;return-1===r?t?"/":".":t&&1===r?"//":e.slice(0,r)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');f(e);var r=0,n=-1,i=!0;if(void 0!==t&&0<t.length&&t.length<=e.length){if(t.length===e.length&&t===e)return"";for(var o=t.length-1,s=-1,a=e.length-1;0<=a;--a){var c=e.charCodeAt(a);if(47===c){if(!i){r=a+1;break}}else-1===s&&(i=!1,s=a+1),0<=o&&(c===t.charCodeAt(o)?-1==--o&&(n=a):(o=-1,n=s))}return r===n?n=s:-1===n&&(n=e.length),e.slice(r,n)}for(a=e.length-1;0<=a;--a)if(47===e.charCodeAt(a)){if(!i){r=a+1;break}}else-1===n&&(i=!1,n=a+1);return-1===n?"":e.slice(r,n)},extname:function(e){f(e);for(var t=-1,r=0,n=-1,i=!0,o=0,s=e.length-1;0<=s;--s){var a=e.charCodeAt(s);if(47===a){if(i)continue;r=s+1;break}-1===n&&(i=!1,n=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1)}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===r+1?"":e.slice(t,n)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t="/",r=(e=e).dir||e.root,n=e.base||(e.name||"")+(e.ext||""),r?r===e.root?r+n:r+t+n:n;var t,r,n},parse:function(e){f(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0!==e.length){for(var r,n=47===e.charCodeAt(0),i=n?(t.root="/",1):0,o=-1,s=0,a=-1,c=!0,u=e.length-1,h=0;i<=u;--u){if(47===(r=e.charCodeAt(u))){if(c)continue;s=u+1;break}-1===a&&(c=!1,a=u+1),46===r?-1===o?o=u:1!==h&&(h=1):-1!==o&&(h=-1)}-1===o||-1===a||0===h||1===h&&o===a-1&&o===s+1?-1!==a&&(t.base=t.name=0===s&&n?e.slice(1,a):e.slice(s,a)):(0===s&&n?(t.name=e.slice(1,o),t.base=e.slice(1,a)):(t.name=e.slice(s,o),t.base=e.slice(s,a)),t.ext=e.slice(o,a)),0<s?t.dir=e.slice(0,s-1):n&&(t.dir="/")}return t},sep:"/",delimiter:":",win32:null,posix:null};d.posix=d,t.exports=d}.call(this)}.call(this,e("_process"))},{_process:437}],429:[function(e,t,r){r.pbkdf2=e("./lib/async"),r.pbkdf2Sync=e("./lib/sync")},{"./lib/async":430,"./lib/sync":433}],430:[function(t,r,e){!function(_){!function(){var h,e,l=t("safe-buffer").Buffer,f=t("./precondition"),d=t("./default-encoding"),p=t("./sync"),g=t("./to-buffer"),y=_.crypto&&_.crypto.subtle,b={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},m=[];function v(){return e=e||(_.process&&_.process.nextTick?_.process.nextTick:_.queueMicrotask||_.setImmediate||_.setTimeout)}function A(e,t,r,n,i){return y.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(e){return y.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},e,n<<3)}).then(function(e){return l.from(e)})}r.exports=function(t,r,n,i,o,s){"function"==typeof o&&(s=o,o=void 0);var a,e,c,u=b[(o=o||"sha1").toLowerCase()];if(u&&"function"==typeof _.Promise){if(f(n,i),t=g(t,d,"Password"),r=g(r,d,"Salt"),"function"!=typeof s)throw new Error("No callback provided to pbkdf2");e=u,e=((!_.process||_.process.browser)&&y&&y.importKey&&y.deriveBits?void 0!==m[e]?m[e]:(c=A(h=h||l.alloc(8),h,10,128,e).then(function(){return!0}).catch(function(){return!1}),m[e]=c):Promise.resolve(!1)).then(function(e){return e?A(t,r,n,i,u):p(t,r,n,i,o)}),a=s,e.then(function(e){v()(function(){a(null,e)})},function(e){v()(function(){a(e)})})}else v()(function(){var e;try{e=p(t,r,n,i,o)}catch(e){return s(e)}s(null,e)})}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./default-encoding":431,"./precondition":432,"./sync":433,"./to-buffer":434,"safe-buffer":487}],431:[function(e,n,t){!function(t,r){!function(){var e;e=r.process&&r.process.browser||!r.process||!r.process.version||6<=parseInt(t.version.split(".")[0].slice(1),10)?"utf-8":"binary",n.exports=e}.call(this)}.call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:437}],432:[function(e,t,r){var n=Math.pow(2,30)-1;t.exports=function(e,t){if("number"!=typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!=typeof t)throw new TypeError("Key length not a number");if(t<0||n<t||t!=t)throw new TypeError("Bad key length")}},{}],433:[function(e,t,r){var u=e("create-hash/md5"),h=e("ripemd160"),l=e("sha.js"),y=e("safe-buffer").Buffer,b=e("./precondition"),m=e("./default-encoding"),v=e("./to-buffer"),f=y.alloc(128),A={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function _(e,t,r){for(var n,i="rmd160"===(n=e)||"ripemd160"===n?function(e){return(new h).update(e).digest()}:"md5"===n?u:function(e){return l(n).update(e).digest()},o="sha512"===e||"sha384"===e?128:64,s=(t.length>o?t=i(t):t.length<o&&(t=y.concat([t,f],o)),y.allocUnsafe(o+A[e])),a=y.allocUnsafe(o+A[e]),c=0;c<o;c++)s[c]=54^t[c],a[c]=92^t[c];r=y.allocUnsafe(o+r+4);s.copy(r,0,0,o),this.ipad1=r,this.ipad2=s,this.opad=a,this.alg=e,this.blocksize=o,this.hash=i,this.size=A[e]}_.prototype.run=function(e,t){return e.copy(t,this.blocksize),this.hash(t).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(e,t,r,n,i){b(r,n);for(var o=new _(i=i||"sha1",e=v(e,m,"Password"),(t=v(t,m,"Salt")).length),s=y.allocUnsafe(n),a=y.allocUnsafe(t.length+4),c=(t.copy(a,0,0,t.length),0),u=A[i],h=Math.ceil(n/u),l=1;l<=h;l++){a.writeUInt32BE(l,t.length);for(var f=o.run(a,o.ipad1),d=f,p=1;p<r;p++)for(var d=o.run(d,o.ipad2),g=0;g<u;g++)f[g]^=d[g];f.copy(s,c),c+=u}return s}},{"./default-encoding":431,"./precondition":432,"./to-buffer":434,"create-hash/md5":236,ripemd160:485,"safe-buffer":487,"sha.js":513}],434:[function(e,t,r){var n=e("safe-buffer").Buffer;t.exports=function(e,t,r){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,t);if(ArrayBuffer.isView(e))return n.from(e.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":487}],435:[function(e,r,n){!function(h){!function(){var e,t;e=this,t=function(){"use strict";function e(e,t){function r(){return t(n.matches)}var n=window.matchMedia(e);t(n.matches);return n.addListener(r),function(){return n.removeListener(r)}}function t(e,t){return a[e]!==t&&(a[e]=t,u(e,t),1)}var r="undefined"!=typeof navigator&&"undefined"!=typeof window;if(r&&"undefined"!=typeof nw)try{nw.Window.get()}catch(e){r=!1}var n,i,o,s=r?navigator.userAgent:void 0,a={gui:r,terminal:!r,registerQuery:e},c=(a.node=void 0!==h&&!!h.versions&&!!h.versions.node,a.pwa=a.gui&&window.matchMedia("(display-mode: standalone)").matches&&null!==document.head.querySelector('[rel="manifest"]'),a.uwp="undefined"!=typeof Windows&&"undefined"!=typeof MSApp,a.nwjs=!(!a.node||!h.versions.nw),a.electron=!(!a.node||!h.versions.electron),a.cordova=!(!a.gui||!window.cordova),a.packaged=a.uwp||a.nwjs||a.electron||a.cordova,a.web=!a.node&&!a.packaged,a.browser=a.web,a.website=a.web&&!a.pwa,a.worker=!a.gui&&"undefined"!=typeof self&&void 0!==self.importScripts,a.serviceWorker=a.worker&&!!navigator.serviceWorker.controller||!1,a.android=!!a.gui&&s.includes("Android"),a.chromeos=!!a.gui&&s.includes("CrOS"),a.tizen=!!a.gui&&s.includes("Tizen"),a.ios=a.gui&&/iPad|iPhone|iPod/.test(s)&&!window.MSStream||!1,a.linuxBased=a.android||a.tizen,a.windows=a.node?"win32"===h.platform:s.includes("Windows"),a.macos=a.node?"darwin"===h.platform:s.includes("Macintosh"),a.linux=a.node?"linux"===h.platform:s.includes("Linux")&&!a.linuxBased&&!a.macos,a.edgeHtml=a.gui&&s.includes("Edge/"),a.edgeChromium=a.gui&&s.includes("Edg/"),a.edgeAndroid=a.gui&&s.includes("EdgA/"),a.edgeIos=a.gui&&s.includes("EdgiOS/"),a.chromeIos=a.gui&&s.includes("CriOS/"),a.firefoxIos=a.gui&&s.includes("FxiOS/"),a.edge=a.edgeHtml||a.edgeChromium||a.edgeAndroid||a.edgeIos,a.samsungBrowser=a.gui&&s.includes("SamsungBrowser/"),a.opera=a.gui&&(s.includes("Opera")||s.includes("OPR/")),a.firefox=a.gui&&(s.includes("Firefox")||a.firefoxIos),a.chrome=a.gui&&(s.includes("Chrome")||a.chromeIos)&&!a.edge&&!a.opera&&!a.samsungBrowser,a.safari=a.gui&&s.includes("Safari")&&!a.chrome&&!a.edge&&!a.firefox&&!a.opera&&!a.samsungBrowser||a.edgeIos||a.chromeIos||a.firefoxIos,a.ie=a.trident=a.gui&&s.includes("Trident"),a.blink=a.chrome&&!a.chromeIos||a.edgeChromium||a.edgeAndroid||a.samsungBrowser,a.webkit=a.blink||a.safari,a.gecko=a.firefox&&!a.firefoxIos&&!a.webkit&&!a.safari,{}),u=(a.on=function(e,t){c[e]=c[e]||new Set,c[e].add(t)},a.off=a.removeListener=function(e,t){c[e]&&c[e].delete(t)},a.emit=function(e,t){c[e]&&c[e].forEach(function(e){return e(t)})});return a.gui&&(a.pixelRatio=parseFloat(window.devicePixelRatio.toFixed(2)),a.gameconsole=s.includes("Xbox")||s.includes("PlayStation"),n=0,window.addEventListener("gamepadconnected",function(e){return n++}),window.addEventListener("gamepaddisconnected",function(e){return n--}),a.gameconsole?(a.gamepad=!0,a.mouse=!0,a.touch=!1,a.tv=!0,a.battery=!1,a.phone=a.tablet=a.hybrid=a.laptop=a.desktop=!1,a.formfactor="gameconsole"):(i=function(){t("tv","tv"===a.formfactor),t("phone","phone"===a.formfactor),t("tablet","tablet"===a.formfactor),t("hybrid","hybrid"===a.formfactor),t("laptop","laptop"===a.formfactor),t("desktop","desktop"===a.formfactor)},o=function(){var e=Math.min(window.screen.width,window.screen.height);return a.tv?"tv":a.touch&&e<600?"phone":a.touch&&!a.mouse?"tablet":a.touch&&a.mouse?"hybrid":a.battery?"laptop":"desktop"},a.touch=0<navigator.maxTouchPoints,a.tv=s.includes("TV"),n=navigator.getGamepads?Array.from(navigator.getGamepads()).filter(function(e){return null!=e}).length:0,a.gamepad=0<n,e("(orientation: portrait)",function(e){a.portrait=e,a.landscape=!e,a.orientation=e?"portrait":"landscape",u("portrait",a.portrait),u("landscape",a.landscape),u("orientation",a.orientation)}),e("(any-pointer: coarse)",function(e){t("touch",e),t("formfactor",o())&&i()}),e("(hover: hover)",function(e){t("mouse",e),t("input",e?"mouse":"touch"),t("formfactor",o())&&i()}))),a.csp=a.uwp||!1,a.nwjs?a.dev="sdk"===h.versions["nw-flavor"]:a.electron?a.dev=h.execPath.replace(/\\/g,"/").includes("node_modules/electron/"):a.uwp?a.dev=Windows.ApplicationModel.Package.current.isDevelopmentMode:a.node?a.dev="production"!==h.env.NODE_ENV:a.dev=void 0,a},"object"==typeof n&&void 0!==r?r.exports=t():"function"==typeof define&&define.amd?define("platform-detect",t):(e=e||self)["platform-detect"]=t()}.call(this)}.call(this,e("_process"))},{_process:437}],436:[function(e,t,r){!function(a){!function(){"use strict";void 0===a||!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?t.exports={nextTick:function(e,t,r,n){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return a.nextTick(e);case 2:return a.nextTick(function(){e.call(null,t)});case 3:return a.nextTick(function(){e.call(null,t,r)});case 4:return a.nextTick(function(){e.call(null,t,r,n)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return a.nextTick(function(){e.apply(null,i)})}}}:t.exports=a}.call(this)}.call(this,e("_process"))},{_process:437}],437:[function(e,t,r){var n,i,t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return(n=setTimeout)(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}var c,u=[],h=!1,l=-1;function f(){h&&c&&(h=!1,c.length?u=c.concat(u):l=-1,u.length&&d())}function d(){if(!h){for(var e=a(f),t=(h=!0,u.length);t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,h=!1,!function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return(i=clearTimeout)(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||h||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=g,t.addListener=g,t.once=g,t.off=g,t.removeListener=g,t.removeAllListeners=g,t.emit=g,t.prependListener=g,t.prependOnceListener=g,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],438:[function(e,i,t){!function(n){!function(){function t(e){return r(e=null==e?n.Promise:e,this instanceof t?this:Object.create(t.prototype))}function r(e,r){return r.promise=new e(function(e,t){r.resolve=e,r.reject=t}),r}(i.exports=t).defer=r}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],439:[function(e,t,r){const n=e("b4a"),c=e("compact-encoding"),i=e("queue-tick"),o=e("safety-catch");class f{constructor(e,t,r,n,i,o,s,a,c,u,h){this.userData=r,this.protocol=n,this.aliases=i,this.id=o,this.handshake=null,this.messages=[],this.opened=!1,this.closed=!1,this.destroyed=!1,this.onopen=c,this.onclose=u,this.ondestroy=h,this._handshake=s,this._mux=e,this._info=t,this._localId=0,this._remoteId=0,this._active=0,this._extensions=null,this._decBound=this._dec.bind(this),this._decAndDestroyBound=this._decAndDestroy.bind(this);for(const l of a)this.addMessage(l)}open(e){var t=0<this._mux._free.length?this._mux._free.pop():this._mux._local.push(null)-1;this._info.opened++,this._localId=t+1,0===(this._mux._local[t]=this)._remoteId&&this._info.outgoing.push(this._localId);const r={buffer:null,start:2,end:2};c.uint.preencode(r,this._localId),c.string.preencode(r,this.protocol),c.buffer.preencode(r,this.id),this._handshake&&this._handshake.preencode(r,e),r.buffer=this._mux._alloc(r.end),r.buffer[0]=0,r.buffer[1]=1,c.uint.encode(r,this._localId),c.string.encode(r,this.protocol),c.buffer.encode(r,this.id),this._handshake&&this._handshake.encode(r,e),this._mux._write0(r.buffer)}_dec(){0==--this._active&&!0===this.closed&&this._destroy()}_decAndDestroy(e){this._dec(),this._mux._safeDestroy(e)}_fullyOpenSoon(){this._mux._remote[this._remoteId-1].session=this,i(this._fullyOpen.bind(this))}_fullyOpen(){if(!0!==this.opened&&!0!==this.closed){const e=this._mux._remote[this._remoteId-1];this.opened=!0,this.handshake=this._handshake?this._handshake.decode(e.state):null,this._track(this.onopen(this.handshake,this)),e.session=this,(e.state=null)!==e.pending&&this._drain(e)}}_drain(t){for(let e=0;e<t.pending.length;e++){var r=t.pending[e];this._mux._buffered-=a(r.state),this._recv(r.type,r.state)}t.pending=null,this._mux._resumeMaybe()}_track(e){!0===u(e)&&(this._active++,e.then(this._decBound,this._decAndDestroyBound))}_close(e){!0!==this.closed&&(this.closed=!0,this._info.opened--,0<this._remoteId&&(this._mux._remote[this._remoteId-1]=null,this._remoteId=0,this._mux._free.push(this._localId-1)),this._mux._local[this._localId-1]=null,this._localId=0,this._mux._gc(this._info),this._track(this.onclose(e,this)),0===this._active&&this._destroy())}_destroy(){!0!==this.destroyed&&(this.destroyed=!0,this._track(this.ondestroy(this)))}_recv(e,t){e<this.messages.length&&this.messages[e].recv(t,this)}cork(){this._mux.cork()}uncork(){this._mux.uncork()}close(){if(!0!==this.closed){const e={buffer:null,start:2,end:2};c.uint.preencode(e,this._localId),e.buffer=this._mux._alloc(e.end),e.buffer[0]=0,e.buffer[1]=3,c.uint.encode(e,this._localId),this._close(!1),this._mux._write0(e.buffer)}}addMessage(e){if(!e)return this._skipMessage();const i=this.messages.length,o=e.encoding||c.raw;e=e.onmessage||d;const s=this,a=h(c.uint,i),r={type:i,encoding:o,onmessage:e,recv(e,t){t._track(r.onmessage(o.decode(e),t))},send(e,t=s){if(!0===t.closed)return!1;const r=t._mux,n={buffer:null,start:0,end:a};return null!==r._batch?(o.preencode(n,e),n.buffer=r._alloc(n.end),c.uint.encode(n,i),o.encode(n,e),r._pushBatch(t._localId,n.buffer),!0):(c.uint.preencode(n,t._localId),o.preencode(n,e),n.buffer=r._alloc(n.end),c.uint.encode(n,t._localId),c.uint.encode(n,i),o.encode(n,e),r.stream.write(n.buffer))}};return this.messages.push(r),r}_skipMessage(){var e={type:this.messages.length,encoding:c.raw,onmessage:d,recv(e,t){},send(e,t){}};return this.messages.push(e),e}}function d(){}function s(e,t){return e+"##"+(t?n.toString(t,"hex"):"")}function a(e){return e.end-e.start+512}function u(e){return!(!e||"function"!=typeof e.then)}function h(e,t){var r={buffer:null,start:0,end:0};return e.preencode(r,t),r.end}t.exports=class{constructor(e,{alloc:t}={}){this.isProtomux=!0,this.stream=e,this.corked=0,this._alloc=t||("function"==typeof e.alloc?e.alloc.bind(e):n.allocUnsafe),this._safeDestroyBound=this._safeDestroy.bind(this),this._remoteBacklog=0,this._buffered=0,this._paused=!1,this._remote=[],this._local=[],this._free=[],this._batch=null,this._batchState=null,this._infos=new Map,this._notify=new Map,this.stream.on("data",this._ondata.bind(this)),this.stream.on("end",this._onend.bind(this)),this.stream.on("error",d),this.stream.on("close",this._shutdown.bind(this))}static from(e,t){return e.isProtomux?e:new this(e,t)}static isProtomux(e){return"object"==typeof e&&!0===e.isProtomux}*[Symbol.iterator](){for(const e of this._local)null!==e&&(yield e)}cork(){1==++this.corked&&(this._batch=[],this._batchState={buffer:null,start:0,end:1})}uncork(){0==--this.corked&&(this._sendBatch(this._batch,this._batchState),this._batch=null,this._batchState=null)}pair({protocol:e,id:t=null},r){this._notify.set(s(e,t),r)}unpair({protocol:e,id:t=null}){this._notify.delete(s(e,t))}opened({protocol:e,id:t=null}){e=s(e,t),t=this._infos.get(e);return!!t&&0<t.opened}createChannel({userData:e=null,protocol:t,aliases:r=[],id:n=null,unique:i=!0,handshake:o=null,messages:s=[],onopen:a=d,onclose:c=d,ondestroy:u=d}){if(this.stream.destroyed)return null;const h=this._get(t,n,r);if(i&&0<h.opened)return null;if(0===h.incoming.length)return new f(this,h,e,t,r,n,o,s,a,c,u);this._remoteBacklog--;i=h.incoming.shift();if(null===this._remote[i-1])return null;const l=new f(this,h,e,t,r,n,o,s,a,c,u);return l._remoteId=i,l._fullyOpenSoon(),l}_pushBatch(e,t){8388608<=this._batchState.end&&(this._sendBatch(this._batch,this._batchState),this._batch=[],this._batchState={buffer:null,start:0,end:1}),0!==this._batch.length&&this._batch[this._batch.length-1].localId===e||(this._batchState.end++,c.uint.preencode(this._batchState,e)),c.buffer.preencode(this._batchState,t),this._batch.push({localId:e,buffer:t})}_sendBatch(r,n){if(0!==r.length){let t=r[0].localId;n.buffer=this._alloc(n.end),n.buffer[n.start++]=0,n.buffer[n.start++]=0,c.uint.encode(n,t);for(let e=0;e<r.length;e++){var i=r[e];t!==i.localId&&(n.buffer[n.start++]=0,c.uint.encode(n,t=i.localId)),c.buffer.encode(n,i.buffer)}this.stream.write(n.buffer)}}_get(e,t,r=[]){const n=s(e,t);let i=this._infos.get(n);if(!i){i={key:n,protocol:e,aliases:[],id:t,pairing:0,opened:0,incoming:[],outgoing:[]},this._infos.set(n,i);for(const o of r){const n=s(o,t);i.aliases.push(n),this._infos.set(n,i)}}return i}_gc(e){if(0===e.opened&&0===e.outgoing.length&&0===e.incoming.length){this._infos.delete(e.key);for(const t of e.aliases)this._infos.delete(t)}}_ondata(e){try{var t={buffer:e,start:0,end:e.byteLength};this._decode(c.uint.decode(t),t)}catch(e){this._safeDestroy(e)}}_onend(){this.stream.end()}_decode(e,t){var r=c.uint.decode(t);if(0===e)this._oncontrolsession(r,t);else{const n=e<=this._remote.length?this._remote[e-1]:null;null!==n&&(null!==n.pending?this._bufferMessage(n,r,t):n.session._recv(r,t))}}_oncontrolsession(e,t){switch(e){case 0:this._onbatch(t);break;case 1:this._onopensession(t);break;case 2:this._onrejectsession(t);break;case 3:this._onclosesession(t)}}_bufferMessage(e,t,{buffer:r,start:n,end:i}){r={buffer:r,start:n,end:i};e.pending.push({type:t,state:r}),this._buffered+=a(r),this._pauseMaybe()}_pauseMaybe(){!0===this._paused||this._buffered<=32768||(this._paused=!0,this.stream.pause())}_resumeMaybe(){!1===this._paused||32768<this._buffered||(this._paused=!1,this.stream.resume())}_onbatch(e){var t=e.end;let r=c.uint.decode(e);for(;e.end>e.start;)0===c.uint.decode(e)?r=c.uint.decode(e):(e.end=e.start+t,this._decode(r,e),e.end=t)}_onopensession(e){var t=c.uint.decode(e),r=c.string.decode(e),n=c.buffer.decode(e);if(0===t)this._rejectSession(0);else{var i=t-1;const s=this._get(r,n);if(this._remote.length===i&&this._remote.push(null),i>=this._remote.length||null!==this._remote[i])throw new Error("Invalid open message");if(0<s.outgoing.length){var o=s.outgoing.shift();const a=this._local[o-1];return null===a?void this._free.push(o-1):(this._remote[i]={state:e,pending:null,session:null},a._remoteId=t,void a._fullyOpen())}if(this._remote[i]={state:e,pending:[],session:null},++this._remoteBacklog>1/0)throw new Error("Remote exceeded backlog");s.pairing++,s.incoming.push(t),this._requestSession(r,n,s).catch(this._safeDestroyBound)}}_onrejectsession(e){var t=c.uint.decode(e);for(const n of this._infos.values()){var r=n.outgoing.indexOf(t);if(-1!==r){n.outgoing.splice(r,1);const i=this._local[t-1];return this._free.push(t-1),null!==i&&i._close(!0),void this._gc(n)}}throw new Error("Invalid reject message")}_onclosesession(e){e=c.uint.decode(e);if(0!==e){e=e-1;const t=e<this._remote.length?this._remote[e]:null;null!==t&&null!==t.session&&t.session._close(!0)}}async _requestSession(e,t,r){const n=this._notify.get(s(e,t))||this._notify.get(s(e,null));if(n&&await n(t),!(0<--r.pairing)){for(;0<r.incoming.length;)this._rejectSession(r,r.incoming.shift());this._gc(r)}}_rejectSession(e,t){if(0<t){var r=this._remote[t-1];if(null!==r.pending)for(let e=0;e<r.pending.length;e++)this._buffered-=a(r.pending[e].state);this._remote[t-1]=null,this._resumeMaybe()}const n={buffer:null,start:2,end:2};c.uint.preencode(n,t),n.buffer=this._alloc(n.end),n.buffer[0]=0,n.buffer[1]=2,c.uint.encode(n,t),this._write0(n.buffer)}_write0(e){null!==this._batch?this._pushBatch(0,e.subarray(1)):this.stream.write(e)}destroy(e){this.stream.destroy(e)}_safeDestroy(e){o(e),this.stream.destroy(e)}_shutdown(){for(const e of this._local)null!==e&&e._close(!0)}}},{b4a:175,"compact-encoding":229,"queue-tick":448,"safety-catch":489}],440:[function(e,t,r){r.publicEncrypt=e("./publicEncrypt"),r.privateDecrypt=e("./privateDecrypt"),r.privateEncrypt=function(e,t){return r.publicEncrypt(e,t,!0)},r.publicDecrypt=function(e,t){return r.privateDecrypt(e,t,!0)}},{"./privateDecrypt":442,"./publicEncrypt":443}],441:[function(e,t,r){var s=e("create-hash"),a=e("safe-buffer").Buffer;t.exports=function(e,t){for(var r,n,i=a.alloc(0),o=0;i.length<t;)r=o++,n=void 0,(n=a.allocUnsafe(4)).writeUInt32BE(r,0),r=n,i=a.concat([i,s("sha1").update(e).update(r).digest()]);return i.slice(0,t)}},{"create-hash":235,"safe-buffer":487}],442:[function(e,t,r){var d=e("parse-asn1"),p=e("./mgf"),g=e("./xor"),y=e("bn.js"),b=e("browserify-rsa"),m=e("create-hash"),v=e("./withPublic"),A=e("safe-buffer").Buffer;t.exports=function(e,t,r){var n=e.padding||(r?1:4),e=d(e),i=e.modulus.byteLength();if(t.length>i||0<=new y(t).cmp(e.modulus))throw new Error("decryption error");var t=r?v(new y(t),e):b(t,e),o=A.alloc(i-t.length);if(t=A.concat([o,t],i),4===n){var o=t,i=(i=e).modulus.byteLength(),e=m("sha1").update(A.alloc(0)).digest(),s=e.length;if(0===o[0]){var a=o.slice(1,s+1),o=o.slice(s+1),a=g(a,p(o,s)),c=g(o,p(a,i-s-1));if(!function(e,t){e=A.from(e),t=A.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));var i=-1;for(;++i<n;)r+=e[i]^t[i];return r}(e,c.slice(0,s))){for(var u=s;0===c[u];)u++;if(1===c[u++])return c.slice(u)}}throw new Error("decryption error")}if(1===n){for(var h=t,o=r,a=h.slice(0,2),l=2,f=0;0!==h[l++];)if(l>=h.length){f++;break}i=h.slice(2,l-1);if(("0002"!==a.toString("hex")&&!o||"0001"!==a.toString("hex")&&o)&&f++,i.length<8&&f++,f)throw new Error("decryption error");return h.slice(l)}if(3===n)return t;throw new Error("unknown padding")}},{"./mgf":441,"./withPublic":444,"./xor":445,"bn.js":188,"browserify-rsa":212,"create-hash":235,"parse-asn1":427,"safe-buffer":487}],443:[function(e,t,r){var o=e("parse-asn1"),a=e("randombytes"),c=e("create-hash"),u=e("./mgf"),h=e("./xor"),l=e("bn.js"),s=e("./withPublic"),f=e("browserify-rsa"),d=e("safe-buffer").Buffer;t.exports=function(e,t,r){var n,i=e.padding||(r?1:4),e=o(e);if(4===i)n=function(e,t){var e=e.modulus.byteLength(),r=t.length,n=c("sha1").update(d.alloc(0)).digest(),i=n.length,o=2*i;if(e-o-2<r)throw new Error("message too long");var r=d.alloc(e-r-o-2),o=e-i-1,s=a(i),n=h(d.concat([n,r,d.alloc(1,1),t],o),u(s,o)),r=h(s,u(n,i));return new l(d.concat([d.alloc(1),r,n],e))}(e,t);else if(1===i)n=function(e,t,r){var n=t.length,e=e.modulus.byteLength();if(e-11<n)throw new Error("message too long");n=r?d.alloc(e-n-3,255):function(e){var t,r=d.allocUnsafe(e),n=0,i=a(2*e),o=0;for(;n<e;)o===i.length&&(i=a(2*e),o=0),(t=i[o++])&&(r[n++]=t);return r}(e-n-3);return new l(d.concat([d.from([0,r?1:2]),n,d.alloc(1),t],e))}(e,t,r);else{if(3!==i)throw new Error("unknown padding");if(0<=(n=new l(t)).cmp(e.modulus))throw new Error("data too long for modulus")}return(r?f:s)(n,e)}},{"./mgf":441,"./withPublic":444,"./xor":445,"bn.js":188,"browserify-rsa":212,"create-hash":235,"parse-asn1":427,randombytes:456,"safe-buffer":487}],444:[function(e,t,r){var n=e("bn.js"),i=e("safe-buffer").Buffer;t.exports=function(e,t){return i.from(e.toRed(n.mont(t.modulus)).redPow(new n(t.publicExponent)).fromRed().toArray())}},{"bn.js":188,"safe-buffer":487}],445:[function(e,t,r){t.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},{}],446:[function(i,o,e){!function(n){!function(){function l(e){e()}function e(e,t){return e.pipe(t)}var f=i("once"),d=i("end-of-stream"),t=i("fs"),p=function(){},r=/^v?\.0/.test(n.version),g=function(e){return"function"==typeof e},y=function(e){return!!r&&(!!t&&((e instanceof(t.ReadStream||p)||e instanceof(t.WriteStream||p))&&g(e.close)))},b=function(e){return e.setHeader&&g(e.abort)};o.exports=function(){var a,c=Array.prototype.slice.call(arguments),u=g(c[c.length-1]||p)&&c.pop()||p;if((c=Array.isArray(c[0])?c[0]:c).length<2)throw new Error("pump requires two streams per minimum");var h=c.map(function(e,t){var r,n,i,o,s=t<c.length-1;return r=e,e=s,t=0<t,n=f(n=function(e){a=a||e,e&&h.forEach(l),s||(h.forEach(l),u(a))}),i=!1,r.on("close",function(){i=!0}),d(r,{readable:e,writable:t},function(e){if(e)return n(e);i=!0,n()}),o=!1,function(e){if(!i&&!o)return o=!0,y(r)?r.close(p):b(r)?r.abort():g(r.destroy)?r.destroy():void n(e||new Error("stream was destroyed"))}});return c.reduce(e)}}.call(this)}.call(this,i("_process"))},{_process:437,"end-of-stream":275,fs:191,once:414}],447:[function(e,r,t){!function(e){!function(){let t;r.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:e):e=>(t=t||Promise.resolve()).then(e).catch(e=>setTimeout(()=>{throw e},0))}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],448:[function(e,t,r){t.exports="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e)},{}],449:[function(e,t,r){"use strict";function g(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}t.exports=function(e,t,r){var n=r&&r.stringify||g,r=1;null===e&&(e=t[0],r=0);if("object"==typeof e&&null!==e){var i=t.length+r;if(1===i)return e;var o=new Array(i);o[0]=n(e);for(var s=1;s<i;s++)o[s]=n(t[s]);return o.join(" ")}var a=t.length;if(0===a)return e;for(var c="",u="",h=1-r,l=0,f=e&&e.length||0,d=0;d<f;){if(37===e.charCodeAt(d)&&d+1<f){switch(e.charCodeAt(d+1)){case 100:a<=h||(l<d&&(u+=e.slice(l,d)),null!=t[h]&&(u+=Number(t[h]),l=d+=2));break;case 79:case 111:case 106:var p;a<=h||(l<d&&(u+=e.slice(l,d)),void 0!==t[h]&&(p=typeof t[h],l=(u+="string"==p?"'"+t[h]+"'":"function"==p?t[h].name||"<anonymous>":n(t[h]),d+2),d++));break;case 115:a<=h||(l<d&&(u+=e.slice(l,d)),u+=String(t[h]),l=d+2,d++);break;case 37:l<d&&(u+=e.slice(l,d)),u+="%",l=d+2,d++}++h}++d}0===l?u=e:l<f&&(u+=e.slice(l));for(;h<a;)c=t[h++],u+=null===c||"object"!=typeof c?" "+String(c):" "+n(c);return u}},{}],450:[function(e,t,r){t.exports=function(){throw new Error("random-access-file is not supported in the browser")}},{}],451:[function(n,o,e){!function(h){!function(){var t=n("random-access-storage"),e=n("inherits"),a=n("next-tick"),i=n("once"),r=n("./lib/blocks.js");const l=n("b4a");function f(e,t){return l.from(e,t)}function d(e){return l.alloc(e)}var c="undefined"!=typeof window?window:"undefined"!=typeof self?self:{};function u(e){if(!(this instanceof u))return new u(e);t.call(this),this.size=(e="string"==typeof(e=e||{})?{name:e}:e).size||4096,this.name=e.name,this.length=e.length||0,this._getdb=e.db}function p(e,t){e.addEventListener("success",function(e){t(null,e)}),e.addEventListener("error",t)}o.exports=function(e,r){var t,n,i,o=(r=r||{}).idb||(void 0!==c?c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.msIndexedDB:null);if(o)return t=null,n=[],"function"==typeof o.open?((i=o.open(e)).addEventListener("upgradeneeded",function(){(t=i.result).createObjectStore("data")}),i.addEventListener("success",function(){t=i.result,n.forEach(function(e){e(t)}),n=null})):t=o,function(e,t){return"object"==typeof e&&(e=(t=e).name),(t=t||{}).name=e,new u(Object.assign({db:s},r,t))};throw new Error("indexedDB not present and not given");function s(e){t?a(function(){e(t)}):n.push(e)}},e(u,t),u.prototype._blocks=function(e,t){return r(this.size,e,t)},u.prototype._read=function(s){var a=this,c=[];a._store("readonly",function(e,t){if((a.length||0)<s.offset+s.size)return s.callback(new Error("Could not satisfy length"));if(e)return s.callback(e);for(var r=a._blocks(s.offset,s.offset+s.size),n=r.length+1,i=0<r.length?r[0].block:0,o=0;o<r.length;o++)!function(r){var e=a.name+"\0"+r.block;p(t.get(e),function(e,t){if(e)return s.callback(e);c[r.block-i]=t.target.result?f(t.target.result.subarray(r.start,r.end)):d(r.end-r.start),0==--n&&s.callback(null,h.concat(c))})}(r[o]);0==--n&&s.callback(null,h.concat(c))})},u.prototype._write=function(u){var h=this;function a(e,t,r){for(var n,i=0,o=0;i<t.length;i++){var s=t[i],a=s.end-s.start;a===h.size?n=f(u.data.slice(o,o+a)):(n=r[i],l.copy(u.data,n,s.start,o,o+a)),e.put(n,h.name+"\0"+s.block),o+=a}var c=Math.max(h.length||0,u.offset+u.data.length);e.put(c,h.name+"\0length"),e.transaction.addEventListener("complete",function(){h.length=c,u.callback(null)}),e.transaction.addEventListener("error",function(e){u.callback(e)})}h._store("readwrite",function(e,n){if(e)return u.callback(e);for(var i=h._blocks(u.offset,u.offset+u.data.length),o=1,s={},t=0;t<i.length;t++)!function(e,r){e.end-e.start!==h.size&&(o++,e=h.name+"\0"+e.block,p(n.get(e),function(e,t){if(e)return u.callback(e);s[r]=f(t.target.result||d(h.size)),0==--o&&a(n,i,s)}))}(i[t],t);0==--o&&a(n,i,s)})},u.prototype._store=function(r,n){n=i(n);this._getdb(function(e){var e=e.transaction(["data"],r),t=e.objectStore("data");e.addEventListener("error",n),n(null,t)})},u.prototype._open=function(r){var n=this;this._getdb(function(e){n._store("readonly",function(e,t){p(t.get(n.name+"\0length"),function(e,t){n.length=t.target.result||0,r.callback(null)})})})},u.prototype._close=function(t){this._getdb(function(e){t.callback()})},u.prototype._stat=function(e){var t=this;a(function(){e.callback(null,{size:t.length})})},u.prototype._del=function(e){var t=this;a(function(){e.callback(null,{size:t.length})})}}.call(this)}.call(this,n("buffer").Buffer)},{"./lib/blocks.js":452,b4a:175,buffer:221,inherits:362,"next-tick":412,once:414,"random-access-storage":454}],452:[function(e,t,r){t.exports=function(e,t,r){for(var n=[],i=Math.floor(t/e)*e;i<r;i+=e)n.push({block:Math.floor(i/e),start:Math.max(i,t)%e,end:Math.min(i+e,r)%e||e});return n}},{}],453:[function(o,s,e){!function(i){!function(){const t=o("random-access-storage"),r=o("is-options"),e=o("inherits"),c=o("b4a");function n(e){if(!(this instanceof n))return new n(e);e=(e="number"==typeof e?{length:e}:e)||{},t.call(this),c.isBuffer(e)&&(e={length:e.length,buffer:e}),r(e)||(e={}),this.length=e.length||0,this.pageSize=e.length||e.pageSize||1048576,this.buffers=[],e.buffer&&this.buffers.push(e.buffer)}s.exports=n,e(n,t),n.prototype._stat=function(e){e.callback(null,{size:this.length})},n.prototype._write=function(e){var t=Math.floor(e.offset/this.pageSize),r=e.offset-t*this.pageSize,n=0,i=e.offset+e.size;for(i>this.length&&(this.length=i);n<e.size;){var o=this._page(t++,!0),s=this.pageSize-r,s=s<e.size-n?n+s:e.size;c.copy(e.data,o,r,n,s),n=s,r=0}e.callback(null,null)},n.prototype._read=function(e){var t=Math.floor(e.offset/this.pageSize),r=e.offset-t*this.pageSize,n=0;if(e.offset+e.size>this.length)return e.callback(new Error("Could not satisfy length"),null);for(var i=c.alloc(e.size);n<e.size;){var o=this._page(t++,!1),s=this.pageSize-r,a=e.size-n,s=s<a?s:a;o&&c.copy(o,i,n,r,r+s),n+=s,r=0}e.callback(null,i)},n.prototype._del=function(e){var t,r=Math.floor(e.offset/this.pageSize),n=e.offset-r*this.pageSize,i=0;for(n&&e.offset+e.size>=this.length&&((t=this.buffers[r])&&t.fill(0,n)),e.offset+e.size>this.length&&(e.size=Math.max(0,this.length-e.offset));i<e.size;)0===n&&e.size-i>=this.pageSize&&(this.buffers[r]=void 0),r+=1,i+=this.pageSize-(n=0);e.offset+e.size>=this.length&&(this.length=e.offset),e.callback(null,null)},n.prototype._destroy=function(e){this._buffers=[],this.length=0,e.callback(null,null)},n.prototype._page=function(e,t){var r=this.buffers[e];return r=!r&&t?this.buffers[e]=c.alloc(this.pageSize):r},n.prototype.toBuffer=function(){for(var e=c.alloc(this.length),t=0;t<this.buffers.length;t++)this.buffers[t]&&c.copy(this.buffers[t],e,t*this.pageSize);return e},n.prototype.clone=function(){const e=new n;return e.length=this.length,e.pageSize=this.pageSize,e.buffers=this.buffers.map(e=>i.from(e)),e}}.call(this)}.call(this,o("buffer").Buffer)},{b4a:175,buffer:221,inherits:362,"is-options":367,"random-access-storage":454}],454:[function(e,t,r){var n=e("events"),i=e("inherits"),o=e("queue-tick"),s=y(new Error("Not readable")),a=y(new Error("Not writable")),c=y(new Error("Not deletable")),u=y(new Error("Not statable")),h=y(new Error("No readonly open"));function l(e){if(!(this instanceof l))return new l(e);n.EventEmitter.call(this),this._queued=[],this._pending=0,this._needsOpen=!0,this.opened=!1,this.closed=!1,this.destroyed=!1,e&&(e.openReadonly&&(this._openReadonly=e.openReadonly),e.open&&(this._open=e.open),e.read&&(this._read=e.read),e.write&&(this._write=e.write),e.del&&(this._del=e.del),e.stat&&(this._stat=e.stat),e.close&&(this._close=e.close),e.destroy&&(this._destroy=e.destroy)),this.preferReadonly=this._openReadonly!==h,this.readable=this._read!==s,this.writable=this._write!==a,this.deletable=this._del!==c,this.statable=this._stat!==u}function f(){}function d(e,t,r,n,i,o){this.type=t,this.offset=r,this.data=i,this.size=n,this.storage=e,this._sync=!1,this._callback=o,this._openError=null}function p(e,t){e._queued.push(t),e._pending||t._run()}function g(e){e.preferReadonly&&(e._needsOpen=!0,e.preferReadonly=!1)}function y(t){return function(e){b(e,t)}}function b(e,t,r){o(()=>e.callback(t,r))}i(t.exports=l,n.EventEmitter),l.prototype.read=function(e,t,r){this.run(new d(this,0,e,t,null,r))},l.prototype._read=s,l.prototype.write=function(e,t,r){r=r||f,g(this),this.run(new d(this,1,e,t.length,t,r))},l.prototype._write=a,l.prototype.del=function(e,t,r){r=r||f,g(this),this.run(new d(this,2,e,t,null,r))},l.prototype._del=c,l.prototype.stat=function(e){this.run(new d(this,3,0,0,null,e))},l.prototype._stat=u,l.prototype.open=function(e){if(e=e||f,this.opened&&!this._needsOpen)return o(()=>e(null));p(this,new d(this,4,0,0,null,e))},l.prototype._open=y(null),l.prototype._openReadonly=h,l.prototype.close=function(e){if(e=e||f,this.closed)return o(()=>e(null));p(this,new d(this,5,0,0,null,e))},l.prototype._close=y(null),l.prototype.destroy=function(e){e=e||f,this.closed||this.close(f),p(this,new d(this,6,0,0,null,e))},l.prototype._destroy=y(null),l.prototype.run=function(e){this._needsOpen&&this.open(f),this._queued.length?this._queued.push(e):e._run()},d.prototype._maybeOpenError=function(e){if(4===this.type)for(var t=this.storage._queued,r=0;r<t.length;r++)t[r]._openError=e},d.prototype._unqueue=function(e){var t=this.storage,r=t._queued;if(e)this._maybeOpenError(e);else switch(this.type){case 4:t.opened||(t.opened=!0,t.emit("open"));break;case 5:t.closed||(t.closed=!0,t.emit("close"));break;case 6:t.destroyed||(t.destroyed=!0,t.emit("destroy"))}if(r.length&&r[0]===this&&r.shift(),!--t._pending)for(var n=t,i=n._queued;0<i.length;){var o=3<i[0].type;if(o&&n._pending||i[0]._run(),o)return void!void 0;i.shift()}},d.prototype.callback=function(e,t){if(this._sync)return b(this,e,t);this._unqueue(e),this._callback(e,t)},d.prototype._openAndNotClosed=function(){var e=this.storage;return!(!e.opened||e.closed)||(e.opened?e.closed&&b(this,new Error("Closed")):b(this,this._openError||new Error("Not opened")),!1)},d.prototype._open=function(){var e=this.storage;return e.opened&&!e._needsOpen?b(this,null):e.closed?b(this,new Error("Closed")):(e._needsOpen=!1,void(e.preferReadonly?e._openReadonly(this):e._open(this)))},d.prototype._run=function(){var e=this.storage;switch(e._pending++,this._sync=!0,this.type){case 0:this._openAndNotClosed()&&e._read(this);break;case 1:this._openAndNotClosed()&&e._write(this);break;case 2:this._openAndNotClosed()&&e._del(this);break;case 3:this._openAndNotClosed()&&e._stat(this);break;case 4:this._open();break;case 5:e.closed||!e.opened?b(this,null):e._close(this);break;case 6:e.destroyed?b(this,null):e._destroy(this)}this._sync=!1}},{events:284,inherits:362,"queue-tick":448}],455:[function(e,t,r){t.exports=class{constructor(e){this.values=e,this.start=0,this.length=this.values.length}next(){if(0===this.length){if(0===this.start)return{done:!0,value:void 0};this.length=this.start,this.start=0}var e=this.start+(Math.random()*this.length|0),t=this.start+--this.length,r=this.values[e];return this.values[e]=this.values[t],{done:!1,value:this.values[t]=r}}dequeue(){this.values[this.start+this.length]=this.values[this.values.length-1],this.values.pop()}requeue(){var e=this.start+this.length,t=this.values[e];this.values[e]=this.values[this.start],this.values[this.start++]=t}restart(){return this.start=0,this.length=this.values.length,this}[Symbol.iterator](){return this}}},{}],456:[function(t,r,e){!function(s,e){!function(){"use strict";var i=t("safe-buffer").Buffer,o=e.crypto||e.msCrypto;o&&o.getRandomValues?r.exports=function(e,t){if(4294967295<e)throw new RangeError("requested too many random bytes");var r=i.allocUnsafe(e);if(0<e)if(65536<e)for(var n=0;n<e;n+=65536)o.getRandomValues(r.slice(n,n+65536));else o.getRandomValues(r);return"function"!=typeof t?r:s.nextTick(function(){t(null,r)})}:r.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}.call(this)}.call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:437,"safe-buffer":487}],457:[function(r,e,d){!function(l,f){!function(){"use strict";function e(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var t=r("safe-buffer"),o=r("randombytes"),i=t.Buffer,n=t.kMaxLength,s=f.crypto||f.msCrypto,a=Math.pow(2,32)-1;function c(e,t){if("number"!=typeof e||e!=e)throw new TypeError("offset must be a number");if(a<e||e<0)throw new TypeError("offset must be a uint32");if(n<e||t<e)throw new RangeError("offset out of range")}function u(e,t,r){if("number"!=typeof e||e!=e)throw new TypeError("size must be a number");if(a<e||e<0)throw new TypeError("size must be a uint32");if(r<e+t||n<e)throw new RangeError("buffer too small")}function h(r,n,e,i){var t;return l.browser?(t=r.buffer,t=new Uint8Array(t,n,e),s.getRandomValues(t),i?void l.nextTick(function(){i(null,r)}):r):i?void o(e,function(e,t){if(e)return i(e);t.copy(r,n),i(null,r)}):(o(e).copy(r,n),r)}s&&s.getRandomValues||!l.browser?(d.randomFill=function(e,t,r,n){if(!(i.isBuffer(e)||e instanceof f.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof t)n=t,t=0,r=e.length;else if("function"==typeof r)n=r,r=e.length-t;else if("function"!=typeof n)throw new TypeError('"cb" argument must be a function');return c(t,e.length),u(r,t,e.length),h(e,t,r,n)},d.randomFillSync=function(e,t,r){void 0===t&&(t=0);if(!(i.isBuffer(e)||e instanceof f.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');c(t,e.length),void 0===r&&(r=e.length-t);return u(r,t,e.length),h(e,t,r)}):(d.randomFill=e,d.randomFillSync=e)}.call(this)}.call(this,r("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:437,randombytes:456,"safe-buffer":487}],458:[function(e,t,r){t.exports=function(e){if(!Array.isArray(e))throw"C'mon pal. You gotta feed this thing *arrays*!";const t=[];let r=e.slice();for(;r.length;){var n=Math.floor(Math.random()*r.length);t.push(r.splice(n,1)[0])}return t}},{}],459:[function(e,t,r){"use strict";var n=e("process-nextick-args"),i=Object.keys||function(e){var t,r=[];for(t in e)r.push(t);return r},t=(t.exports=h,Object.create(e("core-util-is"))),o=(t.inherits=e("inherits"),e("./_stream_readable")),s=e("./_stream_writable");t.inherits(h,o);for(var a=i(s.prototype),c=0;c<a.length;c++){var u=a[c];h.prototype[u]||(h.prototype[u]=s.prototype[u])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",l)}function l(){this.allowHalfOpen||this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},{"./_stream_readable":461,"./_stream_writable":463,"core-util-is":232,inherits:362,"process-nextick-args":436}],460:[function(e,t,r){"use strict";t.exports=i;var n=e("./_stream_transform"),t=Object.create(e("core-util-is"));function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}t.inherits=e("inherits"),t.inherits(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":462,"core-util-is":232,inherits:362}],461:[function(P,O,e){!function(T,M){!function(){"use strict";function g(e,t){return e.listeners(t).length}var o,y=P("process-nextick-args"),b=(O.exports=i,P("isarray")),r=(i.ReadableState=n,P("events").EventEmitter,P("./internal/streams/stream")),h=P("safe-buffer").Buffer,l=M.Uint8Array||function(){};var s,e=Object.create(P("core-util-is")),t=(e.inherits=P("inherits"),P("util")),m=void 0,m=t&&t.debuglog?t.debuglog("stream"):function(){},a=P("./internal/streams/BufferList"),t=P("./internal/streams/destroy"),c=(e.inherits(i,r),["error","close","destroy","pause","resume"]);function n(e,t){e=e||{};var t=t instanceof(o=o||P("./_stream_duplex")),r=(this.objectMode=!!e.objectMode,t&&(this.objectMode=this.objectMode||!!e.readableObjectMode),e.highWaterMark),n=e.readableHighWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:t&&(n||0===n)?n:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s=s||P("string_decoder/").StringDecoder,this.decoder=new s(e.encoding),this.encoding=e.encoding)}function i(e){if(o=o||P("./_stream_duplex"),!(this instanceof i))return new i(e);this._readableState=new n(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),r.call(this)}function u(e,t,r,n,i){var o,s,a,c,u=e._readableState;return null===t?(u.reading=!1,s=e,(c=u).ended||(c.decoder&&(a=c.decoder.end())&&a.length&&(c.buffer.push(a),c.length+=c.objectMode?1:a.length),c.ended=!0,v(s))):(o=i?o:function(e,t){var r;!function(e){return h.isBuffer(e)||e instanceof l}(t)&&"string"!=typeof t&&void 0!==t&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk"));return r}(u,t))?e.emit("error",o):u.objectMode||t&&0<t.length?("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===h.prototype||(a=t,t=h.from(a)),n?u.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):f(e,u,t,!0):u.ended?e.emit("error",new Error("stream.push() after EOF")):(u.reading=!1,!u.decoder||r||(t=u.decoder.write(t),u.objectMode||0!==t.length)?f(e,u,t,!1):_(e,u))):n||(u.reading=!1),!(c=u).ended&&(c.needReadable||c.length<c.highWaterMark||0===c.length)}function f(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&v(e)),_(e,t)}Object.defineProperty(i.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),i.prototype.destroy=t.destroy,i.prototype._undestroy=t.undestroy,i.prototype._destroy=function(e,t){this.push(null),t(e)},i.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=h.from(e,t),t=""),r=!0),u(this,e,t,!1,r)},i.prototype.unshift=function(e){return u(this,e,null,!0,!1)},i.prototype.isPaused=function(){return!1===this._readableState.flowing},i.prototype.setEncoding=function(e){return s=s||P("string_decoder/").StringDecoder,this._readableState.decoder=new s(e),this._readableState.encoding=e,this};var d=8388608;function p(e,t){var r;return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?(t.flowing&&t.length?t.buffer.head.data:t).length:(e>t.highWaterMark&&(t.highWaterMark=(d<=(r=e)?r=d:(r--,r=(r=(r=(r=(r|=r>>>1)|r>>>2)|r>>>4)|r>>>8)|r>>>16,r++),r)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function v(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(m("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?y.nextTick(A,e):A(e))}function A(e){m("emit readable"),e.emit("readable"),k(e)}function _(e,t){t.readingMore||(t.readingMore=!0,y.nextTick(w,e,t))}function w(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(m("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function E(e){m("readable nexttick read 0"),e.read(0)}function S(e,t){t.reading||(m("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),k(e),t.flowing&&!t.reading&&e.read(0)}function k(e){var t=e._readableState;for(m("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():(r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r).data=o.slice(s);break}++n}return t.length-=n,i}:function(e,t){var r=h.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0===(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n).data=o.slice(s);break}++i}return t.length-=i,r})(e,t);return n}(e,t.buffer,t.decoder),r)}function C(e){var t=e._readableState;if(0<t.length)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,y.nextTick(B,t,e))}function B(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function x(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}i.prototype.read=function(e){m("read",e),e=parseInt(e,10);var t,r=this._readableState,n=e;return 0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&(r.length>=r.highWaterMark||r.ended)?(m("read: emitReadable",r.length,r.ended),(0===r.length&&r.ended?C:v)(this),null):0===(e=p(e,r))&&r.ended?(0===r.length&&C(this),null):(t=r.needReadable,m("need readable",t),(0===r.length||r.length-e<r.highWaterMark)&&m("length less than watermark",t=!0),r.ended||r.reading?m("reading or ended",t=!1):t&&(m("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=p(n,r))),null===(t=0<e?I(e,r):null)?(r.needReadable=!0,e=0):r.length-=e,0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&C(this)),null!==t&&this.emit("data",t),t)},i.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},i.prototype.pipe=function(r,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r)}i.pipesCount+=1,m("pipe count=%d opts=%j",i.pipesCount,e);e=(!e||!1!==e.end)&&r!==T.stdout&&r!==T.stderr?s:p;function o(e,t){m("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,m("cleanup"),r.removeListener("close",f),r.removeListener("finish",d),r.removeListener("drain",a),r.removeListener("error",l),r.removeListener("unpipe",o),n.removeListener("end",s),n.removeListener("end",p),n.removeListener("data",h),c=!0,!i.awaitDrain||r._writableState&&!r._writableState.needDrain||a())}function s(){m("onend"),r.end()}i.endEmitted?y.nextTick(e):n.once("end",e),r.on("unpipe",o);t=n;var t,a=function(){var e=t._readableState;m("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&g(t,"data")&&(e.flowing=!0,k(t))},c=(r.on("drain",a),!1);var u=!1;function h(e){m("ondata"),(u=!1)!==r.write(e)||u||((1===i.pipesCount&&i.pipes===r||1<i.pipesCount&&-1!==x(i.pipes,r))&&!c&&(m("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,u=!0),n.pause())}function l(e){m("onerror",e),p(),r.removeListener("error",l),0===g(r,"error")&&r.emit("error",e)}function f(){r.removeListener("finish",d),p()}function d(){m("onfinish"),r.removeListener("close",f),p()}function p(){m("unpipe"),n.unpipe(r)}return n.on("data",h),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?b(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(r,"error",l),r.once("close",f),r.once("finish",d),r.emit("pipe",n),i.flowing||(m("pipe resume"),n.resume()),r},i.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0!==t.pipesCount)if(1===t.pipesCount)e&&e!==t.pipes||(e=e||t.pipes,t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r));else if(e){var n=x(t.pipes,e);-1!==n&&(t.pipes.splice(n,1),--t.pipesCount,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r))}else{var i=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<o;s++)i[s].emit("unpipe",this,r)}return this},i.prototype.addListener=i.prototype.on=function(e,t){t=r.prototype.on.call(this,e,t);return"data"===e?!1!==this._readableState.flowing&&this.resume():"readable"!==e||(e=this._readableState).endEmitted||e.readableListening||(e.readableListening=e.needReadable=!0,e.emittedReadable=!1,e.reading?e.length&&v(this):y.nextTick(E,this)),t},i.prototype.resume=function(){var e,t=this._readableState;return t.flowing||(m("resume"),t.flowing=!0,e=this,(t=t).resumeScheduled||(t.resumeScheduled=!0,y.nextTick(S,e,t))),this},i.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(t){var e,r=this,n=this._readableState,i=!1;for(e in t.on("end",function(){var e;m("wrapped end"),n.decoder&&!n.ended&&(e=n.decoder.end())&&e.length&&r.push(e),r.push(null)}),t.on("data",function(e){m("wrapped data"),n.decoder&&(e=n.decoder.write(e)),n.objectMode&&null==e||(n.objectMode||e&&e.length)&&!r.push(e)&&(i=!0,t.pause())}),t)void 0===this[e]&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));for(var o=0;o<c.length;o++)t.on(c[o],this.emit.bind(this,c[o]));return this._read=function(e){m("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(i.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),i._fromList=I}.call(this)}.call(this,P("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":459,"./internal/streams/BufferList":464,"./internal/streams/destroy":465,"./internal/streams/stream":466,_process:437,"core-util-is":232,events:284,inherits:362,isarray:369,"process-nextick-args":436,"safe-buffer":486,"string_decoder/":574,util:191}],462:[function(e,t,r){"use strict";t.exports=i;var n=e("./_stream_duplex"),t=Object.create(e("core-util-is"));function i(e){if(!(this instanceof i))return new i(e);n.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState,n=(r.transforming=!1,r.writecb);if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,(r.writecb=null)!=t&&this.push(t),n(e),(r=this._readableState).reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var r=this;"function"==typeof this._flush?this._flush(function(e,t){s(r,e,t)}):s(this,null,null)}function s(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");e.push(null)}t.inherits=e("inherits"),t.inherits(i,n),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r,n.writechunk=e,n.writeencoding=t,n.transforming||(r=this._readableState,(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark))},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},i.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e),r.emit("close")})}},{"./_stream_duplex":459,"core-util-is":232,inherits:362}],463:[function(E,S,e){!function(u,h,w){!function(){"use strict";var d=E("process-nextick-args");function l(o){var s=this;this.next=null,this.entry=null,this.finish=function(){var e=s,t=o,r=void 0,n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}S.exports=a;var o,f=!u.browser&&-1<["v0.10","v0.9."].indexOf(u.version.slice(0,5))?w:d.nextTick,e=(a.WritableState=s,Object.create(E("core-util-is"))),t=(e.inherits=E("inherits"),{deprecate:E("util-deprecate")}),r=E("./internal/streams/stream"),p=E("safe-buffer").Buffer,g=h.Uint8Array||function(){};var n,i=E("./internal/streams/destroy");function y(){}function s(e,h){o=o||E("./_stream_duplex"),e=e||{};var t=h instanceof o,r=(this.objectMode=!!e.objectMode,t&&(this.objectMode=this.objectMode||!!e.writableObjectMode),e.highWaterMark),n=e.writableHighWaterMark,i=this.objectMode?16:16384,r=(this.highWaterMark=r||0===r?r:t&&(n||0===n)?n:i,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,(this.destroyed=!1)===e.decodeStrings);this.decodeStrings=!r,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){e=e,r=(t=h)._writableState,n=r.sync,i=r.writecb;var t,r,n,i,o=r;{var s,a,c,u;(o.writing=!1,o.writecb=null,o.length-=o.writelen,o.writelen=0,e)?(o=t,a=n,c=e,u=i,--(s=r).pendingcb,a?(d.nextTick(u,c),d.nextTick(_,o,s),o._writableState.errorEmitted=!0,o.emit("error",c)):(u(c),o._writableState.errorEmitted=!0,o.emit("error",c),_(o,s))):((e=A(r))||r.corked||r.bufferProcessing||!r.bufferedRequest||v(t,r),n?f(m,t,r,e,i):m(t,r,e,i))}},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}e.inherits(a,r),s.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t};try{Object.defineProperty(s.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}function a(e){if(o=o||E("./_stream_duplex"),!(n.call(a,this)||this instanceof o))return new a(e);this._writableState=new s(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),r.call(this)}function b(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function m(e,t,r,n){var i;r||(r=e,0===(i=t).length&&i.needDrain&&(i.needDrain=!1,r.emit("drain"))),t.pendingcb--,n(),_(e,t)}function v(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){for(var n=t.bufferedRequestCount,i=new Array(n),n=t.corkedRequestsFree,o=(n.entry=r,0),s=!0;r;)(i[o]=r).isBuf||(s=!1),r=r.next,o+=1;i.allBuffers=s,b(e,t,!0,t.length,i,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new l(t),t.bufferedRequestCount=0}else{for(;r;){var a=r.chunk,c=r.encoding,u=r.callback;if(b(e,t,!1,t.objectMode?1:a.length,a,c,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function c(t,r){t._final(function(e){r.pendingcb--,e&&t.emit("error",e),r.prefinished=!0,t.emit("prefinish"),_(t,r)})}function _(e,t){var r,n,i=A(t);return i&&(r=e,(n=t).prefinished||n.finalCalled||("function"==typeof r._final?(n.pendingcb++,n.finalCalled=!0,d.nextTick(c,r,n)):(n.prefinished=!0,r.emit("prefinish"))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),i}"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(n=Function.prototype[Symbol.hasInstance],Object.defineProperty(a,Symbol.hasInstance,{value:function(e){return!!n.call(this,e)||this===a&&(e&&e._writableState instanceof s)}})):n=function(e){return e instanceof this},a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},a.prototype.write=function(e,t,r){var n,i,o,s,a,c,u,h=this._writableState,l=!1,f=!h.objectMode&&(f=e,p.isBuffer(f)||f instanceof g);return f&&!p.isBuffer(e)&&(a=e,e=p.from(a)),"function"==typeof t&&(r=t,t=null),t=f?"buffer":t||h.defaultEncoding,"function"!=typeof r&&(r=y),h.ended?(a=this,c=r,u=new Error("write after end"),a.emit("error",u),d.nextTick(c,u)):(f||(c=this,u=h,i=r,s=!(o=!0),null===(n=e)?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||u.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(c.emit("error",s),d.nextTick(i,s),o=!1),o))&&(h.pendingcb++,l=function(e,t,r,n,i,o){r||(s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=p.from(t,r));return t}(t,n,i),n!==s&&(r=!0,i="buffer",n=s));var s=t.objectMode?1:n.length,a=(t.length+=s,t.length<t.highWaterMark);a||(t.needDrain=!0);{var c;t.writing||t.corked?(c=t.lastBufferedRequest,t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1):b(e,t,!1,s,n,i,o)}return a}(this,h,f,e,t,r)),l},a.prototype.cork=function(){this._writableState.corked++},a.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},a.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase()))return this._writableState.defaultEncoding=e,this;throw new TypeError("Unknown encoding: "+e)},Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),a.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},a.prototype._writev=null,a.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,t=e=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||(e=this,t=r,(r=n).ending=!0,_(e,r),t&&(r.finished?d.nextTick(t):e.once("finish",t)),r.ended=!0,e.writable=!1)},Object.defineProperty(a.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),a.prototype.destroy=i.destroy,a.prototype._undestroy=i.undestroy,a.prototype._destroy=function(e,t){this.end(),t(e)}}.call(this)}.call(this,E("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},E("timers").setImmediate)},{"./_stream_duplex":459,"./internal/streams/destroy":465,"./internal/streams/stream":466,_process:437,"core-util-is":232,inherits:362,"process-nextick-args":436,"safe-buffer":486,timers:577,"util-deprecate":579}],464:[function(e,t,r){"use strict";var s=e("safe-buffer").Buffer,n=e("util");function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.head=null,this.tail=null,this.length=0}t.exports=(i.prototype.push=function(e){e={data:e,next:null};0<this.length?this.tail.next=e:this.head=e,this.tail=e,++this.length},i.prototype.unshift=function(e){e={data:e,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},i.prototype.shift=function(){var e;if(0!==this.length)return e=this.head.data,1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},i.prototype.concat=function(e){if(0===this.length)return s.alloc(0);if(1===this.length)return this.head.data;for(var t,r,n=s.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=i.data,r=o,t.copy(n,r),o+=i.data.length,i=i.next;return n},i),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var e=n.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":486,util:191}],465:[function(e,t,r){"use strict";var o=e("process-nextick-args");function s(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||o.nextTick(s,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(o.nextTick(s,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":436}],466:[function(e,t,r){t.exports=e("events").EventEmitter},{events:284}],467:[function(e,t,r){(((r=t.exports=e("./lib/_stream_readable.js")).Stream=r).Readable=r).Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":459,"./lib/_stream_passthrough.js":460,"./lib/_stream_readable.js":461,"./lib/_stream_transform.js":462,"./lib/_stream_writable.js":463}],468:[function(e,t,r){"use strict";var n={};function i(e,i,t){var r=function(n){var e,t;function r(e,t,r){return n.call(this,(e=e,t=t,r=r,"string"==typeof i?i:i(e,t,r)))||this}return t=n,(e=r).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,r}(t=t||Error);r.prototype.name=t.name,r.prototype.code=e,n[e]=r}function c(e,t){var r;return Array.isArray(e)?(r=e.length,e=e.map(function(e){return String(e)}),2<r?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])):"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(e,t,r){var n,i,o,s,a;return"string"==typeof t&&(s="not ",t.substr(!o||o<0?0:+o,s.length)===s)?(n="must not be",t=t.replace(/^not /,"")):n="must be",o=e,s=" argument",(void 0===a||a>o.length)&&(a=o.length),o=(o.substring(a-s.length,a)===s?"The ".concat(e," "):(a=(i="number"!=typeof i?0:i)+(o=".").length>(a=e).length||-1===a.indexOf(o,i)?"argument":"property",'The "'.concat(e,'" ').concat(a," "))).concat(n," ").concat(c(t,"type")),o+=". Received type ".concat(typeof r)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n},{}],469:[function(h,l,e){!function(u){!function(){"use strict";var e=Object.keys||function(e){var t,r=[];for(t in e)r.push(t);return r},t=(l.exports=s,h("./_stream_readable")),r=h("./_stream_writable");h("inherits")(s,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var o=n[i];s.prototype[o]||(s.prototype[o]=r.prototype[o])}function s(e){if(!(this instanceof s))return new s(e);t.call(this,e),r.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",a)))}function a(){this._writableState.ended||u.nextTick(c,this)}function c(e){e.end()}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}.call(this)}.call(this,h("_process"))},{"./_stream_readable":471,"./_stream_writable":473,_process:437,inherits:362}],470:[function(e,t,r){"use strict";t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":472,inherits:362}],471:[function(j,U,e){!function(N,F){!function(){"use strict";function p(e,t){return e.listeners(t).length}(U.exports=A).ReadableState=v,j("events").EventEmitter;var n,i=j("./internal/streams/stream"),h=j("buffer").Buffer,l=F.Uint8Array||function(){};var o,e,r,t=j("util"),g=t&&t.debuglog?t.debuglog("stream"):function(){},s=j("./internal/streams/buffer_list"),t=j("./internal/streams/destroy"),a=j("./internal/streams/state").getHighWaterMark,c=j("../errors").codes,f=c.ERR_INVALID_ARG_TYPE,d=c.ERR_STREAM_PUSH_AFTER_EOF,u=c.ERR_METHOD_NOT_IMPLEMENTED,y=c.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,b=(j("inherits")(A,i),t.errorOrDestroy),m=["error","close","destroy","pause","resume"];function v(e,t,r){n=n||j("./_stream_duplex"),e=e||{},"boolean"!=typeof r&&(r=t instanceof n),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=a(this,e,"readableHighWaterMark",r),this.buffer=new s,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(o=o||j("string_decoder/").StringDecoder,this.decoder=new o(e.encoding),this.encoding=e.encoding)}function A(e){if(n=n||j("./_stream_duplex"),!(this instanceof A))return new A(e);var t=this instanceof n;this._readableState=new v(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),i.call(this)}function _(e,t,r,n,i){g("readableAddChunk",t);var o,s,a,c,u=e._readableState;if(null===t)u.reading=!1,s=e,a=u,g("onEofChunk"),a.ended||(a.decoder&&(c=a.decoder.end())&&c.length&&(a.buffer.push(c),a.length+=a.objectMode?1:c.length),a.ended=!0,a.sync?k(s):(a.needReadable=!1,a.emittedReadable||(a.emittedReadable=!0,I(s))));else if(o=i?o:function(e,t){var r;!function(e){return h.isBuffer(e)||e instanceof l}(t)&&"string"!=typeof t&&void 0!==t&&!e.objectMode&&(r=new f("chunk",["string","Buffer","Uint8Array"],t));return r}(u,t))b(e,o);else if(u.objectMode||t&&0<t.length)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===h.prototype||(c=t,t=h.from(c)),n)u.endEmitted?b(e,new y):w(e,u,t,!0);else if(u.ended)b(e,new d);else{if(u.destroyed)return!1;u.reading=!1,!u.decoder||r||(t=u.decoder.write(t),u.objectMode||0!==t.length)?w(e,u,t,!1):C(e,u)}else n||(u.reading=!1,C(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function w(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),C(e,t)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),A.prototype.destroy=t.destroy,A.prototype._undestroy=t.undestroy,A.prototype._destroy=function(e,t){t(e)},A.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=h.from(e,t),t=""),r=!0),_(this,e,t,!1,r)},A.prototype.unshift=function(e){return _(this,e,null,!0,!1)},A.prototype.isPaused=function(){return!1===this._readableState.flowing},A.prototype.setEncoding=function(e){for(var t=new(o=o||j("string_decoder/").StringDecoder)(e),r=(this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding,this._readableState.buffer.head),n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var E=1073741824;function S(e,t){var r;return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?(t.flowing&&t.length?t.buffer.head.data:t).length:(e>t.highWaterMark&&(t.highWaterMark=(E<=(r=e)?r=E:(r--,r=(r=(r=(r=(r|=r>>>1)|r>>>2)|r>>>4)|r>>>8)|r>>>16,r++),r)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;g("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(g("emitReadable",t.flowing),t.emittedReadable=!0,N.nextTick(I,e))}function I(e){var t=e._readableState;g("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,P(e)}function C(e,t){t.readingMore||(t.readingMore=!0,N.nextTick(B,e,t))}function B(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(g("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function x(e){var t=e._readableState;t.readableListening=0<e.listenerCount("readable"),t.resumeScheduled&&!t.paused?t.flowing=!0:0<e.listenerCount("data")&&e.resume()}function T(e){g("readable nexttick read 0"),e.read(0)}function M(e,t){g("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(g("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function L(e){var t=e._readableState;g("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,N.nextTick(D,t,e))}function D(e,t){g("endReadableNT",e.endEmitted,e.length),e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy&&(!(e=t._writableState)||e.autoDestroy&&e.finished)&&t.destroy())}function R(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}A.prototype.read=function(e){g("read",e),e=parseInt(e,10);var t,r=this._readableState,n=e;return 0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:0<r.length)||r.ended)?(g("read: emitReadable",r.length,r.ended),(0===r.length&&r.ended?L:k)(this),null):0===(e=S(e,r))&&r.ended?(0===r.length&&L(this),null):(t=r.needReadable,g("need readable",t),(0===r.length||r.length-e<r.highWaterMark)&&g("length less than watermark",t=!0),r.ended||r.reading?g("reading or ended",t=!1):t&&(g("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=S(n,r))),null===(t=0<e?O(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&L(this)),null!==t&&this.emit("data",t),t)},A.prototype._read=function(e){b(this,new u("_read()"))},A.prototype.pipe=function(r,e){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r)}i.pipesCount+=1,g("pipe count=%d opts=%j",i.pipesCount,e);e=(!e||!1!==e.end)&&r!==N.stdout&&r!==N.stderr?s:d;function o(e,t){g("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,g("cleanup"),r.removeListener("close",l),r.removeListener("finish",f),r.removeListener("drain",a),r.removeListener("error",h),r.removeListener("unpipe",o),n.removeListener("end",s),n.removeListener("end",d),n.removeListener("data",u),c=!0,!i.awaitDrain||r._writableState&&!r._writableState.needDrain||a())}function s(){g("onend"),r.end()}i.endEmitted?N.nextTick(e):n.once("end",e),r.on("unpipe",o);t=n;var t,a=function(){var e=t._readableState;g("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&p(t,"data")&&(e.flowing=!0,P(t))},c=(r.on("drain",a),!1);function u(e){g("ondata");e=r.write(e);g("dest.write",e),!1===e&&((1===i.pipesCount&&i.pipes===r||1<i.pipesCount&&-1!==R(i.pipes,r))&&!c&&(g("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function h(e){g("onerror",e),d(),r.removeListener("error",h),0===p(r,"error")&&b(r,e)}function l(){r.removeListener("finish",f),d()}function f(){g("onfinish"),r.removeListener("close",l),d()}function d(){g("unpipe"),n.unpipe(r)}return n.on("data",u),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(r,"error",h),r.once("close",l),r.once("finish",f),r.emit("pipe",n),i.flowing||(g("pipe resume"),n.resume()),r},A.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0!==t.pipesCount)if(1===t.pipesCount)e&&e!==t.pipes||(e=e||t.pipes,t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r));else if(e){var n=R(t.pipes,e);-1!==n&&(t.pipes.splice(n,1),--t.pipesCount,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r))}else{var i=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<o;s++)i[s].emit("unpipe",this,{hasUnpiped:!1})}return this},A.prototype.addListener=A.prototype.on=function(e,t){var t=i.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=0<this.listenerCount("readable"),!1!==r.flowing&&this.resume()):"readable"!==e||r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,g("on readable",r.length,r.reading),r.length?k(this):r.reading||N.nextTick(T,this)),t},A.prototype.removeListener=function(e,t){t=i.prototype.removeListener.call(this,e,t);return"readable"===e&&N.nextTick(x,this),t},A.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||N.nextTick(x,this),t},A.prototype.resume=function(){var e,t,r=this._readableState;return r.flowing||(g("resume"),r.flowing=!r.readableListening,e=this,(t=r).resumeScheduled||(t.resumeScheduled=!0,N.nextTick(M,e,t))),r.paused=!1,this},A.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},A.prototype.wrap=function(t){var e,r=this,n=this._readableState,i=!1;for(e in t.on("end",function(){var e;g("wrapped end"),n.decoder&&!n.ended&&(e=n.decoder.end())&&e.length&&r.push(e),r.push(null)}),t.on("data",function(e){g("wrapped data"),n.decoder&&(e=n.decoder.write(e)),n.objectMode&&null==e||(n.objectMode||e&&e.length)&&!r.push(e)&&(i=!0,t.pause())}),t)void 0===this[e]&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));for(var o=0;o<m.length;o++)t.on(m[o],this.emit.bind(this,m[o]));return this._read=function(e){g("wrapped _read",e),i&&(i=!1,t.resume())},this},"function"==typeof Symbol&&(A.prototype[Symbol.asyncIterator]=function(){return(e=void 0===e?j("./internal/streams/async_iterator"):e)(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),A._fromList=O,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(A.from=function(e,t){return(r=void 0===r?j("./internal/streams/from"):r)(A,e,t)})}.call(this)}.call(this,j("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":468,"./_stream_duplex":469,"./internal/streams/async_iterator":474,"./internal/streams/buffer_list":475,"./internal/streams/destroy":476,"./internal/streams/from":478,"./internal/streams/state":480,"./internal/streams/stream":481,_process:437,buffer:221,events:284,inherits:362,"string_decoder/":575,util:191}],472:[function(e,t,r){"use strict";t.exports=c;var t=e("../errors").codes,n=t.ERR_METHOD_NOT_IMPLEMENTED,i=t.ERR_MULTIPLE_CALLBACK,o=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=t.ERR_TRANSFORM_WITH_LENGTH_0,a=e("./_stream_duplex");function c(e){if(!(this instanceof c))return new c(e);a.call(this,e),this._transformState={afterTransform:function(e,t){var r=this._transformState,n=(r.transforming=!1,r.writecb);if(null===n)return this.emit("error",new i);r.writechunk=null,(r.writecb=null)!=t&&this.push(t),n(e),(r=this._readableState).reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var r=this;"function"!=typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush(function(e,t){h(r,e,t)})}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;e.push(null)}e("inherits")(c,a),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new n("_transform()"))},c.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r,n.writechunk=e,n.writeencoding=t,n.transforming||(r=this._readableState,(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark))},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){a.prototype._destroy.call(this,e,function(e){t(e)})}},{"../errors":468,"./_stream_duplex":469,inherits:362}],473:[function(T,M,e){!function(B,x){!function(){"use strict";function l(o){var s=this;this.next=null,this.entry=null,this.finish=function(){var e=s,t=o,r=void 0,n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}}(M.exports=_).WritableState=A;var r,e={deprecate:T("util-deprecate")},n=T("./internal/streams/stream"),u=T("buffer").Buffer,h=x.Uint8Array||function(){};var i,t=T("./internal/streams/destroy"),o=T("./internal/streams/state").getHighWaterMark,s=T("../errors").codes,f=s.ERR_INVALID_ARG_TYPE,a=s.ERR_METHOD_NOT_IMPLEMENTED,d=s.ERR_MULTIPLE_CALLBACK,c=s.ERR_STREAM_CANNOT_PIPE,p=s.ERR_STREAM_DESTROYED,g=s.ERR_STREAM_NULL_VALUES,y=s.ERR_STREAM_WRITE_AFTER_END,b=s.ERR_UNKNOWN_ENCODING,m=t.errorOrDestroy;function v(){}function A(e,h,t){r=r||T("./_stream_duplex"),e=e||{},"boolean"!=typeof t&&(t=h instanceof r),this.objectMode=!!e.objectMode,t&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=o(this,e,"writableHighWaterMark",t),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;t=(this.destroyed=!1)===e.decodeStrings;this.decodeStrings=!t,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){var t=h,r=t._writableState,n=r.sync,i=r.writecb;if("function"!=typeof i)throw new d;var o,s,a,c,u=r;u.writing=!1,u.writecb=null,u.length-=u.writelen,u.writelen=0,e?(u=t,s=n,a=e,c=i,--(o=r).pendingcb,s?(B.nextTick(c,a),B.nextTick(C,u,o),u._writableState.errorEmitted=!0,m(u,a)):(c(a),u._writableState.errorEmitted=!0,m(u,a),C(u,o))):((e=k(r)||t.destroyed)||r.corked||r.bufferProcessing||!r.bufferedRequest||S(t,r),n?B.nextTick(E,t,r,e,i):E(t,r,e,i))},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}T("inherits")(_,n),A.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t};try{Object.defineProperty(A.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}function _(e){var t=this instanceof(r=r||T("./_stream_duplex"));if(!t&&!i.call(_,this))return new _(e);this._writableState=new A(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),n.call(this)}function w(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new p("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function E(e,t,r,n){var i;r||(r=e,0===(i=t).length&&i.needDrain&&(i.needDrain=!1,r.emit("drain"))),t.pendingcb--,n(),C(e,t)}function S(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){for(var n=t.bufferedRequestCount,i=new Array(n),n=t.corkedRequestsFree,o=(n.entry=r,0),s=!0;r;)(i[o]=r).isBuf||(s=!1),r=r.next,o+=1;i.allBuffers=s,w(e,t,!0,t.length,i,"",n.finish),t.pendingcb++,t.lastBufferedRequest=null,n.next?(t.corkedRequestsFree=n.next,n.next=null):t.corkedRequestsFree=new l(t),t.bufferedRequestCount=0}else{for(;r;){var a=r.chunk,c=r.encoding,u=r.callback;if(w(e,t,!1,t.objectMode?1:a.length,a,c,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function k(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(t,r){t._final(function(e){r.pendingcb--,e&&m(t,e),r.prefinished=!0,t.emit("prefinish"),C(t,r)})}function C(e,t){var r,n,i=k(t);return i&&(r=e,(n=t).prefinished||n.finalCalled||("function"!=typeof r._final||n.destroyed?(n.prefinished=!0,r.emit("prefinish")):(n.pendingcb++,n.finalCalled=!0,B.nextTick(I,r,n))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy&&(!(r=e._readableState)||r.autoDestroy&&r.endEmitted)&&e.destroy())),i}"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(e){return!!i.call(this,e)||this===_&&(e&&e._writableState instanceof A)}})):i=function(e){return e instanceof this},_.prototype.pipe=function(){m(this,new c)},_.prototype.write=function(e,t,r){var n,i,o,s=this._writableState,a=!1,c=!s.objectMode&&(c=e,u.isBuffer(c)||c instanceof h);return c&&!u.isBuffer(e)&&(n=e,e=u.from(n)),"function"==typeof t&&(r=t,t=null),t=c?"buffer":t||s.defaultEncoding,"function"!=typeof r&&(r=v),s.ending?(n=this,i=r,o=new y,m(n,o),B.nextTick(i,o)):(c||function(e,t,r,n){var i;if(null===r?i=new g:"string"==typeof r||t.objectMode||(i=new f("chunk",["string","Buffer"],r)),!i)return 1;m(e,i),B.nextTick(n,i)}(this,s,e,r))&&(s.pendingcb++,a=function(e,t,r,n,i,o){r||(s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r));return t}(t,n,i),n!==s&&(r=!0,i="buffer",n=s));var s=t.objectMode?1:n.length,a=(t.length+=s,t.length<t.highWaterMark);a||(t.needDrain=!0);{var c;t.writing||t.corked?(c=t.lastBufferedRequest,t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1):w(e,t,!1,s,n,i,o)}return a}(this,s,c,e,t,r)),a},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||S(this,e))},_.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase()))return this._writableState.defaultEncoding=e,this;throw new b(e)},Object.defineProperty(_.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(e,t,r){r(new a("_write()"))},_.prototype._writev=null,_.prototype.end=function(e,t,r){var n=this._writableState;if("function"==typeof e?(r=e,t=e=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending){e=this,t=n,n=r;t.ending=!0,C(e,t),n&&(t.finished?B.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}return this},Object.defineProperty(_.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),_.prototype.destroy=t.destroy,_.prototype._undestroy=t.undestroy,_.prototype._destroy=function(e,t){t(e)}}.call(this)}.call(this,T("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":468,"./_stream_duplex":469,"./internal/streams/destroy":476,"./internal/streams/state":480,"./internal/streams/stream":481,_process:437,buffer:221,inherits:362,"util-deprecate":579}],474:[function(n,y,e){!function(g){!function(){"use strict";var e;function r(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}var i=n("./end-of-stream"),o=Symbol("lastResolve"),s=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),h=Symbol("handlePromise"),l=Symbol("stream");function f(e,t){return{value:e,done:t}}function d(e){var t,r=e[o];null!==r&&null!==(t=e[l].read())&&(e[u]=null,e[o]=null,e[s]=null,r(f(t,!1)))}var t=Object.getPrototypeOf(function(){}),p=Object.setPrototypeOf((r(e={get stream(){return this[l]},next:function(){var r=this,e=this[a];if(null!==e)return Promise.reject(e);if(this[c])return Promise.resolve(f(void 0,!0));if(this[l].destroyed)return new Promise(function(e,t){g.nextTick(function(){r[a]?t(r[a]):e(f(void 0,!0))})});var t,n,i,e=this[u];if(e)t=new Promise((n=e,i=this,function(e,t){n.then(function(){i[c]?e(f(void 0,!0)):i[h](e,t)},t)}));else{e=this[l].read();if(null!==e)return Promise.resolve(f(e,!1));t=new Promise(this[h])}return this[u]=t}},Symbol.asyncIterator,function(){return this}),r(e,"return",function(){var e=this;return new Promise(function(t,r){e[l].destroy(null,function(e){e?r(e):t(f(void 0,!0))})})}),e),t);y.exports=function(e){var t,n=Object.create(p,(r(t={},l,{value:e,writable:!0}),r(t,o,{value:null,writable:!0}),r(t,s,{value:null,writable:!0}),r(t,a,{value:null,writable:!0}),r(t,c,{value:e._readableState.endEmitted,writable:!0}),r(t,h,{value:function(e,t){var r=n[l].read();r?(n[u]=null,n[o]=null,n[s]=null,e(f(r,!1))):(n[o]=e,n[s]=t)},writable:!0}),t));return n[u]=null,i(e,function(e){var t;e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code?(null!==(t=n[s])&&(n[u]=null,n[o]=null,n[s]=null,t(e)),n[a]=e):(null!==(t=n[o])&&(n[u]=null,n[o]=null,t(f(void 0,!(n[s]=null)))),n[c]=!0)}),e.on("readable",function(e){g.nextTick(d,e)}.bind(null,n)),n}}.call(this)}.call(this,n("_process"))},{"./end-of-stream":477,_process:437}],475:[function(e,t,r){"use strict";function o(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function i(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=e("buffer").Buffer,c=e("util").inspect,u=c&&c.custom||"inspect";t.exports=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.head=null,this.tail=null,this.length=0}var t,r,n;return t=e,(r=[{key:"push",value:function(e){e={data:e,next:null};0<this.length?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(e){e={data:e,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){var e;if(0!==this.length)return e=this.head.data,1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n=a.allocUnsafe(e>>>0),i=this.head,o=0;i;)t=i.data,r=o,a.prototype.copy.call(t,n,r),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t).data=i.slice(o);break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r).data=i.slice(o);break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return c(this,i({},t,{depth:0,customInspect:!1}))}}])&&s(t.prototype,r),n&&s(t,n),e}()},{buffer:221,util:191}],476:[function(e,t,r){!function(c){!function(){"use strict";function o(e,t){a(e,t),s(e)}function s(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function a(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,c.nextTick(a,this,e)):c.nextTick(a,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?r._writableState?r._writableState.errorEmitted?c.nextTick(s,r):(r._writableState.errorEmitted=!0,c.nextTick(o,r,e)):c.nextTick(o,r,e):t?(c.nextTick(s,r),t(e)):c.nextTick(s,r)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}.call(this)}.call(this,e("_process"))},{_process:437}],477:[function(e,t,r){"use strict";var b=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function m(){}t.exports=function e(t,r,n){var i,o,s,a,c,u,h,l,f,d,p,g,y;return"function"==typeof r?e(t,null,r):(i=n||m,o=!1,n=function(){if(!o){o=!0;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.apply(this,t)}},s=(r=r||{}).readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||h()},u=t._writableState&&t._writableState.finished,h=function(){u=!(a=!1),s||n.call(t)},l=t._readableState&&t._readableState.endEmitted,f=function(){l=!(s=!1),a||n.call(t)},d=function(e){n.call(t,e)},p=function(){var e;return s&&!l?(t._readableState&&t._readableState.ended||(e=new b),n.call(t,e)):a&&!u?(t._writableState&&t._writableState.ended||(e=new b),n.call(t,e)):void 0},g=function(){t.req.on("finish",h)},(y=t).setHeader&&"function"==typeof y.abort?(t.on("complete",h),t.on("abort",p),t.req?g():t.on("request",g)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",f),t.on("finish",h),!1!==r.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",h),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",h),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",h),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",p)})}},{"../../../errors":468}],478:[function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],479:[function(c,e,t){"use strict";var u;var r=c("../../../errors").codes,a=r.ERR_MISSING_ARGS,h=r.ERR_STREAM_DESTROYED;function l(e){if(e)throw e}function f(r,e,t,n){i=n,o=!1;var i,o,s=!(n=function(){o||(o=!0,i.apply(void 0,arguments))}),a=(r.on("close",function(){s=!0}),(u=void 0===u?c("./end-of-stream"):u)(r,{readable:e,writable:t},function(e){if(e)return n(e);s=!0,n()}),!1);return function(e){var t;if(!s&&!a)return a=!0,(t=r).setHeader&&"function"==typeof t.abort?r.abort():"function"==typeof r.destroy?r.destroy():void n(e||new h("pipe"))}}function d(e){e()}function p(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r,i,o=!(r=n).length||"function"!=typeof r[r.length-1]?l:r.pop();if((n=Array.isArray(n[0])?n[0]:n).length<2)throw new a("streams");var s=n.map(function(e,t){var r=t<n.length-1;return f(e,r,0<t,function(e){i=i||e,e&&s.forEach(d),r||(s.forEach(d),o(i))})});return n.reduce(p)}},{"../../../errors":468,"./end-of-stream":477}],480:[function(e,t,r){"use strict";var s=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,n){o=n,i=r;var i,o=null!=(t=t).highWaterMark?t.highWaterMark:o?t[i]:null;if(null==o)return e.objectMode?16:16384;if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new s(n?r:"highWaterMark",o);return Math.floor(o)}}},{"../../../errors":468}],481:[function(e,t,r){arguments[4][466][0].apply(r,arguments)},{dup:466,events:284}],482:[function(e,t,r){(((r=t.exports=e("./lib/_stream_readable.js")).Stream=r).Readable=r).Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":469,"./lib/_stream_passthrough.js":470,"./lib/_stream_readable.js":471,"./lib/_stream_transform.js":472,"./lib/_stream_writable.js":473,"./lib/internal/streams/end-of-stream.js":477,"./lib/internal/streams/pipeline.js":479}],483:[function(e,t,r){"use strict";var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function o(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}(arguments[t]));return e}function s(e,t){this.target=t,this.type=e}i(u,a=s);var a,c=u;function u(e,t){t=a.call(this,"error",t)||this;return t.message=e.message,t.error=e,t}i(f,h=s);var h,l=f;function f(e,t,r){void 0===e&&(e=1e3),void 0===t&&(t="");r=h.call(this,"close",r)||this;return r.wasClean=!0,r.code=e,r.reason=t,r}var d={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1};function p(e,t,r){var n=this;void 0===r&&(r={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(t){n._debug("open event");var e=n._options.minUptime,e=void 0===e?d.minUptime:e;clearTimeout(n._connectTimeout),n._uptimeTimeout=setTimeout(function(){return n._acceptOpen()},e),n._ws.binaryType=n._binaryType,n._messageQueue.forEach(function(e){return n._ws.send(e)}),n._messageQueue=[],n.onopen&&n.onopen(t),n._listeners.open.forEach(function(e){return n._callEventListener(t,e)})},this._handleMessage=function(t){n._debug("message event"),n.onmessage&&n.onmessage(t),n._listeners.message.forEach(function(e){return n._callEventListener(t,e)})},this._handleError=function(t){n._debug("error event",t.message),n._disconnect(void 0,"TIMEOUT"===t.message?"timeout":void 0),n.onerror&&n.onerror(t),n._debug("exec error listeners"),n._listeners.error.forEach(function(e){return n._callEventListener(t,e)}),n._connect()},this._handleClose=function(t){n._debug("close event"),n._clearTimeouts(),n._shouldReconnect&&n._connect(),n.onclose&&n.onclose(t),n._listeners.close.forEach(function(e){return n._callEventListener(t,e)})},this._url=e,this._protocols=t,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}Object.defineProperty(p,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(p,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(p,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(p,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"CONNECTING",{get:function(){return p.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"OPEN",{get:function(){return p.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"CLOSING",{get:function(){return p.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"CLOSED",{get:function(){return p.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"bufferedAmount",{get:function(){return this._messageQueue.reduce(function(e,t){return"string"==typeof t?e+=t.length:t instanceof Blob?e+=t.size:e+=t.byteLength,e},0)+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?p.CLOSED:p.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(p.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),p.prototype.close=function(e,t){void 0===e&&(e=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState===this.CLOSED?this._debug("close: already closed"):this._ws.close(e,t):this._debug("close enqueued: no ws instance")},p.prototype.reconnect=function(e,t){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED&&this._disconnect(e,t),this._connect()},p.prototype.send=function(e){var t;this._ws&&this._ws.readyState===this.OPEN?(this._debug("send",e),this._ws.send(e)):(t=this._options.maxEnqueuedMessages,this._messageQueue.length<(void 0===t?d.maxEnqueuedMessages:t)&&(this._debug("enqueue",e),this._messageQueue.push(e)))},p.prototype.addEventListener=function(e,t){this._listeners[e]&&this._listeners[e].push(t)},p.prototype.dispatchEvent=function(e){var t,r,n,i,o,s=this._listeners[e.type];if(s)try{n=s,i="function"==typeof Symbol&&n[Symbol.iterator],o=0;for(var a=i?i.call(n):{next:function(){return{value:(n=n&&o>=n.length?void 0:n)&&n[o++],done:!n}}},c=a.next();!c.done;c=a.next()){var u=c.value;this._callEventListener(e,u)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return!0},p.prototype.removeEventListener=function(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(function(e){return e!==t}))},p.prototype._debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._options.debug&&console.log.apply(console,o(["RWS>"],e))},p.prototype._getNextDelay=function(){var e=this._options,t=e.reconnectionDelayGrowFactor,r=e.minReconnectionDelay,e=e.maxReconnectionDelay,e=void 0===e?d.maxReconnectionDelay:e,n=0;return 0<this._retryCount&&e<(n=(void 0===r?d.minReconnectionDelay:r)*Math.pow(void 0===t?d.reconnectionDelayGrowFactor:t,this._retryCount-1))&&(n=e),this._debug("next delay",n),n},p.prototype._wait=function(){var t=this;return new Promise(function(e){setTimeout(e,t._getNextDelay())})},p.prototype._getNextUrl=function(e){if("string"==typeof e)return Promise.resolve(e);if("function"==typeof e){e=e();if("string"==typeof e)return Promise.resolve(e);if(e.then)return e}throw Error("Invalid URL")},p.prototype._connect=function(){var t=this;if(!this._connectLock&&this._shouldReconnect){this._connectLock=!0;var e=this._options,r=e.maxRetries,r=void 0===r?d.maxRetries:r,n=e.connectionTimeout,i=void 0===n?d.connectionTimeout:n,n=e.WebSocket,o=void 0===n?function(){if("undefined"!=typeof WebSocket)return WebSocket}():n;if(this._retryCount>=r)this._debug("max retries reached",this._retryCount,">=",r);else{if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),void 0===(e=o)||!e||2!==e.CLOSING)throw Error("No valid WebSocket class provided");this._wait().then(function(){return t._getNextUrl(t._url)}).then(function(e){t._closeCalled||(t._debug("connect",{url:e,protocols:t._protocols}),t._ws=t._protocols?new o(e,t._protocols):new o(e),t._ws.binaryType=t._binaryType,t._connectLock=!1,t._addListeners(),t._connectTimeout=setTimeout(function(){return t._handleTimeout()},i))})}}},p.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new c(Error("TIMEOUT"),this))},p.prototype._disconnect=function(e,t){if(void 0===e&&(e=1e3),this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.close(e,t),this._handleClose(new l(e,t,this))}catch(e){}}},p.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},p.prototype._callEventListener=function(e,t){"handleEvent"in t?t.handleEvent(e):t(e)},p.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},p.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},p.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},t.exports=p},{}],484:[function(e,t,r){"use strict";t.exports=function(t){var r=new t,n=r;return{get:function(){var e=r;return e.next?r=e.next:(r=new t,n=r),e.next=null,e},release:function(e){n.next=e,n=e}}}},{}],485:[function(e,t,r){"use strict";var n=e("buffer").Buffer,i=e("inherits"),o=e("hash-base"),y=new Array(16),b=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],A=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],_=[0,1518500249,1859775393,2400959708,2840853838],w=[1352829926,1548603684,1836072691,2053994217,0];function s(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function E(e,t){return e<<t|e>>>32-t}function S(e,t,r,n,i,o,s,a){return E(e+(t^r^n)+o+s|0,a)+i|0}function k(e,t,r,n,i,o,s,a){return E(e+(t&r|~t&n)+o+s|0,a)+i|0}function I(e,t,r,n,i,o,s,a){return E(e+((t|~r)^n)+o+s|0,a)+i|0}function C(e,t,r,n,i,o,s,a){return E(e+(t&n|r&~n)+o+s|0,a)+i|0}function B(e,t,r,n,i,o,s,a){return E(e+(t^(r|~n))+o+s|0,a)+i|0}i(s,o),s.prototype._update=function(){for(var e=y,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,a=0|this._a,c=0|this._b,u=0|this._c,h=0|this._d,l=0|this._e,f=0;f<80;f+=1)var d,p=f<16?(d=S(r,n,i,o,s,e[b[f]],_[0],v[f]),B(a,c,u,h,l,e[m[f]],w[0],A[f])):f<32?(d=k(r,n,i,o,s,e[b[f]],_[1],v[f]),C(a,c,u,h,l,e[m[f]],w[1],A[f])):f<48?(d=I(r,n,i,o,s,e[b[f]],_[2],v[f]),I(a,c,u,h,l,e[m[f]],w[2],A[f])):f<64?(d=C(r,n,i,o,s,e[b[f]],_[3],v[f]),k(a,c,u,h,l,e[m[f]],w[3],A[f])):(d=B(r,n,i,o,s,e[b[f]],_[4],v[f]),S(a,c,u,h,l,e[m[f]],w[4],A[f])),r=s,s=o,o=E(i,10),i=n,n=d,a=l,l=h,h=E(u,10),u=c,c=p;var g=this._b+i+h|0;this._b=this._c+o+l|0,this._c=this._d+s+a|0,this._d=this._e+r+c|0,this._e=this._a+n+u|0,this._a=g},s.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},t.exports=s},{buffer:221,"hash-base":340,inherits:362}],486:[function(e,t,r){var n=e("buffer"),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,r),r.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");e=i(e);return void 0!==t?"string"==typeof r?e.fill(t,r):e.fill(t):e.fill(0),e},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:221}],487:[function(e,t,r){var n=e("buffer"),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,r),r.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");e=i(e);return void 0!==t?"string"==typeof r?e.fill(t,r):e.fill(t):e.fill(0),e},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:221}],488:[function(s,a,e){!function(o){!function(){"use strict";var e,t=s("buffer"),n=t.Buffer,r={};for(e in t)t.hasOwnProperty(e)&&"SlowBuffer"!==e&&"Buffer"!==e&&(r[e]=t[e]);var i=r.Buffer={};for(e in n)n.hasOwnProperty(e)&&"allocUnsafe"!==e&&"allocUnsafeSlow"!==e&&(i[e]=n[e]);if(r.Buffer.prototype=n.prototype,i.from&&i.from!==Uint8Array.from||(i.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return n(e,t,r)}),i.alloc||(i.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||2*(1<<30)<=e)throw new RangeError('The value "'+e+'" is invalid for option "size"');e=n(e);return t&&0!==t.length?"string"==typeof r?e.fill(t,r):e.fill(t):e.fill(0),e}),!r.kStringMaxLength)try{r.kStringMaxLength=o.binding("buffer").kStringMaxLength}catch(e){}r.constants||(r.constants={MAX_LENGTH:r.kMaxLength},r.kStringMaxLength&&(r.constants.MAX_STRING_LENGTH=r.kStringMaxLength)),a.exports=r}.call(this)}.call(this,s("_process"))},{_process:437,buffer:221}],489:[function(e,t,r){t.exports=function(e){if(function(e){return e&&(e instanceof TypeError||e instanceof SyntaxError||e instanceof ReferenceError||e instanceof EvalError||e instanceof RangeError||e instanceof URIError||"ERR_ASSERTION"===e.code)}(e))throw function(e){queueMicrotask(()=>{throw e})}(e),e}},{}],490:[function(e,r,n){!function(O){!function(){"use strict";function u(e){const y=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let b=1779033703,m=3144134277,v=1013904242,A=2773480762,_=1359893119,w=2600822924,E=528734635,S=1541459225;const k=new Uint32Array(64);function t(d){let p=0,g=d.length;for(;64<=g;){let e=b,t=m,r=v,n=A,i=_,o=w,s=E,a=S,c,u,h,l,f;for(u=0;u<16;u++)h=p+4*u,k[u]=(255&d[h])<<24|(255&d[h+1])<<16|(255&d[h+2])<<8|255&d[h+3];for(u=16;u<64;u++)c=k[u-2],l=(c>>>17|c<<15)^(c>>>19|c<<13)^c>>>10,c=k[u-15],f=(c>>>7|c<<25)^(c>>>18|c<<14)^c>>>3,k[u]=(l+k[u-7]|0)+(f+k[u-16]|0)|0;for(u=0;u<64;u++)l=(((i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7))+(i&o^~i&s)|0)+(a+(y[u]+k[u]|0)|0)|0,f=((e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10))+(e&t^e&r^t&r)|0,a=s,s=o,o=i,i=n+l|0,n=r,r=t,t=e,e=l+f|0;b=b+e|0,m=m+t|0,v=v+r|0,A=A+n|0,_=_+i|0,w=w+o|0,E=E+s|0,S=S+a|0,p+=64,g-=64}}t(e);let r,n=e.length%64,i=e.length/536870912|0,o=e.length<<3,s=n<56?56:120,a=e.slice(e.length-n,e.length);for(a.push(128),r=1+n;r<s;r++)a.push(0);return a.push(i>>>24&255),a.push(i>>>16&255),a.push(i>>>8&255),a.push(i>>>0&255),a.push(o>>>24&255),a.push(o>>>16&255),a.push(o>>>8&255),a.push(o>>>0&255),t(a),[b>>>24&255,b>>>16&255,b>>>8&255,b>>>0&255,m>>>24&255,m>>>16&255,m>>>8&255,m>>>0&255,v>>>24&255,v>>>16&255,v>>>8&255,v>>>0&255,A>>>24&255,A>>>16&255,A>>>8&255,A>>>0&255,_>>>24&255,_>>>16&255,_>>>8&255,_>>>0&255,w>>>24&255,w>>>16&255,w>>>8&255,w>>>0&255,E>>>24&255,E>>>16&255,E>>>8&255,E>>>0&255,S>>>24&255,S>>>16&255,S>>>8&255,S>>>0&255]}function C(e,t,r){e=e.length<=64?e:u(e);const n=64+t.length+4,i=new Array(n),o=new Array(64);let s,a=[];for(s=0;s<64;s++)i[s]=54;for(s=0;s<e.length;s++)i[s]^=e[s];for(s=0;s<t.length;s++)i[64+s]=t[s];for(s=n-4;s<n;s++)i[s]=0;for(s=0;s<64;s++)o[s]=92;for(s=0;s<e.length;s++)o[s]^=e[s];function c(){for(let e=n-1;e>=n-4;e--){if(i[e]++,i[e]<=255)return;i[e]=0}}for(;32<=r;)c(),a=a.concat(u(o.concat(u(i)))),r-=32;return 0<r&&(c(),a=a.concat(u(o.concat(u(i))).slice(0,r))),a}function B(e,t,r,n,i){let o;for(T(e,16*(2*r-1),i,0,16),o=0;o<2*r;o++){x(e,16*o,i,16),a=s=void 0;var s=i,a=n;T(s,0,a,0,16);for(let e=8;0<e;e-=2)a[4]^=c(a[0]+a[12],7),a[8]^=c(a[4]+a[0],9),a[12]^=c(a[8]+a[4],13),a[0]^=c(a[12]+a[8],18),a[9]^=c(a[5]+a[1],7),a[13]^=c(a[9]+a[5],9),a[1]^=c(a[13]+a[9],13),a[5]^=c(a[1]+a[13],18),a[14]^=c(a[10]+a[6],7),a[2]^=c(a[14]+a[10],9),a[6]^=c(a[2]+a[14],13),a[10]^=c(a[6]+a[2],18),a[3]^=c(a[15]+a[11],7),a[7]^=c(a[3]+a[15],9),a[11]^=c(a[7]+a[3],13),a[15]^=c(a[11]+a[7],18),a[1]^=c(a[0]+a[3],7),a[2]^=c(a[1]+a[0],9),a[3]^=c(a[2]+a[1],13),a[0]^=c(a[3]+a[2],18),a[6]^=c(a[5]+a[4],7),a[7]^=c(a[6]+a[5],9),a[4]^=c(a[7]+a[6],13),a[5]^=c(a[4]+a[7],18),a[11]^=c(a[10]+a[9],7),a[8]^=c(a[11]+a[10],9),a[9]^=c(a[8]+a[11],13),a[10]^=c(a[9]+a[8],18),a[12]^=c(a[15]+a[14],7),a[13]^=c(a[12]+a[15],9),a[14]^=c(a[13]+a[12],13),a[15]^=c(a[14]+a[13],18);for(let e=0;e<16;++e)s[e]+=a[e];T(i,0,e,t+16*o,16)}for(o=0;o<r;o++)T(e,t+2*o*16,e,16*o,16);for(o=0;o<r;o++)T(e,t+16*(2*o+1),e,16*(o+r),16)}function c(e,t){return e<<t|e>>>32-t}function x(t,r,n,i){for(let e=0;e<i;e++)n[e]^=t[r+e]}function T(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}function M(t){if(t&&"number"==typeof t.length){for(let e=0;e<t.length;e++){var r=t[e];if("number"!=typeof r||r%1||r<0||256<=r)return}return 1}}function P(e,t){if("number"!=typeof e||e%1)throw new Error("invalid "+t);return e}function h(n,e,i,o,s,a,c){if(i=P(i,"N"),o=P(o,"r"),s=P(s,"p"),a=P(a,"dkLen"),0===i||0!=(i&i-1))throw new Error("N must be power of 2");if(2147483647/128/o<i)throw new Error("N too large");if(2147483647/128/s<o)throw new Error("r too large");if(!M(n))throw new Error("password must be an array or buffer");if(n=Array.prototype.slice.call(n),!M(e))throw new Error("salt must be an array or buffer");e=Array.prototype.slice.call(e);let u=C(n,e,128*s*o);const h=new Uint32Array(32*s*o);for(let e=0;e<h.length;e++){var t=4*e;h[e]=(255&u[3+t])<<24|(255&u[2+t])<<16|(255&u[1+t])<<8|(255&u[0+t])<<0}const l=new Uint32Array(64*o),f=new Uint32Array(32*o*i),d=32*o,p=new Uint32Array(16),g=new Uint32Array(16),y=s*i*2;let b=0,m=null,v=!1,A=0,_=0,w,E;function S(){if(v)return c(new Error("cancelled"),b/y);let t;switch(A){case 0:E=32*_*o,T(h,E,l,0,d),A=1,w=0;case 1:(t=i-w)>k&&(t=k);for(let e=0;e<t;e++)T(l,0,f,(w+e)*d,d),B(l,d,o,p,g);if(w+=t,b+=t,c){var e=parseInt(1e3*b/y);if(e!==m){if(v=c(null,b/y))break;m=e}}if(w<i)break;w=0,A=2;case 2:(t=i-w)>k&&(t=k);for(let e=0;e<t;e++){var r=16*(2*o-1),r=l[r]&i-1;x(f,r*d,l,d),B(l,d,o,p,g)}if(w+=t,b+=t,c){e=parseInt(1e3*b/y);if(e!==m){if(v=c(null,b/y))break;m=e}}if(w<i)break;if(T(l,0,h,E,d),++_<s){A=0;break}u=[];for(let e=0;e<h.length;e++)u.push(h[e]>>0&255),u.push(h[e]>>8&255),u.push(h[e]>>16&255),u.push(h[e]>>24&255);e=C(n,u,a);return c&&c(null,1,e),e}c&&I(S)}const k=c?parseInt(1e3/o):4294967295,I=void 0!==O?O:setTimeout;if(!c)for(;;){var r=S();if(null!=r)return r}S()}var e,t;e=this,t={scrypt:function(e,t,r,s,a,c,u){return new Promise(function(n,i){let o=0;u&&u(0),h(e,t,r,s,a,c,function(e,t,r){if(e)i(e);else if(r)u&&1!==o&&u(1),n(new Uint8Array(r));else if(u&&t!==o)return o=t,u(t)})})},syncScrypt:function(e,t,r,n,i,o){return new Uint8Array(h(e,t,r,n,i,o))}},void 0!==n?r.exports=t:"function"==typeof define&&define.amd?define(t):e&&(e.scrypt&&(e._scrypt=e.scrypt),e.scrypt=t)}.call(this)}.call(this,e("timers").setImmediate)},{timers:577}],491:[function(e,t,r){const n=Symbol("SemVer ANY");t.exports=class l{static get ANY(){return n}constructor(e,t){if(t=i(t),e instanceof l){if(e.loose===!!t.loose)return e;e=e.value}c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){var t=this.options.loose?o[s.COMPARATORLOOSE]:o[s.COMPARATOR];if(!(t=e.match(t)))throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==t[1]?t[1]:"","="===this.operator&&(this.operator=""),t[2]?this.semver=new u(t[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return a(e,this.operator,this.semver,this.options)}intersects(e,t){var r,n,i,o,s;if(e instanceof l)return t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator?""===this.value||new h(e.value,t).test(this.value):""===e.operator?""===e.value||new h(this.value,t).test(e.semver):(r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=a(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),t=a(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator),r||n||i&&o||s||t);throw new TypeError("a Comparator is required")}};const i=e("../internal/parse-options"),{re:o,t:s}=e("../internal/re"),a=e("../functions/cmp"),c=e("../internal/debug"),u=e("./semver"),h=e("./range")},{"../functions/cmp":494,"../internal/debug":506,"../internal/parse-options":508,"../internal/re":509,"./range":492,"./semver":493}],492:[function(e,t,r){t.exports=class x{constructor(e,t){if(t=i(t),e instanceof x)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new x(e.raw,t);if(e instanceof c)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);if(1<this.set.length)if(t=this.set[0],this.set=this.set.filter(e=>!g(e[0])),0===this.set.length)this.set=[t];else if(1<this.set.length)for(const r of this.set)if(1===r.length&&s(r[0])){this.set=[r];break}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();var t=`parseRange:${Object.keys(this.options).join(",")}:`+e,r=a.get(t);if(r)return r;var n=(r=this.options.loose)?f[d.HYPHENRANGELOOSE]:f[d.HYPHENRANGE];e=e.replace(n,C(this.options.includePrerelease)),l("hyphen replace",e),e=e.replace(f[d.COMPARATORTRIM],u),l("comparator trim",e);let i=(e=(e=(e=e.replace(f[d.TILDETRIM],h)).replace(f[d.CARETTRIM],p)).split(/\s+/).join(" ")).split(" ").map(e=>b(e,this.options)).join(" ").split(/\s+/).map(e=>I(e,this.options));r&&(i=i.filter(e=>(l("loose invalid filter",e,this.options),!!e.match(f[d.COMPARATORLOOSE])))),l("range list",i);const o=new Map;for(const s of i.map(e=>new c(e,this.options))){if(g(s))return[s];o.set(s.value,s)}return 1<o.size&&o.has("")&&o.delete(""),n=[...o.values()],a.set(t,n),n}intersects(e,r){if(e instanceof x)return this.set.some(t=>y(t,r)&&e.set.some(e=>y(e,r)&&t.every(t=>e.every(e=>t.intersects(e,r)))));throw new TypeError("a Range is required")}test(t){if(t){if("string"==typeof t)try{t=new o(t,this.options)}catch(e){return!1}for(let e=0;e<this.set.length;e++)if(B(this.set[e],t,this.options))return!0}return!1}};const n=e("lru-cache"),a=new n({max:1e3}),i=e("../internal/parse-options"),c=e("./comparator"),l=e("../internal/debug"),o=e("./semver"),{re:f,t:d,comparatorTrimReplace:u,tildeTrimReplace:h,caretTrimReplace:p}=e("../internal/re"),g=e=>"<0.0.0-0"===e.value,s=e=>""===e.value,y=(e,t)=>{let r=!0;const n=e.slice();let i=n.pop();for(;r&&n.length;)r=n.every(e=>i.intersects(e,t)),i=n.pop();return r},b=(e,t)=>(l("comp",e,t),e=_(e,t),l("caret",e),e=v(e,t),l("tildes",e),e=E(e,t),l("xrange",e),e=k(e,t),l("stars",e),e),m=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map(e=>A(e,t)).join(" "),A=(s,e)=>{e=e.loose?f[d.TILDELOOSE]:f[d.TILDE];return s.replace(e,(e,t,r,n,i)=>{l("tilde",s,e,t,r,n,i);let o;return o=m(t)?"":m(r)?`>=${t}.0.0 <${+t+1}.0.0-0`:m(n)?`>=${t}.${r}.0 <${t}.${+r+1}.0-0`:i?(l("replaceTilde pr",i),`>=${t}.${r}.${n}-${i} <${t}.${+r+1}.0-0`):`>=${t}.${r}.${n} <${t}.${+r+1}.0-0`,l("tilde return",o),o})},_=(e,t)=>e.trim().split(/\s+/).map(e=>w(e,t)).join(" "),w=(s,e)=>{l("caret",s,e);var t=e.loose?f[d.CARETLOOSE]:f[d.CARET];const a=e.includePrerelease?"-0":"";return s.replace(t,(e,t,r,n,i)=>{l("caret",s,e,t,r,n,i);let o;return o=m(t)?"":m(r)?`>=${t}.0.0${a} <${+t+1}.0.0-0`:m(n)?"0"===t?`>=${t}.${r}.0${a} <${t}.${+r+1}.0-0`:`>=${t}.${r}.0${a} <${+t+1}.0.0-0`:i?(l("replaceCaret pr",i),"0"===t?"0"===r?`>=${t}.${r}.${n}-${i} <${t}.${r}.${+n+1}-0`:`>=${t}.${r}.${n}-${i} <${t}.${+r+1}.0-0`:`>=${t}.${r}.${n}-${i} <${+t+1}.0.0-0`):(l("no pr"),"0"===t?"0"===r?`>=${t}.${r}.${n}${a} <${t}.${r}.${+n+1}-0`:`>=${t}.${r}.${n}${a} <${t}.${+r+1}.0-0`:`>=${t}.${r}.${n} <${+t+1}.0.0-0`),l("caret return",o),o})},E=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map(e=>S(e,t)).join(" ")),S=(u,h)=>{u=u.trim();var e=h.loose?f[d.XRANGELOOSE]:f[d.XRANGE];return u.replace(e,(e,t,r,n,i,o)=>{l("xRange",u,e,t,r,n,i,o);var s=m(r),a=s||m(n),c=a||m(i);return"="===t&&c&&(t=""),o=h.includePrerelease?"-0":"",s?e=">"===t||"<"===t?"<0.0.0-0":"*":t&&c?(a&&(n=0),i=0,">"===t?(t=">=",i=a?(r=+r+1,n=0):(n=+n+1,0)):"<="===t&&(t="<",a?r=+r+1:n=+n+1),e=t+r+`.${n}.`+i+(o="<"===t?"-0":o)):a?e=`>=${r}.0.0${o} <${+r+1}.0.0-0`:c&&(e=`>=${r}.${n}.0${o} <${r}.${+n+1}.0-0`),l("xRange return",e),e})},k=(e,t)=>(l("replaceStars",e,t),e.trim().replace(f[d.STAR],"")),I=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(f[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),C=d=>(e,t,r,n,i,o,s,a,c,u,h,l,f)=>((t=m(r)?"":m(n)?`>=${r}.0.0`+(d?"-0":""):m(i)?`>=${r}.${n}.0`+(d?"-0":""):o?">="+t:">="+t+(d?"-0":""))+" "+(a=m(c)?"":m(u)?`<${+c+1}.0.0-0`:m(h)?`<${c}.${+u+1}.0-0`:l?`<=${c}.${u}.${h}-`+l:d?`<${c}.${u}.${+h+1}-0`:"<="+a)).trim(),B=(t,r,e)=>{for(let e=0;e<t.length;e++)if(!t[e].test(r))return!1;if(!r.prerelease.length||e.includePrerelease)return!0;for(let e=0;e<t.length;e++)if(l(t[e].semver),t[e].semver!==c.ANY&&0<t[e].semver.prerelease.length){var n=t[e].semver;if(n.major===r.major&&n.minor===r.minor&&n.patch===r.patch)return!0}return!1}},{"../internal/debug":506,"../internal/parse-options":508,"../internal/re":509,"./comparator":491,"./semver":493,"lru-cache":375}],493:[function(e,t,r){const i=e("../internal/debug"),{MAX_LENGTH:n,MAX_SAFE_INTEGER:o}=e("../internal/constants"),{re:s,t:a}=e("../internal/re"),c=e("../internal/parse-options"),u=e("../internal/identifiers")["compareIdentifiers"];t.exports=class h{constructor(e,t){if(t=c(t),e instanceof h){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>n)throw new TypeError(`version is longer than ${n} characters`);i("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){var t=+e;if(0<=t&&t<o)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.`+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(i("SemVer.compare",this.version,this.options,e),!(e instanceof h)){if("string"==typeof e&&e===this.version)return 0;e=new h(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof h||(e=new h(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof h||(e=new h(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(i("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return u(r,n)}while(++t)}compareBuild(e){e instanceof h||(e=new h(e,this.options));let t=0;do{var r=this.build[t],n=e.build[t];if(i("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return u(r,n)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;0<=--e;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0!==u(this.prerelease[0],t)||isNaN(this.prerelease[1]))&&(this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this}}},{"../internal/constants":505,"../internal/debug":506,"../internal/identifiers":507,"../internal/parse-options":508,"../internal/re":509}],494:[function(e,t,r){const i=e("./eq"),o=e("./neq"),s=e("./gt"),a=e("./gte"),c=e("./lt"),u=e("./lte");t.exports=(e,t,r,n)=>{switch(t){case"===":return(e="object"==typeof e?e.version:e)===(r="object"==typeof r?r.version:r);case"!==":return(e="object"==typeof e?e.version:e)!==(r="object"==typeof r?r.version:r);case"":case"=":case"==":return i(e,r,n);case"!=":return o(e,r,n);case">":return s(e,r,n);case">=":return a(e,r,n);case"<":return c(e,r,n);case"<=":return u(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}},{"./eq":497,"./gt":498,"./gte":499,"./lt":500,"./lte":501,"./neq":502}],495:[function(e,t,r){const i=e("../classes/semver");t.exports=(e,t,r)=>{const n=new i(e,r);e=new i(t,r);return n.compare(e)||n.compareBuild(e)}},{"../classes/semver":493}],496:[function(e,t,r){const n=e("../classes/semver");t.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},{"../classes/semver":493}],497:[function(e,t,r){const n=e("./compare");t.exports=(e,t,r)=>0===n(e,t,r)},{"./compare":496}],498:[function(e,t,r){const n=e("./compare");t.exports=(e,t,r)=>0<n(e,t,r)},{"./compare":496}],499:[function(e,t,r){const n=e("./compare");t.exports=(e,t,r)=>0<=n(e,t,r)},{"./compare":496}],500:[function(e,t,r){const n=e("./compare");t.exports=(e,t,r)=>n(e,t,r)<0},{"./compare":496}],501:[function(e,t,r){const n=e("./compare");t.exports=(e,t,r)=>n(e,t,r)<=0},{"./compare":496}],502:[function(e,t,r){const n=e("./compare");t.exports=(e,t,r)=>0!==n(e,t,r)},{"./compare":496}],503:[function(e,t,r){const n=e("../classes/range");t.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},{"../classes/range":492}],504:[function(e,t,r){const n=e("./compare-build");t.exports=(e,r)=>e.sort((e,t)=>n(e,t,r))},{"./compare-build":495}],505:[function(e,t,r){var n=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:n,MAX_SAFE_COMPONENT_LENGTH:16}},{}],506:[function(e,r,t){!function(t){!function(){var e="object"==typeof t&&t.env&&t.env.NODE_DEBUG&&/\bsemver\b/i.test(t.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};r.exports=e}.call(this)}.call(this,e("_process"))},{_process:437}],507:[function(e,t,r){const i=/^[0-9]+$/,n=(e,t)=>{var r=i.test(e),n=i.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n||(!n||r)&&e<t?-1:1};t.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},{}],508:[function(e,t,r){const n=["includePrerelease","loose","rtl"];t.exports=t=>t?"object"!=typeof t?{loose:!0}:n.filter(e=>t[e]).reduce((e,t)=>(e[t]=!0,e),{}):{}},{}],509:[function(e,t,r){var n=e("./constants")["MAX_SAFE_COMPONENT_LENGTH"];const i=e("./debug"),o=(r=t.exports={}).re=[],s=r.src=[],a=r.t={};let c=0;e=(e,t,r)=>{var n=c++;i(e,n,t),a[e]=n,s[n]=t,o[n]=new RegExp(t,r?"g":void 0)};e("NUMERICIDENTIFIER","0|[1-9]\\d*"),e("NUMERICIDENTIFIERLOOSE","[0-9]+"),e("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),e("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.`+`(${s[a.NUMERICIDENTIFIER]})\\.`+`(${s[a.NUMERICIDENTIFIER]})`),e("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.`+`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.`+`(${s[a.NUMERICIDENTIFIERLOOSE]})`),e("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),e("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),e("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),e("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),e("BUILDIDENTIFIER","[0-9A-Za-z-]+"),e("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),e("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),e("FULL",`^${s[a.FULLPLAIN]}$`),e("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),e("LOOSE",`^${s[a.LOOSEPLAIN]}$`),e("GTLT","((?:<|>)?=?)"),e("XRANGEIDENTIFIERLOOSE",s[a.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),e("XRANGEIDENTIFIER",s[a.NUMERICIDENTIFIER]+"|x|X|\\*"),e("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})`+`(?:\\.(${s[a.XRANGEIDENTIFIER]})`+`(?:\\.(${s[a.XRANGEIDENTIFIER]})`+`(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?`+")?)?"),e("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})`+`(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?`+")?)?"),e("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),e("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),e("COERCE",`(^|[^\\d])(\\d{1,${n}})`+`(?:\\.(\\d{1,${n}}))?`+`(?:\\.(\\d{1,${n}}))?`+"(?:$|[^\\d])"),e("COERCERTL",s[a.COERCE],!0),e("LONETILDE","(?:~>?)"),e("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),r.tildeTrimReplace="$1~",e("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),e("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),e("LONECARET","(?:\\^)"),e("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),r.caretTrimReplace="$1^",e("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),e("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),e("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),e("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),e("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace="$1$2$3",e("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})`+"\\s+-\\s+"+`(${s[a.XRANGEPLAIN]})`+"\\s*$"),e("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${s[a.XRANGEPLAINLOOSE]})`+"\\s*$"),e("STAR","(<|>)?=?\\s*\\*"),e("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),e("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},{"./constants":505,"./debug":506}],510:[function(e,t,r){const n=e("./outside");t.exports=(e,t,r)=>n(e,t,">",r)},{"./outside":511}],511:[function(e,t,r){const f=e("../classes/semver"),d=e("../classes/comparator"),p=d["ANY"],g=e("../classes/range"),y=e("../functions/satisfies"),b=e("../functions/gt"),m=e("../functions/lt"),v=e("../functions/lte"),A=e("../functions/gte");t.exports=(n,i,e,o)=>{n=new f(n,o),i=new g(i,o);let s,a,c,u,h;switch(e){case">":s=b,a=v,c=m,u=">",h=">=";break;case"<":s=m,a=A,c=b,u="<",h="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(y(n,i,o))return!1;for(let e=0;e<i.set.length;++e){const l=i.set[e];let t=null,r=null;if(l.forEach(e=>{e.semver===p&&(e=new d(">=0.0.0")),t=t||e,r=r||e,s(e.semver,t.semver,o)?t=e:c(e.semver,r.semver,o)&&(r=e)}),t.operator===u||t.operator===h)return!1;if((!r.operator||r.operator===u)&&a(n,r.semver))return!1;if(r.operator===h&&c(n,r.semver))return!1}return!0}},{"../classes/comparator":491,"../classes/range":492,"../classes/semver":493,"../functions/gt":498,"../functions/gte":499,"../functions/lt":500,"../functions/lte":501,"../functions/satisfies":503}],512:[function(e,t,r){var h=e("safe-buffer").Buffer;function n(e,t){this._block=h.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}n.prototype.update=function(e,t){"string"==typeof e&&(e=h.from(e,t=t||"utf8"));for(var r=this._block,n=this._blockSize,i=e.length,o=this._len,s=0;s<i;){for(var a=o%n,c=Math.min(i-s,n-a),u=0;u<c;u++)r[a+u]=e[s+u];s+=c,(o+=c)%n==0&&this._update(r)}return this._len+=i,this},n.prototype.digest=function(e){var t=this._len%this._blockSize,t=(this._block[t]=128,this._block.fill(0,1+t),t>=this._finalSize&&(this._update(this._block),this._block.fill(0)),8*this._len),t=(t<=4294967295?this._block.writeUInt32BE(t,this._blockSize-4):(this._block.writeUInt32BE((t-(t=(4294967295&t)>>>0))/4294967296,this._blockSize-8),this._block.writeUInt32BE(t,this._blockSize-4)),this._update(this._block),this._hash());return e?t.toString(e):t},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=n},{"safe-buffer":487}],513:[function(e,t,r){(r=t.exports=function(e){e=e.toLowerCase();var t=r[e];if(t)return new t;throw new Error(e+" is not supported (we accept pull requests)")}).sha=e("./sha"),r.sha1=e("./sha1"),r.sha224=e("./sha224"),r.sha256=e("./sha256"),r.sha384=e("./sha384"),r.sha512=e("./sha512")},{"./sha":514,"./sha1":515,"./sha224":516,"./sha256":517,"./sha384":518,"./sha512":519}],514:[function(e,t,r){var n=e("inherits"),i=e("./hash"),o=e("safe-buffer").Buffer,p=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function a(){this.init(),this._w=s,i.call(this,64,56)}n(a,i),a.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},a.prototype._update=function(e){for(var t=this._w,r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,a=0;a<16;++a)t[a]=e.readInt32BE(4*a);for(;a<80;++a)t[a]=t[a-3]^t[a-8]^t[a-14]^t[a-16];for(var c,u,h,l=0;l<80;++l)var f=~~(l/20),d=0|(r<<5|r>>>27)+(c=n,u=i,h=o,0===(d=f)?c&u|~c&h:2===d?c&u|c&h|u&h:c^u^h)+s+t[l]+p[f],s=o,o=i,i=n<<30|n>>>2,n=r,r=d;this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},a.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=a},{"./hash":512,inherits:362,"safe-buffer":487}],515:[function(e,t,r){var n=e("inherits"),i=e("./hash"),o=e("safe-buffer").Buffer,g=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function a(){this.init(),this._w=s,i.call(this,64,56)}n(a,i),a.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},a.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,a=0|this._e,c=0;c<16;++c)r[c]=e.readInt32BE(4*c);for(;c<80;++c)r[c]=(t=r[c-3]^r[c-8]^r[c-14]^r[c-16])<<1|t>>>31;for(var u,h,l,f=0;f<80;++f)var d=~~(f/20),p=0|(n<<5|n>>>27)+(u=i,h=o,l=s,0===(p=d)?u&h|~u&l:2===p?u&h|u&l|h&l:u^h^l)+a+r[f]+g[d],a=s,s=o,o=i<<30|i>>>2,i=n,n=p;this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0},a.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=a},{"./hash":512,inherits:362,"safe-buffer":487}],516:[function(e,t,r){var n=e("inherits"),i=e("./sha256"),o=e("./hash"),s=e("safe-buffer").Buffer,a=new Array(64);function c(){this.init(),this._w=a,o.call(this,64,56)}n(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},t.exports=c},{"./hash":512,"./sha256":517,inherits:362,"safe-buffer":487}],517:[function(e,t,r){var n=e("inherits"),i=e("./hash"),o=e("safe-buffer").Buffer,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function a(){this.init(),this._w=s,i.call(this,64,56)}n(a,i),a.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},a.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,a=0|this._e,c=0|this._f,u=0|this._g,h=0|this._h,l=0;l<16;++l)r[l]=e.readInt32BE(4*l);for(;l<64;++l)r[l]=0|(((t=r[l-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[l-7]+(((t=r[l-15])>>>7|t<<25)^(t>>>18|t<<14)^t>>>3)+r[l-16];for(var f=0;f<64;++f)var d=h+((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(u^a&(c^u))+g[f]+r[f]|0,p=0|((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i|o&(n|i)),h=u,u=c,c=a,a=s+d|0,s=o,o=i,i=n,n=d+p|0;this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0,this._f=c+this._f|0,this._g=u+this._g|0,this._h=h+this._h|0},a.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},t.exports=a},{"./hash":512,inherits:362,"safe-buffer":487}],518:[function(e,t,r){var n=e("inherits"),i=e("./sha512"),o=e("./hash"),s=e("safe-buffer").Buffer,a=new Array(160);function c(){this.init(),this._w=a,o.call(this,128,112)}n(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var n=s.allocUnsafe(48);function e(e,t,r){n.writeInt32BE(e,r),n.writeInt32BE(t,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),n},t.exports=c},{"./hash":512,"./sha512":519,inherits:362,"safe-buffer":487}],519:[function(e,t,r){var n=e("inherits"),i=e("./hash"),o=e("safe-buffer").Buffer,U=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function a(){this.init(),this._w=s,i.call(this,128,112)}function J(e,t,r){return r^e&(t^r)}function Q(e,t,r){return e&t|r&(e|t)}function H(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function K(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function G(e,t){return e>>>0<t>>>0?1:0}n(a,i),a.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},a.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,a=0|this._fh,c=0|this._gh,u=0|this._hh,h=0|this._al,l=0|this._bl,f=0|this._cl,d=0|this._dl,p=0|this._el,g=0|this._fl,y=0|this._gl,b=0|this._hl,m=0;m<32;m+=2)t[m]=e.readInt32BE(4*m),t[m+1]=e.readInt32BE(4*m+4);for(;m<160;m+=2){var v=t[m-30],A=t[m-30+1],_=(v>>>1|A<<31)^(v>>>8|A<<24)^v>>>7,w=(A>>>1|v<<31)^(A>>>8|v<<24)^(A>>>7|v<<25),v=t[m-4],E=((A=t[m-4+1])>>>19|v<<13)^(v>>>29|A<<3)^(A>>>6|v<<26),S=t[m-14],k=t[m-14+1],D=t[m-32],I=t[m-32+1],C=w+k|0,B=_+S+G(C,w)|0;B=(B=B+((v>>>19|A<<13)^(A>>>29|v<<3)^v>>>6)+G(C=C+E|0,E)|0)+D+G(C=C+I|0,I)|0,t[m]=B,t[m+1]=C}for(var x=0;x<160;x+=2){B=t[x],C=t[x+1];var N=Q(r,n,i),F=Q(h,l,f),j=H(r,h),T=H(h,r),M=K(s,p),P=K(p,s),O=U[x+1],L=J(s,a,c),R=J(p,g,y),P=b+P|0,L=(M=(((u+M+G(P,b)|0)+L+G(P=P+R|0,R)|0)+U[x]+G(P=P+O|0,O)|0)+B+G(P=P+C|0,C)|0,T+F|0),R=j+N+G(L,T)|0,u=c,b=y,c=a,y=g,a=s,g=p,s=o+M+G(p=d+P|0,d)|0,o=i,d=f,i=n,f=l,n=r,l=h,r=M+R+G(h=P+L|0,P)|0}this._al=this._al+h|0,this._bl=this._bl+l|0,this._cl=this._cl+f|0,this._dl=this._dl+d|0,this._el=this._el+p|0,this._fl=this._fl+g|0,this._gl=this._gl+y|0,this._hl=this._hl+b|0,this._ah=this._ah+r+G(this._al,h)|0,this._bh=this._bh+n+G(this._bl,l)|0,this._ch=this._ch+i+G(this._cl,f)|0,this._dh=this._dh+o+G(this._dl,d)|0,this._eh=this._eh+s+G(this._el,p)|0,this._fh=this._fh+a+G(this._fl,g)|0,this._gh=this._gh+c+G(this._gl,y)|0,this._hh=this._hh+u+G(this._hl,b)|0},a.prototype._hash=function(){var n=o.allocUnsafe(64);function e(e,t,r){n.writeInt32BE(e,r),n.writeInt32BE(t,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),n},t.exports=a},{"./hash":512,inherits:362,"safe-buffer":487}],520:[function(e,t,r){var n=e("./sha256.js");const i=e("sha256-wasm");var o=n;t.exports=function(){return new o},t.exports.ready=function(e){i.ready(function(){e()})},t.exports.WASM_SUPPORTED=i.WASM_SUPPORTED,t.exports.WASM_LOADED=!1,t.exports.SHA256_BYTES=32;i.ready(function(e){e||(t.exports.WASM_LOADED=!0,t.exports=o=i)})},{"./sha256.js":521,"sha256-wasm":522}],521:[function(e,t,r){const o=e("nanoassert"),s=e("b4a"),n=(t.exports=i,t.exports.SHA256_BYTES=32),v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function a(e,t){var r,n,i,o,s,a,c,u,[h,l,f,d,p,g,y,b]=e;const m=new Uint32Array(64);for(let e=0;e<16;e++)m[e]=A(t[e]);for(let e=16;e<64;e++)m[e]=(o=m[e-2],s=m[e-7],a=m[e-15],c=m[e-16],((o>>>17|o<<15)^(o>>>19|o<<13)^o>>>10)+s+(((a>>>7|a<<25)^(a>>>18|a<<14)^a>>>3)+c)<<0);for(let e=0;e<64;e+=4)u=e,r=h&l^h&f^l&f,n=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),i=b+(p&g^~p&y)+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+m[u]+v[u],b=d+i,r=(d=i+(n+r))&h^d&l^h&l,n=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),i=y+(b&p^~b&g)+((b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7))+m[u+1]+v[u+1],y=f+i,r=(f=i+(n+r))&d^f&h^d&h,n=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),i=g+(y&b^~y&p)+((y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+m[u+2]+v[u+2],g=l+i,r=(l=i+(n+r))&f^l&d^f&d,n=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),i=p+(g&y^~g&b)+((g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+m[u+3]+v[u+3],p=h+i,h=i+(n+r);e[0]=e[0]+h,e[1]=e[1]+l,e[2]=e[2]+f,e[3]=e[3]+d,e[4]=e[4]+p,e[5]=e[5]+g,e[6]=e[6]+y,e[7]=e[7]+b}function i(){return this instanceof i?(this.buffer=new ArrayBuffer(64),this.bytesRead=0,this.pos=0,this.digestLength=n,this.finalised=!1,this.load=new Uint8Array(this.buffer),this.words=new Uint32Array(this.buffer),this.state=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),this):new i}function c(t){if(!(this instanceof c))return new c(t);this.pad=s.alloc(64),this.inner=i(),this.outer=i();const e=s.alloc(32);64<t.byteLength&&(i().update(t).digest(e),t=e),this.pad.fill(54);for(let e=0;e<t.byteLength;e++)this.pad[e]^=t[e];this.inner.update(this.pad),this.pad.fill(92);for(let e=0;e<t.byteLength;e++)this.pad[e]^=t[e];this.outer.update(this.pad),this.pad.fill(0),e.fill(0)}function A(e){return(16711935&e)>>>8|(16711935&e)<<24|((4278255360&e)<<8|(4278255360&e)>>>24)}i.prototype.update=function(e,t){o(!1===this.finalised,"Hash instance finalised");var[r,n]=function(e,t){e=s.from(e,t);return[e,e.byteLength]}(e,t),i=0;for(this.bytesRead+=n;0<n&&(this.load.set(r.subarray(i,i+64-this.pos),this.pos),i+=64-this.pos,!((n-=64-this.pos)<0));)this.pos=0,a(this.state,this.words);return this.pos=63&this.bytesRead,this.load.fill(0,this.pos),this},i.prototype.digest=function(t,r=0){o(!1===this.finalised,"Hash instance finalised"),this.finalised=!0,this.load.fill(0,this.pos),this.load[this.pos]=128,55<this.pos&&(a(this.state,this.words),this.words.fill(0),this.pos=0);const e=new DataView(this.buffer);e.setUint32(56,this.bytesRead/2**29),e.setUint32(60,this.bytesRead<<3),a(this.state,this.words);var n=new Uint8Array(this.state.map(A).buffer);if(!t)return new Uint8Array(n);if("string"==typeof t)return s.toString(n,t);o(t instanceof Uint8Array,"input must be Uint8Array or Buffer"),o(t.byteLength>=this.digestLength+r,"input not large enough for digest");for(let e=0;e<this.digestLength;e++)t[e+r]=n[e];return t},c.prototype.update=function(e,t){return this.inner.update(e,t),this},c.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)},i.HMAC=c},{b4a:175,nanoassert:394}],522:[function(e,t,r){const i=e("nanoassert"),o=e("b4a"),s="undefined"!=typeof WebAssembly&&e("./sha256.js")({imports:{debug:{log(...e){console.log(...e.map(e=>(e>>>0).toString(16).padStart(8,"0")))},log_tee(e){return console.log((e>>>0).toString(16).padStart(8,"0")),e}}}});let a=0;const c=[],n=(t.exports=h,t.exports.SHA256_BYTES=32),u=108;function h(){if(!(this instanceof h))return new h;if(!s)throw new Error("WASM not loaded. Wait for Sha256.ready(cb)");c.length||(c.push(a),a+=u),this.finalized=!1,this.digestLength=n,this.pointer=c.pop(),this.pos=0,this._memory=new Uint8Array(s.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+u),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+u)}function l(t){if(!(this instanceof l))return new l(t);this.pad=o.alloc(64),this.inner=h(),this.outer=h();const e=o.alloc(32);64<t.byteLength&&(h().update(t).digest(e),t=e),this.pad.fill(54);for(let e=0;e<t.byteLength;e++)this.pad[e]^=t[e];this.inner.update(this.pad),this.pad.fill(92);for(let e=0;e<t.byteLength;e++)this.pad[e]^=t[e];this.outer.update(this.pad),this.pad.fill(0),e.fill(0)}function f(){}h.prototype._realloc=function(e){s.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(s.memory.buffer)},h.prototype.update=function(e,t){i(!1===this.finalized,"Hash instance finalized"),a%4!=0&&(a+=4-a%4),i(a%4==0,"input shoud be aligned for int32");const[r,n]=function(e,t){e=o.from(e,t);return[e,e.byteLength]}(e,t);return i(r instanceof Uint8Array,"input must be Uint8Array or Buffer"),a+n>this._memory.length&&this._realloc(a+e.length),this._memory.fill(0,a,a+(n+(t=64)-1&-t)-64),this._memory.set(r.subarray(0,64-this.pos),this.pointer+40+this.pos),this._memory.set(r.subarray(64-this.pos),a),this.pos=this.pos+n&63,s.sha256(this.pointer,a,n,0),this},h.prototype.digest=function(t,r=0){i(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,c.push(this.pointer);var e=this.pointer+40+this.pos,n=(this._memory.fill(0,e,this.pointer+40+64),s.sha256(this.pointer,a,0,1),this._memory.subarray(this.pointer,this.pointer+this.digestLength));if(!t)return n;if("string"==typeof t)return o.toString(n,t);i(t instanceof Uint8Array,"output must be Uint8Array or Buffer"),i(t.byteLength>=this.digestLength+r,"output must have at least 'SHA256_BYTES' bytes remaining");for(let e=0;e<this.digestLength;e++)t[e+r]=n[e];return t},h.WASM=s,h.WASM_SUPPORTED="undefined"!=typeof WebAssembly,h.prototype.ready=h.ready=function(e){return e=e||f,s?(e(),Promise.resolve()):e(new Error("WebAssembly not supported"))},l.prototype.update=function(e,t){return this.inner.update(e,t),this},l.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)},h.HMAC=l},{"./sha256.js":523,b4a:175,nanoassert:394}],523:[function(e,t,r){var n=(()=>{for(var u=new Uint8Array(128),e=0;e<64;e++)u[e<26?e+65:e<52?e+71:e<62?e-4:4*e-205]=e;return e=>{for(var t=e.length,r=new Uint8Array(3*(t-("="==e[t-1])-("="==e[t-2]))/4|0),n=0,i=0;n<t;){var o=u[e.charCodeAt(n++)],s=u[e.charCodeAt(n++)],a=u[e.charCodeAt(n++)],c=u[e.charCodeAt(n++)];r[i++]=o<<2|s>>4,r[i++]=s<<4|a>>2,r[i++]=a<<6|c}return r}})();i={"wasm-binary:./sha256.wat"(e,t){t.exports=n("AGFzbQEAAAABNAVgAX8Bf2AIf39/f39/f38AYAR/f39/AX9gEX9/f39/f39/f39/f39/f39/AGAEf39/fwADBgUAAQIDBAUDAQABBikIfwFBAAt/AUEAC38BQQALfwFBAAt/AUEAC38BQQALfwFBAAt/AUEACwcTAgZtZW1vcnkCAAZzaGEyNTYABAreFwUZACAAQf+B/AdxQQh4IABBgP6DeHFBCHdyC7wDAQZ/IwQjBXEjBEF/cyMGcXMhCiMAIwFxIwAjAnFzIwEjAnFzIQsjAEECeCMAQQ14cyMAQRZ4cyEMIwRBBngjBEELeHMjBEEZeHMhDSMHIApqIA1qIABqIARqIQggDCALaiEJIwMgCGokByAIIAlqJAMjByMEcSMHQX9zIwVxcyEKIwMjAHEjAyMBcXMjACMBcXMhCyMDQQJ4IwNBDXhzIwNBFnhzIQwjB0EGeCMHQQt4cyMHQRl4cyENIwYgCmogDWogAWogBWohCCAMIAtqIQkjAiAIaiQGIAggCWokAiMGIwdxIwZBf3MjBHFzIQojAiMDcSMCIwBxcyMDIwBxcyELIwJBAngjAkENeHMjAkEWeHMhDCMGQQZ4IwZBC3hzIwZBGXhzIQ0jBSAKaiANaiACaiAGaiEIIAwgC2ohCSMBIAhqJAUgCCAJaiQBIwUjBnEjBUF/cyMHcXMhCiMBIwJxIwEjA3FzIwIjA3FzIQsjAUECeCMBQQ14cyMBQRZ4cyEMIwVBBngjBUELeHMjBUEZeHMhDSMEIApqIA1qIANqIAdqIQggDCALaiEJIwAgCGokBCAIIAlqJAALKwAgAEEReCAAQRN4cyAAQQp2cyABaiACQQd4IAJBEnhzIAJBA3ZzIANqagvLCwEwfyAAKAJoRQRAIABB58yn0AY2AgAgAEGF3Z7bezYCBCAAQfLmu+MDNgIIIABBuuq/qno2AgwgAEH/pLmIBTYCECAAQYzRldh5NgIUIABBq7OP/AE2AhggAEGZmoPfBTYCHCAAQQE2AmgLIAAoAgAkACAAKAIEJAEgACgCCCQCIAAoAgwkAyAAKAIQJAQgACgCFCQFIAAoAhgkBiAAKAIcJAcgARAAIQEgAhAAIQIgAxAAIQMgBBAAIQQgBRAAIQUgBhAAIQYgBxAAIQcgCBAAIQggCRAAIQkgChAAIQogCxAAIQsgDBAAIQwgDRAAIQ0gDhAAIQ4gDxAAIQ8gEBAAIRAgASACIAMgBEGY36iUBEGRid2JB0HP94Oue0Glt9fNfhABIAUgBiAHIAhB24TbygNB8aPEzwVBpIX+kXlB1b3x2HoQASAJIAogCyAMQZjVnsB9QYG2jZQBQb6LxqECQcP7sagFEAEgDSAOIA8gEEH0uvmVB0H+4/qGeEGnjfDeeUH04u+MfBABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARBwdPtpH5Bho/5/X5BxruG/gBBzMOyoAIQASAFIAYgByAIQe/YpO8CQaqJ0tMEQdzTwuUFQdqR5rcHEAEgCSAKIAsgDEHSovnBeUHtjMfBekHIz4yAe0HH/+X6exABIA0gDiAPIBBB85eAt3xBx6KerX1B0capNkHn0qShARABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARBhZXcvQJBuMLs8AJB/Nux6QRBk5rgmQUQASAFIAYgByAIQdTmqagGQbuVqLMHQa6Si454QYXZyJN5EAEgCSAKIAsgDEGh0f+VekHLzOnAekHwlq6SfEGjo7G7fBABIA0gDiAPIBBBmdDLjH1BpIzktH1Bheu4oH9B8MCqgwEQASAPIAogAiABEAIhASAQIAsgAyACEAIhAiABIAwgBCADEAIhAyACIA0gBSAEEAIhBCADIA4gBiAFEAIhBSAEIA8gByAGEAIhBiAFIBAgCCAHEAIhByAGIAEgCSAIEAIhCCAHIAIgCiAJEAIhCSAIIAMgCyAKEAIhCiAJIAQgDCALEAIhCyAKIAUgDSAMEAIhDCALIAYgDiANEAIhDSAMIAcgDyAOEAIhDiANIAggECAPEAIhDyAOIAkgASAQEAIhECABIAIgAyAEQZaCk80BQYjY3fEBQczuoboCQbX5wqUDEAEgBSAGIAcgCEGzmfDIA0HK1OL2BEHPlPPcBUHz37nBBhABIAkgCiALIAxB7oW+pAdB78aVxQdBlPChpnhBiISc5ngQASANIA4gDyAQQfr/+4V5QevZwaJ6QffH5vd7QfLxxbN8EAEgACAAKAIAIwBqNgIAIAAgACgCBCMBajYCBCAAIAAoAggjAmo2AgggACAAKAIMIwNqNgIMIAAgACgCECMEajYCECAAIAAoAhQjBWo2AhQgACAAKAIYIwZqNgIYIAAgACgCHCMHajYCHAuKCAIBfhJ/IAApAyAhBCAEp0E/cSACaiEGIAQgAq18IQQgACAENwMgAkAgACgCKCEHIAAoAiwhCCAAKAIwIQkgACgCNCEKIAAoAjghCyAAKAI8IQwgACgCQCENIAAoAkQhDiAAKAJIIQ8gACgCTCEQIAAoAlAhESAAKAJUIRIgACgCWCETIAAoAlwhFCAAKAJgIRUgACgCZCEWIAZBwABrIgZBAEgNACAAIAcgCCAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYQAwNAIAEoAgAhByABKAIEIQggASgCCCEJIAEoAgwhCiABKAIQIQsgASgCFCEMIAEoAhghDSABKAIcIQ4gASgCICEPIAEoAiQhECABKAIoIREgASgCLCESIAEoAjAhEyABKAI0IRQgASgCOCEVIAEoAjwhFiABQcAAaiEBIAZBwABrIgZBAEgEQCAAIAc2AiggACAINgIsIAAgCTYCMCAAIAo2AjQgACALNgI4IAAgDDYCPCAAIA02AkAgACAONgJEIAAgDzYCSCAAIBA2AkwgACARNgJQIAAgEjYCVCAAIBM2AlggACAUNgJcIAAgFTYCYCAAIBY2AmQMAgsgACAHIAggCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWEAMMAAsLIANBAUYEQCAEp0E/cSEGQYABIAZBA3FBA3R0IQUCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgBkECdg4PAwQFBgcICQoLDA0ODxABAgsLIAUgFXIhFUEAIQULIAUgFnIhFkEAIQUgACAHIAggCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWEAMgACAENwMgQQAhB0EAIQhBACEJQQAhCkEAIQtBACEMQQAhDUEAIQ5BACEPQQAhEEEAIRFBACESQQAhE0EAIRRBACEVQQAhFgsgBSAHciEHQQAhBQsgBSAIciEIQQAhBQsgBSAJciEJQQAhBQsgBSAKciEKQQAhBQsgBSALciELQQAhBQsgBSAMciEMQQAhBQsgBSANciENQQAhBQsgBSAOciEOQQAhBQsgBSAPciEPQQAhBQsgBSAQciEQQQAhBQsgBSARciERQQAhBQsgBSASciESQQAhBQsgBSATciETQQAhBQsgBSAUciEUQQAhBQsgBEIdiKcQACEVIARCA4anEAAhFiAAIAcgCCAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYQAyAAIAAoAgAQADYCACAAIAAoAgQQADYCBCAAIAAoAggQADYCCCAAIAAoAgwQADYCDCAAIAAoAhAQADYCECAAIAAoAhQQADYCFCAAIAAoAhgQADYCGCAAIAAoAhwQADYCHAsL")}};var i,o,s=function(){return o||(0,i[Object.keys(i)[0]])((o={exports:{}}).exports,o),o.exports}(),a=new WebAssembly.Module(s);t.exports=e=>{return new WebAssembly.Instance(a,e).exports}},{}],524:[function(e,t,r){var n=e("./sha512.js");const i=e("sha512-wasm");var o=n;t.exports=function(){return new o},t.exports.ready=function(e){i.ready(function(){e()})},t.exports.WASM_SUPPORTED=i.SUPPORTED,t.exports.WASM_LOADED=!1,t.exports.SHA512_BYTES=64;i.ready(function(e){e||(t.exports.WASM_LOADED=!0,t.exports=o=i)})},{"./sha512.js":525,"sha512-wasm":526}],525:[function(e,t,r){const i=e("nanoassert"),o=e("b4a");t.exports=n;var V=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function n(){return this instanceof n?(this.hh=new Int32Array(8),this.hl=new Int32Array(8),this.buffer=new Uint8Array(128),this.finalised=!1,this.bytesRead=0,this.pos=0,this.hh[0]=1779033703,this.hh[1]=3144134277,this.hh[2]=1013904242,this.hh[3]=2773480762,this.hh[4]=1359893119,this.hh[5]=2600822924,this.hh[6]=528734635,this.hh[7]=1541459225,this.hl[0]=4089235720,this.hl[1]=2227873595,this.hl[2]=4271175723,this.hl[3]=1595750129,this.hl[4]=2917565137,this.hl[5]=725511199,this.hl[6]=4215389547,this.hl[7]=327033209,this):new n}function s(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function a(e,t,r,n){for(var i,o,s,a,D,N,F,j,U,J,Q,H,K,G,z,X,c,u,h,l,f,d,p,g,y,b,m=new Int32Array(16),v=new Int32Array(16),A=e[0],_=e[1],w=e[2],E=e[3],S=e[4],k=e[5],I=e[6],C=e[7],B=t[0],x=t[1],T=t[2],M=t[3],P=t[4],O=t[5],L=t[6],R=t[7],q=0;128<=n;){for(h=0;h<16;h++)m[h]=r[(l=8*h+q)+0]<<24|r[l+1]<<16|r[l+2]<<8|r[l+3],v[h]=r[l+4]<<24|r[l+5]<<16|r[l+6]<<8|r[l+7];for(h=0;h<80;h++)if(i=A,o=_,s=w,a=E,U=B,J=x,Q=T,H=M,p=65535&(d=R),g=d>>>16,y=65535&(f=C),b=f>>>16,p+=65535&(d=((K=P)>>>14|(D=S)<<18)^(P>>>18|S<<14)^(S>>>9|P<<23)),b+=(f=(S>>>14|P<<18)^(S>>>18|P<<14)^(P>>>9|S<<23))>>>16,g=g+(d>>>16)+((d=P&(G=O)^~P&(z=L))>>>16),y=y+(65535&f)+(65535&(f=S&(N=k)^~S&(F=I))),p=p+(65535&d)+(65535&(d=V[2*h+1])),g+=d>>>16,b=b+(f>>>16)+((f=V[2*h])>>>16),y=(y+=65535&f)+(65535&(f=m[h%16]))+((g=g+((d=v[h%16])>>>16)+((p+=65535&d)>>>16))>>>16),p=65535&(d=u=65535&p|g<<16),g=d>>>16,y=65535&(f=c=65535&y|(b=b+(f>>>16)+(y>>>16))<<16),b=f>>>16,p+=65535&(d=(B>>>28|A<<4)^(A>>>2|B<<30)^(A>>>7|B<<25)),b+=(f=(A>>>28|B<<4)^(B>>>2|A<<30)^(B>>>7|A<<25))>>>16,j=65535&(y=(y+=65535&f)+(65535&(f=A&_^A&w^_&w))+((g=(g+=d>>>16)+((d=B&x^B&T^x&T)>>>16)+((p+=65535&d)>>>16))>>>16))|(b=b+(f>>>16)+(y>>>16))<<16,X=65535&p|g<<16,p=65535&(d=H),b=(f=a)>>>16,_=i,w=o,E=s,S=65535&(y=(y=65535&f)+(65535&(f=c))+((g=(g=d>>>16)+((d=u)>>>16)+((p+=65535&d)>>>16))>>>16))|(b=b+(f>>>16)+(y>>>16))<<16,k=D,I=N,C=F,A=j,x=U,T=J,M=Q,P=65535&p|g<<16,O=K,L=G,R=z,B=X,h%16==15)for(l=0;l<16;l++)f=m[l],p=65535&(d=v[l]),g=d>>>16,y=65535&f,b=f>>>16,f=m[(l+9)%16],p+=65535&(d=v[(l+9)%16]),g+=d>>>16,y+=65535&f,b+=f>>>16,c=m[(l+1)%16],p+=65535&(d=((u=v[(l+1)%16])>>>1|c<<31)^(u>>>8|c<<24)^(u>>>7|c<<25)),g+=d>>>16,y+=65535&(f=(c>>>1|u<<31)^(c>>>8|u<<24)^c>>>7),b=(b+=f>>>16)+((f=((c=m[(l+14)%16])>>>19|(u=v[(l+14)%16])<<13)^(u>>>29|c<<3)^c>>>6)>>>16)+((y=y+(65535&f)+((g=g+((d=(u>>>19|c<<13)^(c>>>29|u<<3)^(u>>>6|c<<26))>>>16)+((p+=65535&d)>>>16))>>>16))>>>16),m[l]=65535&y|b<<16,v[l]=65535&p|g<<16;p=65535&(d=B),y=65535&(f=A),b=(b=f>>>16)+((f=e[0])>>>16)+((y=y+(65535&f)+((g=(g=d>>>16)+((d=t[0])>>>16)+((p+=65535&d)>>>16))>>>16))>>>16),e[0]=A=65535&y|b<<16,t[0]=B=65535&p|g<<16,p=65535&(d=x),y=65535&(f=_),b=(b=f>>>16)+((f=e[1])>>>16)+((y=y+(65535&f)+((g=(g=d>>>16)+((d=t[1])>>>16)+((p+=65535&d)>>>16))>>>16))>>>16),e[1]=_=65535&y|b<<16,t[1]=x=65535&p|g<<16,p=65535&(d=T),y=65535&(f=w),b=(b=f>>>16)+((f=e[2])>>>16)+((y=y+(65535&f)+((g=(g=d>>>16)+((d=t[2])>>>16)+((p+=65535&d)>>>16))>>>16))>>>16),e[2]=w=65535&y|b<<16,t[2]=T=65535&p|g<<16,p=65535&(d=M),y=65535&(f=E),b=(b=f>>>16)+((f=e[3])>>>16)+((y=y+(65535&f)+((g=(g=d>>>16)+((d=t[3])>>>16)+((p+=65535&d)>>>16))>>>16))>>>16),e[3]=E=65535&y|b<<16,t[3]=M=65535&p|g<<16,p=65535&(d=P),y=65535&(f=S),b=(b=f>>>16)+((f=e[4])>>>16)+((y=y+(65535&f)+((g=(g=d>>>16)+((d=t[4])>>>16)+((p+=65535&d)>>>16))>>>16))>>>16),e[4]=S=65535&y|b<<16,t[4]=P=65535&p|g<<16,p=65535&(d=O),y=65535&(f=k),b=(b=f>>>16)+((f=e[5])>>>16)+((y=y+(65535&f)+((g=(g=d>>>16)+((d=t[5])>>>16)+((p+=65535&d)>>>16))>>>16))>>>16),e[5]=k=65535&y|b<<16,t[5]=O=65535&p|g<<16,p=65535&(d=L),y=65535&(f=I),b=(b=f>>>16)+((f=e[6])>>>16)+((y=y+(65535&f)+((g=(g=d>>>16)+((d=t[6])>>>16)+((p+=65535&d)>>>16))>>>16))>>>16),e[6]=I=65535&y|b<<16,t[6]=L=65535&p|g<<16,p=65535&(d=R),y=65535&(f=C),b=(b=f>>>16)+((f=e[7])>>>16)+((y=y+(65535&f)+((g=(g=d>>>16)+((d=t[7])>>>16)+((p+=65535&d)>>>16))>>>16))>>>16),e[7]=C=65535&y|b<<16,t[7]=R=65535&p|g<<16,q+=128,n-=128}}function c(t){if(!(this instanceof c))return new c(t);this.pad=o.alloc(128),this.inner=n(),this.outer=n();const e=o.alloc(64);128<t.byteLength&&(n().update(t).digest(e),t=e),this.pad.fill(54);for(let e=0;e<t.byteLength;e++)this.pad[e]^=t[e];this.inner.update(this.pad),this.pad.fill(92);for(let e=0;e<t.byteLength;e++)this.pad[e]^=t[e];this.outer.update(this.pad),this.pad.fill(0),e.fill(0)}n.prototype.update=function(e,t){i(!1===this.finalised,"Hash instance finalised");var[e,t]=function(e,t){e=o.from(e,t);return[e,e.byteLength]}(e,t),r=(this.bytesRead+=t,t+this.pos&-128),n=(this.buffer.set(e.subarray(0,128-this.pos),this.pos),this.pos);return 0<=(t-=128-this.pos)&&(a(this.hh,this.hl,this.buffer,128),this.pos=0),127<t&&(a(this.hh,this.hl,e.subarray(128-n,r-n),r-128),t%=128),this.buffer.set(e.subarray(e.byteLength-t)),this.pos=127&this.bytesRead,this.buffer.fill(0,this.pos),this},n.prototype.digest=function(t,r=0){if(i(!1===this.finalised,"Hash instance finalised"),this.finalised=!0,this.buffer.fill(0,this.pos),this.buffer[this.pos]=128,111<this.pos&&(a(this.hh,this.hl,this.buffer,128),this.buffer.fill(0),this.pos=0),s(this.buffer,120,this.bytesRead/536870912|0,this.bytesRead<<3),a(this.hh,this.hl,this.buffer,128),t instanceof Uint8Array&&63<t.byteLength){for(let e=0;e<8;e++)s(t,8*e+r,this.hh[e],this.hl[e]);return t}var n=new Uint8Array(64);for(let e=0;e<8;e++)s(n,8*e,this.hh[e],this.hl[e]);return"string"==typeof t?o.toString(n,t):n},c.prototype.update=function(e,t){return this.inner.update(e,t),this},c.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)},n.HMAC=c},{b4a:175,nanoassert:394}],526:[function(e,t,r){const i=e("nanoassert"),o=e("b4a"),s="undefined"!=typeof WebAssembly&&e("./sha512.js")({imports:{debug:{log(...e){console.log(...e.map(e=>(e>>>0).toString(16).padStart(8,"0")))},log_tee(e){return console.log((e>>>0).toString(16).padStart(8,"0")),e}}}});let a=0;const c=[],n=(t.exports=h,t.exports.SHA512_BYTES=64),u=216;function h(){if(!(this instanceof h))return new h;if(!s)throw new Error("WASM not loaded. Wait for Sha512.ready(cb)");c.length||(c.push(a),a+=u),this.finalized=!1,this.digestLength=n,this.pointer=c.pop(),this.pos=0,this.wasm=s,this._memory=new Uint8Array(s.memory.buffer),this._memory.fill(0,this.pointer,this.pointer+u),this.pointer+this.digestLength>this._memory.length&&this._realloc(this.pointer+u)}function l(t){if(!(this instanceof l))return new l(t);this.pad=o.alloc(128),this.inner=h(),this.outer=h();const e=o.alloc(64);128<t.byteLength&&(h().update(t).digest(e),t=e),this.pad.fill(54);for(let e=0;e<t.byteLength;e++)this.pad[e]^=t[e];this.inner.update(this.pad),this.pad.fill(92);for(let e=0;e<t.byteLength;e++)this.pad[e]^=t[e];this.outer.update(this.pad),this.pad.fill(0),e.fill(0)}function f(){}h.prototype._realloc=function(e){s.memory.grow(Math.max(0,Math.ceil(Math.abs(e-this._memory.length)/65536))),this._memory=new Uint8Array(s.memory.buffer)},h.prototype.update=function(e,t){i(!1===this.finalized,"Hash instance finalized"),a%8!=0&&(a+=8-a%8),i(a%8==0,"input should be aligned for int64");const[r,n]=function(e,t){e=o.from(e,t);return[e,e.byteLength]}(e,t);return i(r instanceof Uint8Array,"input must be Uint8Array or Buffer"),a+e.length>this._memory.length&&this._realloc(a+e.length),this._memory.fill(0,a,a+(n+(t=128)-1&-t)-128),this._memory.set(r.subarray(0,128-this.pos),this.pointer+80+this.pos),this._memory.set(r.subarray(128-this.pos),a),this.pos=this.pos+n&127,s.sha512(this.pointer,a,n,0),this},h.prototype.digest=function(t,r=0){i(!1===this.finalized,"Hash instance finalized"),this.finalized=!0,c.push(this.pointer);var e=this.pointer+80+this.pos,n=(this._memory.fill(0,e,this.pointer+80+128),s.sha512(this.pointer,a,0,1),this._memory.subarray(this.pointer,this.pointer+this.digestLength));if(!t)return n;if("string"==typeof t)return o.toString(n,t);i(t instanceof Uint8Array,"output must be Uint8Array or Buffer"),i(t.byteLength>=this.digestLength+r,"output must have at least 'SHA512_BYTES' bytes remaining");for(let e=0;e<this.digestLength;e++)t[e+r]=n[e];return t},h.WASM=s,h.WASM_SUPPORTED="undefined"!=typeof WebAssembly,h.prototype.ready=h.ready=function(e){return e=e||f,s?(e(),Promise.resolve()):e(new Error("WebAssembly not supported"))},l.prototype.update=function(e,t){return this.inner.update(e,t),this},l.prototype.digest=function(e,t=0){return this.outer.update(this.inner.digest()),this.outer.digest(e,t)},h.HMAC=l},{"./sha512.js":527,b4a:175,nanoassert:394}],527:[function(e,t,r){var n=(()=>{for(var u=new Uint8Array(128),e=0;e<64;e++)u[e<26?e+65:e<52?e+71:e<62?e-4:4*e-205]=e;return e=>{for(var t=e.length,r=new Uint8Array(3*(t-("="==e[t-1])-("="==e[t-2]))/4|0),n=0,i=0;n<t;){var o=u[e.charCodeAt(n++)],s=u[e.charCodeAt(n++)],a=u[e.charCodeAt(n++)],c=u[e.charCodeAt(n++)];r[i++]=o<<2|s>>4,r[i++]=s<<4|a>>2,r[i++]=a<<6|c}return r}})();i={"wasm-binary:./sha512.wat"(e,t){t.exports=n("AGFzbQEAAAABNAVgAX4BfmAIfn5+fn5+fn4AYAR+fn5+AX5gEX9+fn5+fn5+fn5+fn5+fn5+AGAEf39/fwADBgUAAQIDBAUDAQABBikIfgFCAAt+AUIAC34BQgALfgFCAAt+AUIAC34BQgALfgFCAAt+AUIACwcTAgZtZW1vcnkCAAZzaGE1MTIABAqZHgVCACAAQoCA/P+PgECDQhCJIABC//+DgPD/P4NCEIqEIQAgAEL/gfyH8J/A/wCDQgiJIABCgP6D+I/gv4B/g0IIioQLvAMBBn4jBCMFgyMEQn+FIwaDhSEKIwAjAYMjACMCg4UjASMCg4UhCyMAQhyKIwBCIoqFIwBCJ4qFIQwjBEIOiiMEQhKKhSMEQimKhSENIwcgCnwgDXwgAHwgBHwhCCAMIAt8IQkjAyAIfCQHIAggCXwkAyMHIwSDIwdCf4UjBYOFIQojAyMAgyMDIwGDhSMAIwGDhSELIwNCHIojA0IiioUjA0InioUhDCMHQg6KIwdCEoqFIwdCKYqFIQ0jBiAKfCANfCABfCAFfCEIIAwgC3whCSMCIAh8JAYgCCAJfCQCIwYjB4MjBkJ/hSMEg4UhCiMCIwODIwIjAIOFIwMjAIOFIQsjAkIciiMCQiKKhSMCQieKhSEMIwZCDoojBkISioUjBkIpioUhDSMFIAp8IA18IAJ8IAZ8IQggDCALfCEJIwEgCHwkBSAIIAl8JAEjBSMGgyMFQn+FIweDhSEKIwEjAoMjASMDg4UjAyMCg4UhCyMBQhyKIwFCIoqFIwFCJ4qFIQwjBUIOiiMFQhKKhSMFQimKhSENIwQgCnwgDXwgA3wgB3whCCAMIAt8IQkjACAIfCQEIAggCXwkAAsrACAAQhOKIABCPYqFIABCBoiFIAF8IAJCAYogAkIIioUgAkIHiIUgA3x8C6QRACAAKQPQAUIAUQRAIABCiJLznf/M+YTqADcDACAAQrvOqqbY0Ouzu383AwggAEKr8NP0r+68tzw3AxAgAELx7fT4paf9p6V/NwMYIABC0YWa7/rPlIfRADcDICAAQp/Y+dnCkdqCm383AyggAELr+obav7X2wR83AzAgAEL5wvibkaOz8NsANwM4IABCATcD0AELIAApAwAkACAAKQMIJAEgACkDECQCIAApAxgkAyAAKQMgJAQgACkDKCQFIAApAzAkBiAAKQM4JAcgARAAIQEgAhAAIQIgAxAAIQMgBBAAIQQgBRAAIQUgBhAAIQYgBxAAIQcgCBAAIQggCRAAIQkgChAAIQogCxAAIQsgDBAAIQwgDRAAIQ0gDhAAIQ4gDxAAIQ8gEBAAIRAgASACIAMgBEKi3KK5jfOLxcIAQs3LvZ+SktGb8QBCr/a04v75vuC1f0K8t6eM2PT22mkQASAFIAYgByAIQrjqopq/y7CrOUKZoJewm77E+NkAQpuf5fjK1OCfkn9CmIK2093al46rfxABIAkgCiALIAxCwoSMmIrT6oNYQr7fwauU4NbBEkKM5ZL35LfhmCRC4un+r724n4bVABABIA0gDiAPIBBC75Luk8+ul9/yAEKxrdrY47+s74B/QrWknK7y1IHum39ClM2k+8yu/M1BEAEgDyAKIAIgARACIQEgECALIAMgAhACIQIgASAMIAQgAxACIQMgAiANIAUgBBACIQQgAyAOIAYgBRACIQUgBCAPIAcgBhACIQYgBSAQIAggBxACIQcgBiABIAkgCBACIQggByACIAogCRACIQkgCCADIAsgChACIQogCSAEIAwgCxACIQsgCiAFIA0gDBACIQwgCyAGIA4gDRACIQ0gDCAHIA8gDhACIQ4gDSAIIBAgDxACIQ8gDiAJIAEgEBACIRAgASACIAMgBELSlcX3mbjazWRC48u8wuPwkd9vQrWrs9zouOfgD0LluLK9x7mohiQQASAFIAYgByAIQvWErMn1jcv0LUKDyZv1ppWhusoAQtT3h+rLu6rY3ABCtafFmKib4vz2ABABIAkgCiALIAxCq7+b866qlJ+Yf0KQ5NDt0s3xmKh/Qr/C7MeJ+cmBsH9C5J289/v436y/fxABIA0gDiAPIBBCwp+i7bP+gvBGQqXOqpj5qOTTVULvhI6AnuqY5QZC8Ny50PCsypQUEAEgDyAKIAIgARACIQEgECALIAMgAhACIQIgASAMIAQgAxACIQMgAiANIAUgBBACIQQgAyAOIAYgBRACIQUgBCAPIAcgBhACIQYgBSAQIAggBxACIQcgBiABIAkgCBACIQggByACIAogCRACIQkgCCADIAsgChACIQogCSAEIAwgCxACIQsgCiAFIA0gDBACIQwgCyAGIA4gDRACIQ0gDCAHIA8gDhACIQ4gDSAIIBAgDxACIQ8gDiAJIAEgEBACIRAgASACIAMgBEL838i21NDC2ydCppKb4YWnyI0uQu3VkNbFv5uWzQBC3+fW7Lmig5zTABABIAUgBiAHIAhC3se93cjqnIXlAEKo5d7js9eCtfYAQubdtr/kpbLhgX9Cu+qIpNGQi7mSfxABIAkgCiALIAxC5IbE55SU+t+if0KB4Ijiu8mZjah/QpGv4oeN7uKlQkKw/NKysLSUtkcQASANIA4gDyAQQpikvbedg7rJUUKQ0parxcTBzFZCqsDEu9WwjYd0Qrij75WDjqi1EBABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARCyKHLxuuisNIZQtPWhoqFgdubHkKZ17v8zemdpCdCqJHtjN6Wr9g0EAEgBSAGIAcgCELjtKWuvJaDjjlCy5WGmq7JquzOAELzxo+798myztsAQqPxyrW9/puX6AAQASAJIAogCyAMQvzlvu/l3eDH9ABC4N7cmPTt2NL4AELy1sKPyoKe5IR/QuzzkNOBwcDjjH8QASANIA4gDyAQQqi8jJui/7/fkH9C6fuK9L2dm6ikf0KV8pmW+/7o/L5/QqumyZuunt64RhABIA8gCiACIAEQAiEBIBAgCyADIAIQAiECIAEgDCAEIAMQAiEDIAIgDSAFIAQQAiEEIAMgDiAGIAUQAiEFIAQgDyAHIAYQAiEGIAUgECAIIAcQAiEHIAYgASAJIAgQAiEIIAcgAiAKIAkQAiEJIAggAyALIAoQAiEKIAkgBCAMIAsQAiELIAogBSANIAwQAiEMIAsgBiAOIA0QAiENIAwgByAPIA4QAiEOIA0gCCAQIA8QAiEPIA4gCSABIBAQAiEQIAEgAiADIARCnMOZ0e7Zz5NKQoeEg47ymK7DUUKe1oPv7Lqf7WpC+KK78/7v0751EAEgBSAGIAcgCEK6392Qp/WZ+AZCprGiltq437EKQq6b5PfLgOafEUKbjvGY0ebCuBsQASAJIAogCyAMQoT7kZjS/t3tKEKTyZyGtO+q5TJCvP2mrqHBr888QsyawODJ+NmOwwAQASANIA4gDyAQQraF+dnsl/XizABCqvyV48+zyr/ZAELs9dvWs/Xb5d8AQpewndLEsYai7AAQASAAIAApAwAjAHw3AwAgACAAKQMIIwF8NwMIIAAgACkDECMCfDcDECAAIAApAxgjA3w3AxggACAAKQMgIwR8NwMgIAAgACkDKCMFfDcDKCAAIAApAzAjBnw3AzAgACAAKQM4Iwd8NwM4C8MIARV+IAApA0AhBCAAKQNIIQUgBEL/AIMgAq18IQggBCEGIAQgAq18IQQgACAENwNAIAQgBlQEQCAFQgF8IQUgACAFNwNICwJAIAApA1AhCSAAKQNYIQogACkDYCELIAApA2ghDCAAKQNwIQ0gACkDeCEOIAApA4ABIQ8gACkDiAEhECAAKQOQASERIAApA5gBIRIgACkDoAEhEyAAKQOoASEUIAApA7ABIRUgACkDuAEhFiAAKQPAASEXIAApA8gBIRggCEKAAX0iCEIAUw0AIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADA0AgASkDACEJIAEpAwghCiABKQMQIQsgASkDGCEMIAEpAyAhDSABKQMoIQ4gASkDMCEPIAEpAzghECABKQNAIREgASkDSCESIAEpA1AhEyABKQNYIRQgASkDYCEVIAEpA2ghFiABKQNwIRcgASkDeCEYIAFBgAFqIQEgCEKAAX0iCEIAUwRAIAAgCTcDUCAAIAo3A1ggACALNwNgIAAgDDcDaCAAIA03A3AgACAONwN4IAAgDzcDgAEgACAQNwOIASAAIBE3A5ABIAAgEjcDmAEgACATNwOgASAAIBQ3A6gBIAAgFTcDsAEgACAWNwO4ASAAIBc3A8ABIAAgGDcDyAEMAgsgACAJIAogCyAMIA0gDiAPIBAgESASIBMgFCAVIBYgFyAYEAMMAAsLIANBAUYEQCAEQv8AgyEIQoABIAhCB4NCA4aGIQcCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgCKdBA3YODwMEBQYHCAkKCwwNDg8QAQILCyAHIBeEIRdCACEHCyAHIBiEIRhCACEHIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADIAAgBDcDQEIAIQlCACEKQgAhC0IAIQxCACENQgAhDkIAIQ9CACEQQgAhEUIAIRJCACETQgAhFEIAIRVCACEWQgAhF0IAIRgLIAcgCYQhCUIAIQcLIAcgCoQhCkIAIQcLIAcgC4QhC0IAIQcLIAcgDIQhDEIAIQcLIAcgDYQhDUIAIQcLIAcgDoQhDkIAIQcLIAcgD4QhD0IAIQcLIAcgEIQhEEIAIQcLIAcgEYQhEUIAIQcLIAcgEoQhEkIAIQcLIAcgE4QhE0IAIQcLIAcgFIQhFEIAIQcLIAcgFYQhFUIAIQcLIAcgFoQhFkIAIQcLIARCPYggBUIDiHwQACEXIARCCH4QACEYIAAgCSAKIAsgDCANIA4gDyAQIBEgEiATIBQgFSAWIBcgGBADIAAgACkDABAANwMAIAAgACkDCBAANwMIIAAgACkDEBAANwMQIAAgACkDGBAANwMYIAAgACkDIBAANwMgIAAgACkDKBAANwMoIAAgACkDMBAANwMwIAAgACkDOBAANwM4Cws=")}};var i,o,s=function(){return o||(0,i[Object.keys(i)[0]])((o={exports:{}}).exports,o),o.exports}(),a=new WebAssembly.Module(s);t.exports=e=>{return new WebAssembly.Instance(a,e).exports}},{}],528:[function(e,t,r){var i=e("varint");r.encode=function e(t,r,n){t=i.encode(t=0<=t?2*t:-2*t-1,r,n);return e.bytes=i.encode.bytes,t},r.decode=function e(t,r){t=i.decode(t,r);return e.bytes=i.decode.bytes,1&t?(t+1)/-2:t/2},r.encodingLength=function(e){return i.encodingLength(0<=e?2*e:-2*e-1)}},{varint:585}],529:[function(e,t,r){const n=e("debug")("simple-peer"),i=e("get-browser-rtc"),o=e("randombytes");var s=e("readable-stream");const a=e("queue-microtask"),u=e("err-code"),c=e("buffer")["Buffer"];function h(e){return e.replace(/a=ice-options:trickle\s\n/g,"")}function l(e){console.warn(e)}class f extends s.Duplex{constructor(e){if(super(e=Object.assign({allowHalfOpen:!1},e)),this._id=o(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||o(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||f.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},f.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(e=>e),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=void 0===e.trickle||e.trickle,this.allowHalfTrickle=void 0!==e.allowHalfTrickle&&e.allowHalfTrickle,this.iceCompleteTimeout=e.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&"object"==typeof e.wrtc?e.wrtc:i(),!this._wrtc)throw"undefined"==typeof window?u(new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"),"ERR_WEBRTC_SUPPORT"):u(new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(e){return void this.destroy(u(e,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc="number"==typeof this._pc._peerConnectionId,this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=e=>{this._onIceCandidate(e)},"object"==typeof this._pc.peerIdentity&&this._pc.peerIdentity.catch(e=>{this.destroy(u(e,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=e=>{this._setupData(e)},this.streams&&this.streams.forEach(e=>{this.addStream(e)}),this._pc.ontrack=e=>{this._onTrack(e)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&"open"===this._channel.readyState}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(t){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t={}}this._debug("signal()"),t.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),t.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(t.transceiverRequest.kind,t.transceiverRequest.init)),t.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(t.candidate):this._pendingCandidates.push(t.candidate)),t.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(t)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(e=>{this._addIceCandidate(e)}),this._pendingCandidates=[],"offer"===this._pc.remoteDescription.type&&this._createAnswer())}).catch(e=>{this.destroy(u(e,"ERR_SET_REMOTE_DESCRIPTION"))}),t.sdp||t.candidate||t.renegotiate||t.transceiverRequest||this.destroy(u(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(e){const t=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(t).catch(e=>{!t.address||t.address.endsWith(".local")?l("Ignoring unsupported ICE candidate."):this.destroy(u(e,"ERR_ADD_ICE_CANDIDATE"))})}send(e){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(e)}}addTransceiver(e,t){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,t),this._needsNegotiation()}catch(e){this.destroy(u(e,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:e,init:t}})}}addStream(t){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),t.getTracks().forEach(e=>{this.addTrack(e,t)})}}addTrack(t,r){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const n=this._senderMap.get(t)||new Map;let e=n.get(r);if(e)throw e.removed?u(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):u(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED");e=this._pc.addTrack(t,r),n.set(r,e),this._senderMap.set(t,n),this._needsNegotiation()}}replaceTrack(e,t,r){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const n=this._senderMap.get(e),i=n?n.get(r):null;if(!i)throw u(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");t&&this._senderMap.set(t,n),null!=i.replaceTrack?i.replaceTrack(t):this.destroy(u(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}}removeTrack(e,t){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const r=this._senderMap.get(e),n=r?r.get(t):null;if(!n)throw u(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{n.removed=!0,this._pc.removeTrack(n)}catch(e){"NS_ERROR_UNEXPECTED"===e.name?this._sendersAwaitingStable.push(n):this.destroy(u(e,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}}removeStream(t){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),t.getTracks().forEach(e=>{this.removeTrack(e,t)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,a(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw u(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(e){this._destroy(e,()=>{})}_destroy(e,t){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",e&&(e.message||e)),a(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(e){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(e){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,e&&this.emit("error",e),this.emit("close"),t()}))}_setupData(e){if(!e.channel)return this.destroy(u(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer","number"==typeof this._channel.bufferedAmountLowThreshold&&(this._channel.bufferedAmountLowThreshold=65536),this.channelName=this._channel.label,this._channel.onmessage=e=>{this._onChannelMessage(e)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()};let t=!(this._channel.onerror=e=>{e=e.error instanceof Error?e.error:new Error(`Datachannel error: ${e.message} ${e.filename}:${e.lineno}:`+e.colno);this.destroy(u(e,"ERR_DATA_CHANNEL"))});this._closingInterval=setInterval(()=>{t=!(!this._channel||"closing"!==this._channel.readyState)&&(t&&this._onChannelClose(),!0)},5e3)}_read(){}_write(e,t,r){if(this.destroyed)return r(u(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(e){return this.destroy(u(e,"ERR_DATA_CHANNEL"))}65536<this._channel.bufferedAmount?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=r):r(null)}else this._debug("write before connect"),this._chunk=e,this._cb=r}_onFinish(){var e;this.destroyed||(e=()=>{setTimeout(()=>this.destroy(),1e3)},this._connected?e():this.once("connect",e))}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(t=>{if(!this.destroyed){this.trickle||this.allowHalfTrickle||(t.sdp=h(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const e=()=>{var e;this.destroyed||(e=this._pc.localDescription||t,this._debug("signal"),this.emit("signal",{type:e.type,sdp:e.sdp}))};this._pc.setLocalDescription(t).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?e():this.once("_iceComplete",e))}).catch(e=>{this.destroy(u(e,"ERR_SET_LOCAL_DESCRIPTION"))})}}).catch(e=>{this.destroy(u(e,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(e=>{e.mid||!e.sender.track||e.requested||(e.requested=!0,this.addTransceiver(e.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(t=>{if(!this.destroyed){this.trickle||this.allowHalfTrickle||(t.sdp=h(t.sdp)),t.sdp=this.sdpTransform(t.sdp);const e=()=>{var e;this.destroyed||(e=this._pc.localDescription||t,this._debug("signal"),this.emit("signal",{type:e.type,sdp:e.sdp}),this.initiator||this._requestMissingTransceivers())};this._pc.setLocalDescription(t).then(()=>{this.destroyed||(this.trickle||this._iceComplete?e():this.once("_iceComplete",e))}).catch(e=>{this.destroy(u(e,"ERR_SET_LOCAL_DESCRIPTION"))})}}).catch(e=>{this.destroy(u(e,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||"failed"===this._pc.connectionState&&this.destroy(u(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){var e,t;this.destroyed||(e=this._pc.iceConnectionState,t=this._pc.iceGatheringState,this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),"connected"!==e&&"completed"!==e||(this._pcReady=!0,this._maybeReady()),"failed"===e&&this.destroy(u(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),"closed"===e&&this.destroy(u(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED")))}getStats(r){const i=t=>("[object Array]"===Object.prototype.toString.call(t.values)&&t.values.forEach(e=>{Object.assign(t,e)}),t);0===this._pc.getStats.length||this._isReactNativeWebrtc?this._pc.getStats().then(e=>{const t=[];e.forEach(e=>{t.push(i(e))}),r(null,t)},e=>r(e)):0<this._pc.getStats.length?this._pc.getStats(e=>{if(!this.destroyed){const n=[];e.result().forEach(t=>{const r={};t.names().forEach(e=>{r[e]=t.stat(e)}),r.id=t.id,r.type=t.type,r.timestamp=t.timestamp,n.push(i(r))}),r(null,n)}},e=>r(e)):r(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),!this._connected&&!this._connecting&&this._pcReady&&this._channelReady){this._connecting=!0;const c=()=>{this.destroyed||this.getStats((e,t)=>{if(!this.destroyed){const i={},o={},r={};let n=!1;(t=e?[]:t).forEach(e=>{"remotecandidate"!==e.type&&"remote-candidate"!==e.type||(i[e.id]=e),"localcandidate"!==e.type&&"local-candidate"!==e.type||(o[e.id]=e),"candidatepair"!==e.type&&"candidate-pair"!==e.type||(r[e.id]=e)});const s=e=>{n=!0;let t=o[e.localCandidateId],r=(t&&(t.ip||t.address)?(this.localAddress=t.ip||t.address,this.localPort=Number(t.port)):t&&t.ipAddress?(this.localAddress=t.ipAddress,this.localPort=Number(t.portNumber)):"string"==typeof e.googLocalAddress&&(t=e.googLocalAddress.split(":"),this.localAddress=t[0],this.localPort=Number(t[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4"),i[e.remoteCandidateId]);r&&(r.ip||r.address)?(this.remoteAddress=r.ip||r.address,this.remotePort=Number(r.port)):r&&r.ipAddress?(this.remoteAddress=r.ipAddress,this.remotePort=Number(r.portNumber)):"string"==typeof e.googRemoteAddress&&(r=e.googRemoteAddress.split(":"),this.remoteAddress=r[0],this.remotePort=Number(r[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(t.forEach(e=>{"transport"===e.type&&e.selectedCandidatePairId&&s(r[e.selectedCandidatePairId]),("googCandidatePair"===e.type&&"true"===e.googActiveConnection||("candidatepair"===e.type||"candidate-pair"===e.type)&&e.selected)&&s(e)}),n||Object.keys(r).length&&!Object.keys(o).length){if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(e){return this.destroy(u(e,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const a=this._cb;this._cb=null,a(null)}"number"!=typeof this._channel.bufferedAmountLowThreshold&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}else setTimeout(c,100)}})};c()}}_onInterval(){!this._cb||!this._channel||65536<this._channel.bufferedAmount||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||("stable"===this._pc.signalingState&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):e.candidate||this._iceComplete||(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(t){if(!this.destroyed){let e=t.data;e instanceof ArrayBuffer&&(e=c.from(e)),this.push(e)}}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const e=this._cb;this._cb=null,e(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach(t=>{this._debug("on track"),this.emit("track",e.track,t),this._remoteTracks.push({track:e.track,stream:t}),this._remoteStreams.some(e=>e.id===t.id)||(this._remoteStreams.push(t),a(()=>{this._debug("on stream"),this.emit("stream",t)}))})}_debug(){const e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],n.apply(null,e)}}f.WEBRTC_SUPPORT=!!i(),f.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},f.channelConfig={},t.exports=f},{buffer:221,debug:241,"err-code":276,"get-browser-rtc":293,"queue-microtask":447,randombytes:456,"readable-stream":482}],530:[function(c,u,e){!function(a){!function(){const t=c("debug")("simple-websocket"),r=c("randombytes");var e=c("readable-stream");const n=c("queue-microtask"),i=c("ws"),o="function"!=typeof i?WebSocket:i;class s extends e.Duplex{constructor(e={}){if("string"==typeof e&&(e={url:e}),super(e=Object.assign({allowHalfOpen:!1},e)),null==e.url&&null==e.socket)throw new Error("Missing required `url` or `socket` option");if(null!=e.url&&null!=e.socket)throw new Error("Must specify either `url` or `socket` option, not both");if(this._id=r(4).toString("hex").slice(0,7),this._debug("new websocket: %o",e),this.connected=!1,this.destroyed=!1,this._chunk=null,this._cb=null,this._interval=null,e.socket)this.url=e.socket.url,this._ws=e.socket,this.connected=e.socket.readyState===o.OPEN;else{this.url=e.url;try{"function"==typeof i?this._ws=new o(e.url,null,{...e,encoding:void 0}):this._ws=new o(e.url)}catch(e){return void n(()=>this.destroy(e))}}this._ws.binaryType="arraybuffer",e.socket&&this.connected?n(()=>this._handleOpen()):this._ws.onopen=()=>this._handleOpen(),this._ws.onmessage=e=>this._handleMessage(e),this._ws.onclose=()=>this._handleClose(),this._ws.onerror=e=>this._handleError(e),this._handleFinishBound=()=>this._handleFinish(),this.once("finish",this._handleFinishBound)}send(e){this._ws.send(e)}destroy(e){this._destroy(e,()=>{})}_destroy(e,t){if(!this.destroyed){if(this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this.connected=!1,this.destroyed=!0,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._handleFinishBound&&this.removeListener("finish",this._handleFinishBound),this._handleFinishBound=null,this._ws){const n=this._ws;var r=()=>{n.onclose=null};if(n.readyState===o.CLOSED)r();else try{n.onclose=r,n.close()}catch(e){r()}n.onopen=null,n.onmessage=null,n.onerror=()=>{}}this._ws=null,e&&this.emit("error",e),this.emit("close"),t()}}_read(){}_write(e,t,r){if(this.destroyed)return r(new Error("cannot write after socket is destroyed"));if(this.connected){try{this.send(e)}catch(e){return this.destroy(e)}"function"!=typeof i&&65536<this._ws.bufferedAmount?(this._debug("start backpressure: bufferedAmount %d",this._ws.bufferedAmount),this._cb=r):r(null)}else this._debug("write before connect"),this._chunk=e,this._cb=r}_handleOpen(){if(!this.connected&&!this.destroyed){if(this.connected=!0,this._chunk){try{this.send(this._chunk)}catch(e){return this.destroy(e)}this._chunk=null,this._debug('sent chunk from "write before connect"');const e=this._cb;this._cb=null,e(null)}"function"!=typeof i&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")}}_handleMessage(t){if(!this.destroyed){let e=t.data;e instanceof ArrayBuffer&&(e=a.from(e)),this.push(e)}}_handleClose(){this.destroyed||(this._debug("on close"),this.destroy())}_handleError(e){this.destroy(new Error("Error connecting to "+this.url))}_handleFinish(){var e;this.destroyed||(e=()=>{setTimeout(()=>this.destroy(),1e3)},this.connected?e():this.once("connect",e))}_onInterval(){if(this._cb&&this._ws&&!(65536<this._ws.bufferedAmount)){this._debug("ending backpressure: bufferedAmount %d",this._ws.bufferedAmount);const e=this._cb;this._cb=null,e(null)}}_debug(){const e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],t.apply(null,e)}}s.WEBSOCKET_SUPPORT=!!o,u.exports=s}.call(this)}.call(this,c("buffer").Buffer)},{buffer:221,debug:241,"queue-microtask":447,randombytes:456,"readable-stream":482,ws:191}],531:[function(e,t,r){function i(e,t){var r=e.l+t.l,t={h:e.h+t.h+(r/2>>>31)>>>0,l:r>>>0};e.h=t.h,e.l=t.l}function p(e,t){e.h^=t.h,e.h>>>=0,e.l^=t.l,e.l>>>=0}function o(e,t){t={h:e.h<<t|e.l>>>32-t,l:e.l<<t|e.h>>>32-t};e.h=t.h,e.l=t.l}function s(e){var t=e.l;e.l=e.h,e.h=t}function g(e,t,r,n){i(e,t),i(r,n),o(t,13),o(n,16),p(t,e),p(n,r),s(e),i(r,t),i(e,n),o(t,17),o(n,21),p(t,r),p(n,e),s(r)}function y(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}t.exports=function(e,t,r){var n,i={h:y(r,4),l:y(r,0)},r={h:y(r,12),l:y(r,8)},o={h:i.h,l:i.l},s=i,a={h:r.h,l:r.l},c=r,u=0,h=t.length,l=h-7,f=new Uint8Array(new ArrayBuffer(8));p(o,{h:1936682341,l:1886610805}),p(a,{h:1685025377,l:1852075885}),p(s,{h:1819895653,l:1852142177}),p(c,{h:1952801890,l:2037671283});for(;u<l;)n={h:y(t,u+4),l:y(t,u)},p(c,n),g(o,a,s,c),g(o,a,s,c),p(o,n),u+=8;f[7]=h;var d=0;for(;u<h;)f[d++]=t[u++];for(;d<7;)f[d++]=0;n={h:f[7]<<24|f[6]<<16|f[5]<<8|f[4],l:f[3]<<24|f[2]<<16|f[1]<<8|f[0]},p(c,n),g(o,a,s,c),g(o,a,s,c),p(o,n),p(s,{h:0,l:255}),g(o,a,s,c),g(o,a,s,c),g(o,a,s,c),g(o,a,s,c);i=o;p(i,a),p(i,s),p(i,c),e[0]=255&i.l,e[1]=i.l>>8&255,e[2]=i.l>>16&255,e[3]=i.l>>24&255,e[4]=255&i.h,e[5]=i.h>>8&255,e[6]=i.h>>16&255,e[7]=i.h>>24&255}},{}],532:[function(e,t,r){var i=e("nanoassert"),o="undefined"!=typeof WebAssembly&&e("./siphash24")(),s=e("./fallback"),a=(t.exports=n).BYTES=8,c=n.KEYBYTES=16,u=(n.WASM_SUPPORTED=!!o,n.WASM_LOADED=!!o,new Uint8Array(o?o.memory.buffer:0));function n(e,t,r,n){return r=r||new Uint8Array(8),!0!==n&&(i(r.length>=a,"output must be at least "+a),i(t.length>=c,"key must be at least "+c)),o?(e.length+24>u.length&&(n=e.length+24,o.memory.grow(Math.max(0,Math.ceil(Math.abs(n-u.length)/65536))),u=new Uint8Array(o.memory.buffer)),u.set(t,8),u.set(e,24),o.siphash(24,e.length),r.set(u.subarray(0,8))):s(r,e,t),r}},{"./fallback":531,"./siphash24":533,nanoassert:394}],533:[function(e,t,r){var n=(()=>{for(var u=new Uint8Array(128),e=0;e<64;e++)u[e<26?e+65:e<52?e+71:e<62?e-4:4*e-205]=e;return e=>{for(var t=e.length,r=new Uint8Array(3*(t-("="==e[t-1])-("="==e[t-2]))/4|0),n=0,i=0;n<t;){var o=u[e.charCodeAt(n++)],s=u[e.charCodeAt(n++)],a=u[e.charCodeAt(n++)],c=u[e.charCodeAt(n++)];r[i++]=o<<2|s>>4,r[i++]=s<<4|a>>2,r[i++]=a<<6|c}return r}})();i={"wasm-binary:./siphash24.wat"(e,t){t.exports=n("AGFzbQEAAAABBgFgAn9/AAMCAQAFBQEBCpBOBxQCBm1lbW9yeQIAB3NpcGhhc2gAAArdCAHaCAIIfgJ/QvXKzYPXrNu38wAhAkLt3pHzlszct+QAIQNC4eSV89bs2bzsACEEQvPK0cunjNmy9AAhBUEIKQMAIQdBECkDACEIIAGtQjiGIQYgAUEHcSELIAAgAWogC2shCiAFIAiFIQUgBCAHhSEEIAMgCIUhAyACIAeFIQICQANAIAAgCkYNASAAKQMAIQkgBSAJhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAmFIQIgAEEIaiEADAALCwJAAkACQAJAAkACQAJAAkAgCw4HBwYFBAMCAQALIAYgADEABkIwhoQhBgsgBiAAMQAFQiiGhCEGCyAGIAAxAARCIIaEIQYLIAYgADEAA0IYhoQhBgsgBiAAMQACQhCGhCEGCyAGIAAxAAFCCIaEIQYLIAYgADEAAIQhBgsgBSAGhSEFIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAaFIQIgBEL/AYUhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEIAIgA3whAiADQg2JIQMgAyAChSEDIAJCIIkhAiAEIAV8IQQgBUIQiSEFIAUgBIUhBSACIAV8IQIgBUIViSEFIAUgAoUhBSAEIAN8IQQgA0IRiSEDIAMgBIUhAyAEQiCJIQQgAiADfCECIANCDYkhAyADIAKFIQMgAkIgiSECIAQgBXwhBCAFQhCJIQUgBSAEhSEFIAIgBXwhAiAFQhWJIQUgBSAChSEFIAQgA3whBCADQhGJIQMgAyAEhSEDIARCIIkhBCACIAN8IQIgA0INiSEDIAMgAoUhAyACQiCJIQIgBCAFfCEEIAVCEIkhBSAFIASFIQUgAiAFfCECIAVCFYkhBSAFIAKFIQUgBCADfCEEIANCEYkhAyADIASFIQMgBEIgiSEEQQAgAiADIAQgBYWFhTcDAAs=")}};var i,o,s=function(){return o||(0,i[Object.keys(i)[0]])((o={exports:{}}).exports,o),o.exports}(),a=new WebAssembly.Module(s);t.exports=e=>{return new WebAssembly.Instance(a,e).exports}},{}],534:[function(e,t,r){t.exports={SocketSignalWebsocketClient:e("./lib/client")}},{"./lib/client":535}],535:[function(e,t,r){const u=e("simple-websocket"),h=e("nanocustomassert"),l=e("isomorphic-ws"),i=e("delay");var n=e("socket-signal")["SocketSignalClient"];const f=e("debug")("socket-signal:websocket-client"),d=t=>{let r=0;return()=>{var e=t[r++%t.length];return f("url provider",e),e}};let p=e("reconnecting-websocket");p.default&&(p=p.default);class c extends n{static createSocket(e,t={}){h(Array.isArray(e)||"function"==typeof e,"must be an array or a function");const{simpleWebsocket:r={},reconnectingWebsocket:n={}}=t,i=(Array.isArray(e)&&(e=d(e)),n.WebSocket||(n.WebSocket=l),new p(e,n.protocols,n)),o=new u({socket:i,...r}),s=i.onopen,a=i.onclose,c=i.onerror;return i.onopen=e=>{o._chunk&&!o._cb&&(o._cb=()=>{}),s(e)},i.onclose=e=>{f("socket close",{shouldReconnect:i._shouldReconnect,ev:e}),i._shouldReconnect?o.connected=!1:a(e)},i.onerror=e=>{f("socket error",{shouldReconnect:i._shouldReconnect,ev:e}),i._shouldReconnect?o.connected=!1:c(e)},{ws:i,socket:o}}constructor(e,t={}){const{heartbeat:r=!1,simpleWebsocket:n,reconnectingWebsocket:i,onSocket:o=e=>e,...s}=t;var{ws:t,socket:e}=c.createSocket(e,{simpleWebsocket:n,reconnectingWebsocket:i});super(o(e),s),this._ws=t,this._heartbeat=r,this._lastPing=0;let a=!1;this.socket.on("connect",()=>{this.emit("connected",a),a=!0})}get connected(){return this._ws.readyState===this._ws.OPEN}get lastPing(){return this._lastPing}async _open(){return this._heartbeat&&this._startHeartbeat(this._heartbeat),super._open()}async _startHeartbeat(e={}){for(var t,{interval:r=1e4,timeout:n=5e3}="boolean"==typeof e?{}:e;!this.closed&&!this.closing;)await i(r),this.connected&&this.opened&&((t=await this.rpc.call("__ping__",{time:Date.now()},{timeout:n}).catch(e=>(this.emit("ping-error",e),this.closed||this.closing?void 0:"NMSG_ERR_TIMEOUT"===e.code?this._ws.reconnect():void 0)))&&(this.emit("ping",t.time),this._lastPing=t.time))}}t.exports=c},{debug:241,delay:244,"isomorphic-ws":370,nanocustomassert:395,"reconnecting-websocket":483,"simple-websocket":530,"socket-signal":536}],536:[function(e,t,r){t.exports={SocketSignalClient:e("./lib/client"),SocketSignalServer:e("./lib/server"),SocketSignalServerMap:e("./lib/server-map"),Peer:e("./lib/peer"),SignalBatch:e("./lib/signal-batch"),errors:e("./lib/errors")}},{"./lib/client":537,"./lib/errors":538,"./lib/peer":539,"./lib/server":541,"./lib/server-map":540,"./lib/signal-batch":542}],537:[function(m,v,e){!function(y,b){!function(){const s=m("crypto"),a=m("nanocustomassert"),c=m("fastq"),r=m("p-event"),u=m("nanomessage-rpc");var e=m("nanoresource-promise/emitter")["NanoresourcePromise"];const n=m("./peer"),h=Symbol("socketsignal.connectionsqueue"),l=Symbol("socketsignal.peers"),f=Symbol("socketsignal.defineactions"),d=Symbol("socketsignal.defineevents"),i=Symbol("socketsignal.addpeer"),o=Symbol("socketsignal.createpeer"),p=Symbol("socketsignal.onsignal");function g({peer:e,data:t},r){this.open().then(()=>(this.emit("peer-connecting",e),e.open(t))).then(()=>r()).catch(e=>r(e))}class t extends e{constructor(e,t={}){super();var{id:t=s.randomBytes(32),requestTimeout:r=15e3,queueConcurrency:n=4,simplePeer:i={},metadata:o}=t;a(!o||"object"==typeof o,"metadata must be an object"),this.socket=e,this.rpc=u({timeout:r,...u.useSocket(e)}),this.id=t,this.metadata=o,this.simplePeer=i,this.requestTimeout=r,this[l]=new Map,this[h]=c(this,g,n),this[f](),this[d]()}get peers(){return Array.from(this[l].values())}get peersConnected(){return this.peers.filter(e=>e.connected)}get peersConnecting(){return this.peers.filter(e=>!e.connected)}getPeersByTopic(t){return a(y.isBuffer(t),"topic is required"),this.peers.filter(e=>e.topic.equals(t))}async join(e){a(y.isBuffer(e)&&32===e.length,"topic must be a Buffer of 32 bytes"),await this.open();var t=await this.rpc.call("join",this._buildMessage({topic:e}));return this.emit("join",e,t),t}async leave(e){a(!e||y.isBuffer(e)&&32===e.length,"topic must be a Buffer of 32 bytes"),await this.open(),await this.rpc.call("leave",this._buildMessage({topic:e})),this.emit("leave",e)}async lookup(e){a(y.isBuffer(e)&&32===e.length,"topic must be a Buffer of 32 bytes"),await this.open();var t=await this.rpc.call("lookup",this._buildMessage({topic:e}));return this.emit("lookup",e,t),t}connect(e,t,r={}){a(y.isBuffer(e)&&32===e.length,"topic must be a Buffer of 32 bytes"),a(y.isBuffer(t)&&32===t.length,"peerId must be a Buffer of 32 bytes");var{metadata:r,simplePeer:n={}}=r,t=this[o]({initiator:!0,sessionId:s.randomBytes(32),id:t,topic:e,localMetadata:r,simplePeer:n});return this[i](t),t}onIncomingPeer(e){return this._onIncomingPeer=e,this}onOffer(e){return this._onOffer=e,this}onAnswer(e){return this._onAnswer=e,this}closeConnectionsByTopic(e){return Promise.all(this.getPeersByTopic(e).map(t=>new Promise(e=>t.close(()=>e()))))}async _onIncomingPeer(){}async _onOffer(e){}async _onAnswer(e){}async _open(){await this.rpc.open()}async _close(){this[h].kill(),await this.rpc.close(),await Promise.all(this.peers.map(t=>new Promise(e=>t.close(()=>e()))))}_buildMessage(e){const{localMetadata:t={},...r}=e;let n=this.metadata||{};return t&&(n={...n,...t}),{...r,id:this.id,metadata:n}}[f](){this.rpc.actions({offer:async e=>{var t=await this._onOffer(e),t=(a(!t||"object"==typeof t),this[o]({initiator:!1,sessionId:e.sessionId,id:e.id,topic:e.topic,metadata:e.metadata,localMetadata:t&&t.metadata,simplePeer:t&&t.simplePeer}));return this[i](t,e.data),r(t,"answer",{rejectionEvents:["error","closed"]})}})}[d](){this.rpc.on("signal",e=>{const{sessionId:t,data:r=[]}=e,n=this[l].get(t.toString("hex"));n&&!n.destroyed&&r.forEach(e=>n.stream.signal(e))})}[i](t,e){const r=t.sessionId.toString("hex");this[l].set(r,t),t.once("close",()=>{this[l].delete(r)}),t.once("error",e=>{this.emit("peer-error",e,t)}),this[h].push({peer:t,data:e},e=>{if(e||this.closing||this.closed)return b.nextTick(()=>t.destroy(e));this.emit("peer-connected",t)}),this.emit("peer-queue",t)}[o](e){e=Object.assign({},e,{onSignal:(e,t)=>this[p](e,t),simplePeer:Object.assign({},this.simplePeer,e.simplePeer),timeout:this.requestTimeout});let t;return"function"==typeof this.simplePeer&&(t=this.simplePeer(n,e)),t=new n(e)}async[p](t,e){if(!(t.destroyed||t.connected&&!t.subscribeMediaStream)){var r=()=>this._buildMessage({remoteId:t.id,topic:t.topic,sessionId:t.sessionId,data:e,localMetadata:t.localMetadata});if(!t.connected){var n=e[0].type;if("offer"===n){const i=await this.rpc.call("offer",r());return await this._onAnswer(i),i.data.forEach(e=>t.stream.signal(e)),void(t.metadata=i.metadata)}if("answer"===n)return await this._onIncomingPeer(t),t.emit("answer",r())}await this.rpc.emit("signal",r())}}}v.exports=t}.call(this)}.call(this,{isBuffer:m("../../../../is-buffer@1.1.6/node_modules/is-buffer/index.js")},m("_process"))},{"../../../../is-buffer@1.1.6/node_modules/is-buffer/index.js":364,"./peer":539,_process:437,crypto:239,fastq:288,nanocustomassert:395,"nanomessage-rpc":397,"nanoresource-promise/emitter":409,"p-event":416}],538:[function(e,t,r){const n=e("nanoerror");function i(e,t){r[e]=n(e,t)}i("ERR_ARGUMENT_INVALID","%s"),i("ERR_PEER_NOT_FOUND","peer not found: %s"),i("ERR_CONNECTION_CLOSED"),i("ERR_SIGNAL_TIMEOUT","Timeout trying to establish a connection. SIGNALS: %j")},{nanoerror:396}],539:[function(i,g,e){!function(p,c){!function(){var e=i("nanoresource-promise/emitter")["NanoresourcePromise"];const s=i("simple-peer"),u=i("nanocustomassert"),t=i("p-event"),r=i("end-of-stream"),o=i("./signal-batch"),{ERR_CONNECTION_CLOSED:n,ERR_SIGNAL_TIMEOUT:a}=i("./errors"),h=Symbol("peer.metadata"),l=Symbol("peer.localmetadata"),f=Symbol("peer.onsignal"),d=Symbol("peer.offer");g.exports=class extends e{constructor(e={}){super();var{onSignal:e,initiator:t,sessionId:r,id:n,topic:i,metadata:o,localMetadata:s,simplePeer:a={},timeout:c}=e;u(e),u(void 0!==t,"initiator is required"),u(p.isBuffer(r)&&32===r.length,"sessionId is required and must be a buffer of 32"),u(p.isBuffer(n)&&32===n.length,"id is required and must be a buffer of 32"),u(p.isBuffer(i)&&32===i.length,"topic must be a buffer of 32"),u(!o||"object"==typeof o,"metadata must be an object"),u(!s||"object"==typeof s,"localMetadata must be an object"),this.initiator=t,this.sessionId=r,this.id=n,this.topic=i,this.simplePeerOptions=a,this.timeout=c,this.subscribeMediaStream=!1,this.error=null,this.signals=[],this[f]=e,this[d]=null,this[h]=o,this[l]=s,this.once("error",e=>{this.error=e}),this._initializeSimplePeer()}get connected(){return this.stream.connected}get destroyed(){return this.stream.destroyed}get metadata(){return this[h]}set metadata(e){return u(!e||"object"==typeof e,"metadata must be an object"),this[h]=e,this.emit("metadata-updated",this[h]),this[h]}get localMetadata(){return this[l]}set localMetadata(e){return u(!e||"object"==typeof e,"localMetadata must be an object"),this[l]=e,this.emit("local-metadata-updated",this[l]),this[l]}async ready(){if(!this.connected){if(this.destroyed){if(this.error)throw this.error;throw new n}return t(this,"connect",{rejectionEvents:["error","close"]})}}addStream(e){return this.ready().then(()=>this.stream.addStream(e))}removeStream(e){return this.ready().then(()=>this.stream.removeStream(e))}destroy(e){this.stream.destroy(e)}open(e){return e&&(this[d]=e),super.open()}async _open(){const e=setTimeout(()=>{this.destroy(new a(this.signals))},this.timeout),t=new o,r=this.ready(),n=e=>t.add(e),i=()=>this.stream.removeListener("signal",n);return this.once("close",()=>i()),t.onSignal(e=>(this.signals=[...this.signals,...e],this[f](this,e))).onClose(e=>{i(),e&&c.nextTick(()=>this.destroy(e))}).resolution(()=>this.destroyed),this.stream.on("signal",n),!this.initiator&&this[d]&&this[d].forEach(e=>this.stream.signal(e)),r.finally(()=>{clearTimeout(e)})}_close(){if(!this.destroyed)return c.nextTick(()=>this.stream.destroy()),new Promise(e=>r(this.stream,()=>e()))}_initializeSimplePeer(){const{streams:e=[],...t}=this.simplePeerOptions,r=(this.stream=new s({...t,initiator:this.initiator}),e.forEach(e=>this.addStream(e).catch(()=>{})),this.stream.close=()=>c.nextTick(()=>this.stream.destroy()),e=>this.emit("stream",e)),n=e=>this.emit("signal",e),i=e=>this.emit("error",e),o=()=>this.emit("connect");this.stream.on("stream",r),this.stream.on("signal",n),this.stream.once("error",i),this.stream.once("connect",o),this.stream.once("close",()=>{this.stream.removeListener("stream",r),this.stream.removeListener("signal",n),this.stream.removeListener("error",i),this.stream.removeListener("connect",o),this.close().catch(()=>{}),this.emit("close")})}}}.call(this)}.call(this,{isBuffer:i("../../../../is-buffer@1.1.6/node_modules/is-buffer/index.js")},i("_process"))},{"../../../../is-buffer@1.1.6/node_modules/is-buffer/index.js":364,"./errors":538,"./signal-batch":542,_process:437,"end-of-stream":275,nanocustomassert:395,"nanoresource-promise/emitter":409,"p-event":416,"simple-peer":529}],540:[function(e,t,r){var n=e("./server");const i=e("./errors")["ERR_PEER_NOT_FOUND"],o=e("debug")("socket-signal:server-map");class s extends n{constructor(e={}){super(e),this._peersByTopic=new Map}addPeer(e,t,r){var r=r.toString("hex"),n=t.toString("hex");const i=this._peersByTopic.get(r)||new Map;i.set(n,{rpc:e,id:t}),this._peersByTopic.set(r,i)}deletePeer(e,t){const r=e.toString("hex");t?(e=t.toString("hex"),this._peersByTopic.has(e)&&this._peersByTopic.get(e).delete(r)&&o("peer-leave",r+" from "+e)):this._peersByTopic.forEach((e,t)=>{e.delete(r)&&o("peer-leave",r+" from "+t)})}getPeers(e){e=e.toString("hex");return this._peersByTopic.has(e)?Array.from(this._peersByTopic.get(e).values()).map(e=>e.id):[]}findPeer(e,t){e=e.toString("hex");const r=this._peersByTopic.get(t.toString("hex"));if(r&&r.has(e))return r.get(e);throw new i(e)}async _onDisconnect(n){let i;this._peersByTopic.forEach(e=>{for(var[t,r]of e)if(r.rpc===n){i=r.id,e.delete(t);break}}),i&&o("peer-disconnected",i.toString("hex"))}async _onJoin(e,t){return this.addPeer(e,t.id,t.topic),o("peer-join",t.id.toString("hex")+" in "+t.topic.toString("hex")),this.getPeers(t.topic)}async _onLeave(e,t){this.deletePeer(t.id,t.topic)}async _onOffer(e,t){const r=this.findPeer(t.remoteId,t.topic);return o(`peer-offer ${t.id.toString("hex")} -> `+t.remoteId.toString("hex")),r.rpc.call("offer",t)}async _onLookup(e,t){return this.getPeers(t.topic)}async _onSignal(e,t){const r=this.findPeer(t.remoteId,t.topic);o(`peer-signal ${t.id.toString("hex")} -> `+t.remoteId.toString("hex")),r.rpc.emit("signal",t).catch(()=>{})}}t.exports=s},{"./errors":538,"./server":541,debug:241}],541:[function(e,t,r){const n=e("crypto"),i=e("nanomessage-rpc");var o=e("nanoresource-promise/emitter")["NanoresourcePromise"];const s=e("debug")("socketsignal:server"),a=Symbol("socketsignal.defineactions"),c=Symbol("socketsignal.defineevents");class u extends o{constructor(e={}){super();const{onConnect:t,onDisconnect:r,onJoin:n,onLeave:i,onLookup:o,onOffer:s,onSignal:a,requestTimeout:c=1e4,...u}=e;t&&(this._onConnect=t),r&&(this._onDisconnect=r),n&&(this._onJoin=n),i&&(this._onLeave=i),o&&(this._onLookup=o),s&&(this._onOffer=s),a&&(this._onSignal=a),this._requestTimeout=c,this._rpcOpts=u,this.connections=new Set}async addSocket(t){await this.open();const r=i({timeout:this._requestTimeout,...this._rpcOpts,...i.useSocket(t)});this[a](r),this[c](r),r.id=n.randomBytes(32),r.socket=t;t=()=>{if(this.connections.delete(r))return s("connection-deleted",r.id.toString("hex")),this._onDisconnect(r)};r.ee.on("closed",t),r.ee.on("error",e=>this.emit("connection-error",e,r)),await r.open();try{s("connection-added",r.id.toString("hex")),await this._onConnect(r),this.connections.add(r)}catch(e){r.closed().then(t).catch(t).finally(()=>{this.emit("connection-error",e,r)})}return r}async _open(){}async _close(){await Promise.all(Array.from(this.connections.values()).map(e=>e.close()))}async _onConnect(){}async _onDisconnect(){}async _onJoin(){}async _onLeave(){}async _onLookup(){}async _onOffer(){}async _onSignal(){}[a](t){t.actions({join:(e={})=>this._onJoin(t,e),leave:(e={})=>this._onLeave(t,e),offer:(e={})=>this._onOffer(t,e),lookup:(e={})=>this._onLookup(t,e)})}[c](t){t.on("signal",async(e={})=>{try{await this._onSignal(t,e)}catch(e){s("signal error",e)}})}}t.exports=u},{crypto:239,debug:241,"nanomessage-rpc":397,"nanoresource-promise/emitter":409}],542:[function(e,t,r){const n=e("p-limit");t.exports=class{constructor(){this._limit=n(1),this._cache=[]}onSignal(n){return this._onSignal=(e,t,r)=>n&&n(e,t,r),this}onClose(t){return this._onClose=e=>t&&t(e),this}resolution(e){this._resolution=()=>e&&e()}add(e){this._cache.push(e),this._limit(async()=>{if(this._limit.clearQueue(),0!==this._cache.length&&!this._resolution()){var e;let t=300;for(;e=this._cache.length,await new Promise(e=>setTimeout(e,t)),t=1,e<this._cache.length&&this._cache.length<4;);var r=this._cache;return this._cache=[],this._onSignal(r)}}).catch(e=>{this._limit.clearQueue(),this._onClose(e)}).finally(()=>{this._resolution()&&(this._limit.clearQueue(),this._onClose())})}}},{"p-limit":418}],543:[function(e,t,r){const{crypto_stream_chacha20_ietf:l,crypto_stream_chacha20_ietf_xor_ic:f}=e("./crypto_stream_chacha20"),d=e("./crypto_verify")["crypto_verify_16"],p=e("./internal/poly1305"),g=e("nanoassert"),y=32;const b=12,m=16,v=Number.MAX_SAFE_INTEGER,A=new Uint8Array(16);function u(e,t,r,n,i,o,s){if(null===n)return u(e,t,r,new Uint8Array(0),i,o,s);g(e.byteLength===r.byteLength,"ciphertext should be same length than message"),g(o.byteLength===b,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),g(s.byteLength===y,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),g(r.byteLength<=v,"message is too large"),g(t.byteLength<=m,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");const a=new Uint8Array(64);i=new Uint8Array(8);l(a,o,s);const c=new p(a);return a.fill(0),c.update(n,0,n.byteLength),c.update(A,0,16-n.byteLength&15),f(e,r,o,1,s),c.update(e,0,r.byteLength),c.update(A,0,16-r.byteLength&15),w(i,0,n.byteLength),c.update(i,0,i.byteLength),w(i,0,r.byteLength),c.update(i,0,i.byteLength),c.finish(t,0),i.fill(0),m}function _(e,t,r,n,i,o,s){if(null===i)return _(e,t,r,n,new Uint8Array(0),o,s);g(r.byteLength===e.byteLength,"message should be same length than ciphertext"),g(o.byteLength===b,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),g(s.byteLength===y,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),g(e.byteLength<=v,"message is too large"),g(n.byteLength<=m,"mac should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' long");const a=new Uint8Array(64),c=new Uint8Array(8),u=new Uint8Array(m),h=(l(a,o,s),new p(a));a.fill(0),h.update(i,0,i.byteLength),h.update(A,0,16-i.byteLength&15);t=r.byteLength,h.update(r,0,t),h.update(A,0,16-t&15),w(c,0,i.byteLength),h.update(c,0,c.byteLength),w(c,0,t),h.update(c,0,c.byteLength),h.finish(u,0),g(16===u.byteLength),i=d(u,0,n,0);if(u.fill(0),c.fill(0),!i)throw e.fill(0),new Error("could not verify data");f(e,r,o,1,s)}function w(e,t,r){e.fill(0,0,8);const n=new DataView(e.buffer,e.byteOffset,e.byteLength);n.setUint32(t,4294967295&r,!0),n.setUint32(t+4,r/2**32&4294967295,!0)}t.exports={crypto_aead_chacha20poly1305_ietf_encrypt:function e(t,r,n,i,o,s){if(null===n)return e(t,r,new Uint8Array(0),i,o,s);g(t.byteLength===r.byteLength+m,"ciphertext should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' longer than message"),g(o.byteLength===b,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),g(s.byteLength===y,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),g(r.byteLength<=v,"message is too large");t=u(t.subarray(0,r.byteLength),t.subarray(r.byteLength),r,n,i,o,s);return r.byteLength+t},crypto_aead_chacha20poly1305_ietf_encrypt_detached:u,crypto_aead_chacha20poly1305_ietf_decrypt:function e(t,r,n,i,o,s){if(null===i)return e(t,r,n,new Uint8Array(0),o,s);if(g(t.byteLength===n.byteLength-m,"message should be 'crypto_aead_chacha20poly1305_ietf_ABYTES' shorter than ciphertext"),g(o.byteLength===b,"npub should be 'crypto_aead_chacha20poly1305_ietf_NPUBBYTES' long"),g(s.byteLength===y,"k should be 'crypto_aead_chacha20poly1305_ietf_KEYBYTES' long"),g(t.byteLength<=v,"message is too large"),n.byteLength<m)throw new Error("could not verify data");return _(t,r,n.subarray(0,n.byteLength-m),n.subarray(n.byteLength-m),i,o,s),n.byteLength-m},crypto_aead_chacha20poly1305_ietf_decrypt_detached:_,crypto_aead_chacha20poly1305_ietf_ABYTES:m,crypto_aead_chacha20poly1305_ietf_KEYBYTES:y,crypto_aead_chacha20poly1305_ietf_NPUBBYTES:b,crypto_aead_chacha20poly1305_ietf_NSECBYTES:0,crypto_aead_chacha20poly1305_ietf_MESSAGEBYTES_MAX:v}},{"./crypto_stream_chacha20":558,"./crypto_verify":559,"./internal/poly1305":564,nanoassert:394}],544:[function(e,t,r){const n=e("./crypto_verify")["crypto_verify_32"],o=e("sha512-universal"),s=e("nanoassert");t.exports={crypto_auth_BYTES:32,crypto_auth_KEYBYTES:32,crypto_auth:function(e,t,r){s(32===e.byteLength,"out should be 'crypto_auth_BYTES' in length"),s(32===r.byteLength,"key should be 'crypto_auth_KEYBYTES' in length");const n=new Uint8Array(64),i=o.HMAC(r);i.update(t),i.digest(n),e.set(n.subarray(0,32))},crypto_auth_verify:function(e,t,r){return s(32===e.byteLength,"h should be 'crypto_auth_BYTES' in length"),s(32===r.byteLength,"key should be 'crypto_auth_KEYBYTES' in length"),r=o.HMAC(r).update(t).digest(),n(e,0,r,0)}}},{"./crypto_verify":559,nanoassert:394,"sha512-universal":524}],545:[function(e,t,r){const i=e("./crypto_hash")["crypto_hash_sha512"],{crypto_scalarmult:c,crypto_scalarmult_base:o}=e("./crypto_scalarmult"),n=e("./randombytes")["randombytes"],u=e("./crypto_generichash")["crypto_generichash_batch"];var s=e("./crypto_stream")["crypto_stream_xsalsa20_MESSAGEBYTES_MAX"];const{crypto_secretbox_open_easy:a,crypto_secretbox_easy:h,crypto_secretbox_detached:l,crypto_secretbox_open_detached:f}=e("./crypto_secretbox"),d=e("xsalsa20"),p=e("nanoassert"),g=32,y=32,b=24;const m=32,v=16;const A=s-16;function _(e,t){return E(e,g),E(t,y),n(t,32),o(e,t)}function w(e,t,r){var n=new Uint8Array(16),i=new Uint8Array(32);return p(0===c(i,r,t)),d.core_hsalsa20(e,n,i,d.SIGMA),!0}function E(e,t){if(!e||t&&e.length<t)throw new Error("Argument must be a buffer"+(t?" of length "+t:""))}function S(t){for(let e=0;e<t.length;e++)t[e]=0}t.exports={crypto_box_easy:function(e,t,r,n,i){return p(e.length>=t.length+v,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),p(t.length<=A,"m should be at most 'crypto_box_MESSAGEBYTES_MAX' bytes"),function(e,t,r,n,i,o){E(t,v),E(n,b),E(i,g),E(o,y);var s=new Uint8Array(m),i=(p(w(s,i,o)),function(e,t,r,n,i){return l(e,t,r,n,i)}(e,t,r,n,s));return S(s),i}(e.subarray(v,t.length+v),e.subarray(0,v),t,r,n,i)},crypto_box_open_easy:function(e,t,r,n,i){return p(t.length>=e.length+v,"c should be at least 'm.length + crypto_box_MACBYTES' bytes"),function(e,t,r,n,i,o){var s=new Uint8Array(m),i=(p(w(s,i,o)),function(e,t,r,n,i){return f(e,t,r,n,i)}(e,t,r,n,s));return S(s),i}(e,t.subarray(v,e.length+v),t.subarray(0,v),r,n,i)},crypto_box_keypair:_,crypto_box_seed_keypair:function(e,t,r){p(e.byteLength===g,"pk should be 'crypto_box_PUBLICKEYBYTES' bytes"),p(t.byteLength===y,"sk should be 'crypto_box_SECRETKEYBYTES' bytes"),p(32===t.byteLength,"sk should be 'crypto_box_SEEDBYTES' bytes");const n=new Uint8Array(64);return i(n,r,32),t.set(n.subarray(0,32)),n.fill(0),o(e,t)},crypto_box_seal:function(e,t,r){E(e,48+t.length),E(r,g);var n=e.subarray(0,g),i=new Uint8Array(y),o=(_(n,i),new Uint8Array(b)),s=(u(o,[n,r]),new Uint8Array(g)),r=(c(s,i,r),new Uint8Array(m)),a=new Uint8Array(16);d.core_hsalsa20(r,a,s,d.SIGMA),h(e.subarray(n.length),t,o,r),S(i)},crypto_box_seal_open:function(e,t,r,n){E(t,48),E(e,t.length-48),E(r,g),E(n,y);var i=t.subarray(0,g),o=new Uint8Array(b),r=(u(o,[i,r]),new Uint8Array(g)),n=(c(r,n,i),new Uint8Array(m)),s=new Uint8Array(16);return d.core_hsalsa20(n,s,r,d.SIGMA),a(e,t.subarray(i.length),o,n)},crypto_box_PUBLICKEYBYTES:g,crypto_box_SECRETKEYBYTES:y,crypto_box_NONCEBYTES:b,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_box_SEALBYTES:48,crypto_box_SEEDBYTES:32,crypto_box_BEFORENMBYTES:m,crypto_box_MACBYTES:v}},{"./crypto_generichash":546,"./crypto_hash":547,"./crypto_scalarmult":552,"./crypto_secretbox":553,"./crypto_stream":557,"./randombytes":566,nanoassert:394,xsalsa20:598}],546:[function(e,r,t){var o=e("blake2b");if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");r.exports.crypto_generichash_PRIMITIVE="blake2b",r.exports.crypto_generichash_BYTES_MIN=o.BYTES_MIN,r.exports.crypto_generichash_BYTES_MAX=o.BYTES_MAX,r.exports.crypto_generichash_BYTES=o.BYTES,r.exports.crypto_generichash_KEYBYTES_MIN=o.KEYBYTES_MIN,r.exports.crypto_generichash_KEYBYTES_MAX=o.KEYBYTES_MAX,r.exports.crypto_generichash_KEYBYTES=o.KEYBYTES,r.exports.crypto_generichash_WASM_SUPPORTED=o.WASM_SUPPORTED,r.exports.crypto_generichash_WASM_LOADED=!1,r.exports.crypto_generichash=function(e,t,r){o(e.length,r).update(t).final(e)},r.exports.crypto_generichash_ready=o.ready,r.exports.crypto_generichash_batch=function(e,t,r){for(var n=o(e.length,r),i=0;i<t.length;i++)n.update(t[i]);n.final(e)},r.exports.crypto_generichash_instance=function(e,t){return null==t&&(t=r.exports.crypto_generichash_BYTES),o(t,e)},o.ready(function(e){r.exports.crypto_generichash_WASM_LOADED=o.WASM_LOADED})},{blake2b:187}],547:[function(e,t,r){const n=e("sha512-universal"),i=e("nanoassert");if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");const o=64;e=o;function s(e,t,r){return i(e.byteLength===o,"out must be 'crypto_hash_sha512_BYTES' bytes long"),n().update(t.subarray(0,r)).digest(e),0}t.exports={crypto_hash:s,crypto_hash_sha512:s,crypto_hash_sha512_BYTES:o,crypto_hash_BYTES:e}},{nanoassert:394,"sha512-universal":524}],548:[function(e,t,r){const n=e("sha256-universal"),i=e("nanoassert");if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");t.exports={crypto_hash_sha256:function(e,t,r){return i(32===e.byteLength,"out must be 'crypto_hash_sha256_BYTES' bytes long"),n().update(t.subarray(0,r)).digest(e),0},crypto_hash_sha256_BYTES:32}},{nanoassert:394,"sha256-universal":520}],549:[function(e,h,t){const l=e("nanoassert"),r=e("./randombytes").randombytes_buf,f=e("blake2b");h.exports.crypto_kdf_PRIMITIVE="blake2b",h.exports.crypto_kdf_BYTES_MIN=16,h.exports.crypto_kdf_BYTES_MAX=64,h.exports.crypto_kdf_CONTEXTBYTES=8,h.exports.crypto_kdf_KEYBYTES=32,h.exports.crypto_kdf_derive_from_key=function(e,t,r,n){l(e.length>=h.exports.crypto_kdf_BYTES_MIN,"subkey must be at least crypto_kdf_BYTES_MIN"),l(0<=t&&t<=9007199254740991,"subkey_id must be safe integer"),l(r.length>=h.exports.crypto_kdf_CONTEXTBYTES,"context must be at least crypto_kdf_CONTEXTBYTES");var i=new Uint8Array(f.PERSONALBYTES),o=new Uint8Array(f.SALTBYTES),s=(i.set(r,0,h.exports.crypto_kdf_CONTEXTBYTES),o),a=t,c=1,u=0;for(s[0]=255&a;++u<8&&(c*=256);)s[u]=a/c&255;r=Math.min(e.length,h.exports.crypto_kdf_BYTES_MAX);f(r,n.subarray(0,h.exports.crypto_kdf_KEYBYTES),o,i,!0).final(e)},h.exports.crypto_kdf_keygen=function(e){l(e.length>=h.exports.crypto_kdf_KEYBYTES,"out.length must be crypto_kdf_KEYBYTES"),r(e.subarray(0,h.exports.crypto_kdf_KEYBYTES))}},{"./randombytes":566,blake2b:187,nanoassert:394}],550:[function(e,t,r){const n=e("./crypto_scalarmult")["crypto_scalarmult_base"],i=e("./crypto_generichash")["crypto_generichash"],o=e("./randombytes")["randombytes_buf"],s=e("nanoassert");t.exports={crypto_kx_keypair:function(e,t){return s(32===e.byteLength,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),s(32===t.byteLength,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),o(t,32),n(e,t)},crypto_kx_seed_keypair:function(e,t,r){return s(32===e.byteLength,"pk must be 'crypto_kx_PUBLICKEYBYTES' bytes"),s(32===t.byteLength,"sk must be 'crypto_kx_SECRETKEYBYTES' bytes"),s(32===r.byteLength,"seed must be 'crypto_kx_SEEDBYTES' bytes"),i(t,r),n(e,t)},crypto_kx_SEEDBYTES:32,crypto_kx_SECRETKEYBYTES:32,crypto_kx_PUBLICKEYBYTES:32}},{"./crypto_generichash":546,"./crypto_scalarmult":552,"./randombytes":566,nanoassert:394}],551:[function(e,t,r){const i=e("nanoassert"),n=e("./internal/poly1305"),o=e("./crypto_verify")["crypto_verify_16"];function s(e,t,r){i(16===e.byteLength,"mac must be 'crypto_onetimeauth_BYTES' bytes"),i(null!=t.byteLength,"msg must be buffer"),i(32===r.byteLength,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");r=new n(r);r.update(t,0,t.byteLength),r.finish(e,0)}t.exports={crypto_onetimeauth:s,crypto_onetimeauth_verify:function(e,t,r){i(16===e.byteLength,"mac must be 'crypto_onetimeauth_BYTES' bytes"),i(null!=t.byteLength,"msg must be buffer"),i(32===r.byteLength,"key must be 'crypto_onetimeauth_KEYBYTES' bytes");var n=new Uint8Array(16);return s(n,t,r),o(e,0,n,0)},crypto_onetimeauth_BYTES:16,crypto_onetimeauth_KEYBYTES:32,crypto_onetimeauth_PRIMITIVE:"poly1305"}},{"./crypto_verify":559,"./internal/poly1305":564,nanoassert:394}],552:[function(e,t,r){const{_9:n,_121665:p,gf:g,inv25519:y,pack25519:b,unpack25519:m,sel25519:v,A,M:_,Z:w,S:E}=e("./internal/ed25519");function i(e,t,r){S(e,32),S(t,32),S(r,32);for(var n,i=new Uint8Array(32),o=new Float64Array(80),s=g(),a=g(),c=g(),u=g(),h=g(),l=g(),f=0;f<31;f++)i[f]=t[f];for(i[31]=127&t[31]|64,i[0]&=248,m(o,r),f=0;f<16;f++)a[f]=o[f],u[f]=s[f]=c[f]=0;for(s[0]=u[0]=1,f=254;0<=f;--f)n=i[f>>>3]>>>(7&f)&1,v(s,a,n),v(c,u,n),A(h,s,c),w(s,s,c),A(c,a,u),w(a,a,u),E(u,h),E(l,s),_(s,c,s),_(c,a,h),A(h,s,c),w(s,s,c),E(a,s),w(c,u,l),_(s,c,p),A(s,s,u),_(c,c,s),_(s,u,l),_(u,a,o),E(a,h),v(s,a,n),v(c,u,n);for(f=0;f<16;f++)o[f+16]=s[f],o[f+32]=c[f],o[f+48]=a[f],o[f+64]=u[f];var r=o.subarray(32),d=o.subarray(16);return y(r,r),_(d,d,r),b(e,d),0}function S(e,t){if(!e||t&&e.length<t)throw new Error("Argument must be a buffer"+(t?" of length "+t:""))}t.exports={crypto_scalarmult:i,crypto_scalarmult_base:function(e,t){return i(e,t,n)},crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32}},{"./internal/ed25519":562}],553:[function(e,t,r){const s=e("nanoassert"),{crypto_stream:o,crypto_stream_xor:a}=e("./crypto_stream"),{crypto_onetimeauth:c,crypto_onetimeauth_verify:u,crypto_onetimeauth_BYTES:h,crypto_onetimeauth_KEYBYTES:l}=e("./crypto_onetimeauth"),f=32,d=24,p=32,g=16,y=16;function b(e,t,r,n){s(e.byteLength===t.byteLength,"c must be 'm.byteLength' bytes");var i=t.byteLength;s(i>=p,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),s(r.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),s(n.byteLength===f,"k must be 'crypto_secretbox_KEYBYTES' bytes"),a(e,t,r,n),c(e.subarray(g,g+h),e.subarray(g+h,e.byteLength),e.subarray(0,l)),e.fill(0,0,g)}function m(e,t,r,n){s(t.byteLength===e.byteLength,"c must be 'm.byteLength' bytes");var i=e.byteLength,i=(s(i>=p,"mlen must be at least 'crypto_secretbox_ZEROBYTES'"),s(r.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),s(n.byteLength===f,"k must be 'crypto_secretbox_KEYBYTES' bytes"),new Uint8Array(l)),i=(o(i,r,n),u(t.subarray(g,g+h),t.subarray(g+h,t.byteLength),i));return!1!==i&&(a(e,t,r,n),e.fill(0,0,32),!0)}function v(e,t,r,n){s(e.byteLength===t.byteLength+y,"o must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),s(r.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),s(n.byteLength===f,"k must be 'crypto_secretbox_KEYBYTES' bytes");const i=new Uint8Array(p+t.byteLength),o=new Uint8Array(i.byteLength);i.set(t,p),b(o,i,r,n),e.set(o.subarray(g))}function A(e,t,r,n){s(t.byteLength===e.byteLength+y,"box must be 'msg.byteLength + crypto_secretbox_MACBYTES' bytes"),s(r.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),s(n.byteLength===f,"k must be 'crypto_secretbox_KEYBYTES' bytes");const i=new Uint8Array(g+t.byteLength),o=new Uint8Array(i.byteLength);return i.set(t,g),!1!==m(o,i,r,n)&&(e.set(o.subarray(p)),!0)}t.exports={crypto_secretbox:b,crypto_secretbox_open:m,crypto_secretbox_detached:function(e,t,r,n,i){s(e.byteLength===r.byteLength,"o must be 'msg.byteLength' bytes"),s(t.byteLength===y,"mac must be 'crypto_secretbox_MACBYTES' bytes"),s(n.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),s(i.byteLength===f,"k must be 'crypto_secretbox_KEYBYTES' bytes");const o=new Uint8Array(r.byteLength+t.byteLength);return v(o,r,n,i),t.set(o.subarray(0,t.byteLength)),e.set(o.subarray(t.byteLength)),!0},crypto_secretbox_open_detached:function(e,t,r,n,i){s(t.byteLength===e.byteLength,"o must be 'msg.byteLength' bytes"),s(r.byteLength===y,"mac must be 'crypto_secretbox_MACBYTES' bytes"),s(n.byteLength===d,"n must be 'crypto_secretbox_NONCEBYTES' bytes"),s(i.byteLength===f,"k must be 'crypto_secretbox_KEYBYTES' bytes");const o=new Uint8Array(t.byteLength+r.byteLength);return o.set(r),o.set(t,r.byteLength),A(e,o,n,i)},crypto_secretbox_easy:v,crypto_secretbox_open_easy:A,crypto_secretbox_KEYBYTES:f,crypto_secretbox_NONCEBYTES:d,crypto_secretbox_ZEROBYTES:p,crypto_secretbox_BOXZEROBYTES:g,crypto_secretbox_MACBYTES:y}},{"./crypto_onetimeauth":551,"./crypto_stream":557,nanoassert:394}],554:[function(e,t,r){const d=e("nanoassert"),s=e("./randombytes")["randombytes_buf"],{crypto_stream_chacha20_ietf:p,crypto_stream_chacha20_ietf_xor:o,crypto_stream_chacha20_ietf_xor_ic:g,crypto_stream_chacha20_ietf_KEYBYTES:a}=e("./crypto_stream_chacha20"),{crypto_core_hchacha20:c,crypto_core_hchacha20_INPUTBYTES:u}=e("./internal/hchacha20"),y=e("./internal/poly1305"),{sodium_increment:b,sodium_is_zero:m,sodium_memcmp:v}=e("./helpers"),A=4;const l=Number.MAX_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER;var e=new Uint8Array([0]),n=new Uint8Array([1]);const _=new Uint8Array([2]);var i=new Uint8Array([n|_]);const w=40+A+8,E=32,S=E+8+A,k=new Uint8Array(16);function I(e,t){let r=1,n=0;for(e[0]=255&t;++n<8&&(r*=256);)e[n]=t/r&255}function h(e){d(e.byteLength===w,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");const t=e.subarray(E,S);for(let e=0;e<A;e++)t[e]=0;t[0]=1}function C(e){d(e.byteLength===w,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long");const t=e.subarray(0,E),r=e.subarray(E,S),n=new Uint8Array(a+8);let i;for(i=0;i<a;i++)n[i]=t[i];for(i=0;i<8;i++)n[a+i]=r[A+i];for(o(n,n,r,t),i=0;i<a;i++)t[i]=n[i];for(i=0;i<8;i++)r[A+i]=n[a+i];h(e)}function B(t,r,n){for(let e=0;e<n;e++)t[e]^=r[e]}t.exports={crypto_secretstream_xchacha20poly1305_keygen:function(e){d(32===e.length),s(e)},crypto_secretstream_xchacha20poly1305_init_push:function(e,t,r){d(e.byteLength===w,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),d(t instanceof Uint8Array&&24===t.length,"out not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),d(r instanceof Uint8Array&&32===r.length,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");var n=e.subarray(0,E);const i=e.subarray(E,S),o=e.subarray(S);s(t,24),c(n,t,r,null),h(e);for(let e=0;e<8;e++)i[e+A]=t[e+u];o.fill(0)},crypto_secretstream_xchacha20poly1305_init_pull:function(e,t,r){d(e.byteLength===w,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),d(t instanceof Uint8Array&&24===t.length,"_in not byte array of length crypto_secretstream_xchacha20poly1305_HEADERBYTES"),d(r instanceof Uint8Array&&32===r.length,"key not byte array of length crypto_secretstream_xchacha20poly1305_KEYBYTES");var n=e.subarray(0,E);const i=e.subarray(E,S),o=e.subarray(S);c(n,t,r,null),h(e);for(let e=0;e<8;e++)i[e+A]=t[e+u];o.fill(0)},crypto_secretstream_xchacha20poly1305_rekey:C,crypto_secretstream_xchacha20poly1305_push:function(e,t,r,n,i){d(e.byteLength===w,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),n=n||new Uint8Array(0);var o=e.subarray(0,E);const s=e.subarray(E,S),a=new Uint8Array(64);var c=new Uint8Array(8);d(l<=f),p(a,s,o);const u=new y(a);a.fill(0),u.update(n,0,n.byteLength),u.update(k,0,16-n.byteLength&15),a[0]=i[0],g(a,a,s,1,o),u.update(a,0,a.byteLength),t[0]=a[0];var h=t.subarray(1,t.byteLength),o=(g(h,r,s,2,o),u.update(h,0,r.byteLength),u.update(k,0,16-a.byteLength+r.byteLength&15),I(c,n.byteLength),u.update(c,0,c.byteLength),I(c,a.byteLength+r.byteLength),u.update(c,0,c.byteLength),t.subarray(1+r.byteLength,t.byteLength));return u.finish(o,0),d(!0),B(s.subarray(A,s.length),o,8),b(s),0==(i[0]&_)&&!m(s.subarray(0,A))||C(e),17+r.byteLength},crypto_secretstream_xchacha20poly1305_pull:function(e,t,r,n,i){d(e.byteLength===w,"state is should be crypto_secretstream_xchacha20poly1305_STATEBYTES long"),i=i||new Uint8Array(0);var o=e.subarray(0,E);const s=e.subarray(E,S),a=new Uint8Array(64);var c=new Uint8Array(8);const u=new Uint8Array(16);d(17<=n.byteLength,"ciphertext is too short.");var h=n.byteLength-17;p(a,s,o);const l=new y(a),f=(a.fill(0),l.update(i,0,i.byteLength),l.update(k,0,16-i.byteLength&15),a.fill(0),a[0]=n[0],g(a,a,s,1,o),r[0]=a[0],a[0]=n[0],l.update(a,0,a.byteLength),n.subarray(1,n.length));if(l.update(f,0,h),l.update(k,0,16-a.byteLength+h&15),I(c,i.byteLength),l.update(c,0,c.byteLength),I(c,a.byteLength+t.byteLength),l.update(c,0,c.byteLength),l.finish(u,0),i=n.subarray(1+h,n.length),v(u,i))return g(t,f.subarray(0,t.length),s,2,o),B(s.subarray(A,s.length),u,8),b(s),0==(r&_)&&!m(s.subarray(0,A))||C(e),h;throw u.fill(0),new Error("MAC could not be verified.")},crypto_secretstream_xchacha20poly1305_STATEBYTES:w,crypto_secretstream_xchacha20poly1305_ABYTES:17,crypto_secretstream_xchacha20poly1305_HEADERBYTES:24,crypto_secretstream_xchacha20poly1305_KEYBYTES:32,crypto_secretstream_xchacha20poly1305_MESSAGEBYTES_MAX:l,crypto_secretstream_xchacha20poly1305_TAGBYTES:1,crypto_secretstream_xchacha20poly1305_TAG_MESSAGE:e,crypto_secretstream_xchacha20poly1305_TAG_PUSH:n,crypto_secretstream_xchacha20poly1305_TAG_REKEY:_,crypto_secretstream_xchacha20poly1305_TAG_FINAL:i}},{"./crypto_stream_chacha20":558,"./helpers":560,"./internal/hchacha20":563,"./internal/poly1305":564,"./randombytes":566,nanoassert:394}],555:[function(e,t,r){var i=e("siphash24");if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");r.crypto_shorthash_PRIMITIVE="siphash24",r.crypto_shorthash_BYTES=i.BYTES,r.crypto_shorthash_KEYBYTES=i.KEYBYTES,r.crypto_shorthash_WASM_SUPPORTED=i.WASM_SUPPORTED,r.crypto_shorthash_WASM_LOADED=i.WASM_LOADED,r.crypto_shorthash=function(e,t,r,n){i(t,r,e,n)}},{siphash24:532}],556:[function(e,t,r){const h=e("./crypto_verify")["crypto_verify_32"],f=e("./crypto_hash")["crypto_hash"],{gf:d,gf0:s,gf1:p,D:g,D2:l,X:n,Y:i,I:y,A:b,Z:m,M:v,S:A,sel25519:N,pack25519:o,inv25519:a,unpack25519:F}=e("./internal/ed25519"),j=e("./randombytes")["randombytes"],c=e("./crypto_scalarmult.js")["crypto_scalarmult_BYTES"],U=e("./crypto_hash.js")["crypto_hash_sha512_BYTES"],u=e("nanoassert");function _(t,r){for(let e=0;e<16;e++)t[e]=0|r[e]}function w(e,t){var r=d(),n=d(),i=d(),o=d(),s=d(),a=d(),c=d(),u=d(),h=d();m(r,e[1],e[0]),m(h,t[1],t[0]),v(r,r,h),b(n,e[0],e[1]),b(h,t[0],t[1]),v(n,n,h),v(i,e[3],t[3]),v(i,i,l),v(o,e[2],t[2]),b(o,o,o),m(s,n,r),m(a,o,i),b(c,o,i),b(u,n,r),v(e[0],s,a),v(e[1],u,c),v(e[2],c,a),v(e[3],s,u)}function E(e,t,r){for(var n=0;n<4;n++)N(e[n],t[n],r)}function S(e,t){var r=d(),n=d(),i=d();a(i,t[2]),v(r,t[0],i),v(n,t[1],i),o(e,n),e[31]^=L(r)<<7}function k(e,t,r){var n,i,o=[d(t[0]),d(t[1]),d(t[2]),d(t[3])];for(_(e[0],s),_(e[1],p),_(e[2],p),_(e[3],s),i=255;0<=i;--i)E(e,o,n=r[i/8|0]>>(7&i)&1),w(o,e),w(e,e),E(e,o,n)}function I(e,t){var r=[d(),d(),d(),d()];_(r[0],n),_(r[1],i),_(r[2],p),v(r[3],n,i),k(e,r,t)}function C(e,t,r){D(e,32),D(t,64);var n,i=new Uint8Array(64),o=[d(),d(),d(),d()];for(r||j(t,32),f(i,t,32),i[0]&=248,i[31]&=127,i[31]|=64,I(o,i),S(e,o),n=0;n<32;n++)t[n+32]=e[n]}t.exports={crypto_sign_keypair:C,crypto_sign_seed_keypair:function(e,t,r){return D(r,32),t.set(r),C(e,t,!0)},crypto_sign:M,crypto_sign_detached:function(t,e,r){var n=new Uint8Array(e.length+64);M(n,e,r);for(let e=0;e<64;e++)t[e]=n[e]},crypto_sign_open:O,crypto_sign_verify_detached:function(e,t,r){D(e,64);var n=new Uint8Array(t.length+64),i=0;for(i=0;i<64;i++)n[i]=e[i];for(i=0;i<t.length;i++)n[i+64]=t[i];return O(t,n,r)},crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_sign_ed25519_PUBLICKEYBYTES:32,crypto_sign_ed25519_SECRETKEYBYTES:64,crypto_sign_ed25519_SEEDBYTES:32,crypto_sign_ed25519_BYTES:64,crypto_sign_ed25519_pk_to_curve25519:function(t,e){D(t,32),D(e,32);var r=[d(),d(),d(),d()],n=d([1]),i=d([1]);u(function(t){Uint8Array.from([]);var r,n=[Uint8Array.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Uint8Array.from([38,232,149,143,194,178,39,176,69,195,244,137,242,239,152,240,213,223,172,5,211,198,51,57,177,56,2,136,109,83,252,5]),Uint8Array.from([199,23,106,112,61,77,216,79,186,60,11,118,13,16,103,15,42,32,83,250,44,57,204,198,78,199,253,119,146,172,3,122]),Uint8Array.from([236,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([237,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127]),Uint8Array.from([238,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127])],i=new Uint8Array(7);D(n,7);for(let e=0;e<n.length;e++)for(r=0;r<31;r++)i[e]|=t[r]^n[e][r];for(let e=0;e<n.length;e++)i[e]|=127&t[r]^n[e][r];var o=0;for(let e=0;e<n.length;e++)o|=i[e]-1;return 0==(o>>8&1)}(e)&&P(r,e)&&function(e){var t=[d(),d(),d(),d()],r=(function(e,t){k(e,t,B)}(t,e),0);for(let e=0;e<16;e++)r|=65535&t[0][e];return 0===r}(r),"Cannot convert key: bad point");for(let e=0;e<r.length;e++)o(t,r[e]);return m(i,i,r[1]),b(n,n,r[1]),a(i,i),v(n,n,i),o(t,n),0},crypto_sign_ed25519_sk_to_curve25519:function(e,t){u(e&&e.byteLength===c,"curveSk must be 'crypto_sign_SECRETKEYBYTES' long"),u(t&&64===t.byteLength,"edSk must be 'crypto_sign_ed25519_SECRETKEYBYTES' long");var r=new Uint8Array(U);return f(r,t,32),r[0]&=248,r[31]&=127,r[31]|=64,e.set(r.subarray(0,c)),r.fill(0),e},crypto_sign_ed25519_sk_to_pk:function(e,t){return D(e,32),e.set(t.subarray(32)),e},unpackneg:P,pack:S};var B=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function x(e,t){for(var r,n,i,o=63;32<=o;--o){for(r=0,n=o-32,i=o-12;n<i;++n)t[n]+=r-16*t[o]*B[n-(o-32)],r=t[n]+128>>8,t[n]-=256*r;t[n]+=r,t[o]=0}for(n=r=0;n<32;n++)t[n]+=r-(t[31]>>4)*B[n],r=t[n]>>8,t[n]&=255;for(n=0;n<32;n++)t[n]-=r*B[n];for(o=0;o<32;o++)t[o+1]+=t[o]>>8,e[o]=255&t[o]}function T(t){var r=new Float64Array(64);for(let e=0;e<64;e++)r[e]=t[e];for(let e=0;e<64;e++)t[e]=0;x(t,r)}function M(e,t,r){D(e,64+t.length),D(t,0),D(r,64);for(var n,i=t.length,o=new Uint8Array(64),s=new Uint8Array(64),a=new Uint8Array(64),c=new Float64Array(64),u=[d(),d(),d(),d()],h=(f(o,r,32),o[0]&=248,o[31]&=127,o[31]|=64,i+64),l=0;l<i;l++)e[64+l]=t[l];for(l=0;l<32;l++)e[32+l]=o[32+l];for(f(a,e.subarray(32),i+32),T(a),I(u,a),S(e,u),l=32;l<64;l++)e[l]=r[l];for(f(s,e,i+64),T(s),l=0;l<64;l++)c[l]=0;for(l=0;l<32;l++)c[l]=a[l];for(l=0;l<32;l++)for(n=0;n<32;n++)c[l+n]+=s[l]*o[n];return x(e.subarray(32),c),h}function P(e,t){for(var r=d(),n=d(),i=d(),o=d(),s=d(),a=d(),c=d(),u=(_(e[2],p),F(e[1],t),A(i,e[1]),v(o,i,g),m(i,i,e[2]),b(o,e[2],o),A(s,o),A(a,s),v(c,a,s),v(r,c,i),v(r,r,o),r),h=r,l=d(),f=0;f<16;f++)l[f]=h[f];for(f=250;0<=f;f--)A(l,l),1!==f&&v(l,l,h);for(f=0;f<16;f++)u[f]=l[f];return v(r,r,i),v(r,r,o),v(r,r,o),v(e[0],r,o),A(n,e[0]),v(n,n,o),R(n,i)||v(e[0],e[0],y),A(n,e[0]),v(n,n,o),!!R(n,i)&&(L(e[0])===t[31]>>7&&m(e[0],d(),e[0]),v(e[3],e[0],e[1]),!0)}function O(e,t,r){D(e,t.length-64),D(t,64),D(r,32);var n,i=t.length,o=new Uint8Array(t.length),s=new Uint8Array(32),a=new Uint8Array(64),c=[d(),d(),d(),d()],u=[d(),d(),d(),d()];if(i<64)return!1;if(!P(u,r))return!1;for(n=0;n<i;n++)o[n]=t[n];for(n=0;n<32;n++)o[n+32]=r[n];if(f(a,o,i),T(a),k(c,u,a),I(u,t.subarray(32)),w(c,u),S(s,c),i-=64,!h(t,0,s,0)){for(n=0;n<i;n++)o[n]=0;return!1}for(n=0;n<i;n++)e[n]=t[n+64];return!0}function L(e){var t=new Uint8Array(32);return o(t,e),1&t[0]}function R(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return o(r,e),o(n,t),h(r,0,n,0)}function D(e,t,r="Argument"){if(!e||t&&e.length<t)throw new Error(r+" must be a buffer"+(t?" of length "+t:""))}},{"./crypto_hash":547,"./crypto_hash.js":547,"./crypto_scalarmult.js":552,"./crypto_verify":559,"./internal/ed25519":562,"./randombytes":566,nanoassert:394}],557:[function(e,t,n){const o=e("xsalsa20");if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");function r(e,t){this._instance=o(e,t)}n.crypto_stream_KEYBYTES=32,n.crypto_stream_NONCEBYTES=24,n.crypto_stream_PRIMITIVE="xsalsa20",n.crypto_stream_xsalsa20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER,n.crypto_stream=function(e,t,r){e.fill(0),n.crypto_stream_xor(e,e,t,r)},n.crypto_stream_xor=function(e,t,r,n){const i=o(r,n);i.update(t,e),i.final()},n.crypto_stream_xor_instance=function(e,t){return new r(e,t)},r.prototype.update=function(e,t){this._instance.update(t,e)},r.prototype.final=function(){this._instance.finalize(),this._instance=null}},{xsalsa20:598}],558:[function(e,t,s){const a=e("nanoassert"),c=e("chacha20-universal");if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");s.crypto_stream_chacha20_KEYBYTES=32,s.crypto_stream_chacha20_NONCEBYTES=8,s.crypto_stream_chacha20_MESSAGEBYTES_MAX=Number.MAX_SAFE_INTEGER,s.crypto_stream_chacha20_ietf_KEYBYTES=32,s.crypto_stream_chacha20_ietf_NONCEBYTES=12,s.crypto_stream_chacha20_ietf_MESSAGEBYTES_MAX=2**32,s.crypto_stream_chacha20=function(e,t,r){e.fill(0),s.crypto_stream_chacha20_xor(e,e,t,r)},s.crypto_stream_chacha20_xor=function(e,t,r,n){a(r.byteLength===s.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),a(n.byteLength===s.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");const i=new c(r,n);i.update(e,t),i.final()},s.crypto_stream_chacha20_xor_ic=function(e,t,r,n,i){a(r.byteLength===s.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),a(i.byteLength===s.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES");const o=new c(r,i,n);o.update(e,t),o.final()},s.crypto_stream_chacha20_xor_instance=function(e,t){return a(e.byteLength===s.crypto_stream_chacha20_NONCEBYTES,"n should be crypto_stream_chacha20_NONCEBYTES"),a(t.byteLength===s.crypto_stream_chacha20_KEYBYTES,"k should be crypto_stream_chacha20_KEYBYTES"),new c(e,t)},s.crypto_stream_chacha20_ietf=function(e,t,r){e.fill(0),s.crypto_stream_chacha20_ietf_xor(e,e,t,r)},s.crypto_stream_chacha20_ietf_xor=function(e,t,r,n){a(r.byteLength===s.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),a(n.byteLength===s.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");const i=new c(r,n);i.update(e,t),i.final()},s.crypto_stream_chacha20_ietf_xor_ic=function(e,t,r,n,i){a(r.byteLength===s.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),a(i.byteLength===s.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES");const o=new c(r,i,n);o.update(e,t),o.final()},s.crypto_stream_chacha20_ietf_xor_instance=function(e,t){return a(e.byteLength===s.crypto_stream_chacha20_ietf_NONCEBYTES,"n should be crypto_stream_chacha20_ietf_NONCEBYTES"),a(t.byteLength===s.crypto_stream_chacha20_ietf_KEYBYTES,"k should be crypto_stream_chacha20_ietf_KEYBYTES"),new c(e,t)}},{"chacha20-universal":224,nanoassert:394}],559:[function(e,t,r){function i(t,r,n,i,o){var s=0;for(let e=0;e<o;e++)s|=t[r+e]^n[i+e];return(1&s-1>>>8)-1}t.exports={crypto_verify_16:function(e,t,r,n){return 0===i(e,t,r,n,16)},crypto_verify_32:function(e,t,r,n){return 0===i(e,t,r,n,32)},crypto_verify_64:function(e,t,r,n){return 0===i(e,t,r,n,64)}},Object.defineProperty(t.exports,"vn",{value:i})},{}],560:[function(e,t,r){const n=e("nanoassert"),i=e("./crypto_verify")["vn"];t.exports={sodium_increment:function(e){for(var t=e.byteLength,r=1,n=0;n<t;n++)r+=e[n],e[n]=r,r>>=8},sodium_memcmp:function(e,t){return n(e.byteLength===t.byteLength,"buffers must be the same size"),0===i(e,0,t,0,e.byteLength)},sodium_is_zero:function(t){var r=0;for(let e=0;e<t.length;e++)r|=t[e];return 0===r}}},{"./crypto_verify":559,nanoassert:394}],561:[function(e,r,t){"use strict";function n(t){Object.keys(t).forEach(function(e){r.exports[e]=t[e]})}n(e("./randombytes")),n(e("./memory")),n(e("./helpers")),n(e("./crypto_verify")),n(e("./crypto_auth")),n(e("./crypto_box")),n(e("./crypto_generichash")),n(e("./crypto_hash")),n(e("./crypto_hash_sha256")),n(e("./crypto_kdf")),n(e("./crypto_kx")),n(e("./crypto_aead")),n(e("./crypto_onetimeauth")),n(e("./crypto_scalarmult")),n(e("./crypto_secretbox")),n(e("./crypto_secretstream")),n(e("./crypto_shorthash")),n(e("./crypto_sign")),n(e("./crypto_stream")),n(e("./crypto_stream_chacha20"))},{"./crypto_aead":543,"./crypto_auth":544,"./crypto_box":545,"./crypto_generichash":546,"./crypto_hash":547,"./crypto_hash_sha256":548,"./crypto_kdf":549,"./crypto_kx":550,"./crypto_onetimeauth":551,"./crypto_scalarmult":552,"./crypto_secretbox":553,"./crypto_secretstream":554,"./crypto_shorthash":555,"./crypto_sign":556,"./crypto_stream":557,"./crypto_stream_chacha20":558,"./crypto_verify":559,"./helpers":560,"./memory":565,"./randombytes":566}],562:[function(e,t,r){if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");function a(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r}new Uint8Array(16);var n=new Uint8Array(32),i=(n[0]=9,a()),o=a([1]),s=a([56129,1]),c=a([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=a([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=a([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=a([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=a([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(e,t,r){var D=0,N=0,F=0,j=0,n=0,i=0,o=0,s=0,a=0,c=0,u=0,h=0,l=0,f=0,d=0,p=0,g=0,y=0,b=0,m=0,v=0,U=0,J=0,Q=0,H=0,K=0,G=0,z=0,X=0,q=0,V=0,A=r[0],_=r[1],w=r[2],E=r[3],S=r[4],k=r[5],I=r[6],C=r[7],B=r[8],x=r[9],T=r[10],M=r[11],P=r[12],O=r[13],L=r[14],r=r[15],R=t[0];D+=R*A,F+=R*w,j+=R*E,n+=R*S,i+=R*k,o+=R*I,s+=R*C,a+=R*B,c+=R*x,u+=R*T,h+=R*M,l+=R*P,f+=R*O,d+=R*L,p+=R*r,N=0+R*_+(R=t[1])*A,j+=R*w,n+=R*E,i+=R*S,o+=R*k,s+=R*I,a+=R*C,c+=R*B,u+=R*x,h+=R*T,l+=R*M,f+=R*P,d+=R*O,p+=R*L,g+=R*r,F=F+R*_+(R=t[2])*A,n+=R*w,i+=R*E,o+=R*S,s+=R*k,a+=R*I,c+=R*C,u+=R*B,h+=R*x,l+=R*T,f+=R*M,d+=R*P,p+=R*O,g+=R*L,y+=R*r,j=j+R*_+(R=t[3])*A,i+=R*w,o+=R*E,s+=R*S,a+=R*k,c+=R*I,u+=R*C,h+=R*B,l+=R*x,f+=R*T,d+=R*M,p+=R*P,g+=R*O,y+=R*L,b+=R*r,n=n+R*_+(R=t[4])*A,o+=R*w,s+=R*E,a+=R*S,c+=R*k,u+=R*I,h+=R*C,l+=R*B,f+=R*x,d+=R*T,p+=R*M,g+=R*P,y+=R*O,b+=R*L,m+=R*r,i=i+R*_+(R=t[5])*A,s+=R*w,a+=R*E,c+=R*S,u+=R*k,h+=R*I,l+=R*C,f+=R*B,d+=R*x,p+=R*T,g+=R*M,y+=R*P,b+=R*O,m+=R*L,v+=R*r,o=o+R*_+(R=t[6])*A,a+=R*w,c+=R*E,u+=R*S,h+=R*k,l+=R*I,f+=R*C,d+=R*B,p+=R*x,g+=R*T,y+=R*M,b+=R*P,m+=R*O,v+=R*L,U+=R*r,s=s+R*_+(R=t[7])*A,c+=R*w,u+=R*E,h+=R*S,l+=R*k,f+=R*I,d+=R*C,p+=R*B,g+=R*x,y+=R*T,b+=R*M,m+=R*P,v+=R*O,U+=R*L,J+=R*r,a=a+R*_+(R=t[8])*A,u+=R*w,h+=R*E,l+=R*S,f+=R*k,d+=R*I,p+=R*C,g+=R*B,y+=R*x,b+=R*T,m+=R*M,v+=R*P,U+=R*O,J+=R*L,Q+=R*r,c=c+R*_+(R=t[9])*A,h+=R*w,l+=R*E,f+=R*S,d+=R*k,p+=R*I,g+=R*C,y+=R*B,b+=R*x,m+=R*T,v+=R*M,U+=R*P,J+=R*O,Q+=R*L,H+=R*r,u=u+R*_+(R=t[10])*A,l+=R*w,f+=R*E,d+=R*S,p+=R*k,g+=R*I,y+=R*C,b+=R*B,m+=R*x,v+=R*T,U+=R*M,J+=R*P,Q+=R*O,H+=R*L,K+=R*r,h=h+R*_+(R=t[11])*A,f+=R*w,d+=R*E,p+=R*S,g+=R*k,y+=R*I,b+=R*C,m+=R*B,v+=R*x,U+=R*T,J+=R*M,Q+=R*P,H+=R*O,K+=R*L,G+=R*r,l=l+R*_+(R=t[12])*A,d+=R*w,p+=R*E,g+=R*S,y+=R*k,b+=R*I,m+=R*C,v+=R*B,U+=R*x,J+=R*T,Q+=R*M,H+=R*P,K+=R*O,G+=R*L,z+=R*r,f=f+R*_+(R=t[13])*A,p+=R*w,g+=R*E,y+=R*S,b+=R*k,m+=R*I,v+=R*C,U+=R*B,J+=R*x,Q+=R*T,H+=R*M,K+=R*P,G+=R*O,z+=R*L,X+=R*r,d=d+R*_+(R=t[14])*A,g+=R*w,y+=R*E,b+=R*S,m+=R*k,v+=R*I,U+=R*C,J+=R*B,Q+=R*x,H+=R*T,K+=R*M,G+=R*P,z+=R*O,X+=R*L,q+=R*r,p=p+R*_+(R=t[15])*A,N+=38*(y+=R*w),F+=38*(b+=R*E),j+=38*(m+=R*S),n+=38*(v+=R*k),i+=38*(U+=R*I),o+=38*(J+=R*C),s+=38*(Q+=R*B),a+=38*(H+=R*x),c+=38*(K+=R*T),u+=38*(G+=R*M),h+=38*(z+=R*P),l+=38*(X+=R*O),f+=38*(q+=R*L),d+=38*(V+=R*r),D=(R=1+(D+=38*(g+=R*_))+65535)-65536*(t=Math.floor(R/65536)),N=(R=N+t+65535)-65536*(t=Math.floor(R/65536)),F=(R=F+t+65535)-65536*(t=Math.floor(R/65536)),j=(R=j+t+65535)-65536*(t=Math.floor(R/65536)),n=(R=n+t+65535)-65536*(t=Math.floor(R/65536)),i=(R=i+t+65535)-65536*(t=Math.floor(R/65536)),o=(R=o+t+65535)-65536*(t=Math.floor(R/65536)),s=(R=s+t+65535)-65536*(t=Math.floor(R/65536)),a=(R=a+t+65535)-65536*(t=Math.floor(R/65536)),c=(R=c+t+65535)-65536*(t=Math.floor(R/65536)),u=(R=u+t+65535)-65536*(t=Math.floor(R/65536)),h=(R=h+t+65535)-65536*(t=Math.floor(R/65536)),l=(R=l+t+65535)-65536*(t=Math.floor(R/65536)),f=(R=f+t+65535)-65536*(t=Math.floor(R/65536)),d=(R=d+t+65535)-65536*(t=Math.floor(R/65536)),p=(R=p+t+65535)-65536*(t=Math.floor(R/65536)),D+=t-1+37*(t-1),D=(R=1+D+65535)-65536*(t=Math.floor(R/65536)),N=(R=N+t+65535)-65536*(t=Math.floor(R/65536)),F=(R=F+t+65535)-65536*(t=Math.floor(R/65536)),j=(R=j+t+65535)-65536*(t=Math.floor(R/65536)),n=(R=n+t+65535)-65536*(t=Math.floor(R/65536)),i=(R=i+t+65535)-65536*(t=Math.floor(R/65536)),o=(R=o+t+65535)-65536*(t=Math.floor(R/65536)),s=(R=s+t+65535)-65536*(t=Math.floor(R/65536)),a=(R=a+t+65535)-65536*(t=Math.floor(R/65536)),c=(R=c+t+65535)-65536*(t=Math.floor(R/65536)),u=(R=u+t+65535)-65536*(t=Math.floor(R/65536)),h=(R=h+t+65535)-65536*(t=Math.floor(R/65536)),l=(R=l+t+65535)-65536*(t=Math.floor(R/65536)),f=(R=f+t+65535)-65536*(t=Math.floor(R/65536)),d=(R=d+t+65535)-65536*(t=Math.floor(R/65536)),p=(R=p+t+65535)-65536*(t=Math.floor(R/65536)),e[0]=D+=t-1+37*(t-1),e[1]=N,e[2]=F,e[3]=j,e[4]=n,e[5]=i,e[6]=o,e[7]=s,e[8]=a,e[9]=c,e[10]=u,e[11]=h,e[12]=l,e[13]=f,e[14]=d,e[15]=p}function p(e,t){d(e,t,t)}function g(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function y(e){for(var t,r=1,n=0;n<16;n++)t=e[n]+r+65535,r=Math.floor(t/65536),e[n]=t-65536*r;e[0]+=r-1+37*(r-1)}t.exports={gf:a,A:function(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]},Z:function(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]},M:d,S:p,sel25519:g,pack25519:function(e,t){for(var r,n,i=a(),o=a(),s=0;s<16;s++)o[s]=t[s];for(y(o),y(o),y(o),r=0;r<2;r++){for(i[0]=o[0]-65517,s=1;s<15;s++)i[s]=o[s]-65535-(i[s-1]>>16&1),i[s-1]&=65535;i[15]=o[15]-32767-(i[14]>>16&1),n=i[15]>>16&1,i[14]&=65535,g(o,i,1-n)}for(s=0;s<16;s++)e[2*s]=255&o[s],e[2*s+1]=o[s]>>8},unpack25519:function(e,t){for(var r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767},inv25519:function(e,t){for(var r=a(),n=0;n<16;n++)r[n]=t[n];for(n=253;0<=n;n--)p(r,r),2!==n&&4!==n&&d(r,r,t);for(n=0;n<16;n++)e[n]=r[n]},gf0:i,gf1:o,_9:n,_121665:s,D:c,D2:u,X:h,Y:l,I:f}},{}],563:[function(e,t,r){var{}=e("../memory");const s=e("nanoassert");if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");function o(e,t){return(e&=4294967295)<<(t&=4294967295)|e>>>32-t}function a(e,t){s(e instanceof Uint8Array,"src not byte array");var r=e[t];return(r|=e[t+1]<<8)|e[t+2]<<16|e[t+3]<<24}function c(e,t,r){s(e instanceof Uint8Array,"dest not byte array");var n=1,i=0;for(e[r]=255&t;++i<4&&(n*=256);)e[r+i]=t/n&255}function u(e,t,r,n,i){e[t]+=e[r],e[i]=o(e[i]^e[t],16),e[n]+=e[i],e[r]=o(e[r]^e[n],12),e[t]+=e[r],e[i]=o(e[i]^e[t],8),e[n]+=e[i],e[r]=o(e[r]^e[n],7)}t.exports={crypto_core_hchacha20_INPUTBYTES:16,LOAD32_LE:a,STORE32_LE:c,QUARTERROUND:u,crypto_core_hchacha20:function(e,t,r,n){s(e instanceof Uint8Array&&32===e.length,"out is not an array of 32 bytes"),s(r instanceof Uint8Array&&32===r.length,"k is not an array of 32 bytes"),s(null===n||n instanceof Uint8Array&&16===n.length,"c is not null or an array of 16 bytes");let i=0;const o=new Uint32Array(16);for(n?(o[0]=a(n,0),o[1]=a(n,4),o[2]=a(n,8),o[3]=a(n,12)):(o[0]=1634760805,o[1]=857760878,o[2]=2036477234,o[3]=1797285236),o[4]=a(r,0),o[5]=a(r,4),o[6]=a(r,8),o[7]=a(r,12),o[8]=a(r,16),o[9]=a(r,20),o[10]=a(r,24),o[11]=a(r,28),o[12]=a(t,0),o[13]=a(t,4),o[14]=a(t,8),o[15]=a(t,12),i=0;i<10;i++)u(o,0,4,8,12),u(o,1,5,9,13),u(o,2,6,10,14),u(o,3,7,11,15),u(o,0,5,10,15),u(o,1,6,11,12),u(o,2,7,8,13),u(o,3,4,9,14);return c(e,o[0],0),c(e,o[1],4),c(e,o[2],8),c(e,o[3],12),c(e,o[12],16),c(e,o[13],20),c(e,o[14],24),c(e,o[15],28),0},crypto_core_hchacha20_outputbytes:function(){return 32},crypto_core_hchacha20_inputbytes:function(){return 16},crypto_core_hchacha20_keybytes:function(){return 32},crypto_core_hchacha20_constbytes:function(){return 16}}},{"../memory":565,nanoassert:394}],564:[function(e,t,r){if(1!==new Uint16Array([1])[0])throw new Error("Big endian architecture is not supported.");function n(e){var t,r;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,t=255&e[this.fin=0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),t=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|t<<6),r=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(t>>>7|r<<9),t=255&e[8]|(255&e[9])<<8,this.r[4]=255&(r>>>4|t<<12),this.r[5]=t>>>1&8190,r=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(t>>>14|r<<2),t=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(r>>>11|t<<5),r=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(t>>>8|r<<8),this.r[9]=r>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8}n.prototype.blocks=function(e,t,r){for(var n,i,o,s,a,c,u,h,l,f,d,p=this.fin?0:2048,g=this.h[0],y=this.h[1],b=this.h[2],m=this.h[3],v=this.h[4],A=this.h[5],_=this.h[6],w=this.h[7],E=this.h[8],S=this.h[9],k=this.r[0],I=this.r[1],C=this.r[2],B=this.r[3],x=this.r[4],T=this.r[5],M=this.r[6],P=this.r[7],O=this.r[8],L=this.r[9];16<=r;)i=n=0,n=(i=(i=(i+=(g+=8191&(o=255&e[t+0]|(255&e[t+1])<<8))*k)+(y+=8191&(o>>>13|(o=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*L)+(b+=8191&(o>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*O))+(m+=8191&(o>>>7|(o=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*P)+(v+=8191&(o>>>4|(o=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*M))>>>13,o=n+=(i=(i=(i=(i&8191)+(A+=o>>>1&8191)*(5*T))+(_+=8191&(o>>>14|(o=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*x)+(w+=8191&(o>>>11|(o=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*B))+(E+=8191&(o>>>8|(o=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*C)+(S+=o>>>5|p)*(5*I))>>>13,n=(o=(o=(o+=g*I)+y*k+b*(5*L))+m*(5*O)+v*(5*P))>>>13,s=n+=(o=(o=(o=(o&8191)+A*(5*M))+_*(5*T)+w*(5*x))+E*(5*B)+S*(5*C))>>>13,n=(s=(s=(s+=g*C)+y*I+b*k)+m*(5*L)+v*(5*O))>>>13,a=n+=(s=(s=(s=(s&8191)+A*(5*P))+_*(5*M)+w*(5*T))+E*(5*x)+S*(5*B))>>>13,n=(a=(a=(a+=g*B)+y*C+b*I)+m*k+v*(5*L))>>>13,c=n+=(a=(a=(a=(a&8191)+A*(5*O))+_*(5*P)+w*(5*M))+E*(5*T)+S*(5*x))>>>13,n=(c=(c=(c+=g*x)+y*B+b*C)+m*I+v*k)>>>13,u=n+=(c=(c=(c=(c&8191)+A*(5*L))+_*(5*O)+w*(5*P))+E*(5*M)+S*(5*T))>>>13,n=(u=(u=(u+=g*T)+y*x+b*B)+m*C+v*I)>>>13,h=n+=(u=(u=(u=(u&8191)+A*k)+_*(5*L)+w*(5*O))+E*(5*P)+S*(5*M))>>>13,n=(h=(h=(h+=g*M)+y*T+b*x)+m*B+v*C)>>>13,l=n+=(h=(h=(h=(h&8191)+A*I)+_*k+w*(5*L))+E*(5*O)+S*(5*P))>>>13,n=(l=(l=(l+=g*P)+y*M+b*T)+m*x+v*B)>>>13,f=n+=(l=(l=(l=(l&8191)+A*C)+_*I+w*k)+E*(5*L)+S*(5*O))>>>13,n=(f=(f=(f+=g*O)+y*P+b*M)+m*T+v*x)>>>13,d=n+=(f=(f=(f=(f&8191)+A*B)+_*C+w*I)+E*k+S*(5*L))>>>13,n=(d=(d=(d+=g*L)+y*O+b*P)+m*M+v*T)>>>13,g=i=8191&(n=(n=((n+=(d=(d=(d=(d&8191)+A*x)+_*B+w*C)+E*I+S*k)>>>13)<<2)+n|0)+(i&=8191)|0),y=o=(o&8191)+(n>>>=13),b=s&=8191,m=a&=8191,v=c&=8191,A=u&=8191,_=h&=8191,w=l&=8191,E=f&=8191,S=d&=8191,t+=16,r-=16;this.h[0]=g,this.h[1]=y,this.h[2]=b,this.h[3]=m,this.h[4]=v,this.h[5]=A,this.h[6]=_,this.h[7]=w,this.h[8]=E,this.h[9]=S},n.prototype.finish=function(e,t){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},n.prototype.update=function(e,t,r){var n,i;if(this.leftover){for(r<(i=16-this.leftover)&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(16<=r&&(this.blocks(e,t,i=r-r%16),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}},t.exports=n},{}],565:[function(r,e,t){function n(e){e.fill(0)}var i;e.exports={sodium_malloc:function(e){return new Uint8Array(e)},sodium_free:function(e){var t;n(e),i||(null==(t=globalThis.MessageChannel)&&(t=r("worker_threads")["MessageChannel"]),i=new t),i.port1.postMessage(e.buffer,[e.buffer])},sodium_memzero:n}},{}],566:[function(e,t,r){var n,i=e("nanoassert"),o=(n=globalThis.crypto||globalThis.msCrypto)&&n.getRandomValues?function(t,r){for(let e=0;e<r;e+=65536)n.getRandomValues(new Uint8Array(t.buffer,e+t.byteOffset,Math.min(r-e,65536)))}:null!=e&&(n=e("crypto"))&&n.randomBytes?function(e,t){new Uint8Array(e.buffer,e.byteOffset,t).set(n.randomBytes(t))}:function(){throw new Error("No secure random number generator available")};Object.defineProperty(t.exports,"randombytes",{value:o}),t.exports.randombytes_buf=function(e){i(e,"out must be given"),o(e,e.byteLength)}},{nanoassert:394}],567:[function(e,t,r){const n=e("sodium-universal"),i=e("b4a"),o=n.crypto_secretstream_xchacha20poly1305_ABYTES,s=n.crypto_secretstream_xchacha20poly1305_TAG_MESSAGE,a=n.crypto_secretstream_xchacha20poly1305_TAG_FINAL,c=n.crypto_secretstream_xchacha20poly1305_STATEBYTES,u=n.crypto_secretstream_xchacha20poly1305_HEADERBYTES,h=n.crypto_secretstream_xchacha20poly1305_KEYBYTES,l=i.alloc(0),f=i.alloc(1);t.exports={keygen:function(e=i.alloc(h)){return n.crypto_secretstream_xchacha20poly1305_keygen(e),e},KEYBYTES:h,ABYTES:o,STATEBYTES:c,HEADERBYTES:u,Push:class{constructor(e,t=i.allocUnsafe(c),r=i.allocUnsafe(u)){if(!a)throw new Error("JavaScript sodium version needs to support crypto_secretstream_xchacha20poly");this.key=e,this.state=t,this.header=r,n.crypto_secretstream_xchacha20poly1305_init_push(this.state,this.header,this.key)}next(e,t=i.allocUnsafe(e.byteLength+o)){return n.crypto_secretstream_xchacha20poly1305_push(this.state,t,e,null,s),t}final(e=l,t=i.allocUnsafe(o)){return n.crypto_secretstream_xchacha20poly1305_push(this.state,t,e,null,a),t}},Pull:class{constructor(e,t=i.allocUnsafe(c)){if(!a)throw new Error("JavaScript sodium version needs to support crypto_secretstream_xchacha20poly");this.key=e,this.state=t,this.final=!1}init(e){n.crypto_secretstream_xchacha20poly1305_init_pull(this.state,e,this.key)}next(e,t=i.allocUnsafe(e.byteLength-o)){return n.crypto_secretstream_xchacha20poly1305_pull(this.state,t,f,e,null),this.final=i.equals(f,a),t}}}},{b4a:175,"sodium-universal":569}],568:[function(e,t,r){t.exports=e("sodium-native")},{"sodium-native":561}],569:[function(e,t,r){arguments[4][568][0].apply(r,arguments)},{dup:568,"sodium-native":561}],570:[function(e,t,r){arguments[4][568][0].apply(r,arguments)},{dup:568,"sodium-native":561}],571:[function(e,t,r){t.exports=n;var h=e("events").EventEmitter;function n(){h.call(this)}e("inherits")(n,h),n.Readable=e("readable-stream/lib/_stream_readable.js"),n.Writable=e("readable-stream/lib/_stream_writable.js"),n.Duplex=e("readable-stream/lib/_stream_duplex.js"),n.Transform=e("readable-stream/lib/_stream_transform.js"),n.PassThrough=e("readable-stream/lib/_stream_passthrough.js"),n.finished=e("readable-stream/lib/internal/streams/end-of-stream.js"),n.pipeline=e("readable-stream/lib/internal/streams/pipeline.js"),(n.Stream=n).prototype.pipe=function(t,e){var r=this;function n(e){t.writable&&!1===t.write(e)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),t.on("drain",i),t._isStdio||e&&!1===e.end||(r.on("end",s),r.on("close",a));var o=!1;function s(){o||(o=!0,t.end())}function a(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function c(e){if(u(),0===h.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",c),t.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),t.removeListener("close",u)}return r.on("error",c),t.on("error",c),r.on("end",u),r.on("close",u),t.on("close",u),t.emit("pipe",r),t}},{events:284,inherits:362,"readable-stream/lib/_stream_duplex.js":469,"readable-stream/lib/_stream_passthrough.js":470,"readable-stream/lib/_stream_readable.js":471,"readable-stream/lib/_stream_transform.js":472,"readable-stream/lib/_stream_writable.js":473,"readable-stream/lib/internal/streams/end-of-stream.js":477,"readable-stream/lib/internal/streams/pipeline.js":479}],572:[function(e,t,r){t.exports=function(e){var t=e._readableState;return t?t.objectMode||"number"==typeof e._duplexState?e.read():e.read(function(e){if(e.buffer.length)return(e.buffer.head?e.buffer.head.data:e.buffer[0]).length;return e.length}(t)):null}},{}],573:[function(e,t,D){var r=e("events")["EventEmitter"];const a=new Error("Stream was destroyed"),c=new Error("Premature close"),n=e("queue-tick"),s=e("fast-fifo");var N=33554431;const u=8192;const i=65536,o=8<<16,h=16<<16,l=32<<16,f=8454144,d=256<<16,p=(i,d,h,o,f,65544);p;const g=Symbol.asyncIterator||Symbol("asyncIterator");class y{constructor(e,{highWaterMark:t=16384,map:r=null,mapWritable:n,byteLength:i,byteLengthWritable:o}={}){this.stream=e,this.queue=new s,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=o||i||L,this.map=n||r,this.afterWrite=E.bind(this),this.afterUpdateNextTick=F.bind(this)}get ended(){return 0!=(this.stream._duplexState&l)}push(e){return null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=o,!0):(this.stream._duplexState|=1572864,!1)}shift(){var e=this.queue.shift();const t=this.stream;return this.buffered-=this.byteLength(e),0===this.buffered&&(t._duplexState&=33030143),e}end(e){"function"==typeof e?this.stream.once("finish",e):null!=e&&this.push(e),this.stream._duplexState=33423359&(this.stream._duplexState|d)}autoBatch(e,t){const r=[],n=this.stream;for(r.push(e);589824==(589831&n._duplexState);)r.push(n._writableState.shift());if(0!=(7&n._duplexState))return t(null);n._writev(r,t)}update(){const e=this.stream;for(;(589831&e._duplexState)==o;){var t=this.shift();e._duplexState|=327680,e._write(t,this.afterWrite),e._duplexState&=33292287}0==(196608&e._duplexState)&&this.updateNonPrimary()}updateNonPrimary(){const e=this.stream;(19464199&e._duplexState)==d?(e._duplexState=16777215&(e._duplexState|i),e._final(_.bind(this))):2==(6&e._duplexState)?0==(8470536&e._duplexState)&&(e._duplexState|=p,e._destroy(w.bind(this))):1==(8404999&e._duplexState)&&(e._duplexState=33554430&(e._duplexState|p),e._open(I.bind(this)))}updateNextTick(){0==(this.stream._duplexState&f)&&(this.stream._duplexState|=f,n(this.afterUpdateNextTick))}}class b{constructor(e,{highWaterMark:t=16384,map:r=null,mapReadable:n,byteLength:i,byteLengthReadable:o}={}){this.stream=e,this.queue=new s,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=o||i||L,this.map=n||r,this.pipeTo=null,this.afterRead=S.bind(this),this.afterUpdateNextTick=k.bind(this)}get ended(){return 0!=(this.stream._duplexState&u)}pipe(e,t){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");var r;"function"!=typeof t&&(t=null),this.stream._duplexState|=256,this.pipeTo=e,this.pipeline=new v(this.stream,e,t),t&&this.stream.on("error",R),O(e)?(e._writableState.pipeline=this.pipeline,t&&e.on("error",R)):(t=this.pipeline.done.bind(this.pipeline,e),r=this.pipeline.done.bind(this.pipeline,e,null),e.on("error",t),e.on("close",r)),e.on("finish",this.pipeline.finished.bind(this.pipeline)),e.on("drain",A.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){const t=this.stream;return null===e?(this.highWaterMark=0,t._duplexState=33521647&(512|t._duplexState),!1):(null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),t._duplexState=33521663&(64|t._duplexState),this.buffered<this.highWaterMark)}shift(){var e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=33550271),e}unshift(e){var t;const r=[];for(;void 0!==(t=this.queue.shift());)r.push(t);this.push(e);for(let e=0;e<r.length;e++)this.queue.push(r[e])}read(){const e=this.stream;var t;return 64==(8263&e._duplexState)?(t=this.shift(),null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=33554047),0!=(1024&e._duplexState)&&e.emit("data",t),t):null}drain(){const e=this.stream;for(;64==(8263&e._duplexState)&&0!=(384&e._duplexState);){var t=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=33554047),0!=(1024&e._duplexState)&&e.emit("data",t)}}update(){const e=this.stream;for(this.drain();this.buffered<this.highWaterMark&&0==(41487&e._duplexState);)e._duplexState|=32808,e._read(this.afterRead),e._duplexState&=33554399,0==(8&e._duplexState)&&this.drain();2112==(6215&e._duplexState)&&(e._duplexState|=4096,e.emit("readable")),0==(24&e._duplexState)&&this.updateNonPrimary()}updateNonPrimary(){const e=this.stream;512==(583&e._duplexState)&&(e._duplexState=33553919&(e._duplexState|u),e.emit("end"),2105344==(2105350&e._duplexState)&&(e._duplexState|=2),null!==this.pipeTo&&this.pipeTo.end()),2==(6&e._duplexState)?0==(8470536&e._duplexState)&&(e._duplexState|=p,e._destroy(w.bind(this))):1==(8404999&e._duplexState)&&(e._duplexState=33554430&(e._duplexState|p),e._open(I.bind(this)))}updateNextTick(){0==(16392&this.stream._duplexState)&&(this.stream._duplexState|=16392,n(this.afterUpdateNextTick))}}class m{constructor(e){this.data=null,this.afterTransform=j.bind(e),this.afterFinal=null}}class v{constructor(e,t,r){this.from=e,this.to=t,this.afterPipe=r,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,t){t&&(this.error=t),e===this.to&&(this.to=null)!==this.from?0!=(this.from._duplexState&u)&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely")):e===this.from&&(this.from=null)!==this.to?0==(e._duplexState&u)&&this.to.destroy(this.error||new Error("Readable stream closed before ending")):(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null)}}function A(){this.stream._duplexState|=256,0==(40&this.stream._duplexState)?this.updateNextTick():this.drain()}function _(e){const t=this.stream;e&&t.destroy(e),0==(6&t._duplexState)&&(t._duplexState|=l,t.emit("finish")),2105344==(2105350&t._duplexState)&&(t._duplexState|=2),t._duplexState&=33488895,this.update()}function w(e){const t=this.stream,r=((e=e||this.error===a?e:this.error)&&t.emit("error",e),t._duplexState|=4,t.emit("close"),t._readableState),n=t._writableState;null!==r&&null!==r.pipeline&&r.pipeline.done(t,e),null!==n&&null!==n.pipeline&&n.pipeline.done(t,e)}function E(e){const t=this.stream;e&&t.destroy(e),t._duplexState&=33488895,(1638407&t._duplexState)==h&&(t._duplexState&=32505855,(t._duplexState&64<<16)==64<<16&&t.emit("drain")),0==(t._duplexState&4<<16)&&this.update()}function S(e){e&&this.stream.destroy(e),this.stream._duplexState&=33554423,0==(32&this.stream._duplexState)&&this.update()}function k(){this.stream._duplexState&=33538039,this.update()}function F(){this.stream._duplexState&=25100287,this.update()}function I(e){const t=this.stream;e&&t.destroy(e),0==(2&t._duplexState)&&(0==(8711&t._duplexState)&&(t._duplexState|=16),0==(18874375&t._duplexState)&&(t._duplexState|=2<<16),t.emit("open")),t._duplexState&=33488887,null!==t._writableState&&t._writableState.update(),null!==t._readableState&&t._readableState.update()}function j(e,t){null!=t&&this.push(t),this._writableState.afterWrite(e)}class C extends r{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",H.bind(this)))}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return 0!=(4&this._duplexState)}get destroying(){return 0!=(6&this._duplexState)}destroy(e){0==(6&this._duplexState)&&(e=e||a,this._duplexState=33423343&(2|this._duplexState),null!==this._readableState&&(this._readableState.error=e,this._readableState.updateNextTick()),null!==this._writableState&&(this._writableState.error=e,this._writableState.updateNextTick()),this._predestroy())}on(e,t){return null!==this._readableState&&("data"===e&&(this._duplexState|=1152,this._readableState.updateNextTick()),"readable"===e&&(this._duplexState|=2048,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===e&&(this._duplexState|=64<<16,this._writableState.updateNextTick()),super.on(e,t)}}class B extends C{constructor(e){super(e),this._duplexState|=1|l,this._readableState=new b(this,e),e&&(e.read&&(this._read=e.read),e.eagerOpen&&this.resume().pause())}_read(e){e(null)}pipe(e,t){return this._readableState.pipe(e,t),this._readableState.updateNextTick(),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTick(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTick(),this._readableState.unshift(e)}resume(){return this._duplexState|=128,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=33554303,this}static _fromAsyncIterator(t,e){let r;const n=new B({...e,read(e){t.next().then(i).then(e.bind(null,null)).catch(e)},predestroy(){r=t.return()},destroy(e){if(!r)return e(null);r.then(e.bind(null,null)).catch(e)}});return n;function i(e){e.done?n.push(null):n.push(e.value)}}static from(t,e){if(Q(t))return t;if(t[g])return this._fromAsyncIterator(t[g](),e);Array.isArray(t)||(t=void 0===t?[]:[t]);let r=0;return new B({...e,read(e){this.push(r===t.length?null:t[r++]),e(null)}})}static isBackpressured(e){return 0!=(8710&e._duplexState)||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return 0==(128&e._duplexState)}[g](){const n=this;let t=null,r=null,i=null;return this.on("error",e=>{t=e}),this.on("readable",function(){null!==r&&o(n.read())}),this.on("close",function(){null!==r&&o(null)}),{[g](){return this},next(){return new Promise(function(e,t){r=e,i=t;e=n.read();null!==e?o(e):0!=(4&n._duplexState)&&o(null)})},return(){return s(null)},throw(e){return s(e)}};function o(e){null!==i&&(t?i(t):null===e&&0==(n._duplexState&u)?i(a):r({value:e,done:null===e}),i=r=null)}function s(r){return n.destroy(r),new Promise((e,t)=>{if(4&n._duplexState)return e({value:void 0,done:!0});n.once("close",function(){r?t(r):e({value:void 0,done:!0})})})}}}class U extends C{constructor(e){super(e),this._duplexState|=8193,this._writableState=new y(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}static isBackpressured(e){return 0!=(19922950&e._duplexState)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class x extends B{constructor(e){super(e),this._duplexState=1,this._writableState=new y(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class T extends x{constructor(e){super(e),this._transformState=new m(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,t){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){var t;null!==this._transformState.data?(t=this._transformState.data,e(this._transformState.data=null),this._transform(t,this._transformState.afterTransform)):e(null)}_transform(e,t){t(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(J.bind(this))}}function J(e,t){const r=this._transformState.afterFinal;if(e)return r(e);null!=t&&this.push(t),this.push(null),r(null)}function M(e,...t){const r=Array.isArray(e)?[...e,...t]:[e,...t],n=r.length&&"function"==typeof r[r.length-1]?r.pop():null;if(r.length<2)throw new Error("Pipeline requires at least 2 streams");let i=r[0],o=null,s=null;for(let e=1;e<r.length;e++)o=r[e],O(i)?i.pipe(o,a):(function(e,t,r,n){e.on("error",n),e.on("close",function(){return t&&e._readableState&&!e._readableState.ended||r&&e._writableState&&!e._writableState.ended?n(c):void 0})}(i,!0,1<e,a),i.pipe(o)),i=o;if(n){let e=!1;o.on("finish",()=>{e=!0}),o.on("error",e=>{s=s||e}),o.on("close",()=>n(s||(e?null:c)))}return o;function a(e){if(e&&!s){s=e;for(const t of r)t.destroy(e)}}}function P(e){return!!e._readableState||!!e._writableState}function O(e){return"number"==typeof e._duplexState&&P(e)}function Q(e){return O(e)&&e.readable}function L(e){return"object"==typeof(t=e)&&null!==t&&"number"==typeof t.byteLength?e.byteLength:1024;var t}function R(){}function H(){this.destroy(new Error("Stream aborted."))}t.exports={pipeline:M,pipelinePromise:function(...e){return new Promise((t,r)=>M(...e,e=>{if(e)return r(e);t()}))},isStream:P,isStreamx:O,Stream:C,Writable:U,Readable:B,Duplex:x,Transform:T,PassThrough:class extends T{}}},{events:284,"fast-fifo":287,"queue-tick":448}],574:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"==typeof t||n.isEncoding!==i&&i(e))return t||e;throw new Error("Unknown encoding: "+e)}function s(e){var t;switch(this.encoding=o(e),this.encoding){case"utf16le":this.text=u,this.end=h,t=4;break;case"utf8":this.fillLast=c,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function c(e){var t,r=this.lastTotal-this.lastNeed,n=(t=this,128!=(192&(n=e)[0])?(t.lastNeed=0,"�"):1<t.lastNeed&&1<n.length?128!=(192&n[1])?(t.lastNeed=1,"�"):2<t.lastNeed&&2<n.length&&128!=(192&n[2])?(t.lastNeed=2,"�"):void 0:void 0);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,r,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,r,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1);t=e.toString("utf16le",t);if(t){var r=t.charCodeAt(t.length-1);if(55296<=r&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],t.slice(0,-1)}return t}function h(e){var t,e=e&&e.length?this.write(e):"";return this.lastNeed?(t=this.lastTotal-this.lastNeed,e+this.lastChar.toString("utf16le",0,t)):e}function l(e,t){var r=(e.length-t)%3;return 0==r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1==r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}(r.StringDecoder=s).prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+"�":e},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(!(n<r)){var i=a(t[n]);if(0<=i)return 0<i&&(e.lastNeed=i-1),i;if(!(--n<r||-2===i)){if(0<=(i=a(t[n])))return 0<i&&(e.lastNeed=i-2),i;if(!(--n<r||-2===i)&&0<=(i=a(t[n])))return 0<i&&(2===i?i=0:e.lastNeed=i-3),i}}return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;r=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":486}],575:[function(e,t,r){arguments[4][574][0].apply(r,arguments)},{dup:574,"safe-buffer":487}],576:[function(e,t,r){function i(e){e.done=!0,e.ontimeout.call(e.context)}function o(e){e.ontimeout.call(e.context)}t.exports=class{constructor(e,t,r=null,n=!1){this.ms=e,this.ontimeout=t,this.context=r||null,this.interval=n,this.done=!1,this._timer=n?setInterval(o,e,this):setTimeout(i,e,this)}unref(){}ref(){}refresh(){this.done||(this.interval?(clearInterval(this._timer),this._timer=setInterval(o,this.ms,this)):(clearTimeout(this._timer),this._timer=setTimeout(i,this.ms,this)))}destroy(){this.done=!0,this.ontimeout=null,(this.interval?clearInterval:clearTimeout)(this._timer)}static once(e,t,r){return new this(e,t,r,!1)}static on(e,t,r){return new this(e,t,r,!0)}}},{}],577:[function(c,e,u){!function(r,a){!function(){var n=c("process/browser.js").nextTick,e=Function.prototype.apply,i=Array.prototype.slice,o={},s=0;function t(e,t){this._id=e,this._clearFn=t}u.setTimeout=function(){return new t(e.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new t(e.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(e){e.close()},t.prototype.unref=t.prototype.ref=function(){},t.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},u.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},u._unrefActive=u.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},u.setImmediate="function"==typeof r?r:function(e){var t=s++,r=!(arguments.length<2)&&i.call(arguments,1);return o[t]=!0,n(function(){o[t]&&(r?e.apply(null,r):e.call(null),u.clearImmediate(t))}),t},u.clearImmediate="function"==typeof a?a:function(e){delete o[e]}}.call(this)}.call(this,c("timers").setImmediate,c("timers").clearImmediate)},{"process/browser.js":437,timers:577}],578:[function(e,t,r){var n=e("util"),e=e("events");function i(e){e=e||{},this._store={},this._size=0,this._ttl=Number(e.ttl),this._capacity=1/0,this.setCapacity(e.capacity)}function o(){return Date.now()}n.inherits(i,e.EventEmitter),i.prototype.put=function(e,t,r){void 0!==e&&void 0!==t&&(!this._store[e]&&this.size()>=this._capacity?this.emit("drop",e,t,r):(r=void 0===r?this._ttl:Number(r),this.del(e),this._store[e]={val:t,expire:o()+r,timeout:setTimeout(function(){this.del(e)}.bind(this),r)},this._store[e].timeout.unref(),this._size+=1,this.emit("put",e,t,r)))},i.prototype.get=function(e){var t=this._store[e];return t?t.expire&&t.expire>o()?this.emit("hit",e,t.val):(this.del(e),this.emit("miss",e),t=void 0):this.emit("miss",e),t&&t.val},i.prototype.del=function(e){var t;if(this._store[e])return t=this._store[e].val,clearTimeout(this._store[e].timeout),delete this._store[e],--this._size,this.emit("del",e,t),t},i.prototype.clear=function(){Object.keys(this._store).forEach(function(e){this.del(e)}.bind(this))},i.prototype.size=function(e){return e?Object.keys(this._store).reduce(function(e,t){return e+(void 0!==this.get(t)?1:0)}.bind(this),0):this._size},i.prototype.setCapacity=function(e){"number"==typeof e&&0<=e&&(this._capacity=e)},t.exports=i},{events:284,util:582}],579:[function(e,r,t){!function(t){!function(){function n(e){try{if(!t.localStorage)return}catch(e){return}e=t.localStorage[e];return null!=e&&"true"===String(e).toLowerCase()}r.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],580:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],581:[function(e,t,r){"use strict";var n=e("is-arguments"),i=e("is-generator-function"),o=e("which-typed-array"),s=e("is-typed-array");function a(e){return e.call.bind(e)}var c,u,h="undefined"!=typeof BigInt,l="undefined"!=typeof Symbol,f=a(Object.prototype.toString),d=a(Number.prototype.valueOf),p=a(String.prototype.valueOf),g=a(Boolean.prototype.valueOf);function y(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function b(e){return"[object Map]"===f(e)}function m(e){return"[object Set]"===f(e)}function v(e){return"[object WeakMap]"===f(e)}function A(e){return"[object WeakSet]"===f(e)}function _(e){return"[object ArrayBuffer]"===f(e)}function w(e){return"undefined"!=typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function E(e){return"[object DataView]"===f(e)}function S(e){return"undefined"!=typeof DataView&&(E.working?E(e):e instanceof DataView)}h&&(c=a(BigInt.prototype.valueOf)),l&&(u=a(Symbol.prototype.valueOf)),r.isArgumentsObject=n,r.isGeneratorFunction=i,r.isTypedArray=s,r.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},r.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||S(e)},r.isUint8Array=function(e){return"Uint8Array"===o(e)},r.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},r.isUint16Array=function(e){return"Uint16Array"===o(e)},r.isUint32Array=function(e){return"Uint32Array"===o(e)},r.isInt8Array=function(e){return"Int8Array"===o(e)},r.isInt16Array=function(e){return"Int16Array"===o(e)},r.isInt32Array=function(e){return"Int32Array"===o(e)},r.isFloat32Array=function(e){return"Float32Array"===o(e)},r.isFloat64Array=function(e){return"Float64Array"===o(e)},r.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},r.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},b.working="undefined"!=typeof Map&&b(new Map),r.isMap=function(e){return"undefined"!=typeof Map&&(b.working?b(e):e instanceof Map)},m.working="undefined"!=typeof Set&&m(new Set),r.isSet=function(e){return"undefined"!=typeof Set&&(m.working?m(e):e instanceof Set)},v.working="undefined"!=typeof WeakMap&&v(new WeakMap),r.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(v.working?v(e):e instanceof WeakMap)},A.working="undefined"!=typeof WeakSet&&A(new WeakSet),r.isWeakSet=A,_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),r.isArrayBuffer=w,E.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&E(new DataView(new ArrayBuffer(1),0,1)),r.isDataView=S;var k="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function I(e){return"[object SharedArrayBuffer]"===f(e)}function C(e){return void 0!==k&&((I.working=void 0===I.working?I(new k):I.working)?I(e):e instanceof k)}function B(e){return y(e,d)}function x(e){return y(e,p)}function T(e){return y(e,g)}function M(e){return h&&y(e,c)}function P(e){return l&&y(e,u)}r.isSharedArrayBuffer=C,r.isAsyncFunction=function(e){return"[object AsyncFunction]"===f(e)},r.isMapIterator=function(e){return"[object Map Iterator]"===f(e)},r.isSetIterator=function(e){return"[object Set Iterator]"===f(e)},r.isGeneratorObject=function(e){return"[object Generator]"===f(e)},r.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===f(e)},r.isNumberObject=B,r.isStringObject=x,r.isBooleanObject=T,r.isBigIntObject=M,r.isSymbolObject=P,r.isBoxedPrimitive=function(e){return B(e)||x(e)||T(e)||M(e)||P(e)},r.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(w(e)||C(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(r,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})},{"is-arguments":363,"is-generator-function":366,"is-typed-array":368,"which-typed-array":593}],582:[function(B,e,x){!function(C){!function(){var e,t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},a=/%[sdj%]/g,n=(x.format=function(e){if(!b(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(c(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,o=String(e).replace(a,function(e){if("%%"===e)return"%";if(i<=r)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),s=n[r];r<i;s=n[++r])g(s)||!u(s)?o+=" "+s:o+=" "+c(s);return o},x.deprecate=function(e,t){var r;return void 0!==C&&!0===C.noDeprecation?e:void 0===C?function(){return x.deprecate(e,t).apply(this,arguments)}:(r=!1,function(){if(!r){if(C.throwDeprecation)throw new Error(t);C.traceDeprecation?console.trace(t):console.error(t),r=!0}return e.apply(this,arguments)})},{}),i=/^$/;function c(e,t){var r={seen:[],stylize:s};return 3<=arguments.length&&(r.depth=arguments[2]),4<=arguments.length&&(r.colors=arguments[3]),p(t)?r.showHidden=t:t&&x._extend(r,t),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),h(r,e,r.depth)}function o(e,t){t=c.styles[t];return t?"["+c.colors[t][0]+"m"+e+"["+c.colors[t][1]+"m":e}function s(e,t){return e}function h(t,r,n){if(t.customInspect&&r&&w(r.inspect)&&r.inspect!==x.inspect&&(!r.constructor||r.constructor.prototype!==r))return b(e=r.inspect(n,t))?e:h(t,e,n);var e=function(e,t){if(m(t))return e.stylize("undefined","undefined");{var r;if(b(t))return r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",e.stylize(r,"string")}return y(t)?e.stylize(""+t,"number"):p(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}(t,r);if(e)return e;var i,e=Object.keys(r),o=(i={},e.forEach(function(e,t){i[e]=!0}),i);if(t.showHidden&&(e=Object.getOwnPropertyNames(r)),_(r)&&(0<=e.indexOf("message")||0<=e.indexOf("description")))return l(r);if(0===e.length){if(w(r))return s=r.name?": "+r.name:"",t.stylize("[Function"+s+"]","special");if(v(r))return t.stylize(RegExp.prototype.toString.call(r),"regexp");if(A(r))return t.stylize(Date.prototype.toString.call(r),"date");if(_(r))return l(r)}var s="",a=!1,c=["{","}"];if(d(r)&&(a=!0,c=["[","]"]),w(r)&&(s=" [Function"+(r.name?": "+r.name:"")+"]"),v(r)&&(s=" "+RegExp.prototype.toString.call(r)),A(r)&&(s=" "+Date.prototype.toUTCString.call(r)),_(r)&&(s=" "+l(r)),0===e.length&&(!a||0==r.length))return c[0]+s+c[1];if(n<0)return v(r)?t.stylize(RegExp.prototype.toString.call(r),"regexp"):t.stylize("[Object]","special");t.seen.push(r),u=a?function(t,r,n,i,e){for(var o=[],s=0,a=r.length;s<a;++s)k(r,String(s))?o.push(f(t,r,n,i,String(s),!0)):o.push("");return e.forEach(function(e){e.match(/^\d+$/)||o.push(f(t,r,n,i,e,!0))}),o}(t,r,n,o,e):e.map(function(e){return f(t,r,n,o,e,a)}),t.seen.pop();var u;return 60<u.reduce(function(e,t){return 0<=t.indexOf("\n")&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)?c[0]+(""===s?"":s+"\n ")+" "+u.join(",\n  ")+" "+c[1]:c[0]+s+" "+u.join(", ")+" "+c[1]}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,i,o){var s,a,t=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]};if(t.get?a=t.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):t.set&&(a=e.stylize("[Setter]","special")),k(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(t.value)<0?-1<(a=g(r)?h(e,t.value,null):h(e,t.value,r-1)).indexOf("\n")&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),m(s)){if(o&&i.match(/^\d+$/))return a;s=(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),e.stylize(s,"string"))}return s+": "+a}function d(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function g(e){return null===e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function m(e){return void 0===e}function v(e){return u(e)&&"[object RegExp]"===r(e)}function u(e){return"object"==typeof e&&null!==e}function A(e){return u(e)&&"[object Date]"===r(e)}function _(e){return u(e)&&("[object Error]"===r(e)||e instanceof Error)}function w(e){return"function"==typeof e}function r(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}C.env.NODE_DEBUG&&(e=(e=C.env.NODE_DEBUG).replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+e+"$","i")),x.debuglog=function(t){var r;return t=t.toUpperCase(),n[t]||(i.test(t)?(r=C.pid,n[t]=function(){var e=x.format.apply(x,arguments);console.error("%s %d: %s",t,r,e)}):n[t]=function(){}),n[t]},(x.inspect=c).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},x.types=B("./support/types"),x.isArray=d,x.isBoolean=p,x.isNull=g,x.isNullOrUndefined=function(e){return null==e},x.isNumber=y,x.isString=b,x.isSymbol=function(e){return"symbol"==typeof e},x.isUndefined=m,x.isRegExp=v,x.types.isRegExp=v,x.isObject=u,x.isDate=A,x.types.isDate=A,x.isError=_,x.types.isNativeError=_,x.isFunction=w,x.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},x.isBuffer=B("./support/isBuffer");var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}x.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":"),[e.getDate(),S[e.getMonth()],t].join(" ")),x.format.apply(x,arguments))},x.inherits=B("inherits"),x._extend=function(e,t){if(t&&u(t))for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var I="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;x.promisify=function(o){if("function"!=typeof o)throw new TypeError('The "original" argument must be of type Function');if(I&&o[I]){var e;if("function"!=typeof(e=o[I]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,I,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var r,n,e=new Promise(function(e,t){r=e,n=t}),t=[],i=0;i<arguments.length;i++)t.push(arguments[i]);t.push(function(e,t){e?n(e):r(t)});try{o.apply(this,t)}catch(e){n(e)}return e}return Object.setPrototypeOf(e,Object.getPrototypeOf(o)),I&&Object.defineProperty(e,I,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,t(o))},x.promisify.custom=I,x.callbackify=function(o){if("function"!=typeof o)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);var r=e.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");function n(){return r.apply(i,arguments)}var i=this;o.apply(this,e).then(function(e){C.nextTick(n.bind(null,null,e))},function(e){C.nextTick(function(e,t){var r;return e||((r=new Error("Promise was rejected with a falsy value")).reason=e,e=r),t(e)}.bind(null,e,n))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(o)),Object.defineProperties(e,t(o)),e}}.call(this)}.call(this,B("_process"))},{"./support/isBuffer":580,"./support/types":581,_process:437,inherits:362}],583:[function(e,t,r){t.exports=u;var a=128,c=127;function u(e,t){var r,n=0,i=0,o=t=t||0,s=e.length;do{if(s<=o)throw u.bytes=0,new RangeError("Could not decode varint")}while(r=e[o++],n+=i<28?(r&c)<<i:(r&c)*Math.pow(2,i),i+=7,a<=r);return u.bytes=o-t,n}},{}],584:[function(e,t,r){t.exports=a;var i=128,o=-128,s=Math.pow(2,31);function a(e,t,r){t=t||[];for(var n=r=r||0;s<=e;)t[r++]=255&e|i,e/=128;for(;e&o;)t[r++]=255&e|i,e>>>=7;return t[r]=0|e,a.bytes=r-n+1,t}},{}],585:[function(e,t,r){t.exports={encode:e("./encode.js"),decode:e("./decode.js"),encodingLength:e("./length.js")}},{"./decode.js":583,"./encode.js":584,"./length.js":586}],586:[function(e,t,r){var n=Math.pow(2,7),i=Math.pow(2,14),o=Math.pow(2,21),s=Math.pow(2,28),a=Math.pow(2,35),c=Math.pow(2,42),u=Math.pow(2,49),h=Math.pow(2,56),l=Math.pow(2,63);t.exports=function(e){return e<n?1:e<i?2:e<o?3:e<s?4:e<a?5:e<c?6:e<u?7:e<h?8:e<l?9:10}},{}],587:[function(e,t,r){t.exports=u;var a=128,c=127;function u(e,t){var r,n=0,i=0,o=t=t||0,s=e.length;do{if(s<=o||49<i)throw u.bytes=0,new RangeError("Could not decode varint")}while(r=e[o++],n+=i<28?(r&c)<<i:(r&c)*Math.pow(2,i),i+=7,a<=r);return u.bytes=o-t,n}},{}],588:[function(e,t,r){t.exports=a;var i=128,o=-128,s=Math.pow(2,31);function a(e,t,r){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw a.bytes=0,new RangeError("Could not encode varint");t=t||[];for(var n=r=r||0;s<=e;)t[r++]=255&e|i,e/=128;for(;e&o;)t[r++]=255&e|i,e>>>=7;return t[r]=0|e,a.bytes=r-n+1,t}},{}],589:[function(e,t,r){arguments[4][585][0].apply(r,arguments)},{"./decode.js":587,"./encode.js":588,"./length.js":590,dup:585}],590:[function(e,t,r){arguments[4][586][0].apply(r,arguments)},{dup:586}],591:[function(e,t,r){!function(_,w){!function(){"use strict";var b=e("readable-stream").Transform,m=e("duplexify"),v=e("ws"),A=e("safe-buffer").Buffer;t.exports=function(e,t,r){var n,i,o="browser"===_.title,s=!!w.WebSocket,a=o?function e(t,r,n){if(i.bufferedAmount>u)return void setTimeout(e,h,t,r,n);l&&"string"==typeof t&&(t=A.from(t,"utf8"));try{i.send(t)}catch(e){return n(e)}n()}:function(e,t,r){i.readyState!==i.OPEN?r():(l&&"string"==typeof e&&(e=A.from(e,"utf8")),i.send(e,r))};t&&!Array.isArray(t)&&"object"==typeof t&&(r=t,t=null,"string"!=typeof r.protocol&&!Array.isArray(r.protocol)||(t=r.protocol));r=r||{};void 0===r.objectMode&&(r.objectMode=!(!0===r.binary||void 0===r.binary));var c=function(e,t,r){e=new b({objectMode:e.objectMode});return e._write=t,e._flush=r,e}(r,a,function(e){i.close(),e()});r.objectMode||(c._writev=y);var u=r.browserBufferSize||524288,h=r.browserBufferTimeout||1e3;"object"==typeof e?i=e:(i=s&&o?new v(e,t):new v(e,t,r)).binaryType="arraybuffer";a=void 0===i.addEventListener;i.readyState===i.OPEN?n=c:(n=n=m(void 0,void 0,r),r.objectMode||(n._writev=y),a?i.addEventListener("open",f):i.onopen=f);n.socket=i,a?(i.addEventListener("close",d),i.addEventListener("error",p),i.addEventListener("message",g)):(i.onclose=d,i.onerror=p,i.onmessage=g);c.on("close",function(){i.close()});var l=!r.objectMode;function f(){n.setReadable(c),n.setWritable(c),n.emit("connect")}function d(){n.end(),n.destroy()}function p(e){n.destroy(e)}function g(e){e=(e=e.data)instanceof ArrayBuffer?A.from(e):A.from(e,"utf8");c.push(e)}function y(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)"string"==typeof e[n].chunk?r[n]=A.from(e[n],"utf8"):r[n]=e[n].chunk;this._write(A.concat(r),"binary",t)}return n}}.call(this)}.call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:437,duplexify:255,"readable-stream":467,"safe-buffer":487,ws:592}],592:[function(e,t,r){var n=null;"undefined"!=typeof WebSocket?n=WebSocket:"undefined"!=typeof MozWebSocket?n=MozWebSocket:"undefined"!=typeof window&&(n=window.WebSocket||window.MozWebSocket),t.exports=n},{}],593:[function(f,d,e){!function(l){!function(){"use strict";var t=f("for-each"),e=f("available-typed-arrays"),r=f("call-bind/callBound"),o=r("Object.prototype.toString"),s=f("has-tostringtag/shams")(),n="undefined"==typeof globalThis?l:globalThis,e=e(),a=r("String.prototype.slice"),c={},i=f("es-abstract/helpers/getOwnPropertyDescriptor"),u=Object.getPrototypeOf,h=(s&&i&&u&&t(e,function(e){var t,r;"function"==typeof n[e]&&(t=new n[e],Symbol.toStringTag in t&&(t=u(t),(r=i(t,Symbol.toStringTag))||(t=u(t),r=i(t,Symbol.toStringTag)),c[e]=r.get))}),f("is-typed-array"));d.exports=function(e){return!!h(e)&&(s&&Symbol.toStringTag in e?(n=e,i=!1,t(c,function(e,t){if(!i)try{var r=e.call(n);r===t&&(i=r)}catch(e){}}),i):a(o(e),8,-1));var n,i}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"available-typed-arrays":174,"call-bind/callBound":222,"es-abstract/helpers/getOwnPropertyDescriptor":277,"for-each":290,"has-tostringtag/shams":338,"is-typed-array":368}],594:[function(e,t,r){t.exports=function e(i,t){if(i&&t)return e(i)(t);if("function"!=typeof i)throw new TypeError("need wrapper function");Object.keys(i).forEach(function(e){r[e]=i[e]});return r;function r(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];var r=i.apply(this,e),n=e[e.length-1];return"function"==typeof r&&r!==n&&Object.keys(n).forEach(function(e){r[e]=n[e]}),r}}},{}],595:[function(e,t,r){"use strict";r.MediaStream=window.MediaStream,r.MediaStreamTrack=window.MediaStreamTrack,r.RTCDataChannel=window.RTCDataChannel,r.RTCDataChannelEvent=window.RTCDataChannelEvent,r.RTCDtlsTransport=window.RTCDtlsTransport,r.RTCIceCandidate=window.RTCIceCandidate,r.RTCIceTransport=window.RTCIceTransport,r.RTCPeerConnection=window.RTCPeerConnection,r.RTCPeerConnectionIceEvent=window.RTCPeerConnectionIceEvent,r.RTCRtpReceiver=window.RTCRtpReceiver,r.RTCRtpSender=window.RTCRtpSender,r.RTCRtpTransceiver=window.RTCRtpTransceiver,r.RTCSctpTransport=window.RTCSctpTransport,r.RTCSessionDescription=window.RTCSessionDescription,r.getUserMedia=window.getUserMedia,r.mediaDevices=navigator.mediaDevices},{}],596:[function(e,t,r){function n(){return new Map}t.exports=class{constructor({maxSize:e,maxAge:t,createMap:r}){this.maxSize=e,this.maxAge=t,this._createMap=r||n,this._latest=this._createMap(),this._oldest=this._createMap(),this._retained=this._createMap(),this._gced=!1,this._interval=null,0<this.maxAge&&this.maxAge<1/0&&(e=Math.ceil(2/3*this.maxAge),this._interval=setInterval(this._gcAuto.bind(this),e),this._interval.unref&&this._interval.unref())}*[Symbol.iterator](){for(const e of[this._latest,this._oldest,this._retained])yield*e}*keys(){for(const e of[this._latest,this._oldest,this._retained])yield*e.keys()}*values(){for(const e of[this._latest,this._oldest,this._retained])yield*e.values()}destroy(){this.clear(),clearInterval(this._interval),this._interval=null}clear(){this._gced=!0,this._latest.clear(),this._oldest.clear(),this._retained.clear()}set(e,t){return this._retained.has(e)||(this._latest.set(e,t),this._oldest.delete(e)||this._retained.delete(e),this._latest.size>=this.maxSize&&this._gc()),this}retain(e,t){return this._retained.set(e,t),this._latest.delete(e)||this._oldest.delete(e),this}delete(e){return this._latest.delete(e)||this._oldest.delete(e)||this._retained.delete(e)}has(e){return this._latest.has(e)||this._oldest.has(e)||this._retained.has(e)}get(e){var t;return this._latest.has(e)?this._latest.get(e):this._oldest.has(e)?(t=this._oldest.get(e),this._latest.set(e,t),this._oldest.delete(e),t):this._retained.has(e)?this._retained.get(e):null}_gcAuto(){this._gced||this._gc(),this._gced=!1}_gc(){this._gced=!0,this._oldest=this._latest,this._latest=this._createMap()}}},{}],597:[function(e,t,r){!function(i){!function(){function r(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");for(var r=i.allocUnsafe(e.length),n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}(t.exports=r).compare=function(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");for(var r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0},r.gt=function(e,t){return 1===r.compare(e,t)},r.lt=function(e,t){return-1===r.compare(e,t)},r.eq=function(e,t){return 0===r.compare(e,t)}}.call(this)}.call(this,e("buffer").Buffer)},{buffer:221}],598:[function(e,t,r){var i="undefined"!=typeof WebAssembly&&e("./xsalsa20")(),u=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),o=144,s=o,n=[];function a(e,t){if(!(this instanceof a))return new a(e,t);if(!e||e.length<24)throw new Error("nonce must be at least 24 bytes");if(!t||t.length<32)throw new Error("key must be at least 32 bytes");this._xor=new(i?c:h)(e,t)}function c(e,t){n.length||(n.push(o),o+=64),this._pointer=n.pop(),this._nonce=this._pointer+8,this._key=this._nonce+24,this._overflow=0,this._memory=new Uint8Array(i.memory.buffer),this._memory.fill(0,this._pointer,this._pointer+8),this._memory.set(e,this._nonce),this._memory.set(t,this._key)}function h(e,t){this._s=new Uint8Array(32),this._z=new Uint8Array(16),this._overflow=0,f(this._s,e,t,u);for(var r=0;r<8;r++)this._z[r]=e[r+16]}function l(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,t=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,p=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,g=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,y=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,b=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,r=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,n=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,m=o,v=s,A=a,_=c,w=u,E=h,S=l,k=f,I=d,C=t,B=p,x=g,T=y,M=b,P=r,O=n,L=0;L<20;L+=2)m^=(i=(T^=(i=(I^=(i=(w^=(i=m+T|0)<<7|i>>>25)+m|0)<<9|i>>>23)+w|0)<<13|i>>>19)+I|0)<<18|i>>>14,E^=(i=(v^=(i=(M^=(i=(C^=(i=E+v|0)<<7|i>>>25)+E|0)<<9|i>>>23)+C|0)<<13|i>>>19)+M|0)<<18|i>>>14,B^=(i=(S^=(i=(A^=(i=(P^=(i=B+S|0)<<7|i>>>25)+B|0)<<9|i>>>23)+P|0)<<13|i>>>19)+A|0)<<18|i>>>14,O^=(i=(x^=(i=(k^=(i=(_^=(i=O+x|0)<<7|i>>>25)+O|0)<<9|i>>>23)+_|0)<<13|i>>>19)+k|0)<<18|i>>>14,m^=(i=(_^=(i=(A^=(i=(v^=(i=m+_|0)<<7|i>>>25)+m|0)<<9|i>>>23)+v|0)<<13|i>>>19)+A|0)<<18|i>>>14,E^=(i=(w^=(i=(k^=(i=(S^=(i=E+w|0)<<7|i>>>25)+E|0)<<9|i>>>23)+S|0)<<13|i>>>19)+k|0)<<18|i>>>14,B^=(i=(C^=(i=(I^=(i=(x^=(i=B+C|0)<<7|i>>>25)+B|0)<<9|i>>>23)+x|0)<<13|i>>>19)+I|0)<<18|i>>>14,O^=(i=(P^=(i=(M^=(i=(T^=(i=O+P|0)<<7|i>>>25)+O|0)<<9|i>>>23)+T|0)<<13|i>>>19)+M|0)<<18|i>>>14;v=v+s|0,A=A+a|0,_=_+c|0,w=w+u|0,E=E+h|0,S=S+l|0,k=k+f|0,I=I+d|0,C=C+t|0,B=B+p|0,x=x+g|0,T=T+y|0,M=M+b|0,P=P+r|0,O=O+n|0,e[0]=(m=m+o|0)>>>0&255,e[1]=m>>>8&255,e[2]=m>>>16&255,e[3]=m>>>24&255,e[4]=v>>>0&255,e[5]=v>>>8&255,e[6]=v>>>16&255,e[7]=v>>>24&255,e[8]=A>>>0&255,e[9]=A>>>8&255,e[10]=A>>>16&255,e[11]=A>>>24&255,e[12]=_>>>0&255,e[13]=_>>>8&255,e[14]=_>>>16&255,e[15]=_>>>24&255,e[16]=w>>>0&255,e[17]=w>>>8&255,e[18]=w>>>16&255,e[19]=w>>>24&255,e[20]=E>>>0&255,e[21]=E>>>8&255,e[22]=E>>>16&255,e[23]=E>>>24&255,e[24]=S>>>0&255,e[25]=S>>>8&255,e[26]=S>>>16&255,e[27]=S>>>24&255,e[28]=k>>>0&255,e[29]=k>>>8&255,e[30]=k>>>16&255,e[31]=k>>>24&255,e[32]=I>>>0&255,e[33]=I>>>8&255,e[34]=I>>>16&255,e[35]=I>>>24&255,e[36]=C>>>0&255,e[37]=C>>>8&255,e[38]=C>>>16&255,e[39]=C>>>24&255,e[40]=B>>>0&255,e[41]=B>>>8&255,e[42]=B>>>16&255,e[43]=B>>>24&255,e[44]=x>>>0&255,e[45]=x>>>8&255,e[46]=x>>>16&255,e[47]=x>>>24&255,e[48]=T>>>0&255,e[49]=T>>>8&255,e[50]=T>>>16&255,e[51]=T>>>24&255,e[52]=M>>>0&255,e[53]=M>>>8&255,e[54]=M>>>16&255,e[55]=M>>>24&255,e[56]=P>>>0&255,e[57]=P>>>8&255,e[58]=P>>>16&255,e[59]=P>>>24&255,e[60]=O>>>0&255,e[61]=O>>>8&255,e[62]=O>>>16&255,e[63]=O>>>24&255}function f(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,c=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,u=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,h=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,b=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,v=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,A=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=0;_<20;_+=2)o^=(i=(b^=(i=(d^=(i=(u^=(i=o+b|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+d|0)<<18|i>>>14,h^=(i=(s^=(i=(m^=(i=(p^=(i=h+s|0)<<7|i>>>25)+h|0)<<9|i>>>23)+p|0)<<13|i>>>19)+m|0)<<18|i>>>14,g^=(i=(l^=(i=(a^=(i=(v^=(i=g+l|0)<<7|i>>>25)+g|0)<<9|i>>>23)+v|0)<<13|i>>>19)+a|0)<<18|i>>>14,A^=(i=(y^=(i=(f^=(i=(c^=(i=A+y|0)<<7|i>>>25)+A|0)<<9|i>>>23)+c|0)<<13|i>>>19)+f|0)<<18|i>>>14,o^=(i=(c^=(i=(a^=(i=(s^=(i=o+c|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,h^=(i=(u^=(i=(f^=(i=(l^=(i=h+u|0)<<7|i>>>25)+h|0)<<9|i>>>23)+l|0)<<13|i>>>19)+f|0)<<18|i>>>14,g^=(i=(p^=(i=(d^=(i=(y^=(i=g+p|0)<<7|i>>>25)+g|0)<<9|i>>>23)+y|0)<<13|i>>>19)+d|0)<<18|i>>>14,A^=(i=(v^=(i=(m^=(i=(b^=(i=A+v|0)<<7|i>>>25)+A|0)<<9|i>>>23)+b|0)<<13|i>>>19)+m|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=h>>>0&255,e[5]=h>>>8&255,e[6]=h>>>16&255,e[7]=h>>>24&255,e[8]=g>>>0&255,e[9]=g>>>8&255,e[10]=g>>>16&255,e[11]=g>>>24&255,e[12]=A>>>0&255,e[13]=A>>>8&255,e[14]=A>>>16&255,e[15]=A>>>24&255,e[16]=l>>>0&255,e[17]=l>>>8&255,e[18]=l>>>16&255,e[19]=l>>>24&255,e[20]=f>>>0&255,e[21]=f>>>8&255,e[22]=f>>>16&255,e[23]=f>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(t.exports=a).NONCEBYTES=24,a.KEYBYTES=32,a.core_hsalsa20=f,a.SIGMA=u,a.prototype.update=function(e,t){if(e)return t=t||new Uint8Array(e.length),e.length&&this._xor.update(e,t),t;throw new Error("input must be Uint8Array or Buffer")},a.prototype.final=a.prototype.finalize=function(){this._xor.finalize(),this._xor=null},c.prototype.realloc=function(e){i.memory.grow(Math.ceil(Math.abs(e-this._memory.length)/65536)),this._memory=new Uint8Array(i.memory.buffer)},c.prototype.update=function(e,t){var r=this._overflow+e.length,n=o+this._overflow;(s=o+r)>=this._memory.length&&this.realloc(s),this._memory.set(e,n),i.xsalsa20_xor(this._pointer,o,o,r,this._nonce,this._key),t.set(this._memory.subarray(n,o+r)),this._overflow=63&r},c.prototype.finalize=function(){this._memory.fill(0,this._pointer,this._key+32),o<s&&(this._memory.fill(0,o,s),s=0),n.push(this._pointer)},h.prototype.update=function(e,t){for(var r=new Uint8Array(64),n=0,i=this._overflow,o=e.length+this._overflow,s=this._z,a=-this._overflow,c=-this._overflow;64<=o;){for(l(r,s,this._s,u);i<64;i++)t[c+i]=e[a+i]^r[i];for(n=1,i=8;i<16;i++)n+=255&s[i]|0,s[i]=255&n,n>>>=8;o-=64,c+=64,a+=64,i=0}if(0<o)for(l(r,s,this._s,u);i<o;i++)t[c+i]=e[a+i]^r[i];this._overflow=63&o},h.prototype.finalize=function(){this._s.fill(0),this._z.fill(0)}},{"./xsalsa20":599}],599:[function(e,t,r){var n=(()=>{for(var u=new Uint8Array(128),e=0;e<64;e++)u[e<26?e+65:e<52?e+71:e<62?e-4:4*e-205]=e;return e=>{for(var t=e.length,r=new Uint8Array(3*(t-("="==e[t-1])-("="==e[t-2]))/4|0),n=0,i=0;n<t;){var o=u[e.charCodeAt(n++)],s=u[e.charCodeAt(n++)],a=u[e.charCodeAt(n++)],c=u[e.charCodeAt(n++)];r[i++]=o<<2|s>>4,r[i++]=s<<4|a>>2,r[i++]=a<<6|c}return r}})();i={"wasm-binary:./xsalsa20.wat"(e,t){t.exports=n("AGFzbQEAAAABGgNgBn9/f39/fwBgBn9/f39+fwF+YAN/f38AAwcGAAEBAgICBQUBAQroBwcoAwZtZW1vcnkCAAx4c2Fsc2EyMF94b3IAAAxjb3JlX3NhbHNhMjAABArqEQYYACAAIAEgAiADIAQgACkDACAFEAE3AwALPQBB8AAgAyAFEAMgACABIAIgA0EQaiAEQfAAEAJB8ABCADcDAEH4AEIANwMAQYABQgA3AwBBiAFCADcDAAuHBQEBfyACQQBGBEBCAA8LQdAAIAUpAwA3AwBB2AAgBUEIaikDADcDAEHgACAFQRBqKQMANwMAQegAIAVBGGopAwA3AwBBACADKQMANwMAQQggBDcDAAJAA0AgAkHAAEkNAUEQQQBB0AAQBSAAIAEpAwBBECkDAIU3AwAgAEEIaiABQQhqKQMAQRgpAwCFNwMAIABBEGogAUEQaikDAEEgKQMAhTcDACAAQRhqIAFBGGopAwBBKCkDAIU3AwAgAEEgaiABQSBqKQMAQTApAwCFNwMAIABBKGogAUEoaikDAEE4KQMAhTcDACAAQTBqIAFBMGopAwBBwAApAwCFNwMAIABBOGogAUE4aikDAEHIACkDAIU3AwBBCEEIKQMAQgF8NwMAIABBwABqIQAgAUHAAGohASACQcAAayECDAALC0EIKQMAIQQgAkEASwRAQRBBAEHQABAFAkACQAJAAkACQAJAAkACQCACQQhuDgcHBgUEAwIBAAsgAEE4aiABQThqKQMAQcgAKQMAhTcDAAsgAEEwaiABQTBqKQMAQcAAKQMAhTcDAAsgAEEoaiABQShqKQMAQTgpAwCFNwMACyAAQSBqIAFBIGopAwBBMCkDAIU3AwALIABBGGogAUEYaikDAEEoKQMAhTcDAAsgAEEQaiABQRBqKQMAQSApAwCFNwMACyAAQQhqIAFBCGopAwBBGCkDAIU3AwALIAAgASkDAEEQKQMAhTcDAAtBEEIANwMAQRhCADcDAEEgQgA3AwBBKEIANwMAQTBCADcDAEE4QgA3AwBBwABCADcDAEHIAEIANwMAQdAAQgA3AwBB2ABCADcDAEHgAEIANwMAQegAQgA3AwAgBA8LnQUBEX9B5fDBiwYhA0HuyIGZAyEIQbLaiMsHIQ1B9MqB2QYhEiACKAIAIQQgAkEEaigCACEFIAJBCGooAgAhBiACQQxqKAIAIQcgAkEQaigCACEOIAJBFGooAgAhDyACQRhqKAIAIRAgAkEcaigCACERIAEoAgAhCSABQQRqKAIAIQogAUEIaigCACELIAFBDGooAgAhDEEUIRMCQANAIBNBAEYNASAHIAMgD2pBB3dzIQcgCyAHIANqQQl3cyELIA8gCyAHakENd3MhDyADIA8gC2pBEndzIQMgDCAIIARqQQd3cyEMIBAgDCAIakEJd3MhECAEIBAgDGpBDXdzIQQgCCAEIBBqQRJ3cyEIIBEgDSAJakEHd3MhESAFIBEgDWpBCXdzIQUgCSAFIBFqQQ13cyEJIA0gCSAFakESd3MhDSAGIBIgDmpBB3dzIQYgCiAGIBJqQQl3cyEKIA4gCiAGakENd3MhDiASIA4gCmpBEndzIRIgBCADIAZqQQd3cyEEIAUgBCADakEJd3MhBSAGIAUgBGpBDXdzIQYgAyAGIAVqQRJ3cyEDIAkgCCAHakEHd3MhCSAKIAkgCGpBCXdzIQogByAKIAlqQQ13cyEHIAggByAKakESd3MhCCAOIA0gDGpBB3dzIQ4gCyAOIA1qQQl3cyELIAwgCyAOakENd3MhDCANIAwgC2pBEndzIQ0gDyASIBFqQQd3cyEPIBAgDyASakEJd3MhECARIBAgD2pBDXdzIREgEiARIBBqQRJ3cyESIBNBAmshEwwACwsgACADNgIAIABBBGogCDYCACAAQQhqIA02AgAgAEEMaiASNgIAIABBEGogCTYCACAAQRRqIAo2AgAgAEEYaiALNgIAIABBHGogDDYCAAsKACAAIAEgAhAFC90GASF/QeXwwYsGIQNB7siBmQMhCEGy2ojLByENQfTKgdkGIRIgAigCACEEIAJBBGooAgAhBSACQQhqKAIAIQYgAkEMaigCACEHIAJBEGooAgAhDiACQRRqKAIAIQ8gAkEYaigCACEQIAJBHGooAgAhESABKAIAIQkgAUEEaigCACEKIAFBCGooAgAhCyABQQxqKAIAIQwgAyETIAQhFCAFIRUgBiEWIAchFyAIIRggCSEZIAohGiALIRsgDCEcIA0hHSAOIR4gDyEfIBAhICARISEgEiEiQRQhIwJAA0AgI0EARg0BIAcgAyAPakEHd3MhByALIAcgA2pBCXdzIQsgDyALIAdqQQ13cyEPIAMgDyALakESd3MhAyAMIAggBGpBB3dzIQwgECAMIAhqQQl3cyEQIAQgECAMakENd3MhBCAIIAQgEGpBEndzIQggESANIAlqQQd3cyERIAUgESANakEJd3MhBSAJIAUgEWpBDXdzIQkgDSAJIAVqQRJ3cyENIAYgEiAOakEHd3MhBiAKIAYgEmpBCXdzIQogDiAKIAZqQQ13cyEOIBIgDiAKakESd3MhEiAEIAMgBmpBB3dzIQQgBSAEIANqQQl3cyEFIAYgBSAEakENd3MhBiADIAYgBWpBEndzIQMgCSAIIAdqQQd3cyEJIAogCSAIakEJd3MhCiAHIAogCWpBDXdzIQcgCCAHIApqQRJ3cyEIIA4gDSAMakEHd3MhDiALIA4gDWpBCXdzIQsgDCALIA5qQQ13cyEMIA0gDCALakESd3MhDSAPIBIgEWpBB3dzIQ8gECAPIBJqQQl3cyEQIBEgECAPakENd3MhESASIBEgEGpBEndzIRIgI0ECayEjDAALCyAAIAMgE2o2AgAgAEEEaiAEIBRqNgIAIABBCGogBSAVajYCACAAQQxqIAYgFmo2AgAgAEEQaiAHIBdqNgIAIABBFGogCCAYajYCACAAQRhqIAkgGWo2AgAgAEEcaiAKIBpqNgIAIABBIGogCyAbajYCACAAQSRqIAwgHGo2AgAgAEEoaiANIB1qNgIAIABBLGogDiAeajYCACAAQTBqIA8gH2o2AgAgAEE0aiAQICBqNgIAIABBOGogESAhajYCACAAQTxqIBIgImo2AgAL")}};var i,o,s=function(){return o||(0,i[Object.keys(i)[0]])((o={exports:{}}).exports,o),o.exports}(),a=new WebAssembly.Module(s);t.exports=e=>{return new WebAssembly.Instance(a,e).exports}},{}],600:[function(e,t,r){"use strict";t.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},{}],601:[function(e,t,r){"use strict";function o(e){var t=this;if((t=t instanceof o?t:new o).tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(0<arguments.length)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}function s(e,t,r,n){if(!(this instanceof s))return new s(e,t,r,n);this.list=n,this.value=e,t?(t.next=this).prev=t:this.prev=null,r?(r.prev=this).next=r:this.next=null}(t.exports=o).Node=s,(o.create=o).prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},o.prototype.unshiftNode=function(e){var t;e!==this.head&&(e.list&&e.list.removeNode(e),t=this.head,e.list=this,(e.next=t)&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++)},o.prototype.pushNode=function(e){var t;e!==this.tail&&(e.list&&e.list.removeNode(e),t=this.tail,e.list=this,(e.prev=t)&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++)},o.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++){n=r=void 0;var r=this,n=arguments[e];r.tail=new s(n,r.tail,null,r),r.head||(r.head=r.tail),r.length++}return this.length},o.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++){n=r=void 0;var r=this,n=arguments[e];r.head=new s(n,null,r.head,r),r.tail||(r.tail=r.head),r.length++}return this.length},o.prototype.pop=function(){var e;if(this.tail)return e=this.tail.value,this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e},o.prototype.shift=function(){var e;if(this.head)return e=this.head.value,this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e},o.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},o.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},o.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},o.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},o.prototype.map=function(e,t){t=t||this;for(var r=new o,n=this.head;null!==n;)r.push(e.call(t,n.value,this)),n=n.next;return r},o.prototype.mapReverse=function(e,t){t=t||this;for(var r=new o,n=this.tail;null!==n;)r.push(e.call(t,n.value,this)),n=n.prev;return r},o.prototype.reduce=function(e,t){var r,n=this.head;if(1<arguments.length)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},o.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(1<arguments.length)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},o.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},o.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},o.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new o;if(!(t<e||t<0)){e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;for(;null!==i&&n<t;n++,i=i.next)r.push(i.value)}return r},o.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new o;if(!(t<e||t<0)){e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,i=this.tail;null!==i&&t<n;n--)i=i.prev;for(;null!==i&&e<n;n--,i=i.prev)r.push(i.value)}return r},o.prototype.splice=function(e,t,...r){(e=e>this.length?this.length-1:e)<0&&(e=this.length+e);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;for(var o=[],n=0;i&&n<t;n++)o.push(i.value),i=this.removeNode(i);(i=null===i?this.tail:i)!==this.head&&i!==this.tail&&(i=i.prev);for(n=0;n<r.length;n++)i=function(e,t,r){r=t===e.head?new s(r,null,t,e):new s(r,t,t.next,e);null===r.next&&(e.tail=r);null===r.prev&&(e.head=r);return e.length++,r}(this,i,r[n]);return o},o.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{e("./iterator.js")(o)}catch(e){}},{"./iterator.js":600}],602:[function(e,t,r){class n{constructor(e){this.value=e,this.next=void 0}}class i{constructor(){this.clear()}enqueue(e){e=new n(e);this._head?this._tail.next=e:this._head=e,this._tail=e,this._size++}dequeue(){var e=this._head;if(e)return this._head=this._head.next,this._size--,e.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let e=this._head;for(;e;)yield e.value,e=e.next}}t.exports=i},{}],603:[function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});const a=o(e("comlink")),c=s(e("../bbconfig")),u=e("../common");class h{constructor(){}async init(){let e=document.getElementById("bb-auth-app");if(!e){(e=document.createElement("iframe")).style.display="none",e.setAttribute("id","bb-auth-app"),e.setAttribute("src",c.default.user.id_url),document.body.appendChild(e);const r=document.createElement("div");r.style.display="none",r.setAttribute("id","bb-auth-overlay"),r.setAttribute("style",`
        background: #00000080;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 100;
        backdrop-filter: blur(2px);
        display: none;
        opacity: 0%;
        align-items: center;
        justify-content: center;
        `),r.innerHTML=`<div style=''>
        <div id="bb-auth-overlay-default-msg">Application requires you to authenticate.<br>Stand by, opening Backbone Id...</div>
        <div id="bb-auth-overlay-msg"></div>
        <div id="bb-auth-overlay-notice"><br><br>
          Your browser may block the popup. In that case, you'll need to manually allow it.
        </div>
        <div id="bb-auth-overlay-close" style="display: none">Close</div> 
      </div>`,document.body.appendChild(r),l()}const t=document.getElementById("bb-auth-app");return t?(await new Promise(e=>t.onload=e),this.IdApp=a.wrap(a.windowEndpoint(t.contentWindow)),await this.IdApp.ping()?void 0:u.error("communication with Id failed")):u.error("couldn't initialize Id")}async authenticate(e){const n=this,i=(l(),window.open(c.default.user.id_url,"auth-app","width=500,height=500"));const o=setInterval(function(){i&&!i.closed&&void 0!==i.closed||(d({msg:"Authentication failed :(",next:()=>{setTimeout(()=>{f()},2e3)}}),clearInterval(o))},100);if(i&&!i.closed&&void 0!==i.closed)return i?new Promise(async(t,r)=>{a.expose(function(e){clearInterval(o),e?(console.log("authenticated"),d({msg:"Authentication successful!",next:()=>{setTimeout(()=>{f()},2e3)}}),t(e=!0)):(d({msg:"Authentication failed :(",next:()=>{setTimeout(()=>{f()},2e3)}}),r("couldn't authenticate"))},a.windowEndpoint(i)),await n.IdApp.registerApp(e)}):(d({msg:"Unknown error in opening Backbone Id :/",next:()=>{setTimeout(()=>{f()},2e3)}}),clearInterval(o),u.error("couldn't open Id"));d({msg:"Your browser has blocked the popup. Please allow popups for this page and try again.",show_close:!0})}async isAuthenticated(e){this.IdApp||await this.init();e={address:window.backbone.app_profile?.address,...e};return this.IdApp?this.IdApp.isAuthenticated(e):u.error("no Id available")}async registerApp(e){return await this.isAuthenticated({address:e.address}),this.IdApp?this.IdApp.registerApp(e):u.error("no Id available")}async signObject(e){return this.IdApp?this.IdApp.signObject({hash:e.hash,address:window.backbone.app_profile?.address}):u.error("no Id available")}async getId(){return await this.isAuthenticated({address:window.backbone.app_profile?.address})?this.IdApp?this.IdApp.getId():void 0:u.error("no Id available")}}function l(){const e=document.getElementById("bb-auth-overlay-notice"),t=(e&&(e.style.display="block"),document.getElementById("bb-auth-overlay-default-msg")),r=(t&&(t.style.display="block"),document.getElementById("bb-auth-overlay-msg")),n=(r&&(r.style.display="none",r.innerHTML=""),document.getElementById("bb-auth-overlay-close")),i=(n&&(n.onclick=f,n.style.display="none"),document.getElementById("bb-auth-overlay"));"none"===i?.style.display&&(i.style.display="flex",i.style.opacity="100%")}function f(){const e=document.getElementById("bb-auth-overlay");e?.style&&(e.style.display="none",e.style.opacity="0%")}function d(e){const t=document.getElementById("bb-auth-overlay-notice"),r=(t&&(t.style.display="none"),document.getElementById("bb-auth-overlay-default-msg")),n=(r&&(r.style.display="none"),document.getElementById("bb-auth-overlay-msg"));if(n&&(n.style.display="block",n.innerHTML=e?.msg),e?.show_close){const i=document.getElementById("bb-auth-overlay-close");i&&(i.style.display="block")}"function"==typeof e?.next&&e.next()}r.default=async function(){const e=new h;return await e.init(),e}},{"../bbconfig":1,"../common":2,comlink:227}]},{},[5])(5)});
